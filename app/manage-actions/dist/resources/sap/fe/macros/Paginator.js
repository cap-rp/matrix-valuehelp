/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/base/HookSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/HBox","sap/ui/core/Element","sap/ui/core/InvisibleText","sap/ui/model/json/JSONModel","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(t,e,n,i,r,o,a,s,u,l){"use strict";var d,c,p,h,f,g,b,C,_,x,I,B,T,v,y,A;function O(t){return new Promise((e,n)=>{sap.ui.require([t],n=>{if(!(n&&n.__esModule)){n=n===null||!(typeof n==="object"&&t.endsWith("/library"))?{default:n}:n;Object.defineProperty(n,"__esModule",{value:true})}e(n)},t=>{n(t)})})}var P={};var w=n.controllerExtensionHandler;var E=e.property;var m=e.defineUI5Class;var D=e.defineReference;var L=t.pathInModel;var M=t.or;var N=t.compileExpression;function j(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function z(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,U(t,e)}function U(t,e){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},U(t,e)}function H(t,e,n,i,r){var o={};return Object.keys(i).forEach(function(t){o[t]=i[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(t,e,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(t,e,o),null):o}function R(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let G=(d=m("sap.fe.macros.Paginator"),c=E({type:"string"}),p=E({type:"string"}),h=D(),f=D(),g=D(),b=D(),C=w("paginator","initialize"),d(_=(x=function(t){function e(e,n){var i;i=t.call(this,e,n)||this;j(i,"id",I,i);j(i,"ariaTitle",B,i);j(i,"upButton",T,i);j(i,"downButton",v,i);j(i,"upDescription",y,i);j(i,"downDescription",A,i);i.paginatorModel=new s({navUpEnabled:false,navDownEnabled:false});i._iCurrentIndex=-1;return i}P=e;z(e,t);e.load=async function t(){if(e.ObjectPageHeaderActionButton===undefined){const{default:t}=await O("sap/uxap/ObjectPageHeaderActionButton");e.ObjectPageHeaderActionButton=t}return this};var n=e.prototype;n.onMetadataAvailable=async function t(n){await e.load();this.content=this.createContent(n)};n.onModelContextChange=function t(e){const n=e.getSource();if(n.isA("sap.m.HBox")&&this.upButton.current&&this.downButton.current){const t=n.getBindingContext();if(!t){return}this._updateDescriptionAndFocus(this.upButton.current,this.downButton.current)}};n.initialize=function t(e,n){if(e&&e.getAllCurrentContexts){this._oListBinding=e;e.attachEvent("change",this._updateCurrentIndexAndButtonEnablement.bind(this))}else{this._oListBinding=undefined}if(n){this._oCurrentContext=n}this._updateCurrentIndexAndButtonEnablement()};n._updateCurrentIndexAndButtonEnablement=function t(){if(this._oCurrentContext&&this._oListBinding){const t=this._oCurrentContext.getPath();this._iCurrentIndex=this._oListBinding?.getAllCurrentContexts()?.findIndex(function(e){return e&&e.getPath()===t});const e=this._oListBinding?.getAllCurrentContexts()?.[this._iCurrentIndex];if(!this._iCurrentIndex&&this._iCurrentIndex!==0||!e||this._oCurrentContext.getPath()!==e.getPath()){this._updateCurrentIndex()}}this._handleButtonEnablement()};n._handleButtonEnablement=function t(){const e=this.paginatorModel;if(this._oListBinding&&this._oListBinding.getAllCurrentContexts()?.length>1&&this._iCurrentIndex>-1){if(this._iCurrentIndex===this._oListBinding.getAllCurrentContexts().length-1){e.setProperty("/navDownEnabled",false)}else if(this._oListBinding.getAllCurrentContexts()[this._iCurrentIndex+1].isInactive()){e.setProperty("/navDownEnabled",false)}else{e.setProperty("/navDownEnabled",true)}if(this._iCurrentIndex===0){e.setProperty("/navUpEnabled",false)}else if(this._oListBinding.getAllCurrentContexts()[this._iCurrentIndex-1].isInactive()){e.setProperty("/navUpEnabled",false)}else{e.setProperty("/navUpEnabled",true)}}else{e.setProperty("/navUpEnabled",false);e.setProperty("/navDownEnabled",false)}};n._updateCurrentIndex=function t(){if(this._oCurrentContext&&this._oListBinding){const t=this._oCurrentContext.getPath();this._iCurrentIndex=this._oListBinding?.getAllCurrentContexts()?.findIndex(function(e){return e&&e.getPath()===t})}};n.updateCurrentContext=async function t(e){if(!this._oListBinding){return}const n=this._oCurrentContext?.getModel?this._oCurrentContext?.getModel():undefined;await(n?.submitBatch("$auto"));const i=this._oListBinding.getAllCurrentContexts();const r=this._iCurrentIndex+e;const o=i[r];if(o){const t=this.getPageController()?.paginator.onBeforeContextUpdate(this._oListBinding,this._iCurrentIndex,e);if(!t){this._iCurrentIndex=r;this._oCurrentContext=o}this.getPageController()?.paginator.onContextUpdate(o)}this._handleButtonEnablement()};n._updateDescriptionAndFocus=function t(e,n){const i=o.getActiveElement();const r=e.getEnabled();const a=n.getEnabled();let s="";let u="";if(r&&!a&&i===n){e.focus();s=this.getTranslatedText("M_PAGINATOR_TITLE_BOTTOM");u=""}else if(a&&!r&&i===e){n.focus();s="";u=this.getTranslatedText("M_PAGINATOR_TITLE_TOP")}if(this.upDescription.current){this.upDescription.current.setText(s)}if(this.downDescription.current){this.downDescription.current.setText(u)}};n.createContent=function t(n){const i=L("/navUpEnabled","paginator");const o=L("/navDownEnabled","paginator");const s=M(i,o);const d=L("T_PAGINATOR_CONTROL_PAGINATOR_TOOLTIP_UP","sap.fe.i18n");const c=L("T_PAGINATOR_CONTROL_PAGINATOR_TOOLTIP_DOWN","sap.fe.i18n");const p=this.ariaTitle?this.getTranslatedText("M_PAGINATOR_ANNOUNCEMENT_TITLE_LOADED",[this.ariaTitle]):this.getTranslatedText("M_PAGINATOR_ANNOUNCEMENT_OBJECT_LOADED");n.setModel(this.paginatorModel,"paginator");return l(r,{displayInline:"true",id:this.createId("_box"),visible:N(s),modelContextChange:t=>{this.onModelContextChange(t)},children:[u(a,{ref:this.upDescription,id:this.createId("upDescription")}),u(a,{ref:this.downDescription,id:this.createId("downDescription")}),u(a,{id:this.createId("titleDescription"),text:p}),u(e.ObjectPageHeaderActionButton,{id:this.createId("previousItem"),ref:this.upButton,enabled:N(i),tooltip:N(d),icon:"sap-icon://navigation-up-arrow",press:async()=>this.updateCurrentContext(-1),type:"Transparent",importance:"High",ariaDescribedBy:[this.createId("titleDescription"),this.createId("upDescription")].filter(t=>t!==undefined)}),u(e.ObjectPageHeaderActionButton,{id:this.createId("nextItem"),ref:this.downButton,enabled:N(o),tooltip:N(c),icon:"sap-icon://navigation-down-arrow",press:async()=>this.updateCurrentContext(1),type:"Transparent",importance:"High",ariaDescribedBy:[this.createId("titleDescription"),this.createId("downDescription")].filter(t=>t!==undefined)})]})};return e}(i),I=H(x.prototype,"id",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),B=H(x.prototype,"ariaTitle",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),T=H(x.prototype,"upButton",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),v=H(x.prototype,"downButton",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),y=H(x.prototype,"upDescription",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),A=H(x.prototype,"downDescription",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),H(x.prototype,"initialize",[C],Object.getOwnPropertyDescriptor(x.prototype,"initialize"),x.prototype),x))||_);P=G;return P},false);
//# sourceMappingURL=Paginator.js.map