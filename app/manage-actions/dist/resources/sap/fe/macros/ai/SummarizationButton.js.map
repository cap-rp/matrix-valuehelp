{"version":3,"file":"SummarizationButton.js","names":["SummarizationButton","_dec","defineUI5Class","_dec2","property","type","required","_class","_class2","_BuildingBlock","_this","_len","arguments","length","args","Array","_key","call","this","_initializerDefineProperty","_descriptor","fesrStepName","_exports","_inheritsLoose","_proto","prototype","onMetadataAvailable","content","createContent","environmentService","getAppComponent","getEnvironmentCapabilities","button","environmentCapabilities","SmartSummarize","_jsx","Button","id","createId","text","icon","ButtonType","Ghost","press","async","prepareFeature","library","__ui5_require_async","summarize","view","CommonUtils","getTargetView","error","Log","children","layoutData","_Fragment","OverflowToolbarLayoutData","priority","FESRHelper","setSemanticStepname","BuildingBlock","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sources":["./SummarizationButton.tsx"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport { defineUI5Class, property } from \"sap/fe/base/ClassSupport\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport Button from \"sap/m/Button\";\nimport OverflowToolbarLayoutData from \"sap/m/OverflowToolbarLayoutData\";\nimport { ButtonType } from \"sap/m/library\";\nimport FESRHelper from \"sap/ui/performance/trace/FESRHelper\";\n\n/**\n * Summarization button building block.\n *\n * If the summarization feature is available, this building block will render a button that triggers the summarization feature.\n */\n@defineUI5Class(\"sap.fe.macros.ai.SummarizationButton\")\nexport default class SummarizationButton extends BuildingBlock {\n\t/**\n\t * The ID of the button.\n\t */\n\t@property({ type: \"string\", required: true })\n\tpublic id!: string;\n\n\tfesrStepName = \"fe4:sum:summarize\";\n\n\tonMetadataAvailable(): void {\n\t\tthis.content = this.createContent();\n\t}\n\n\tcreateContent(): Button | undefined {\n\t\tconst environmentService = this.getAppComponent()?.getEnvironmentCapabilities();\n\t\tlet button;\n\t\tif (environmentService?.environmentCapabilities.SmartSummarize === true) {\n\t\t\tbutton = (\n\t\t\t\t<Button\n\t\t\t\t\tid={this.createId(\"button\")}\n\t\t\t\t\tdt:designtime=\"not-adaptable\"\n\t\t\t\t\ttext=\"{sap.fe.i18n>SUMMARIZE}\"\n\t\t\t\t\ticon=\"sap-icon://ai\"\n\t\t\t\t\ttype={ButtonType.Ghost}\n\t\t\t\t\tpress={async (): Promise<void> => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait environmentService.prepareFeature(\"SmartSummarize\");\n\t\t\t\t\t\t\tconst library = await import(\"ux/eng/fioriai/reuse/library\");\n\t\t\t\t\t\t\tawait library.summarize({ view: CommonUtils.getTargetView(this) });\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tLog.error(\"Summarization failed\", error as Error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{{\n\t\t\t\t\t\tlayoutData: (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<OverflowToolbarLayoutData priority=\"High\" />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t</Button>\n\t\t\t);\n\t\t\tFESRHelper.setSemanticStepname(button, \"press\", this.fesrStepName);\n\t\t}\n\t\treturn button;\n\t}\n}\n"],"mappings":";;;;8kDASA,IAMqBA,GAAmBC,EADvCC,EAAe,wCAAuCC,EAKrDC,EAAS,CAAEC,KAAM,SAAUC,SAAU,OAAOL,EAAAM,GAAAC,EAAA,SAAAC,GAAA,SAAAT,IAAA,IAAAU,EAAA,QAAAC,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAA,CAAAF,EAAAE,GAAAJ,UAAAI,EAAA,CAAAN,EAAAD,EAAAQ,KAAAC,QAAAJ,IAAAI,KAH7CC,EAAAT,EAAA,KAAAU,EAAAV,KAMAW,aAAe,oBAAmB,OAAAX,CAAA,CAAAY,EAAAtB,EAAAuB,EAAAvB,EAAAS,GAAA,IAAAe,EAAAxB,EAAAyB,UAAAD,EAElCE,oBAAA,SAAAA,IACCR,KAAKS,QAAUT,KAAKU,eACrB,EAACJ,EAEDI,cAAA,SAAAA,IACC,MAAMC,EAAqBX,KAAKY,mBAAmBC,6BACnD,IAAIC,EACJ,GAAIH,GAAoBI,wBAAwBC,iBAAmB,KAAM,CACxEF,EACCG,EAACC,EAAM,CACNC,GAAInB,KAAKoB,SAAS,UAClB,gBAAc,gBACdC,KAAK,0BACLC,KAAK,gBACLnC,KAAMoC,EAAWC,MACjBC,MAAOC,UACN,UACOf,EAAmBgB,eAAe,kBACxC,MAAMC,QAAgBC,EAAO,sCACvBD,EAAQE,UAAU,CAAEC,KAAMC,EAAYC,cAAcjC,OAC3D,CAAE,MAAOkC,GACRC,EAAID,MAAM,uBAAwBA,EACnC,GACCE,SAED,CACAC,WACCpB,EAAAqB,EAAA,CAAAF,SACCnB,EAACsB,EAAyB,CAACC,SAAS,cAMzCC,EAAWC,oBAAoB5B,EAAQ,QAASd,KAAKG,aACtD,CACA,OAAOW,CACR,EAAC,OAAAhC,CAAA,CA1C4C,CAJG6D,GAAazC,EAAA0C,EAAAtD,EAAAiB,UAAA,MAAAtB,GAAA,CAAA4D,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAA1D,KAAAD,GAAAe,EAAAtB,EAAA,OAAAsB,CAAA","ignoreList":[]}