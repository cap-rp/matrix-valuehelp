{"version":3,"names":["SummarizationButton","_dec","defineUI5Class","_dec2","property","type","required","_class","_class2","_BuildingBlock","_this","_len","arguments","length","args","Array","_key","call","_initializerDefineProperty","_descriptor","fesrStepName","_exports","_inheritsLoose","_proto","prototype","onMetadataAvailable","content","createContent","environmentService","getAppComponent","getEnvironmentCapabilities","button","environmentCapabilities","SmartSummarize","_jsx","Button","id","createId","text","icon","ButtonType","Ghost","press","prepareFeature","library","__ui5_require_async","summarize","view","CommonUtils","getTargetView","error","Log","children","layoutData","_Fragment","OverflowToolbarLayoutData","priority","FESRHelper","setSemanticStepname","BuildingBlock","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["SummarizationButton.tsx"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport { defineUI5Class, property } from \"sap/fe/base/ClassSupport\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport Button from \"sap/m/Button\";\nimport OverflowToolbarLayoutData from \"sap/m/OverflowToolbarLayoutData\";\nimport { ButtonType } from \"sap/m/library\";\nimport FESRHelper from \"sap/ui/performance/trace/FESRHelper\";\n\n/**\n * Summarization button building block.\n *\n * If the summarization feature is available, this building block will render a button that triggers the summarization feature.\n */\n@defineUI5Class(\"sap.fe.macros.ai.SummarizationButton\")\nexport default class SummarizationButton extends BuildingBlock {\n\t/**\n\t * The ID of the button.\n\t */\n\t@property({ type: \"string\", required: true })\n\tpublic id!: string;\n\n\tfesrStepName = \"fe4:sum:summarize\";\n\n\tonMetadataAvailable(): void {\n\t\tthis.content = this.createContent();\n\t}\n\n\tcreateContent(): Button | undefined {\n\t\tconst environmentService = this.getAppComponent()?.getEnvironmentCapabilities();\n\t\tlet button;\n\t\tif (environmentService?.environmentCapabilities.SmartSummarize === true) {\n\t\t\tbutton = (\n\t\t\t\t<Button\n\t\t\t\t\tid={this.createId(\"button\")}\n\t\t\t\t\tdt:designtime=\"not-adaptable\"\n\t\t\t\t\ttext=\"{sap.fe.i18n>SUMMARIZE}\"\n\t\t\t\t\ticon=\"sap-icon://ai\"\n\t\t\t\t\ttype={ButtonType.Ghost}\n\t\t\t\t\tpress={async (): Promise<void> => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait environmentService.prepareFeature(\"SmartSummarize\");\n\t\t\t\t\t\t\tconst library = await import(\"ux/eng/fioriai/reuse/library\");\n\t\t\t\t\t\t\tawait library.summarize({ view: CommonUtils.getTargetView(this) });\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tLog.error(\"Summarization failed\", error as Error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{{\n\t\t\t\t\t\tlayoutData: (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<OverflowToolbarLayoutData priority=\"High\" />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t</Button>\n\t\t\t);\n\t\t\tFESRHelper.setSemanticStepname(button, \"press\", this.fesrStepName);\n\t\t}\n\t\treturn button;\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EASA;AACA;AACA;AACA;AACA;EAJA,IAMqBA,mBAAmB,IAAAC,IAAA,GADvCC,cAAc,CAAC,sCAAsC,CAAC,EAAAC,KAAA,GAKrDC,QAAQ,CAAC;IAAEC,IAAI,EAAE,QAAQ;IAAEC,QAAQ,EAAE;EAAK,CAAC,CAAC,EAAAL,IAAA,CAAAM,MAAA,IAAAC,OAAA,0BAAAC,cAAA;IAAA,SAAAT,oBAAA;MAAA,IAAAU,KAAA;MAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;QAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;MAAA;MAAAN,KAAA,GAAAD,cAAA,CAAAQ,IAAA,UAAAH,IAAA;MAH7C;AACD;AACA;MAFCI,0BAAA,CAAAR,KAAA,QAAAS,WAAA,EAAAT,KAAA;MAAAA,KAAA,CAMAU,YAAY,GAAG,mBAAmB;MAAA,OAAAV,KAAA;IAAA;IAAAW,QAAA,GAAArB,mBAAA;IAAAsB,cAAA,CAAAtB,mBAAA,EAAAS,cAAA;IAAA,IAAAc,MAAA,GAAAvB,mBAAA,CAAAwB,SAAA;IAAAD,MAAA,CAElCE,mBAAmB,GAAnB,SAAAA,mBAAmBA,CAAA,EAAS;MAC3B,IAAI,CAACC,OAAO,GAAG,IAAI,CAACC,aAAa,CAAC,CAAC;IACpC,CAAC;IAAAJ,MAAA,CAEDI,aAAa,GAAb,SAAAA,aAAaA,CAAA,EAAuB;MACnC,MAAMC,kBAAkB,GAAG,IAAI,CAACC,eAAe,CAAC,CAAC,EAAEC,0BAA0B,CAAC,CAAC;MAC/E,IAAIC,MAAM;MACV,IAAIH,kBAAkB,EAAEI,uBAAuB,CAACC,cAAc,KAAK,IAAI,EAAE;QACxEF,MAAM,GACLG,IAAA,CAACC,MAAM;UACNC,EAAE,EAAE,IAAI,CAACC,QAAQ,CAAC,QAAQ,CAAE;UAC5B,iBAAc,eAAe;UAC7BC,IAAI,EAAC,yBAAyB;UAC9BC,IAAI,EAAC,eAAe;UACpBlC,IAAI,EAAEmC,UAAU,CAACC,KAAM;UACvBC,KAAK,EAAE,MAAAA,CAAA,KAA2B;YACjC,IAAI;cACH,MAAMd,kBAAkB,CAACe,cAAc,CAAC,gBAAgB,CAAC;cACzD,MAAMC,OAAO,GAAG,MAAMC,mBAAA,CAAO,8BAA8B,CAAC;cAC5D,MAAMD,OAAO,CAACE,SAAS,CAAC;gBAAEC,IAAI,EAAEC,WAAW,CAACC,aAAa,CAAC,IAAI;cAAE,CAAC,CAAC;YACnE,CAAC,CAAC,OAAOC,KAAK,EAAE;cACfC,GAAG,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAc,CAAC;YAClD;UACD,CAAE;UAAAE,QAAA,EAED;YACAC,UAAU,EACTnB,IAAA,CAAAoB,SAAA;cAAAF,QAAA,EACClB,IAAA,CAACqB,yBAAyB;gBAACC,QAAQ,EAAC;cAAM,CAAE;YAAC,CAC5C;UAEJ;QAAC,CACM,CACR;QACDC,UAAU,CAACC,mBAAmB,CAAC3B,MAAM,EAAE,OAAO,EAAE,IAAI,CAACX,YAAY,CAAC;MACnE;MACA,OAAOW,MAAM;IACd,CAAC;IAAA,OAAA/B,mBAAA;EAAA,EA9C+C2D,aAAa,GAAAxC,WAAA,GAAAyC,yBAAA,CAAApD,OAAA,CAAAgB,SAAA,SAAArB,KAAA;IAAA0D,YAAA;IAAAC,UAAA;IAAAC,QAAA;IAAAC,WAAA;EAAA,IAAAxD,OAAA,MAAAD,MAAA;EAAAc,QAAA,GAAArB,mBAAA;EAAA,OAAAqB,QAAA;AAAA","ignoreList":[],"file":"SummarizationButton-dbg.js"}