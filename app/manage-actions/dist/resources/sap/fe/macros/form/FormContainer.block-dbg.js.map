{"version":3,"names":["FormContainerBlock","_dec","defineBuildingBlock","name","namespace","fragment","_dec2","blockAttribute","type","_dec3","required","isPublic","expectedTypes","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_dec16","blockAggregation","_dec17","blockEvent","_class","_class2","_BuildingBlockTemplat","props","externalConfiguration","settings","_this","call","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_descriptor10","_descriptor11","_descriptor12","_descriptor13","_descriptor14","_descriptor15","_descriptor16","entitySet","contextPath","formElements","Object","keys","length","oContextObjectPath","getInvolvedDataModelObjects","metaPath","mExtraSettings","oFacetDefinition","targetObject","$Type","Label","Target","$target","fullyQualifiedName","path","term","value","getContextRelativeTargetObjectPath","annotations","fields","oConverterContext","getConverterContext","undefined","oFormDefinition","createFormDefinition","dataFieldCollection","formContainers","_exports","_inheritsLoose","BuildingBlockTemplatingBase","_applyDecoratedDescriptor","prototype","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["FormContainer.block.ts"],"sourcesContent":["import type { ReferenceFacet } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport { UIAnnotationTypes } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport type { PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport {\n\tblockAggregation,\n\tblockAttribute,\n\tblockEvent,\n\tdefineBuildingBlock\n} from \"sap/fe/core/buildingBlocks/templating/BuildingBlockSupport\";\nimport type { TemplateProcessorSettings } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor\";\nimport BuildingBlockTemplatingBase from \"sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase\";\nimport { getInvolvedDataModelObjects } from \"sap/fe/core/converters/MetaModelConverter\";\nimport type { BaseAction } from \"sap/fe/core/converters/controls/Common/Action\";\nimport type { FormElement } from \"sap/fe/core/converters/controls/Common/Form\";\nimport { createFormDefinition } from \"sap/fe/core/converters/controls/Common/Form\";\nimport type { ConfigurableObject } from \"sap/fe/core/converters/helpers/ConfigurableObject\";\nimport { getContextRelativeTargetObjectPath } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\n\n/**\n * Building block for creating a FormContainer based on the provided OData V4 metadata.\n *\n *\n * Usage example:\n * <pre>\n * &lt;macros:FormContainer\n * id=\"SomeId\"\n * entitySet=\"{entitySet>}\"\n * dataFieldCollection =\"{dataFieldCollection>}\"\n * title=\"someTitle\"\n * navigationPath=\"{ToSupplier}\"\n * visible=true\n * onChange=\".handlers.onFieldValueChange\"\n * /&gt;\n * </pre>\n * @private\n * @experimental\n */\n@defineBuildingBlock({ name: \"FormContainer\", namespace: \"sap.fe.macros\", fragment: \"sap.fe.macros.form.FormContainer\" })\nexport default class FormContainerBlock extends BuildingBlockTemplatingBase {\n\t@blockAttribute({ type: \"string\" })\n\tid?: string;\n\n\t@blockAttribute({\n\t\ttype: \"sap.ui.model.Context\",\n\t\trequired: true,\n\t\tisPublic: true,\n\t\texpectedTypes: [\"EntitySet\", \"NavigationProperty\", \"EntityType\", \"Singleton\"]\n\t})\n\tcontextPath!: Context;\n\n\t@blockAttribute({\n\t\ttype: \"sap.ui.model.Context\"\n\t})\n\tentitySet?: Context;\n\n\t@blockAttribute({\n\t\ttype: \"sap.ui.model.Context\",\n\t\tisPublic: true,\n\t\trequired: true\n\t})\n\tmetaPath!: Context;\n\n\t/**\n\t * Metadata path to the dataFieldCollection\n\t */\n\t@blockAttribute({\n\t\ttype: \"array\"\n\t})\n\tdataFieldCollection?: FormElement[];\n\n\t/**\n\t * Control whether the form is in displayMode or not\n\t */\n\t@blockAttribute({\n\t\ttype: \"boolean\"\n\t})\n\tdisplayMode = false;\n\n\t/**\n\t * Title of the form container\n\t */\n\t@blockAttribute({ type: \"string\" })\n\ttitle?: string;\n\n\t/**\n\t * Defines the \"aria-level\" of the form title, titles of internally used form containers are nested subsequently\n\t */\n\t@blockAttribute({ type: \"sap.ui.core.TitleLevel\", isPublic: true })\n\ttitleLevel = \"Auto\";\n\n\t/**\n\t * Binding the form container using a navigation path\n\t */\n\t@blockAttribute({ type: \"string\" })\n\tnavigationPath?: string;\n\n\t/**\n\t * Binding the visibility of the form container using an expression binding or Boolean\n\t */\n\t@blockAttribute({ type: \"string\" })\n\tvisible?: string;\n\n\t/**\n\t * Check if UI hidden annotation is present or not\n\t */\n\t@blockAttribute({ type: \"boolean\" })\n\thasUiHiddenAnnotation?: boolean;\n\n\t/**\n\t * Flex designtime settings to be applied\n\t */\n\t@blockAttribute({ type: \"string\" })\n\tdesigntimeSettings = \"sap/fe/macros/form/FormContainer.designtime\";\n\n\t@blockAttribute({ type: \"array\" })\n\tactions?: BaseAction[];\n\n\t@blockAttribute({ type: \"boolean\" })\n\tuseSingleTextAreaFieldAsNotes?: boolean;\n\n\t@blockAggregation({ type: \"sap.fe.macros.form.FormElement\" })\n\tformElements: Record<string, ConfigurableObject> = {};\n\n\t// Just proxied down to the Field may need to see if needed or not\n\t@blockEvent()\n\tonChange?: string;\n\n\tconstructor(props: PropertiesOf<FormContainerBlock>, externalConfiguration: unknown, settings: TemplateProcessorSettings) {\n\t\tsuper(props);\n\t\tthis.entitySet = this.contextPath!;\n\t\tif (this.formElements && Object.keys(this.formElements).length > 0) {\n\t\t\tconst oContextObjectPath = getInvolvedDataModelObjects<ReferenceFacet>(this.metaPath, this.contextPath);\n\t\t\tconst mExtraSettings: Record<string, unknown> = {};\n\t\t\tlet oFacetDefinition = oContextObjectPath.targetObject;\n\t\t\t// Wrap the facet in a fake Facet annotation\n\t\t\toFacetDefinition = {\n\t\t\t\t$Type: UIAnnotationTypes.ReferenceFacet,\n\t\t\t\tLabel: oFacetDefinition?.Label,\n\t\t\t\tTarget: {\n\t\t\t\t\t$target: oFacetDefinition,\n\t\t\t\t\tfullyQualifiedName: oFacetDefinition?.fullyQualifiedName,\n\t\t\t\t\tpath: \"\",\n\t\t\t\t\tterm: \"\",\n\t\t\t\t\ttype: \"AnnotationPath\",\n\t\t\t\t\tvalue: getContextRelativeTargetObjectPath(oContextObjectPath)\n\t\t\t\t},\n\t\t\t\tannotations: {},\n\t\t\t\tfullyQualifiedName: oFacetDefinition?.fullyQualifiedName\n\t\t\t} as unknown as ReferenceFacet;\n\t\t\tmExtraSettings[oFacetDefinition.Target.value] = { fields: this.formElements };\n\t\t\tconst oConverterContext = this.getConverterContext(\n\t\t\t\toContextObjectPath,\n\t\t\t\t/*this.contextPath*/ undefined,\n\t\t\t\tsettings,\n\t\t\t\tmExtraSettings\n\t\t\t);\n\t\t\tconst oFormDefinition = createFormDefinition(oFacetDefinition, \"true\", oConverterContext);\n\n\t\t\tthis.dataFieldCollection = oFormDefinition.formContainers[0].formElements;\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"FormContainer.block-dbg.js"}