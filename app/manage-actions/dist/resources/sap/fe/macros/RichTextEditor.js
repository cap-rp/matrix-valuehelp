/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/BindingHelper","sap/fe/macros/richtexteditor/ButtonGroup","sap/fe/macros/richtexteditor/Plugin","sap/m/FormattedText","sap/ui/richtexteditor/RichTextEditor","sap/fe/base/jsx-runtime/jsx"],function(e,t,r,i,n,o,u,a,l){"use strict";var s,p,c,d,f,b,y,h,g,m,v,C,_,w,G,x,z,P,T;var E={};var B=i.UI;var O=t.property;var I=t.defineUI5Class;var D=t.aggregation;var M=e.compileExpression;function j(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,q(e,t)}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function R(e,t,r,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function A(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let F=(s=I("sap.fe.macros.RichTextEditor"),p=O({type:"string",required:true}),c=O({type:"any",isBindingInfo:true}),d=O({type:"boolean"}),f=D({type:"sap.fe.macros.richtexteditor.ButtonGroup",multiple:true,defaultClass:n}),b=D({type:"sap.fe.macros.richtexteditor.Plugin",multiple:true,defaultClass:o}),y=O({type:"boolean"}),h=O({type:"any",bindable:false}),g=O({type:"boolean"}),s(m=(v=function(e){function t(t,r){var i;t._isInEditMode=M(B.IsEditable);i=e.call(this,t,r)||this;j(i,"id",C,i);j(i,"value",_,i);j(i,"readOnly",w,i);j(i,"buttonGroups",G,i);j(i,"plugins",x,i);j(i,"excludeDefaultPlugins",z,i);j(i,"required",P,i);j(i,"_isInEditMode",T,i);i.getPlugins=()=>{let e;if(i.excludeDefaultPlugins){e=[]}else{e=["emoticons","directionality","image","table","link","powerpaste"].map(e=>({name:e}))}if(i.plugins?.length){for(const t of i.plugins){e.push(t)}}return{plugins:e}};i.getButtonGroups=()=>{if(i.buttonGroups&&i.buttonGroups.length>0){return i.buttonGroups.map(e=>({name:e.name??"",visible:e.visible==="true",priority:e.priority,row:e.row,customToolbarPriority:e.customToolbarPriority,buttons:e.buttons?.split(",")||[]}))}return[]};i.getEditContent=()=>{if(i._editContent){i._editContent.destroy()}i._editContent=l(a,{id:i.createId("_rte"),value:i.value,visible:true,customToolbar:true,editable:true,editorType:"TinyMCE6",showGroupFontStyle:true,showGroupTextAlign:true,showGroupStructure:true,showGroupFont:false,showGroupClipboard:true,showGroupInsert:false,showGroupLink:false,showGroupUndo:false,sanitizeValue:true,wrapping:true,width:"100%",required:i.required,...i.getPlugins(),buttonGroups:i.buttonGroups.length>0?[]:undefined});i._editContent.attachReady(i.addButtonGroups,i);return i._editContent};return i}E=t;k(t,e);var r=t.prototype;r.onMetadataAvailable=function t(r){e.prototype.onMetadataAvailable.call(this,r);this.content=this.createContent()};r.createContentDebounced=function e(){if(this._contentTimer){clearTimeout(this._contentTimer)}this._contentTimer=setTimeout(()=>{this.content=this.createContent()},200)};r.exit=function e(){this._displayContent?.destroy();this._editContent?.destroy()};r.set_isInEditMode=function t(r){e.prototype.setProperty.call(this,"_isInEditMode",r);this.createContentDebounced()};r.setReadOnly=function t(r){e.prototype.setProperty.call(this,"readOnly",r);this.createContentDebounced()};r.addButtonGroups=function e(){const t=this.getButtonGroups().reverse();for(const e of t){this._editContent?.addButtonGroup(e)}this._editContent?.detachReady(this.addButtonGroups,this)};r.getDisplayContent=function e(){if(this._displayContent){this._displayContent.destroy()}this._displayContent=l(u,{htmlText:this.value});return this._displayContent};r.createContent=function e(){if(this._isInEditMode&&!this.readOnly){return this.getEditContent()}else{return this.getDisplayContent()}};return t}(r),C=R(v.prototype,"id",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),_=R(v.prototype,"value",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),w=R(v.prototype,"readOnly",[d],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),G=R(v.prototype,"buttonGroups",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return[]}}),x=R(v.prototype,"plugins",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),z=R(v.prototype,"excludeDefaultPlugins",[y],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),P=R(v.prototype,"required",[h],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),T=R(v.prototype,"_isInEditMode",[g],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),v))||m);E=F;return E},false);
//# sourceMappingURL=RichTextEditor.js.map