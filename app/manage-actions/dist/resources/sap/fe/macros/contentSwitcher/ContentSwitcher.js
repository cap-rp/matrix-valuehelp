/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/ui/core/Element","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,n,r,o,a){"use strict";var s,l,c,u,f,p,d,m,b,y,g,h,v;var S={};var _=t.property;var w=t.implementInterface;var C=t.event;var I=t.defineUI5Class;var k=t.defineReference;var z=t.aggregation;var B=e.bindState;function K(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function x(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,j(e,t)}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}function O(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function P(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let E=(s=I("sap.fe.macros.contentSwitcher.ContentSwitcher"),l=w("sap.fe.core.controllerextensions.viewState.IViewStateContributor"),c=z({type:"sap.fe.macros.contentSwitcher.ContentSwitcherItem",multiple:true,isDefault:true}),u=C(),f=k(),p=_({type:"string",bindToState:true}),s(d=(m=function(e){function t(t,i){var n;n=e.call(this,t,i)||this;K(n,"__implements__sap_fe_core_controllerextensions_viewState_IViewStateContributor",b,n);K(n,"items",y,n);K(n,"selectionChange",g,n);K(n,"$segmentedButton",h,n);K(n,"selectedKey",v,n);n.content=n.createContent();if(n.state.selectedKey){n.onStateChange(["selectedKey"])}else{n.state.selectedKey="key0"}return n}S=t;x(t,e);var i=t.prototype;i.retrieveState=function e(){return{selectedKey:this.$segmentedButton.current?.getSelectedKey()}};i.applyState=function e(t){if(t){this.state.selectedKey=t.selectedKey??this.items[0]?.key??"key0"}};i._getControlFromItem=function e(t){const i=t.controlToSwitch;if(i){const e=o.getElementById(i);if(e?.isA("sap.ui.core.Control")){return e}}};i.showHideControls=function e(t){const i=[];const n=[];for(const e of this.items){const r=this._getControlFromItem(e);if(r&&e.key!==t){i.push(r)}else if(r){n.push(r)}}for(const e of i){if(!n.includes(e)){e.setVisible(false)}}for(const e of n){e.setVisible(true)}};i.onStateChange=function e(t){if(t?.includes("selectedKey")){this.showHideControls(this.state.selectedKey);this.getPageController()?.getExtensionAPI().updateAppState();this.fireEvent("selectionChange")}};i.createContent=function e(){const t=this.createId("filterTypeSwitch");return a(n,{ref:this.$segmentedButton,id:t,selectedKey:B(this.state,"selectedKey"),children:{items:this.items.map((e,t)=>this.createSegmentedButtonItem(e,t))}})};i.createSegmentedButtonItem=function e(t,i){const n=this.createId(t.key);t.key??=`key${i}`;if(t.icon){return a(r,{icon:t.icon,tooltip:t.text,id:n},t.key)}return a(r,{text:t.text,id:n},t.key)};return t}(i),b=O(m.prototype,"__implements__sap_fe_core_controllerextensions_viewState_IViewStateContributor",[l],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),y=O(m.prototype,"items",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),g=O(m.prototype,"selectionChange",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),h=O(m.prototype,"$segmentedButton",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),v=O(m.prototype,"selectedKey",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||d);S=E;return S},false);
//# sourceMappingURL=ContentSwitcher.js.map