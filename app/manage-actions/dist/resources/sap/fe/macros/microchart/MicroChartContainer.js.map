{"version":3,"file":"MicroChartContainer.js","names":["ValueColor","mobilelibrary","MicroChartContainer","_dec","defineUI5Class","_dec2","property","type","defaultValue","_dec3","undefined","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec10","_dec11","_dec12","_dec13","event","_dec14","aggregation","multiple","isDefault","_dec15","_dec16","_class","_class2","_Control","id","settings","_this","call","this","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_descriptor10","_descriptor11","_descriptor12","_descriptor13","_descriptor14","_descriptor15","_inheritsLoose","render","renderManager","control","openStart","openEnd","showOnlyChart","chartTitle","microChartTitle","forEach","subChartTitle","renderControl","close","chartDescription","Label","text","microChart","addStyleClass","uomPath","_checkIfChartRequiresRuntimeLabels","path","label","flexBox","FlexBox","alignItems","justifyContent","items","setAggregation","_proto","prototype","onBeforeRendering","binding","_getListBindingForRuntimeLabels","detachEvent","_setRuntimeChartLabelsAndUnitOfMeasure","_olistBinding","onAfterRendering","attachEvent","setShowOnlyChart","value","_setChartLabels","setProperty","Boolean","isA","_checkForChartLabelAggregations","getAggregation","chart","getChart","getBinding","lines","getLines","length","ODataV4ListBinding","async","listBinding","contexts","getContexts","measures","dimension","unitOfMeasurePath","unitOfMeasureLabel","_uomLabel","setText","getObject","firstContext","lastContext","linesPomises","lineChart","currentMinX","currentMaxX","currentMinY","currentMaxY","minX","Infinity","maxX","minY","maxY","context","measure","i","index","push","_getCriticalityFromPoint","colors","Promise","all","line","setColor","_setChartLabelsColors","criticality","leftTop","rightTop","leftBottom","rightBottom","_formatDateAndNumberValue","measurePrecision","measureScale","dimensionPrecision","calendarPattern","point","metaModel","getModel","getMetaModel","dataPointQualifiers","metaPath","ODataMetaModel","getPath","getMetaPath","dataPoint","requestObject","Neutral","Criticality","_criticality","CriticalityCalculation","criticalityCalculation","getValue","valueProperty","valueResponse","$Path","hasOwnProperty","$Decimal","_criticalityCalculation","ImprovementDirection","$EnumMember","DeviationRangeLowValue","ToleranceRangeLowValue","AcceptanceRangeLowValue","AcceptanceRangeHighValue","ToleranceRangeHighValue","DeviationRangeHighValue","resolve","criticalityValue","result","toString","Error","Critical","Good","includes","Log","warning","improvementDirection","deviationLow","toleranceLow","acceptanceLow","acceptanceHigh","toleranceHigh","deviationHigh","precision","scale","pattern","_getSemanticsValueFormatter","formatValue","isNaN","_getLabelNumberFormatter","format","_oDateType","DateType","style","source","NumberFormat","getFloatInstance","showScale","decimals","getAccessibilityInfo","Control","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sources":["./MicroChartContainer.ts"],"sourcesContent":["import { UIAnnotationTerms } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport Log from \"sap/base/Log\";\nimport type { PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { aggregation, defineUI5Class, event, property } from \"sap/fe/base/ClassSupport\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport Label from \"sap/m/Label\";\nimport mobilelibrary from \"sap/m/library\";\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\nimport type AreaMicroChart from \"sap/suite/ui/microchart/AreaMicroChart\";\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\nimport type ColumnMicroChart from \"sap/suite/ui/microchart/ColumnMicroChart\";\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\nimport type ComparisonMicroChart from \"sap/suite/ui/microchart/ComparisonMicroChart\";\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\nimport type LineMicroChart from \"sap/suite/ui/microchart/LineMicroChart\";\nimport type LineMicroChartLine from \"sap/suite/ui/microchart/LineMicroChartLine\";\nimport type ManagedObject from \"sap/ui/base/ManagedObject\";\nimport type { $ControlSettings } from \"sap/ui/core/Control\";\nimport Control from \"sap/ui/core/Control\";\nimport NumberFormat from \"sap/ui/core/format/NumberFormat\";\nimport type { AccessibilityInfo } from \"sap/ui/core/library\";\nimport type RenderManager from \"sap/ui/core/RenderManager\";\nimport type Context from \"sap/ui/model/Context\";\nimport ODataV4ListBinding from \"sap/ui/model/odata/v4/ODataListBinding\";\nimport ODataMetaModel from \"sap/ui/model/odata/v4/ODataMetaModel\";\nimport type ODataModel from \"sap/ui/model/odata/v4/ODataModel\";\nimport DateType from \"sap/ui/model/type/Date\";\n\nconst ValueColor = mobilelibrary.ValueColor;\ntype DataPointValueType = {\n\tvalue: number;\n\tcontext?: Context;\n\tindex?: number;\n};\n/**\n *  Container Control for Micro Chart and UoM.\n * @private\n * @experimental This module is only for internal/experimental use!\n */\n@defineUI5Class(\"sap.fe.macros.microchart.MicroChartContainer\")\nclass MicroChartContainer extends Control {\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false\n\t})\n\tshowOnlyChart!: boolean;\n\n\t@property({\n\t\ttype: \"string\",\n\t\tdefaultValue: undefined\n\t})\n\tuomPath!: string;\n\n\t@property({\n\t\ttype: \"string[]\",\n\t\tdefaultValue: []\n\t})\n\tmeasures!: string[];\n\n\t@property({\n\t\ttype: \"string\",\n\t\tdefaultValue: undefined\n\t})\n\tdimension?: string;\n\n\t@property({\n\t\ttype: \"string[]\",\n\t\tdefaultValue: []\n\t})\n\tdataPointQualifiers!: string[];\n\n\t@property({\n\t\ttype: \"int\",\n\t\tdefaultValue: undefined\n\t})\n\tmeasurePrecision!: number;\n\n\t@property({\n\t\ttype: \"int\",\n\t\tdefaultValue: 1\n\t})\n\tmeasureScale!: number;\n\n\t@property({\n\t\ttype: \"int\",\n\t\tdefaultValue: undefined\n\t})\n\tdimensionPrecision?: number;\n\n\t@property({\n\t\ttype: \"string\",\n\t\tdefaultValue: \"\"\n\t})\n\tchartTitle!: string;\n\n\t@property({\n\t\ttype: \"string\",\n\t\tdefaultValue: \"\"\n\t})\n\tchartDescription!: string;\n\n\t@property({\n\t\ttype: \"string\",\n\t\tdefaultValue: \"\"\n\t})\n\tcalendarPattern!: string;\n\n\t@event()\n\tonTitlePressed!: Function;\n\n\t@aggregation({\n\t\ttype: \"sap.ui.core.Control\",\n\t\tmultiple: false,\n\t\tisDefault: true\n\t})\n\tmicroChart!: Control;\n\n\t@aggregation({\n\t\ttype: \"sap.m.Label\",\n\t\tmultiple: false\n\t})\n\t_uomLabel!: Label;\n\n\t@aggregation({\n\t\ttype: \"sap.ui.core.Control\",\n\t\tmultiple: true\n\t})\n\tmicroChartTitle!: Control[];\n\n\tprivate _olistBinding?: ODataV4ListBinding;\n\n\tprivate _oDateType?: DateType;\n\n\tconstructor(\n\t\tid?: string | undefined | (PropertiesOf<MicroChartContainer> & $ControlSettings),\n\t\tsettings?: $ControlSettings & PropertiesOf<MicroChartContainer>\n\t) {\n\t\tsuper(id as string, settings);\n\t}\n\n\tstatic render(renderManager: RenderManager, control: MicroChartContainer): void {\n\t\trenderManager.openStart(\"div\", control);\n\t\trenderManager.openEnd();\n\t\tif (!control.showOnlyChart) {\n\t\t\tconst chartTitle = control.microChartTitle;\n\t\t\tif (chartTitle) {\n\t\t\t\tchartTitle.forEach(function (subChartTitle) {\n\t\t\t\t\trenderManager.openStart(\"div\");\n\t\t\t\t\trenderManager.openEnd();\n\t\t\t\t\trenderManager.renderControl(subChartTitle);\n\t\t\t\t\trenderManager.close(\"div\");\n\t\t\t\t});\n\t\t\t}\n\t\t\trenderManager.openStart(\"div\");\n\t\t\trenderManager.openEnd();\n\t\t\tconst chartDescription = new Label({ text: control.chartDescription });\n\t\t\trenderManager.renderControl(chartDescription);\n\t\t\trenderManager.close(\"div\");\n\t\t}\n\t\tconst microChart = control.microChart;\n\t\tif (microChart) {\n\t\t\tmicroChart.addStyleClass(\"sapUiTinyMarginTopBottom\");\n\t\t\trenderManager.renderControl(microChart);\n\t\t\tif (!control.showOnlyChart && control.uomPath) {\n\t\t\t\tconst settings = control._checkIfChartRequiresRuntimeLabels() ? undefined : { text: { path: control.uomPath } },\n\t\t\t\t\tlabel = new Label(settings),\n\t\t\t\t\tflexBox = new FlexBox({\n\t\t\t\t\t\talignItems: \"Start\",\n\t\t\t\t\t\tjustifyContent: \"End\",\n\t\t\t\t\t\titems: [label]\n\t\t\t\t\t});\n\t\t\t\trenderManager.renderControl(flexBox);\n\t\t\t\tcontrol.setAggregation(\"_uomLabel\", label);\n\t\t\t}\n\t\t}\n\t\trenderManager.close(\"div\");\n\t}\n\n\tonBeforeRendering(): void {\n\t\tconst binding = this._getListBindingForRuntimeLabels();\n\n\t\tif (binding) {\n\t\t\tbinding.detachEvent(\"change\", this._setRuntimeChartLabelsAndUnitOfMeasure, this);\n\t\t\tthis._olistBinding = undefined;\n\t\t}\n\t}\n\n\tonAfterRendering(): void {\n\t\tconst binding = this._getListBindingForRuntimeLabels();\n\n\t\tif (!this._checkIfChartRequiresRuntimeLabels()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (binding) {\n\t\t\tbinding.attachEvent(\"change\", undefined, this._setRuntimeChartLabelsAndUnitOfMeasure, this);\n\t\t\tthis._olistBinding = binding;\n\t\t}\n\t}\n\n\tsetShowOnlyChart(value: boolean): void {\n\t\tif (!value && this._olistBinding) {\n\t\t\tthis._setChartLabels();\n\t\t}\n\t\tthis.setProperty(\"showOnlyChart\", value, false /*re-rendering*/);\n\t}\n\n\t_checkIfChartRequiresRuntimeLabels(): boolean {\n\t\tconst microChart = this.microChart;\n\t\tif (microChart) {\n\t\t\treturn Boolean(\n\t\t\t\tmicroChart.isA<AreaMicroChart>(\"sap.suite.ui.microchart.AreaMicroChart\") ||\n\t\t\t\t\tmicroChart.isA<ColumnMicroChart>(\"sap.suite.ui.microchart.ColumnMicroChart\") ||\n\t\t\t\t\tmicroChart.isA<LineMicroChart>(\"sap.suite.ui.microchart.LineMicroChart\") ||\n\t\t\t\t\tmicroChart.isA<ComparisonMicroChart>(\"sap.suite.ui.microchart.ComparisonMicroChart\")\n\t\t\t);\n\t\t}\n\t\treturn false;\n\t}\n\n\t_checkForChartLabelAggregations(): boolean {\n\t\tconst microChart = this.microChart;\n\t\tif (microChart) {\n\t\t\treturn Boolean(\n\t\t\t\t(microChart.isA<AreaMicroChart>(\"sap.suite.ui.microchart.AreaMicroChart\") &&\n\t\t\t\t\tmicroChart.getAggregation(\"firstYLabel\") &&\n\t\t\t\t\tmicroChart.getAggregation(\"lastYLabel\") &&\n\t\t\t\t\tmicroChart.getAggregation(\"firstXLabel\") &&\n\t\t\t\t\tmicroChart.getAggregation(\"lastXLabel\")) ||\n\t\t\t\t\t(microChart.isA<ColumnMicroChart>(\"sap.suite.ui.microchart.ColumnMicroChart\") &&\n\t\t\t\t\t\tmicroChart.getAggregation(\"leftTopLabel\") &&\n\t\t\t\t\t\tmicroChart.getAggregation(\"rightTopLabel\") &&\n\t\t\t\t\t\tmicroChart.getAggregation(\"leftBottomLabel\") &&\n\t\t\t\t\t\tmicroChart.getAggregation(\"rightBottomLabel\")) ||\n\t\t\t\t\tmicroChart.isA<LineMicroChart>(\"sap.suite.ui.microchart.LineMicroChart\")\n\t\t\t);\n\t\t}\n\t\treturn false;\n\t}\n\n\t_getListBindingForRuntimeLabels(): ODataV4ListBinding | false {\n\t\tconst microChart = this.microChart;\n\t\tlet binding;\n\t\tif (microChart) {\n\t\t\tif (microChart.isA<AreaMicroChart>(\"sap.suite.ui.microchart.AreaMicroChart\")) {\n\t\t\t\tconst chart = microChart.getChart();\n\t\t\t\tbinding = chart && chart.getBinding(\"points\");\n\t\t\t} else if (microChart.isA<ColumnMicroChart>(\"sap.suite.ui.microchart.ColumnMicroChart\")) {\n\t\t\t\tbinding = microChart.getBinding(\"columns\");\n\t\t\t} else if (microChart.isA<LineMicroChart>(\"sap.suite.ui.microchart.LineMicroChart\")) {\n\t\t\t\tconst lines = microChart.getLines();\n\t\t\t\tbinding = lines && lines.length && lines[0].getBinding(\"points\");\n\t\t\t} else if (microChart.isA<ComparisonMicroChart>(\"sap.suite.ui.microchart.ComparisonMicroChart\")) {\n\t\t\t\tbinding = microChart.getBinding(\"data\");\n\t\t\t}\n\t\t}\n\n\t\treturn binding instanceof ODataV4ListBinding ? binding : false;\n\t}\n\n\tasync _setRuntimeChartLabelsAndUnitOfMeasure(): Promise<void> {\n\t\tconst listBinding = this._olistBinding,\n\t\t\tcontexts = listBinding?.getContexts(),\n\t\t\tmeasures = this.measures,\n\t\t\tdimension = this.dimension,\n\t\t\tunitOfMeasurePath = this.uomPath,\n\t\t\tmicroChart = this.microChart,\n\t\t\tunitOfMeasureLabel = this._uomLabel;\n\n\t\tif (unitOfMeasureLabel && unitOfMeasurePath && contexts && contexts.length && !this.showOnlyChart) {\n\t\t\tunitOfMeasureLabel.setText(contexts[0].getObject(unitOfMeasurePath));\n\t\t} else if (unitOfMeasureLabel) {\n\t\t\tunitOfMeasureLabel.setText(\"\");\n\t\t}\n\n\t\tif (!this._checkForChartLabelAggregations()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!contexts || !contexts.length) {\n\t\t\tthis._setChartLabels();\n\t\t\treturn;\n\t\t}\n\n\t\tconst firstContext = contexts[0],\n\t\t\tlastContext = contexts[contexts.length - 1],\n\t\t\tlinesPomises: Promise<mobilelibrary.ValueColor>[] = [],\n\t\t\tlineChart = microChart?.isA<LineMicroChart>(\"sap.suite.ui.microchart.LineMicroChart\"),\n\t\t\tcurrentMinX = firstContext.getObject(dimension),\n\t\t\tcurrentMaxX = lastContext.getObject(dimension);\n\t\tlet currentMinY,\n\t\t\tcurrentMaxY,\n\t\t\tminX: DataPointValueType = { value: Infinity },\n\t\t\tmaxX: DataPointValueType = { value: -Infinity },\n\t\t\tminY: DataPointValueType = { value: Infinity },\n\t\t\tmaxY: DataPointValueType = { value: -Infinity };\n\n\t\tminX = currentMinX == undefined ? minX : { context: firstContext, value: currentMinX };\n\t\tmaxX = currentMaxX == undefined ? maxX : { context: lastContext, value: currentMaxX };\n\n\t\tif (measures?.length) {\n\t\t\tmeasures.forEach((measure: string, i: number) => {\n\t\t\t\tcurrentMinY = firstContext.getObject(measure);\n\t\t\t\tcurrentMaxY = lastContext.getObject(measure);\n\t\t\t\tmaxY = currentMaxY > maxY.value ? { context: lastContext, value: currentMaxY, index: lineChart ? i : 0 } : maxY;\n\t\t\t\tminY = currentMinY < minY.value ? { context: firstContext, value: currentMinY, index: lineChart ? i : 0 } : minY;\n\t\t\t\tif (lineChart) {\n\t\t\t\t\tlinesPomises.push(this._getCriticalityFromPoint({ context: lastContext, value: currentMaxY, index: i }));\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis._setChartLabels(minY.value, maxY.value, minX.value, maxX.value);\n\t\tif (lineChart) {\n\t\t\tconst colors = await Promise.all(linesPomises);\n\t\t\tif (colors?.length) {\n\t\t\t\tconst lines = microChart.getLines();\n\t\t\t\tlines.forEach(function (line: LineMicroChartLine, i: number) {\n\t\t\t\t\tline.setColor(colors[i]);\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tawait this._setChartLabelsColors(maxY, minY);\n\t\t}\n\t}\n\n\tasync _setChartLabelsColors(maxY: DataPointValueType, minY: DataPointValueType): Promise<void> {\n\t\tconst microChart = this.microChart;\n\n\t\tconst criticality = await Promise.all([this._getCriticalityFromPoint(minY), this._getCriticalityFromPoint(maxY)]);\n\n\t\tif (microChart?.isA<AreaMicroChart>(\"sap.suite.ui.microchart.AreaMicroChart\")) {\n\t\t\t(microChart.getAggregation(\"firstYLabel\") as ManagedObject).setProperty(\"color\", criticality[0], true);\n\t\t\t(microChart.getAggregation(\"lastYLabel\") as ManagedObject).setProperty(\"color\", criticality[1], true);\n\t\t} else if (microChart?.isA<ColumnMicroChart>(\"sap.suite.ui.microchart.ColumnMicroChart\")) {\n\t\t\t(microChart.getAggregation(\"leftTopLabel\") as ManagedObject).setProperty(\"color\", criticality[0], true);\n\t\t\t(microChart.getAggregation(\"rightTopLabel\") as ManagedObject).setProperty(\"color\", criticality[1], true);\n\t\t}\n\t}\n\n\t_setChartLabels(leftTop?: number, rightTop?: number, leftBottom?: number, rightBottom?: number): void {\n\t\tconst microChart = this.microChart;\n\n\t\tleftTop = this._formatDateAndNumberValue(leftTop, this.measurePrecision, this.measureScale) as number | undefined;\n\t\trightTop = this._formatDateAndNumberValue(rightTop, this.measurePrecision, this.measureScale) as number | undefined;\n\t\tleftBottom = this._formatDateAndNumberValue(leftBottom, this.dimensionPrecision, undefined, this.calendarPattern) as\n\t\t\t| number\n\t\t\t| undefined;\n\t\trightBottom = this._formatDateAndNumberValue(rightBottom, this.dimensionPrecision, undefined, this.calendarPattern) as\n\t\t\t| number\n\t\t\t| undefined;\n\n\t\tif (microChart?.isA<AreaMicroChart>(\"sap.suite.ui.microchart.AreaMicroChart\")) {\n\t\t\t(microChart.getAggregation(\"firstYLabel\") as ManagedObject).setProperty(\"label\", leftTop, false);\n\t\t\t(microChart.getAggregation(\"lastYLabel\") as ManagedObject).setProperty(\"label\", rightTop, false);\n\t\t\t(microChart.getAggregation(\"firstXLabel\") as ManagedObject).setProperty(\"label\", leftBottom, false);\n\t\t\t(microChart.getAggregation(\"lastXLabel\") as ManagedObject).setProperty(\"label\", rightBottom, false);\n\t\t} else if (microChart?.isA<ColumnMicroChart>(\"sap.suite.ui.microchart.ColumnMicroChart\")) {\n\t\t\t(microChart.getAggregation(\"leftTopLabel\") as ManagedObject).setProperty(\"label\", leftTop, false);\n\t\t\t(microChart.getAggregation(\"rightTopLabel\") as ManagedObject).setProperty(\"label\", rightTop, false);\n\t\t\t(microChart.getAggregation(\"leftBottomLabel\") as ManagedObject).setProperty(\"label\", leftBottom, false);\n\t\t\t(microChart.getAggregation(\"rightBottomLabel\") as ManagedObject).setProperty(\"label\", rightBottom, false);\n\t\t} else if (microChart?.isA<LineMicroChart>(\"sap.suite.ui.microchart.LineMicroChart\")) {\n\t\t\tmicroChart.setProperty(\"leftTopLabel\", leftTop, false);\n\t\t\tmicroChart.setProperty(\"rightTopLabel\", rightTop, false);\n\t\t\tmicroChart.setProperty(\"leftBottomLabel\", leftBottom, false);\n\t\t\tmicroChart.setProperty(\"rightBottomLabel\", rightBottom, false);\n\t\t}\n\t}\n\n\tasync _getCriticalityFromPoint(point: DataPointValueType): Promise<mobilelibrary.ValueColor> {\n\t\tif (point?.context) {\n\t\t\tconst metaModel = this.getModel() && (this.getModel() as ODataModel).getMetaModel(),\n\t\t\t\tdataPointQualifiers = this.dataPointQualifiers,\n\t\t\t\tmetaPath = metaModel instanceof ODataMetaModel && point.context.getPath() && metaModel.getMetaPath(point.context.getPath());\n\t\t\tif (metaModel && typeof metaPath === \"string\") {\n\t\t\t\tconst dataPoint = await metaModel.requestObject(\n\t\t\t\t\t`${metaPath}/@${UIAnnotationTerms.DataPoint}${\n\t\t\t\t\t\tpoint.index !== undefined && dataPointQualifiers[point.index] ? `#${dataPointQualifiers[point.index]}` : \"\"\n\t\t\t\t\t}`\n\t\t\t\t);\n\t\t\t\tif (dataPoint) {\n\t\t\t\t\tlet criticality = ValueColor.Neutral;\n\t\t\t\t\tconst context = point.context;\n\n\t\t\t\t\tif (dataPoint.Criticality) {\n\t\t\t\t\t\tcriticality = this._criticality(dataPoint.Criticality, context);\n\t\t\t\t\t} else if (dataPoint.CriticalityCalculation) {\n\t\t\t\t\t\tconst criticalityCalculation = dataPoint.CriticalityCalculation;\n\t\t\t\t\t\tconst getValue = function (valueProperty: { $Path?: string; $Decimal?: number }): number {\n\t\t\t\t\t\t\tlet valueResponse;\n\t\t\t\t\t\t\tif (valueProperty?.$Path) {\n\t\t\t\t\t\t\t\tvalueResponse = context.getObject(valueProperty.$Path);\n\t\t\t\t\t\t\t} else if (valueProperty?.hasOwnProperty(\"$Decimal\")) {\n\t\t\t\t\t\t\t\tvalueResponse = valueProperty.$Decimal;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn valueResponse;\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tcriticality = this._criticalityCalculation(\n\t\t\t\t\t\t\tcriticalityCalculation.ImprovementDirection.$EnumMember,\n\t\t\t\t\t\t\tpoint.value,\n\t\t\t\t\t\t\tgetValue(criticalityCalculation.DeviationRangeLowValue),\n\t\t\t\t\t\t\tgetValue(criticalityCalculation.ToleranceRangeLowValue),\n\t\t\t\t\t\t\tgetValue(criticalityCalculation.AcceptanceRangeLowValue),\n\t\t\t\t\t\t\tgetValue(criticalityCalculation.AcceptanceRangeHighValue),\n\t\t\t\t\t\t\tgetValue(criticalityCalculation.ToleranceRangeHighValue),\n\t\t\t\t\t\t\tgetValue(criticalityCalculation.DeviationRangeHighValue)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn criticality;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn Promise.resolve(ValueColor.Neutral);\n\t}\n\n\t_criticality(criticality: { $Path?: string; $EnumMember?: string }, context: Context): mobilelibrary.ValueColor {\n\t\tlet criticalityValue, result;\n\t\tif (criticality.$Path) {\n\t\t\tcriticalityValue = context.getObject(criticality.$Path);\n\t\t\tif (criticalityValue === \"Negative\" || criticalityValue.toString() === \"1\") {\n\t\t\t\tresult = ValueColor.Error;\n\t\t\t} else if (criticalityValue === \"Critical\" || criticalityValue.toString() === \"2\") {\n\t\t\t\tresult = ValueColor.Critical;\n\t\t\t} else if (criticalityValue === \"Positive\" || criticalityValue.toString() === \"3\") {\n\t\t\t\tresult = ValueColor.Good;\n\t\t\t}\n\t\t} else if (criticality.$EnumMember) {\n\t\t\tcriticalityValue = criticality.$EnumMember;\n\t\t\tif (criticalityValue.includes(\"com.sap.vocabularies.UI.v1.CriticalityType/Negative\")) {\n\t\t\t\tresult = ValueColor.Error;\n\t\t\t} else if (criticalityValue.includes(\"com.sap.vocabularies.UI.v1.CriticalityType/Positive\")) {\n\t\t\t\tresult = ValueColor.Good;\n\t\t\t} else if (criticalityValue.includes(\"com.sap.vocabularies.UI.v1.CriticalityType/Critical\")) {\n\t\t\t\tresult = ValueColor.Critical;\n\t\t\t}\n\t\t}\n\t\tif (result === undefined) {\n\t\t\tLog.warning(\"Case not supported, returning the default Value Neutral\");\n\t\t\treturn ValueColor.Neutral;\n\t\t}\n\t\treturn result;\n\t}\n\n\t_criticalityCalculation(\n\t\timprovementDirection: string,\n\t\tvalue: number,\n\t\tdeviationLow?: number,\n\t\ttoleranceLow?: number,\n\t\tacceptanceLow?: number,\n\t\tacceptanceHigh?: number,\n\t\ttoleranceHigh?: number,\n\t\tdeviationHigh?: number\n\t): mobilelibrary.ValueColor {\n\t\tlet result;\n\n\t\t// Dealing with Decimal and Path based bingdings\n\t\tdeviationLow = deviationLow == undefined ? -Infinity : deviationLow;\n\t\ttoleranceLow = toleranceLow == undefined ? deviationLow : toleranceLow;\n\t\tacceptanceLow = acceptanceLow == undefined ? toleranceLow : acceptanceLow;\n\t\tdeviationHigh = deviationHigh == undefined ? Infinity : deviationHigh;\n\t\ttoleranceHigh = toleranceHigh == undefined ? deviationHigh : toleranceHigh;\n\t\tacceptanceHigh = acceptanceHigh == undefined ? toleranceHigh : acceptanceHigh;\n\n\t\t// Creating runtime expression binding from criticality calculation for Criticality State\n\t\tif (improvementDirection.includes(\"Minimize\")) {\n\t\t\tif (value <= acceptanceHigh) {\n\t\t\t\tresult = ValueColor.Good;\n\t\t\t} else if (value <= toleranceHigh) {\n\t\t\t\tresult = ValueColor.Neutral;\n\t\t\t} else if (value <= deviationHigh) {\n\t\t\t\tresult = ValueColor.Critical;\n\t\t\t} else {\n\t\t\t\tresult = ValueColor.Error;\n\t\t\t}\n\t\t} else if (improvementDirection.includes(\"Maximize\")) {\n\t\t\tif (value >= acceptanceLow) {\n\t\t\t\tresult = ValueColor.Good;\n\t\t\t} else if (value >= toleranceLow) {\n\t\t\t\tresult = ValueColor.Neutral;\n\t\t\t} else if (value >= deviationLow) {\n\t\t\t\tresult = ValueColor.Critical;\n\t\t\t} else {\n\t\t\t\tresult = ValueColor.Error;\n\t\t\t}\n\t\t} else if (improvementDirection.includes(\"Target\")) {\n\t\t\tif (value <= acceptanceHigh && value >= acceptanceLow) {\n\t\t\t\tresult = ValueColor.Good;\n\t\t\t} else if ((value >= toleranceLow && value < acceptanceLow) || (value > acceptanceHigh && value <= toleranceHigh)) {\n\t\t\t\tresult = ValueColor.Neutral;\n\t\t\t} else if ((value >= deviationLow && value < toleranceLow) || (value > toleranceHigh && value <= deviationHigh)) {\n\t\t\t\tresult = ValueColor.Critical;\n\t\t\t} else {\n\t\t\t\tresult = ValueColor.Error;\n\t\t\t}\n\t\t}\n\n\t\tif (result === undefined) {\n\t\t\tLog.warning(\"Case not supported, returning the default Value Neutral\");\n\t\t\treturn ValueColor.Neutral;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t_formatDateAndNumberValue(value?: number | string, precision?: number, scale?: number, pattern?: string): string | number | undefined {\n\t\tif (pattern) {\n\t\t\treturn this._getSemanticsValueFormatter(pattern).formatValue(value, \"string\");\n\t\t} else if (!isNaN(value as number)) {\n\t\t\treturn this._getLabelNumberFormatter(precision, scale).format(value as number);\n\t\t}\n\n\t\treturn value;\n\t}\n\n\t_getSemanticsValueFormatter(pattern: string): DateType {\n\t\tif (!this._oDateType) {\n\t\t\tthis._oDateType = new DateType({\n\t\t\t\tstyle: \"short\",\n\t\t\t\tsource: {\n\t\t\t\t\tpattern\n\t\t\t\t}\n\t\t\t} as unknown as { source: object });\n\t\t}\n\n\t\treturn this._oDateType;\n\t}\n\n\t_getLabelNumberFormatter(precision?: number, scale?: number): NumberFormat {\n\t\treturn NumberFormat.getFloatInstance({\n\t\t\tstyle: \"short\",\n\t\t\tshowScale: true,\n\t\t\tprecision: (typeof precision === \"number\" && precision) || 0,\n\t\t\tdecimals: (typeof scale === \"number\" && scale) || 0\n\t\t});\n\t}\n\n\tgetAccessibilityInfo(): AccessibilityInfo {\n\t\treturn this.microChart?.getAccessibilityInfo();\n\t}\n}\n\nexport default MicroChartContainer;\n"],"mappings":"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","ignoreList":[]}