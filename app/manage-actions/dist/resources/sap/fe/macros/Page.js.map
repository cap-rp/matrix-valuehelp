{"version":3,"file":"Page.js","names":["Page","_dec","defineUI5Class","_dec2","aggregation","type","multiple","isDefault","_dec3","_dec4","property","_dec5","_dec6","_dec7","_class","_class2","_BuildingBlock","idOrSettings","settings","_this","call","this","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_exports","_inheritsLoose","_proto","prototype","onMetadataAvailable","content","createContent","createAvatar","isExpanded","avatarSrc","_jsx","Avatar","class","src","displayShape","AvatarShape","Square","displaySize","AvatarSize","XL","S","createTitle","Title","text","title","createDescription","Label","description","getTitlePart","FlexBox","direction","children","items","ObjectTitle","DynamicPage","id","createId","DynamicPageTitle","expandedHeading","snappedHeading","renderType","actions","header","DynamicPageHeader","map","item","addStyleClass","dependents","CommandExecution","execute","oContext","getBindingContext","oModel","getModel","BusyLocker","lock","getPageController","editFlow","editDocument","finally","unlock","enabled","visible","command","BuildingBlock","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sources":["./Page.tsx"],"sourcesContent":["import DynamicPage from \"sap/f/DynamicPage\";\nimport DynamicPageHeader from \"sap/f/DynamicPageHeader\";\nimport DynamicPageTitle from \"sap/f/DynamicPageTitle\";\nimport type { PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { aggregation, defineUI5Class, property } from \"sap/fe/base/ClassSupport\";\nimport BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport BusyLocker from \"sap/fe/core/controllerextensions/BusyLocker\";\nimport CommandExecution from \"sap/fe/core/controls/CommandExecution\";\nimport ObjectTitle from \"sap/fe/macros/ObjectTitle\";\nimport Avatar from \"sap/m/Avatar\";\nimport AvatarShape from \"sap/m/AvatarShape\";\nimport AvatarSize from \"sap/m/AvatarSize\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport Label from \"sap/m/Label\";\nimport Title from \"sap/m/Title\";\nimport type Control from \"sap/ui/core/Control\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\n\n/**\n * Provides a Page building block that can be used to create a page with a title and content\n * By default, the page comes with an ObjectTitle\n * @public\n */\n@defineUI5Class(\"sap.fe.macros.Page\")\nexport default class Page extends BuildingBlock {\n\t/**\n\t * Content(s) of the page\n\t * @public\n\t */\n\t@aggregation({ type: \"sap.ui.core.Control\", multiple: true, isDefault: true })\n\titems!: Control[];\n\n\t/**\n\t * @private\n\t */\n\t@aggregation({ type: \"sap.ui.core.Control\", multiple: true })\n\tactions!: Control[];\n\n\t/**\n\t * Title of the page\n\t * If title is not given, then we will add a title, avatar and description based on the unqualified HeaderInfo associated to the entity\n\t * @public\n\t */\n\t@property({ type: \"string\" })\n\ttitle?: string;\n\n\t/**\n\t * @private\n\t */\n\t@property({ type: \"boolean\" })\n\teditable = false;\n\n\t/**\n\t * Description of the page. It is considered only if the title property is specified.\n\t * @public\n\t */\n\t@property({ type: \"string\" })\n\tdescription?: string;\n\n\t/**\n\t * Avatar source of the page. It is considered only if the title property is specified.\n\t * @public\n\t */\n\t@property({ type: \"string\" })\n\tavatarSrc?: string;\n\n\tconstructor(idOrSettings: string);\n\n\tconstructor(idOrSettings: PropertiesOf<Page>);\n\n\tconstructor(idOrSettings: string | PropertiesOf<Page>, settings?: PropertiesOf<Page>) {\n\t\tsuper(idOrSettings, settings);\n\t}\n\n\tonMetadataAvailable(): void {\n\t\tthis.content = this.createContent();\n\t}\n\n\tprivate createAvatar(isExpanded: boolean): Avatar | undefined {\n\t\tif (this.avatarSrc) {\n\t\t\treturn (\n\t\t\t\t<Avatar\n\t\t\t\t\tclass=\"sapUiSmallMarginEnd\"\n\t\t\t\t\tsrc={this.avatarSrc}\n\t\t\t\t\tdisplayShape={AvatarShape.Square}\n\t\t\t\t\tdisplaySize={isExpanded ? AvatarSize.XL : AvatarSize.S}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate createTitle(): Title {\n\t\treturn <Title text={this.title} />;\n\t}\n\n\tprivate createDescription(): Label {\n\t\treturn <Label text={this.description} />;\n\t}\n\n\tprivate getTitlePart(): FlexBox | ObjectTitle {\n\t\tif (this.title && this.description) {\n\t\t\treturn <FlexBox direction=\"Column\">{{ items: [this.createTitle(), this.createDescription()] }}</FlexBox>;\n\t\t} else if (this.title) {\n\t\t\treturn <FlexBox direction=\"Column\">{{ items: [this.createTitle()] }}</FlexBox>;\n\t\t} else {\n\t\t\treturn <ObjectTitle />;\n\t\t}\n\t}\n\n\tprivate createContent(): DynamicPage {\n\t\treturn (\n\t\t\t<DynamicPage id={this.createId(\"page\")}>\n\t\t\t\t{{\n\t\t\t\t\ttitle: (\n\t\t\t\t\t\t<DynamicPageTitle id={this.createId(\"title\")}>\n\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\texpandedHeading: this.getTitlePart(),\n\t\t\t\t\t\t\t\tsnappedHeading: (\n\t\t\t\t\t\t\t\t\t<FlexBox renderType=\"Bare\">{{ items: [this.createAvatar(false), this.getTitlePart()] }}</FlexBox>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tactions: this.actions\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</DynamicPageTitle>\n\t\t\t\t\t),\n\t\t\t\t\theader: <DynamicPageHeader>{this.createAvatar(true)}</DynamicPageHeader>,\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<FlexBox id={this.createId(\"content\")} direction=\"Column\">\n\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\titems: this.items.map((item) => {\n\t\t\t\t\t\t\t\t\titem.addStyleClass(\"sapUiMediumMarginBottom\");\n\t\t\t\t\t\t\t\t\treturn item;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t),\n\t\t\t\t\tdependents: [\n\t\t\t\t\t\t<CommandExecution\n\t\t\t\t\t\t\texecute={(): void => {\n\t\t\t\t\t\t\t\tconst oContext = this.getBindingContext() as Context;\n\t\t\t\t\t\t\t\tconst oModel = this.getModel(\"ui\")!;\n\t\t\t\t\t\t\t\tBusyLocker.lock(oModel);\n\t\t\t\t\t\t\t\tthis.getPageController()\n\t\t\t\t\t\t\t\t\t?.editFlow?.editDocument(oContext)\n\t\t\t\t\t\t\t\t\t.finally(function () {\n\t\t\t\t\t\t\t\t\t\tBusyLocker.unlock(oModel);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tenabled={true}\n\t\t\t\t\t\t\tvisible={true}\n\t\t\t\t\t\t\tcommand=\"Edit\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t]\n\t\t\t\t}}\n\t\t\t</DynamicPage>\n\t\t);\n\t}\n}\n"],"mappings":"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","ignoreList":[]}