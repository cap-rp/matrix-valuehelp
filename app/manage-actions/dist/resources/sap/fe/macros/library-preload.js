//@ui5-bundle sap/fe/macros/library-preload.js
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ActionCommand", ["sap/fe/base/BindingToolkit","sap/fe/core/controls/CommandExecution","sap/fe/base/jsx-runtime/jsx"],function(e,n,i){"use strict";var o={};var a=e.resolveBindingString;function s(e,o,s){let t;let d;const l=o.visible?a(o.visible,"boolean"):undefined;const c=o.enabled?a(o.enabled,"boolean"):undefined;switch(o.type){case"ForAction":t=s.onExecuteAction;d=s.isActionEnabled!==undefined?a(s.isActionEnabled,"boolean"):c;break;case"ForNavigation":t=s.onExecuteIBN;d=s.isIBNEnabled!==undefined?a(s.isIBNEnabled,"boolean"):c;break;default:t=s.onExecuteManifest;d=s.isEnabled!==undefined?a(s.isEnabled,"boolean"):c}return i(n,{"core:require":"{FPM: 'sap/fe/core/helpers/FPMHelper'}",execute:t,enabled:d,visible:s.visible??l,command:e??o.command})}o.getCommandExecutionForAction=s;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/Chart", ["sap/base/Log","sap/base/util/merge","sap/fe/base/ClassSupport","sap/fe/base/HookSupport","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/StableIdHelper","sap/fe/macros/chart/Action","sap/fe/macros/chart/ChartRuntime","sap/fe/macros/chart/ChartUtils","sap/fe/macros/filter/FilterUtils","sap/fe/navigation/PresentationVariant","sap/ui/core/library","sap/ui/mdc/p13n/StateUtil","sap/ui/model/Filter","./MacroAPI","./chart/MdcChartTemplate","./chart/adapter/ChartPvToStateUtils","./insights/AnalyticalInsightsHelper","./insights/CommonInsightsHelper","./insights/InsightsService","./mdc/adapter/StateHelper"],function(t,e,n,r,a,i,o,l,s,c,u,p,g,h,f,d,y,b,C,m,v){"use strict";var S,P,w,_,A,I,M,V,D,x,z,T,O,E,j,k,H,U,R,F,B,K,N,q,L,$,W,G,J,Q,X,Y,Z,tt,et,nt,rt,at,it,ot,lt,st,ct,ut,pt,gt,ht,ft,dt,yt;function bt(t){return new Promise((e,n)=>{sap.ui.require([t],n=>{if(!(n&&n.__esModule)){n=n===null||!(typeof n==="object"&&t.endsWith("/library"))?{default:n}:n;Object.defineProperty(n,"__esModule",{value:true})}e(n)},t=>{n(t)})})}var Ct={};var mt=m.showInsightsCardPreview;var vt=m.showCollaborationManagerCardPreview;var St=m.getCardManifest;var Pt=C.showGenericErrorMessage;var wt=C.hasInsightActionEnabled;var _t=b.createChartCardParams;var At=d.getMdcChartTemplate;var It=p.TitleLevel;var Mt=i.generate;var Vt=a.getInvolvedDataModelObjects;var Dt=r.controllerExtensionHandler;var xt=n.xmlEventHandler;var zt=n.property;var Tt=n.implementInterface;var Ot=n.event;var Et=n.defineUI5Class;var jt=n.association;var kt=n.aggregation;function Ht(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ut(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Rt(t,e)}function Rt(t,e){return Rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rt(t,e)}function Ft(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(t,e,i),null):i}function Bt(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let Kt=(S=Et("sap.fe.macros.Chart",{returnTypes:["sap.fe.macros.MacroAPI"]}),P=Tt("sap.fe.core.controllerextensions.viewState.IViewStateContributor"),w=Tt("sap.fe.macros.controls.section.ISingleSectionContributor"),_=zt({type:"string"}),A=zt({type:"string",required:true,expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"],expectedAnnotations:["com.sap.vocabularies.UI.v1.Chart","com.sap.vocabularies.UI.v1.PresentationVariant","com.sap.vocabularies.UI.v1.SelectionPresentationVariant"]}),I=zt({type:"string",required:true,expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"],expectedAnnotations:[]}),M=zt({type:"string"}),V=zt({type:"boolean",defaultValue:true}),D=zt({type:"string",defaultValue:"Multiple",allowedValues:["None","Single","Multiple"]}),x=zt({type:"string",allowedValues:["Control"]}),z=zt({type:"string",defaultValue:true}),T=zt({type:"string"}),O=zt({type:"object"}),E=zt({type:"boolean"}),j=zt({type:"string"}),k=jt({type:"sap.ui.core.Control"}),H=kt({type:"sap.ui.core.LayoutData"}),U=kt({type:"sap.fe.macros.chart.Action",altTypes:["sap.fe.macros.chart.ActionGroup"],multiple:true,defaultClass:o}),R=Ot(),F=Ot(),B=Ot(),K=Ot(),N=Ot(),q=xt(),L=xt(),$=Dt("collaborationManager","collectAvailableCards"),S(W=(G=function(n){function r(t,e){var r;if(t?._applyIdToContent){t.id=Mt([t.id,"::Chart"])}r=n.call(this,t,e)||this;Ht(r,"__implements__sap_fe_core_controllerextensions_viewState_IViewStateContributor",J,r);Ht(r,"__implements__sap_fe_macros_controls_section_ISingleSectionContributor",Q,r);Ht(r,"id",X,r);Ht(r,"metaPath",Y,r);Ht(r,"contextPath",Z,r);Ht(r,"header",tt,r);Ht(r,"headerVisible",et,r);Ht(r,"selectionMode",nt,r);Ht(r,"variantManagement",rt,r);Ht(r,"personalization",at,r);Ht(r,"headerLevel",it,r);Ht(r,"chartDelegate",ot,r);Ht(r,"_applyIdToContent",lt,r);Ht(r,"noDataText",st,r);r.prevDrillStack=[];r.initialControlState={};r.chartActions=[];r._commandActions=[];Ht(r,"filterBar",ct,r);Ht(r,"layoutData",ut,r);Ht(r,"actions",pt,r);Ht(r,"selectionChange",gt,r);Ht(r,"internalDataRequested",ht,r);Ht(r,"variantSelected",ft,r);Ht(r,"variantSaved",dt,r);Ht(r,"segmentedButtonPressed",yt,r);return r}Ct=r;Ut(r,n);var a=r.prototype;a.getSectionContentRole=function t(){return"consumer"};a.sendDataToConsumer=function t(e){this.content?.setHeader(e.title);this.content?.setHeaderStyle("H4");this.content?.setHeaderLevel(e.titleLevel)};a.getSelectedContexts=function t(){return this.content?.getBindingContext("internal")?.getProperty("selectedContexts")||[]};a.isA=function t(e){const r="sap.fe.macros.chart.ChartAPI";if(Array.isArray(e)&&e.includes(r)||e===r)return true;return n.prototype.isA.call(this,e)};a.onMetadataAvailable=function t(){if(!this.content){this.content=this.createContent()}};a.onAfterRendering=function t(e){const r=this.getPageController()?.getView();const a=r?.getBindingContext("internal");const i=this.getContent();const o=a?.getProperty("controls/showMessageStrip")||{};const l=i.data("entitySet"),s=`${l}Chart`,c=r?.getBindingContext();o[s]=i.data("draftSupported")==="true"&&!!c&&!c.getObject("IsActiveEntity");a.setProperty("controls/showMessageStrip",o);this.attachStateChangeHandler();n.prototype.onAfterRendering.call(this,e)};a.attachStateChangeHandler=function t(){g.detachStateChange(this.stateChangeHandler);g.attachStateChange(this.stateChangeHandler)};a.stateChangeHandler=function t(e){const n=e.getParameter("control");if(n.isA("sap.ui.mdc.Chart")){const t=n.getParent();if(t?.handleStateChange){t.handleStateChange()}}};a.refreshNotApplicableFields=function t(e){const n=this.getContent();return c.getNotApplicableFilters(e,n)};a.handleSelectionChange=function t(n){const r=n.getParameter("data");const a=n.getParameter("name")==="selectData";l.fnUpdateChart(n);this.fireEvent("selectionChange",e({},{data:r,selected:a}))};a.onInternalDataRequested=function t(){this.fireEvent("internalDataRequested")};a.collectAvailableCards=async function t(e){const n=this.content.getActions();if(wt(n,this.content.getFilter())){const t=await this.getCardManifestChart();if(Object.keys(t).length>0){e.push({card:t,title:this.getChartControl().getHeader(),callback:this.onAddCardToCollaborationManagerCallback.bind(this)})}}};a.hasSelections=function e(){const n=this.content;if(n){try{const t=n.getControlDelegate()?.getInnerChart(n);if(t){const e=s.getDimensionsFromDrillStack(t);const r=e.length>this.prevDrillStack.length;const a=e.length<this.prevDrillStack.length;const i=e.toString()===this.prevDrillStack.toString();let o;if(a&&e.length===1){o=s.getChartSelections(n,true)}else{o=s.getChartSelections(n)}if(r||a){this.prevDrillStack=e;return o.length>0}else if(i){return o.length>0}}}catch(e){t.error(`Error while checking for selections in Chart: ${e}`)}}return false};a.onAddCardToInsightsPressed=async function e(){try{const t=await _t(this);if(t){mt(t);return}}catch(e){Pt(this.content);t.error(e)}};a.getCardManifestChart=async function t(){const e=await _t(this);return St(e)};a.onAddCardToCollaborationManagerCallback=async function e(n){try{if(n){await vt(n,this.getPageController()?.collaborationManager.getService());return}}catch(e){Pt(this.content);t.error(e)}};a.getFilter=function t(){const e=s.getAllFilterInfo(this.content);if(e.filters.length){e.filters.forEach(t=>{if(t.getPath()){t.sPath=this.getChartPropertiesWithoutPrefixes(t.getPath())}});return new h({filters:e.filters,and:true})}return undefined};a.getChartControl=function t(){return this.content};a.getPropertyDataModel=function t(e){const n=this.content.data("targetCollectionPath");const r=this.content.getModel().getMetaModel();const a=r.createBindingContext(`${n}/${e}`);return Vt(a)};a.getChartPropertiesWithoutPrefixes=function t(e){if(e&&e.includes("fe_groupable")){e=this.getInternalChartNameFromPropertyNameAndKind(e,"groupable")}else if(e&&e.includes("fe_aggregatable")){e=this.getInternalChartNameFromPropertyNameAndKind(e,"aggregatable")}return e};a.getInternalChartNameFromPropertyNameAndKind=function t(e,n){return e.replace("_fe_"+n+"_","")};a._convertStateUtilToPresentationVariant=function t(e){const n=e.sorters?.map(t=>({Property:this.getChartPropertiesWithoutPrefixes(t.name),Descending:t.descending}));const r=e.supplementaryConfig?.properties?.chartType;const a=r?r.charAt(0).toUpperCase()+r.slice(1):undefined;const i="com.sap.vocabularies.UI.v1.ChartType/"+a;const o=[],l=[],s=[],c=[];(e.items??[]).forEach(t=>{t.name=this.getChartPropertiesWithoutPrefixes(t.name);const e=t.role?.length?t.role.substring(0,1).toUpperCase()+t.role?.substring(1,t.role.length):undefined;if(t.role==="category"||t.role==="series"||t.role==="category2"){o.push(t.name);s.push({Dimension:t.name,Role:`com.sap.vocabularies.UI.v1.ChartDimensionRoleType/${e}`})}else{l.push(t.name);c.push({Measure:t.name,Role:"com.sap.vocabularies.UI.v1.ChartDimensionRoleType/"+e})}});const p={Content:{ChartType:i,DimensionAttributes:s,Dimensions:o,MeasureAttributes:c,Measures:l},Type:"Chart"};const g=new u;g.setChartVisualization(p);g.setProperties({SortOrder:n??[]});return g};a.getPresentationVariant=async function e(){try{const t=await g.retrieveExternalState(this.content);return this._convertStateUtilToPresentationVariant(t)}catch(e){const n=this.getId();const r=e instanceof Error?e.message:String(e);t.error(`Chart Building Block (${n}) - get presentation variant failed : ${r}`);throw Error(r)}};a.setPresentationVariant=async function e(n){try{const t=this.content;const e=await this.getPresentationVariant();const r=await(t.getControlDelegate()?.fetchProperties(t));const a=y.convertPvToStateUtilPv(n,e,r);await g.applyExternalState(t,a)}catch(e){const n=e instanceof Error?e.message:String(e);t.error(`FE: Chart Building Block setPresentationVariant API failed with error: ${n}`);throw Error(n)}};a.getCurrentVariantKey=function t(){return this.content.getVariant().getCurrentVariantKey()};a.setCurrentVariantKey=function t(e){const n=this.content.getVariant();n.setCurrentVariantKey(e)};a.getSelectionVariant=async function t(){return v.getSelectionVariant(this.content)};a.setSelectionVariant=async function t(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return v.setSelectionVariantToMdcControl(this.getContent(),e,n)};a.getControlState=function t(e){const n=this.initialControlState;if(e){return{fullState:e,initialState:n}}return e};a.setInitialState=async function e(){try{const t=await g.retrieveExternalState(this.content);this.initialControlState=t}catch(e){t.error(e)}};a.retrieveState=async function t(){const e={};e.innerChart=this.getControlState(await g.retrieveExternalState(this.content));const n=this.content.getVariant()?.getId();if(n){const t=this.content.getVariant();if(!e.variantManagement){e.variantManagement={variantId:t?.getCurrentVariantKey()}}else{e.variantManagement.variantId=t?.getCurrentVariantKey()}}return e};a.applyLegacyState=async function t(e,n,r){const a=this.content;const i=a.getVariant();const o=e(a);const l=i?e(i):null;const s={};if(o){s.innerChart={...s.innerChart,...o,fullState:{...s.innerChart?.fullState,...o.fullState},initialState:{...s.innerChart?.initialState,...o.initialState}}}if(l?.variantId){s.variantManagement={...s.variantManagement,variantId:l.variantId.toString()}}if(s&&Object.keys(s).length>0){await this.applyState(s,n,r)}};a.applyState=async function e(n,r,a){if(!n)return;const i=n.variantManagement?.variantId;const o=this.content?.getVariant();if(i!==undefined&&i!==o.getCurrentVariantKey()){const e=this.content?.getVariant();const n=e?.getVariants();const r=n?.some(t=>t.getKey()===i)?i:e?.getStandardVariantKey;try{const t=(await bt("sap/ui/fl/apply/api/ControlVariantApplyAPI")).default;await t.activateVariant({element:e,variantReference:r});await this.setInitialState()}catch(e){t.error(e);await this.setInitialState()}}else{await this.setInitialState()}const l=n.innerChart;let s;if(l){if(a&&l.initialState){s=await g.diffState(this.content,l.initialState,l.fullState)}else{s=l.fullState}await g.applyExternalState(this.content,s)}};a.handleStateChange=function t(){this.getPageController()?.getExtensionAPI().updateAppState()};a._createContent=function t(){const e=this._getOwner();if(e?.isA("sap.fe.core.TemplateComponent")){this.content.setFilter("");this.content.destroy();this.content=this.createContent()}};a.setProperty=function t(e,r,a){if(!this._applyingSettings&&r!==undefined&&Object.keys(this.getMetadata().getProperties()).includes(e)){n.prototype.setProperty.call(this,e,r,true);this._createContent()}else{n.prototype.setProperty.call(this,e,r,a)}return this};a.removeAggregation=function t(e,r,a){let i;if(!this._applyingSettings&&r!==undefined&&Object.keys(this.getMetadata().getAggregations()).includes(e)){i=n.prototype.removeAggregation.call(this,e,r,a);this._createContent()}else{i=n.prototype.removeAggregation.call(this,e,r,a)}return i};a.addAggregation=function t(e,r,a){if(!this._applyingSettings&&Object.keys(this.getMetadata().getAggregations()).includes(e)){n.prototype.addAggregation.call(this,e,r,a);this._createContent()}else{n.prototype.addAggregation.call(this,e,r,a)}return this};a.insertAggregation=function t(e,r,a,i){if(!this._applyingSettings&&Object.keys(this.getMetadata().getAggregations()).includes(e)){n.prototype.insertAggregation.call(this,e,r,a,i);this._createContent()}else{n.prototype.insertAggregation.call(this,e,r,a,i)}return this};a.createContent=function t(){if(this.contextPath){this._resolvedContextPath=this.contextPath.endsWith("/")?this.contextPath:this.contextPath+"/"}return At(this,this._getOwner()?.getRootController()?.getView().getViewData()??this._getOwner()?.getViewData(),this.getAppComponent()?.getDiagnostics()??{},this.getDataModelObjectForMetaPath(this.metaPath,this._resolvedContextPath))};return r}(f),J=Ft(G.prototype,"__implements__sap_fe_core_controllerextensions_viewState_IViewStateContributor",[P],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),Q=Ft(G.prototype,"__implements__sap_fe_macros_controls_section_ISingleSectionContributor",[w],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),X=Ft(G.prototype,"id",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),Y=Ft(G.prototype,"metaPath",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),Z=Ft(G.prototype,"contextPath",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),tt=Ft(G.prototype,"header",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),et=Ft(G.prototype,"headerVisible",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),nt=Ft(G.prototype,"selectionMode",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),rt=Ft(G.prototype,"variantManagement",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),at=Ft(G.prototype,"personalization",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),it=Ft(G.prototype,"headerLevel",[T],{configurable:true,enumerable:true,writable:true,initializer:function(){return It.Auto}}),ot=Ft(G.prototype,"chartDelegate",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),lt=Ft(G.prototype,"_applyIdToContent",[E],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),st=Ft(G.prototype,"noDataText",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),ct=Ft(G.prototype,"filterBar",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),ut=Ft(G.prototype,"layoutData",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),pt=Ft(G.prototype,"actions",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),gt=Ft(G.prototype,"selectionChange",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),ht=Ft(G.prototype,"internalDataRequested",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),ft=Ft(G.prototype,"variantSelected",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),dt=Ft(G.prototype,"variantSaved",[K],{configurable:true,enumerable:true,writable:true,initializer:null}),yt=Ft(G.prototype,"segmentedButtonPressed",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),Ft(G.prototype,"handleSelectionChange",[q],Object.getOwnPropertyDescriptor(G.prototype,"handleSelectionChange"),G.prototype),Ft(G.prototype,"onInternalDataRequested",[L],Object.getOwnPropertyDescriptor(G.prototype,"onInternalDataRequested"),G.prototype),Ft(G.prototype,"collectAvailableCards",[$],Object.getOwnPropertyDescriptor(G.prototype,"collectAvailableCards"),G.prototype),G))||W);Ct=Kt;return Ct},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/CollectionBindingInfo", ["sap/base/util/deepClone","sap/ui/model/Filter"],function(n,t){"use strict";var i={};let e=function(){function e(n){this.collectionBindingInfo=n}i=e;var o=e.prototype;o.cloneFiltersContent=function n(i){const e={path:i.getPath(),operator:i.getOperator(),value1:i.getValue1(),value2:i.getValue2(),variable:i.getVariable(),condition:i.getCondition(),and:i.isAnd(),caseSensitive:i.isCaseSensitive()};const o=i.getTest();if(o!==undefined){e.test=o}const s=i.getComparator();if(s!==undefined){e.comparator=s}const l=i.getFilters();const c=l?.map(n=>this.cloneFiltersContent(n));if(c){e.filters=c}return new t(e)};o.getFilters=function n(){if(this.collectionBindingInfo.filters){return this.cloneFiltersContent(this.collectionBindingInfo.filters)}return undefined};o.addFilter=function n(i){const e=this.collectionBindingInfo.filters?[this.collectionBindingInfo.filters]:[];e.push(i);this.collectionBindingInfo.filters=new t(e,true)};o.getSorters=function n(){return this.collectionBindingInfo.sorter};o.addSelect=function n(t){const i=t.toString();if(this.collectionBindingInfo.parameters?.$select){this.collectionBindingInfo.parameters.$select=this.collectionBindingInfo.parameters.$select+","+i}else{this.collectionBindingInfo.parameters??={};this.collectionBindingInfo.parameters.$select=i}};o.getBindingInfo=function t(){const i={...this.collectionBindingInfo};if(this.collectionBindingInfo.events){i.events=n(this.collectionBindingInfo.events)}if(this.collectionBindingInfo.filters){i.filters=this.cloneFiltersContent(this.collectionBindingInfo.filters)}if(this.collectionBindingInfo.parameters){n(this.collectionBindingInfo.parameters)}return i};o.addSorter=function n(t){if(!this.collectionBindingInfo.sorter){this.collectionBindingInfo.sorter=[t]}else{this.collectionBindingInfo.sorter.push(t)}};return e}();i=e;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/CommonHelper", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/macros/filterBar/DefaultSemanticDateOperators","sap/fe/macros/filterBar/ExtendedSemanticDateOperators","sap/fe/macros/filterBar/SemanticDateOperators","sap/m/library","sap/ui/Device","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/enums/FieldEditMode","sap/ui/mdc/odata/v4/TypeMap","sap/ui/model/Context","sap/ui/model/odata/v4/AnnotationHelper"],function(t,e,n,r,i,o,a,s,c,l,u,f,g,d,p,m,h){"use strict";var b=o.isPropertyFilterable;var $=i.convertTypes;var P=r.aiIcon;var O=e.ref;var y=e.pathInModel;var M=e.notEqual;var v=e.ifElse;var E=e.fn;var C=e.equal;var D=e.constant;var T=e.compileExpression;function N(t,e){return t.filter(function(t){return e.includes(t)})}function S(t){const e=p.getDataTypeClassName(t);const n=p.getBaseType(e,{},{});return g.getOperatorsForType(n)}const j=u.ValueColor;const x={getPathToKey:function(t){return t.getObject()},getParameterEditMode:function(t,e){const n=e.context.getModel(),r=e.context.getPath(),i=n.getObject(`${r}@`),o=i["@com.sap.vocabularies.Common.v1.FieldControl"],a=i["@Org.OData.Core.V1.Immutable"],s=i["@Org.OData.Core.V1.Computed"];let c=d.Editable;if(a||s){c=d.ReadOnly}else if(o){if(o.$EnumMember){if(o.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/ReadOnly"){c=d.ReadOnly}if(o.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Inapplicable"||o.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Hidden"){c=d.Disabled}}if(o.$Path){c="{= %{"+o.$Path+"} < 3 ? (%{"+o.$Path+"} === 0 ? '"+d.Disabled+"' : '"+d.ReadOnly+"') : '"+d.Editable+"'}"}}return c},getMetaPath:function(t,e){return e&&e.context&&e.context.getPath()||undefined},getMetaModelId:function(t,e){$(e.context.getModel());return e.context.getModel().getId()},isDesktop:function(){return f.system.desktop===true},getTargetCollectionPath:function(t,e){let n=t.getPath();if(t.getObject("$kind")==="EntitySet"||t.getObject("$ContainsTarget")===true){return n}const r=t.getModel();const i=r.isA("sap.ui.model.odata.v4.ODataMetaModel")?r:r.getMetaModel();n=i.getMetaPath(n);const o=n.split("/").filter(function(t){return!!t&&t!="$Type"});const a=`/${o[0]}`;if(o.length===1){return a}const s=e===undefined?o.slice(1).join("/$NavigationPropertyBinding/"):e;return`${a}/$NavigationPropertyBinding/${s}`},isPropertyFilterable:function(t,e,n){const r=t.getModel(),i=t.getPath(),o=x.getLocationForPropertyPath(r,i),a=i.replace(`${o}/`,"");if(e&&(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")){return false}return b(r,o,a,n)},getLocationForPropertyPath:function(t,e){let n;let r=e.slice(0,e.lastIndexOf("/"));if(t.getObject(`${r}/$kind`)==="EntityContainer"){n=r.length+1;r=e.slice(n,e.indexOf("/",n))}return r},gotoActionParameter:function(t){const e=t.getPath(),r=t.getObject(`${e}/$Name`);return n.getParameterPath(e,r)},getEntitySetName:function(t,e){const n=t.getObject("/");for(const t in n){if(typeof n[t]==="object"&&n[t].$Type===e){return t}}return undefined},getActionPath:function(t,e,n,r){let i=t.getPath().split("/@")[0];n=!n?t.getObject(t.getPath()):n;if(n&&n.includes("(")){n=n.split("(")[0]}else if(t.getObject(i)){const e=t.getObject(i).$Type;const n=this.getEntitySetName(t.getModel(),e);if(n){i=`/${n}`}}else{return i}if(r){return t.getObject(`${i}/${n}@Org.OData.Core.V1.OperationAvailable`)}if(e){return`${i}/${n}`}else{return{sContextPath:i,sProperty:t.getObject(`${i}/${n}@Org.OData.Core.V1.OperationAvailable/$Path`),sBindingParameter:t.getObject(`${i}/${n}/@$ui5.overload/0/$Parameter/0/$Name`)}}},getNavigationContext:function(t){return h.getNavigationPath(t.getPath())},getNavigationPath:function(t,e){const n=t.startsWith("/");const r=t.split("/").filter(function(t){return!!t});if(n){r.shift()}if(!e){r.pop()}return r.join("/")},getActionContext:function(t){return x.getActionPath(t,true)},getPathToBoundActionOverload:function(t){const e=x.getActionPath(t,true);return`${e}/@$ui5.overload/0`},addSingleQuotes:function(t,e){if(e&&t){t=this.escapeSingleQuotes(t)}return`'${t}'`},escapeSingleQuotes:function(t){return t.replace(/[']/g,"\\'")},generateFunction:function(t){let e="";for(let t=0;t<(arguments.length<=1?0:arguments.length-1);t++){e+=t+1<1||arguments.length<=t+1?undefined:arguments[t+1];if(t<(arguments.length<=1?0:arguments.length-1)-1){e+=", "}}let n=`${t}()`;if(e){n=`${t}(${e})`}return n},getHeaderDataPointLinkVisibility:function(t,e){return T(v(D(e),C(y(`isHeaderDPLinkVisible/${t}`,"internal"),true),M(y(`isHeaderDPLinkVisible/${t}`,"internal"),true)))},objectToString:function(t){let e=Object.keys(t).length,n="";for(const r in t){let i=t[r];if(i&&typeof i==="object"){i=this.objectToString(i)}n+=`${r}: ${i}`;if(e>1){--e;n+=", "}}return`{ ${n}}`},removeEscapeCharacters:function(t){return t?t.replace(/\\?\\([{}])/g,"$1"):undefined},stringifyObject:function(e){if(!e||e==="{}"){return undefined}else{const n=JSON.parse(e);if(typeof n==="object"&&!Array.isArray(n)){const t={ui5object:true};Object.assign(t,n);return JSON.stringify(t)}else{const e=Array.isArray(n)?"Array":typeof n;t.error(`Unexpected object type in stringifyObject (${e}) - only works with object`);throw new Error("stringifyObject only works with objects!")}}},stringifyCustomData:function(t){const e={ui5object:true};e["customData"]=t instanceof m?t.getObject():t;return JSON.stringify(e)},parseCustomData:function(t){t=typeof t==="string"?JSON.parse(t):t;if(t&&t.hasOwnProperty("customData")){return t["customData"]}return t},getContextPath:function(t,e){const n=e&&e.context&&e.context.getPath();return n[n.length-1]==="/"?n.slice(0,-1):n},getSortConditions:function(t,e,n){if(e&&x._isPresentationVariantAnnotation(n)&&e.SortOrder){const n={sorters:[]};const r=t.getPath(0).split("@")[0];e.SortOrder.forEach(function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let i;const o={};if(e.DynamicProperty){i=t.getModel(0).getObject(r+e.DynamicProperty.$AnnotationPath)?.Name}else if(e.Property){i=e.Property.$PropertyPath}if(i){o.name=i;o.descending=!!e.Descending;n.sorters.push(o)}else{throw new Error("Please define the right path to the sort property")}});return JSON.stringify(n)}return undefined},_isPresentationVariantAnnotation:function(t){return t.includes(`@${"com.sap.vocabularies.UI.v1.PresentationVariant"}`)||t.includes(`@${"com.sap.vocabularies.UI.v1.SelectionPresentationVariant"}`)},createPresentationPathContext:function(t){const e=t.getPath().split("@")||[];const n=t.getModel();if(e.length&&e[e.length-1].includes("com.sap.vocabularies.UI.v1.SelectionPresentationVariant")){const e=t.getPath().split("/PresentationVariant")[0];return n.createBindingContext(`${e}@sapui.name`)}return n.createBindingContext(`${t.getPath()}@sapui.name`)},getPressHandlerForDataFieldForIBN:function(t,e,n){let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(!t)return undefined;const i={navigationContexts:e?e:"${$source>/}.getBindingContext()"};if(t.RequiresContext&&!t.Inline&&n){const e=!r?"aApplicable":"aApplicableForContextMenu";const n=!r?"aNotApplicable":"aNotApplicableForContextMenu";i.applicableContexts=`\${internal>ibn/${t.SemanticObject}-${t.Action}/${e}/}`;i.notApplicableContexts=`\${internal>ibn/${t.SemanticObject}-${t.Action}/${n}/}`;i.label=this.addSingleQuotes(t.Label,true)}if(t.Mapping){i.semanticObjectMapping=this.addSingleQuotes(JSON.stringify(t.Mapping))}return this.generateFunction(n?"._intentBasedNavigation.navigateWithConfirmationDialog":"._intentBasedNavigation.navigate",this.addSingleQuotes(t.SemanticObject),this.addSingleQuotes(t.Action),this.objectToString(i),"${$source>/}")},getEntitySet:function(t){const e=t.getPath();return a.getEntitySetPath(e)},getCriticalityCalculationBinding:function(e,n,r,i,o,a,s,c){let l=j.Neutral;n=`%${n}`;r=r||-Infinity;i=i||r;o=o||i;c=c||Infinity;s=s||c;a=a||s;r=r&&(+r?+r:`%${r}`);i=i&&(+i?+i:`%${i}`);o=o&&(+o?+o:`%${o}`);a=a&&(+a?+a:`%${a}`);s=s&&(+s?+s:`%${s}`);c=c&&(+c?+c:`%${c}`);if(e.includes("Minimize")){l="{= "+n+" <= "+a+" ? '"+j.Good+"' : "+n+" <= "+s+" ? '"+j.Neutral+"' : "+"("+c+" && "+n+" <= "+c+") ? '"+j.Critical+"' : '"+j.Error+"' }"}else if(e.includes("Maximize")){l="{= "+n+" >= "+o+" ? '"+j.Good+"' : "+n+" >= "+i+" ? '"+j.Neutral+"' : "+"("+r+" && "+n+" >= "+r+") ? '"+j.Critical+"' : '"+j.Error+"' }"}else if(e.includes("Target")){l="{= ("+n+" <= "+a+" && "+n+" >= "+o+") ? '"+j.Good+"' : "+"(("+n+" >= "+i+" && "+n+" < "+o+") || ("+n+" > "+a+" && "+n+" <= "+s+")) ? '"+j.Neutral+"' : "+"(("+r+" && ("+n+" >= "+r+") && ("+n+" < "+i+")) || (("+n+" > "+s+") && "+c+" && ("+n+" <= "+c+"))) ? '"+j.Critical+"' : '"+j.Error+"' }"}else{t.warning("Case not supported, returning the default Value Neutral")}return l},getMeasureAttributeIndex:function(t,e,n){let r,i;if(e?.Measures?.length&&e?.Measures?.length>0){r=e.Measures;i=n?r[t].value:r[t].$PropertyPath}else if(e?.DynamicMeasures?.length&&e?.DynamicMeasures?.length>0){r=e.DynamicMeasures;i=r?.[t].$AnnotationPath}let o;const a=e.MeasureAttributes;let s=-1;const c=function(t,e,r){if(e){const i=n?e.Measure?.value:e.Measure?.$PropertyPath;if(e.Measure&&i===t){s=r;return true}else if(e.DynamicMeasure&&e?.DynamicMeasure?.$AnnotationPath===t){s=r;return true}}return false};if(a){o=a.some(c.bind(null,i))}return o&&s>-1?s:-1},getMeasureAttribute:async function(e){const n=e.getModel(),r=e.getPath();return n.requestObject(r).then(function(e){const n=e.MeasureAttributes,i=x.getMeasureAttributeIndex(0,e);const o=i>-1&&n?.[i]&&n[i].DataPoint?`${r}/MeasureAttributes/${i}/`:undefined;if(o===undefined){t.warning("DataPoint missing for the measure")}return o?`${o}DataPoint/$AnnotationPath/`:o})},getMeasureAttributeForMeasure:function(e){const n=e.getModel(),r=e.getPath(),i=r.substring(0,r.lastIndexOf("Measure")),o=r.replace(/.*\//,"");const a=n.getObject(i);const s=a.MeasureAttributes,c=x.getMeasureAttributeIndex(o,a);const l=c>-1&&s[c]&&s[c].DataPoint?`${i}MeasureAttributes/${c}/`:undefined;if(l===undefined){t.warning("DataPoint missing for the measure")}return l?`${l}DataPoint/$AnnotationPath/`:l},isDraftParentEntityForContainment:function(t,e){if(t){if(e&&e.parentEntitySet&&e.parentEntitySet.sPath){const t=e.parentEntitySet.sPath;const n=e.parentEntitySet.oModel.getObject(`${t}@com.sap.vocabularies.Common.v1.DraftRoot`);const r=e.parentEntitySet.oModel.getObject(`${t}@com.sap.vocabularies.Common.v1.DraftNode`);if(n||r){return true}else{return false}}}return false},getDataFromTemplate:function(t){const e=t.getPath().split("/");const n=e[e.length-1];const r=`/${e.slice(1,-2).join("/")}/@`;const i=t.getObject(r);const o=i.Template;const a=o.split("}");const s=[];for(let t=0;t<a.length-1;t++){const e=a[t].split("{")[1].trim();s.push(e)}Object.keys(i.Data).forEach(function(t){if(t.startsWith("$")){delete i.Data[t]}});const c=Object.keys(i.Data).indexOf(n);return`/${e.slice(1,-2).join("/")}/Data/${s[c]}`},notLastIndex:function(t,e){const n=t.Template;const r=n.split("}");const i=[];let o=false;for(let t=0;t<r.length-1;t++){const e=r[t].split("{")[1].trim();i.push(e)}i.forEach(function(n){const r=i.length-1;if(t.Data[n]===e&&i.indexOf(n)<r){o=true}});return o},getDelimiter:function(t){return t.split("}")[1].split("{")[0].trim()},oMetaModel:undefined,setMetaModel:function(t){this.oMetaModel=t},getMetaModel:function(){return this.oMetaModel},getParameters:function(t,e){if(e){const r=n.getParameterInfo(e,t);if(r.parameterProperties){return Object.keys(r.parameterProperties)}}return[]},buildActionWrapper:function(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const r=[O("$event"),t.handlerModule,t.handlerMethod];if(e&&e.id){const t=!n?"${internal>selectedContexts}":"${internal>contextmenu/selectedContexts}";const e={contexts:O(t)};r.push(e)}return T(E("FPM.actionWrapper",r))},getHiddenPathExpression:function(t){if(t["@com.sap.vocabularies.UI.v1.Hidden"]!==null){const e=t["@com.sap.vocabularies.UI.v1.Hidden"];return typeof e==="object"?"{= !${"+e.$Path+"} }":!e}return true},getOperatorsForProperty:function(t,e,r,i,o,a){const u=n.getFilterRestrictionsByPath(e,r);const f=["EQ"];const g=["EQ","GE","LE","LT","GT","BT","NOTLE","NOTLT","NOTGE","NOTGT"];const d=["EQ","BT"];const p=["EQ","GE","LE","LT","GT","BT","NE","NOTBT","NOTLE","NOTLT","NOTGE","NOTGT"];const m=["Contains","NotContains","StartsWith","NotStartsWith","EndsWith","NotEndsWith"];const h=l.getBasicSemanticDateOperations();const b=o==="true"||o===true;let $=[];const P=a&&typeof a==="string"?JSON.parse(a).customData:a;if(r.getObject(`${e}/@com.sap.vocabularies.Common.v1.ResultContext`)===true){return f}if(P&&P.operatorConfiguration&&P.operatorConfiguration.length>0){$=l.getFilterOperations(P.operatorConfiguration,i)}else{$=s.getSemanticDateOperations(i)}const O=S(i);let y=O;if(b){const t=c.getSemanticDateOperations();y=[...h,...O,...t]}let M=[];if(u&&u.FilterAllowedExpressions&&u.FilterAllowedExpressions[t]){const e=n.getSpecificAllowedExpression(u.FilterAllowedExpressions[t]);switch(e){case"SingleValue":const t=s.getSingleValueDateOperations();const e=i==="Edm.Date"&&b?t:f;M=N(y,e);break;case"MultiValue":const n=[...f,"Empty","NotEmpty"];M=N(y,n);break;case"SingleRange":let r;if(b){if(i==="Edm.Date"){r=$}else if(i==="Edm.DateTimeOffset"){r=$}else{r=g}}else if(i==="Edm.DateTimeOffset"){r=d}else{r=g}const o=N(y,r);M=o;break;case"MultiRange":M=N(y,p);break;case"SearchExpression":M=N(y,m);break;case"MultiRangeOrSearchExpression":M=N(y,m.concat(p));break;default:break}}return M},getOperatorsForDateProperty:function(t){const e=S(t);const n=["EQ","GE","LE","LT","GT","BT","NE","NOTBT","NOTLE","NOTLT","NOTGE","NOTGT"];return N(e,n)},getAIIcon:function(){return P}};x.getSortConditions.requiresIContext=true;return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/DelegateUtil", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyFormatters","sap/fe/core/templating/PropertyHelper","sap/fe/macros/field/FieldHelper","sap/fe/macros/internal/valuehelp/ValueHelpTemplating"],function(e,t,r,a,o,n,s,i,l){"use strict";var c=l.generateID;var u=s.getAssociatedUnitPropertyPath;var p=s.getAssociatedCurrencyPropertyPath;var d=n.getRelativePropertyPath;var f=o.getTargetObjectPath;var g=o.enhanceDataModelPath;var m=a.generate;var h=r.getInvolvedDataModelObjects;const P="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1";function y(){this.control.detachModelContextChange(y,this);const e=this.modelName,t=this.control.getModel(e);if(t){this.resolve(t)}else{this.control.attachModelContextChange(y,this)}}const C={FETCHED_PROPERTIES_DATA_KEY:"sap_fe_ControlDelegate_propertyInfoMap",setCachedProperties(e,t){if(e instanceof window.Element){return}const r=C.FETCHED_PROPERTIES_DATA_KEY;C.setCustomData(e,r,t)},getCachedProperties(e){if(e instanceof window.Element){return undefined}const t=C.FETCHED_PROPERTIES_DATA_KEY;return C.getCustomData(e,t)},async getCustomDataWithModifier(e,t,r){if(!r){return Promise.resolve(C.getCustomData(e,t))}const a=await C.retrieveCustomDataNode(e,t,r);if(a.length===1){return r.getProperty(a[0],"value")}else{return undefined}},getCustomData(e,t){if(e&&t){if(e instanceof window.Element){return e.getAttributeNS(P,t)}if(e.data instanceof Function){return e.data(t)}}return undefined},setCustomData(e,t,r){if(e&&t){if(e instanceof window.Element){return e.setAttributeNS(P,`customData:${t}`,r)}if(e.data instanceof Function){return e.data(t,r)}}},fetchPropertiesForEntity(e,t){return t.requestObject(`${e}/`)},fetchAnnotationsForEntity(e,t){return t.requestObject(`${e}@`)},async fetchModel(e){return new Promise(t=>{const r=e.getDelegate().payload&&e.getDelegate().payload?.modelName,a={modelName:r,control:e,resolve:t};y.call(a)})},async templateControlFragment(e,r,a,o){return t.templateControlFragment(e,r,a,o)},async doesValueHelpExist(e){const t=e.sPropertyName||"";const r=e.sValueHelpType||"";const a=e.oMetaModel;const o=e.oModifier;const n=`${e.sBindingPath}/${t}`;const s=a.createBindingContext(n);let l=i.valueHelpProperty(s);const P=e.sBindingPath&&e.sBindingPath.indexOf("/")===0;if(l.includes("$Path")){l=a.getObject(l)}const y=h(s);if(P&&l.indexOf("/")!==0){const e=p(y.targetObject)||u(y.targetObject);const t=g(y,e);l=f(t)}const C=c(e.flexId,m([o?o.getId(e.oControl):e.oControl.getId(),r]),undefined,d(s.getProperty(n),{context:{getModel:()=>e.oMetaModel,getPath:()=>n}}),d(s.getProperty(l),{context:{getModel:()=>e.oMetaModel,getPath:()=>l}}));return Promise.resolve().then(async function(){if(o){return o.getAggregation(e.oControl,"dependents")}return e.oControl.getAggregation("dependents")}).then(async function(t){if(t){for(const r of t){let t=r;if(o){if(o.getControlType(r)==="sap.fe.macros.ValueHelp"&&await o.getProperty(r,"metaPath")===e.metaPath){return true}else if(o.getControlType(r)==="sap.fe.macros.ValueHelp"&&o.targets!=="xmlTree"){t=r.getContent()}else if(o.getControlType(r)==="sap.ui.mdc.ValueHelp"&&o.targets!=="xmlTree"&&o.getId(t).includes("::FilterFieldValueHelp::")){const a=r.getPayload();if(a?.propertyPath&&a?.propertyPath===e.metaPath){return true}else if(!a?.propertyPath){const e=o.getId(t);const r=e.split("::FilterFieldValueHelp::")[1];const a=C.split("::FilterFieldValueHelp::")[1];if(r===a){return true}}}if(t&&o.getId(t)===C){return true}}else{const e=r;if(e.isA("sap.fe.macros.ValueHelp")){t=e.getContent()}if(t?.getId()===C){return true}}}}return false})},async isValueHelpRequired(t,r){const a=t.sPropertyName||"",o=t.oMetaModel,n=`${t.sBindingPath}/${a}`,s=o.createBindingContext(n),l=i.valueHelpProperty(s,r);return this.getCustomDataWithModifier(t.oControl,"displayModePropertyBinding",t.oModifier).then(async function(e){e=typeof e==="boolean"?e:e==="true";if(e){return false}return Promise.all([o.requestObject(`${l}@com.sap.vocabularies.Common.v1.ValueListWithFixedValues`),o.requestObject(`${l}@com.sap.vocabularies.Common.v1.ValueListReferences`),o.requestObject(`${l}@com.sap.vocabularies.Common.v1.ValueListMapping`),o.requestObject(`${l}@com.sap.vocabularies.Common.v1.ValueList`)])}).then(function(e){if(!Array.isArray(e)){return e}return!!e[0]||!!e[1]||!!e[2]||!!e[3]}).catch(function(t){e.warning("Error while retrieving custom data / value list annotation values",t);return false})},isMultiValue(e){let t=true;if(e.dataType&&e.dataType?.indexOf("Boolean")>0){t=false}return t},async retrieveCustomDataNode(e,t,r){const a=[];const o=await Promise.resolve().then(r.getAggregation.bind(r,e,"customData"));for(const e of o){const o=await r.getProperty(e,"key");if(o===t){a.push(e)}}return a}};return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/EditButton", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/controls/CommandExecution","sap/fe/macros/ai/EasyFillDialog","sap/m/Button","sap/m/Menu","sap/m/MenuButton","sap/m/MenuItem","sap/m/library","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(t,e,i,n,a,r,o,s,l,d,c,u){"use strict";var p,b,f,g,m,h,E;var y={};var v=d.ButtonType;var C=e.property;var x=e.defineUI5Class;var P=t.or;var _=t.not;var w=t.ifElse;var A=t.getExpressionFromAnnotation;var O=t.equal;var j=t.constant;var I=t.compileExpression;var z=t.and;function B(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function T(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,M(t,e)}function M(t,e){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},M(t,e)}function D(t,e,i,n,a){var r={};return Object.keys(n).forEach(function(t){r[t]=n[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(t,e,r),null):r}function F(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let S=(p=x("sap.fe.macros.EditButton"),b=C({type:"string"}),f=C({type:"boolean",bindToState:true}),p(g=(m=function(t){function e(){var e;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}e=t.call(this,...n)||this;B(e,"text",h,e);B(e,"enabled",E,e);return e}y=e;T(e,t);var i=e.prototype;i.onMetadataAvailable=function e(i){t.prototype.onMetadataAvailable.call(this,i);this.content=this.createContent()};i.buildEmphasizedButtonExpression=function t(e){const i=e?.getTarget()?.annotations?.UI?.Identification;const n=i?.filter(t=>t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&t.Criticality)||[];const a=n.length?n.map(t=>{const e=A(t.Criticality);return z(_(O(A(t.annotations?.UI?.Hidden),true)),P(O(e,"UI.CriticalityType/Negative"),O(e,"1"),O(e,1),O(e,"UI.CriticalityType/Positive"),O(e,"3"),O(e,3)))}):[j(false)];return I(w(P(...a),v.Ghost,v.Emphasized))};i._easyEditDocument=async function t(){if(this.getAppComponent()?.getEnvironmentCapabilities().getCapabilities().EasyEdit){const t=this.getPageController();const e=t.getView();if(!this.getPageController()?.getModel("ui").getProperty("/isEditable")){await t.editFlow.editDocument.apply(t.editFlow,[e?.getBindingContext()])}const i=this.getPageController().getOwnerComponent()?.runAsOwner(()=>new a({getEditableFields:this._getEditableFields.bind(this)}));i.open();e?.addDependent(i)}};i._getEditableFields=async function t(){const e=this.getPageController().getView()?.findAggregatedObjects(true,t=>t.isA("sap.fe.macros.Field"));const i={};e.forEach(t=>{const e=t.getMainPropertyRelativePath();if(e){i[e]={isEditable:t.getEditable()}}});return Promise.resolve(i)};i._createId=function t(e){return this.getPageController().getView().createId(e)};i.createContent=function t(){const e=this.getMetaPathObject(this.getOwnerContextPath());if(this.getAppComponent()?.getEnvironmentCapabilities().getCapabilities().EasyEdit){this.getPageController().getView()?.addDependent(c(n,{execute:this._easyEditDocument.bind(this),command:"EasyEdit"}));return c(s,{id:this._createId("fe::StandardAction::EditMenu"),enabled:this.bindState("enabled"),type:this.buildEmphasizedButtonExpression(e),"dt:designtime":"not-adaptable",text:this.text,"jsx:command":"cmd:Edit|defaultAction",buttonMode:"Split",useDefaultActionOnly:"true",children:u(o,{children:[c(l,{id:this._createId("fe::StandardAction::Edit"),icon:"sap-icon://edit",text:"{sap.fe.i18n>C_COMMON_OBJECT_PAGE_EDIT}","jsx:command":"cmd:Edit|press"}),c(l,{id:this._createId("fe::StandardAction::EasyEdit"),icon:"sap-icon://ai","jsx:command":"cmd:EasyEdit|press",text:this.getTranslatedText("C_EASYEDIT_BUTTON")})]})})}else{return c(r,{id:this._createId("fe::StandardAction::Edit"),"dt:designtime":"not-adaptable",text:this.text,type:this.buildEmphasizedButtonExpression(e),"jsx:command":"cmd:Edit|press",enabled:this.bindState("enabled")})}};return e}(i),h=D(m.prototype,"text",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),E=D(m.prototype,"enabled",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||g);y=S;return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/Field", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/field/FieldRuntime","sap/fe/macros/field/FieldTemplating","sap/fe/macros/internal/field/FieldStructure","sap/fe/macros/internal/field/FieldStructureHelper","sap/m/MessageToast","sap/ui/core/LabelEnablement","sap/ui/core/Messaging","sap/ui/core/message/Message","sap/ui/mdc/enums/FieldEditMode","sap/ui/model/json/JSONModel","./MacroAPI","./field/FieldRuntimeHelper","./inlineEdit/InlineEdit"],function(e,t,i,n,r,a,o,l,s,u,d,c,p,g,f,h,b,m,y,v){"use strict";var P,A,C,E,x,I,F,B,O,M,w,S,H,T,z,L,D,j,V,k,_,R,U,W,N,G,q,$,J,Q,K,X,Y,Z,ee,te,ie,ne,re,ae,oe,le,se,ue,de,ce,pe,ge,fe,he,be,me,ye,ve,Pe,Ae,Ce,Ee,xe,Ie,Fe;var Be=d.setUpField;var Oe=s.getDataModelObjectPathForValue;var Me=o.getContextRelativeTargetObjectPath;var we=a.generate;var Se=r.Activity;var He=i.xmlEventHandler;var Te=i.property;var ze=i.mixin;var Le=i.event;var De=i.defineUI5Class;var je=i.association;var Ve=i.aggregation;var ke=t.compileExpression;function _e(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function Re(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ue(e,t)}function Ue(e,t){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ue(e,t)}function We(e,t,i,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function Ne(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let Ge=(P=De("sap.fe.macros.Field",{returnTypes:["sap.fe.core.controls.FormElementWrapper"]}),A=ze(v),C=Te({type:"boolean"}),E=Te({type:"boolean",bindToState:true}),x=Te({type:"string"}),I=Te({type:"string",expectedAnnotations:[],expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty","Property"]}),F=Te({type:"boolean"}),B=Te({type:"string",expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"]}),O=Le(),M=Le(),w=Le(),S=je({type:"string"}),H=je({type:"string"}),T=Te({type:"boolean"}),z=Ve({type:"sap.fe.macros.field.FieldFormatOptions"}),L=je({type:"string"}),D=Te({type:"sap.ui.mdc.enums.FieldEditMode"}),j=Te({type:"string",isBindingInfo:true}),V=Te({type:"string",bindable:true,isBindingInfo:true,required:false}),k=Te({type:"string",bindable:true,isBindingInfo:true,required:false}),_=Te({type:"sap.ui.core.TextAlign"}),R=Te({type:"object",isBindingInfo:true}),U=Te({type:"string"}),W=Te({type:"string"}),N=Te({type:"object",isBindingInfo:true}),G=Te({type:"boolean"}),q=Te({type:"boolean"}),$=Te({type:"string"}),J=Te({type:"boolean"}),Q=He(),K=He(),X=He(),P(Y=A(Y=(Z=function(t){function i(e,i){var n;let r;if(e){if(typeof e==="string"){r={...i,id:e}}else{r={...e,...i}}const{_flexId:t,vhIdPrefix:n,idPrefix:a,id:o,_apiId:l}=r;if(t&&!t.includes("-content")){r._apiId=t;r._flexId=`${t}-content`}if(!n){r.vhIdPrefix="FieldValueHelp";r._flexId=o;r.idPrefix=a||o}if(!o){if(r._apiId){r.id=r._apiId}else if(a){r.id=we([a,"Field"])}}}n=t.call(this,r)||this;_e(n,"editable",ee,n);_e(n,"readOnly",te,n);_e(n,"id",ie,n);_e(n,"metaPath",ne,n);_e(n,"wrap",re,n);_e(n,"contextPath",ae,n);_e(n,"change",oe,n);_e(n,"focusin",le,n);_e(n,"liveChange",se,n);_e(n,"idPrefix",ue,n);_e(n,"vhIdPrefix",de,n);_e(n,"navigateAfterAction",ce,n);_e(n,"formatOptions",pe,n);_e(n,"_flexId",ge,n);_e(n,"editMode",fe,n);_e(n,"semanticObject",he,n);_e(n,"value",be,n);_e(n,"description",me,n);_e(n,"textAlign",ye,n);_e(n,"showErrorObjectStatus",ve,n);_e(n,"collaborationEnabled",Pe,n);_e(n,"mainPropertyRelativePath",Ae,n);_e(n,"customValueBinding",Ce,n);_e(n,"inlineEditEnabled",Ee,n);_e(n,"hasInlineEdit",xe,n);n.focusHandlersAttached=false;_e(n,"_apiId",Ie,n);_e(n,"required",Fe,n);return n}Re(i,t);var r=i.prototype;r.getCollaborationBinding=function e(t){let i=t.getBindingContext().getBinding();if(!i.isA("sap.ui.model.odata.v4.ODataListBinding")){const e=n.getTargetView(t);i=e.getBindingContext().getBinding()}return i};r.extractChangeEventDetails=function e(t){const i=t.getSource();const n=this.getPageController();const r=i&&i.getBindingContext();const a=r?r.isTransient():false;const o=t.getParameter("promise")||Promise.resolve();const l=t.getParameter("valid");const s=y.getFieldStateOnChange(t).state["validity"];const u=this?.customValueBinding;return{source:i,controller:n,isTransient:a,valueResolved:o,valid:l,fieldValidity:s,customValueBinding:u}};r.handleChange=function t(i){const{source:n,controller:r,isTransient:a,valueResolved:o,valid:l,fieldValidity:s,customValueBinding:u}=this.extractChangeEventDetails(i);if(u){let e;const t=n?.getModel(u.model);if(n.isA("sap.m.CheckBox")){e=i.getParameter("selected")}else{e=i.getParameter("value")}t?.setProperty(u.path,e);t?.updateBindings(true)}const d=r?y.getExtensionController(r):undefined;o.then(()=>{i.oSource=n;i.mParameters={valid:l??true};this?.fireEvent("change",{value:this.getValue(),isValid:l??true});if(!a){d?._sideEffects.handleFieldChange(i,!!s,o,true)}if(r){y.fetchRecommendations(n,r)}return}).catch(()=>{i.oSource=n;i.mParameters={valid:false};e.debug("Prerequisites on Field for the SideEffects and Recommendations have been rejected");this.fireEvent("change",{value:this.getValue(),isValid:l??false})});const c=o.then(async()=>new Promise(e=>{setTimeout(e,0)})).catch(async()=>new Promise(e=>{setTimeout(e,0)}));d?.editFlow.syncTask(c);if(a){return}d?._sideEffects.prepareDeferredSideEffectsForField(i,!!s,o);const p=r?.collaborativeDraft.isConnected();if(p&&s){const e=this.getCollaborationBinding(n);const t=[...(n.getBindingInfo("value")||n.getBindingInfo("selected"))?.parts||[],...n.getBindingInfo("additionalValue")?.parts||[]].filter(e=>e?.path!==undefined&&e.path.indexOf("@@")<0).map(function(e){return`${n.getBindingContext()?.getPath()}/${e.path}`});r?.collaborativeDraft.retainAsyncMessages(t);const i=()=>{if(e.hasPendingChanges()){e.attachEventOnce("patchCompleted",function(){r?.collaborativeDraft.send({action:Se.Change,content:t});r?.collaborativeDraft.releaseAsyncMessages(t)})}else{r?.collaborativeDraft.releaseAsyncMessages(t)}};if(n.isA("sap.ui.mdc.Field")||n.isA("sap.ui.mdc.MultiValueField")){o.then(()=>{i();return}).catch(()=>{i()})}else{i()}}};r.handleLiveChange=function e(t){this.fireEvent("liveChange")};r.onValidateFieldGroup=function e(t){const i=t.getSource(),r=n.getTargetView(i),a=r.getController();const o=y.getExtensionController(a);o._sideEffects.handleFieldGroupChange(t)};r._setAriaLabelledBy=function e(t){if(t&&t.addAriaLabelledBy){const e=this.ariaLabelledBy;for(const i of e){const e=t.getAriaLabelledBy()||[];if(!e.includes(i)){t.addAriaLabelledBy(i)}}}};r.onBeforeRendering=function e(){this._setAriaLabelledBy(this.content)};r.onAfterRendering=function e(){if(this.collaborationEnabled&&!this.focusHandlersAttached){this.content?.addEventDelegate({onfocusin:e=>{this.getPageController().collaborativeDraft.handleContentFocusIn(this,e)}},this);this.focusHandlersAttached=true}};i.getControlInFieldWrapper=function e(t){if(t?.isA("sap.fe.macros.controls.FieldWrapper")&&!t?.isA("sap.fe.macros.controls.FileWrapper")){const e=t;const i=e.getEditMode()==="Display"?[e.getContentDisplay()]:e.getContentEdit();if(i.length>=1){return i[0]}}else{return t}};r.getLabelControls=function e(){const t=this._getLabelsFromReferencingLabels();return t.length>0?t:this._getLabelsForFormFields()};r._getLabelsFromReferencingLabels=function e(){const t=p.getReferencingLabels(this);const i=[];const n=this.getPageController().getView();t.forEach(e=>{const t=n.byId(e);if(t){i.push(t)}});return i};r._getLabelsForFormFields=function e(){if(!this.getId().includes("FormElement")){return[]}let t=this;while(t&&!t.isA("sap.ui.layout.form.FormElement")){t=t?.getParent()}return t?[t.getLabelControl()]:[]};r.getValue=function e(){let t=i.getControlInFieldWrapper(this.content);if(!t){return undefined}if(this.collaborationEnabled&&t?.isA("sap.m.HBox")){t=t.getItems()[0]}if(t?.isA("sap.m.CheckBox")){return t.getSelected()}else if(t?.isA("sap.m.RatingIndicator")){return t.getValue()}else if(t?.isA("sap.m.InputBase")){return t.getValue()}else if(t?.isA("sap.m.Link")){return t.getText()}else if(t?.isA("sap.m.Label")){return t.getText()}else if(t?.isA("sap.m.Text")){return t.getText(false)}else if(t?.isA("sap.fe.macros.controls.TextLink")){return t.getText()}else if(t?.isA("sap.m.ObjectStatus")){return t.getText()}else if(t?.isA("sap.m.ObjectIdentifier")){return t.getTitle()}else if(t?.isA("sap.ui.mdc.Field")){return t.getValue()}else if(t?.isA("sap.fe.macros.internal.DataPoint")||t?.isA("sap.fe.macros.contact.Email")||t?.isA("sap.fe.macros.contact.Contact")){return t.getValue()}else{throw new Error("getting value not yet implemented for this field type")}};r.getMainPropertyRelativePath=function e(){return this.mainPropertyRelativePath};r.setValue=function e(t){if(!this.content){return this.setProperty("value",t)}let n=i.getControlInFieldWrapper(this.content);if(this.collaborationEnabled&&n?.isA("sap.m.HBox")){n=n.getItems()[0]}if(n?.isA("sap.m.CheckBox")){n.setSelected(t)}else if(n?.isA("sap.m.InputBase")){n.setValue(t)}else if(n?.isA("sap.m.Text")){n.setText(t)}else if(n?.isA("sap.ui.mdc.Field")){n.setValue(t)}else{throw"setting value not yet implemented for this field type"}return this};r.getEnabled=function e(){let t=i.getControlInFieldWrapper(this.content);if(t!==null&&t!==undefined&&!t?.isA("sap.m.Text")){if(this.collaborationEnabled&&t.isA("sap.m.HBox")){t=t.getItems()[0]}if(t.isA("sap.m.VBox")){t=t.getItems()[0]}if(t.isA("sap.m.CheckBox")){return t.getProperty("enabled")}else if(t.isA("sap.m.InputBase")){return t.getProperty("enabled")}else if(t.isA("sap.m.Link")){return t.getProperty("enabled")}else if(t.isA("sap.m.Button")){return t.getProperty("enabled")}else if(t.isA("sap.m.ObjectStatus")){return true}else if(t.isA("sap.m.ObjectIdentifier")){return true}else if(t.isA("sap.fe.core.controls.FormElementWrapper")){return true}else if(t.isA("sap.fe.macros.internal.DataPoint")){return t.getEnabled()}else if(t.isA("sap.fe.macros.contact.Email")){return t.getProperty("linkEnabled")}else if(t.isA("sap.fe.macros.contact.Contact")){return t.getEnabled()}else if(t.isA("sap.m.ExpandableText")){return true}else if(t.isA("sap.ui.mdc.Field")){const e=t.getEditMode();return e!==h.Disabled}else if(t.isA("sap.fe.macros.controls.FileWrapper")){return t.link?t.link.getProperty("enabled"):true}else if(t.isA("sap.fe.macros.controls.ConditionalWrapper")||t.isA("sap.fe.macros.controls.TextLink")){return true}else{return false}}else{return true}};r.setEnabled=function e(t){let n=i.getControlInFieldWrapper(this.content);if(this.collaborationEnabled&&n?.isA("sap.m.HBox")){n=n.getItems()[0]}if(n?.isA("sap.m.CheckBox")){return n.setProperty("enabled",t)}else if(n?.isA("sap.m.InputBase")){return n.setProperty("enabled",t)}else if(n?.isA("sap.m.Link")){return n.setProperty("enabled",t)}else if(n?.isA("sap.m.Button")){return n.setProperty("enabled",t)}else if(n?.isA("sap.m.ObjectStatus")){return n.setProperty("active",t)}else if(n?.isA("sap.m.ObjectIdentifier")){return n.setProperty("titleActive",t)}else if(n?.isA("sap.ui.mdc.Field")){let e;if(t){e=h.Editable}else{e=h.Disabled}n.setEditMode(e)}else if(n?.isA("sap.fe.macros.contact.Email")){n.setLinkEnabled(t);return n}else if(n?.isA("sap.fe.macros.internal.DataPoint")){n.setEnabled(t)}else{throw"setEnabled isn't implemented for this field type"}return this};r.addMessage=function e(t){const n=this.getMessageManager();const r=i.getControlInFieldWrapper(this.content);let a;if(r?.isA("sap.m.CheckBox")){a=r.getBinding("selected")?.getResolvedPath()}else if(r?.isA("sap.m.InputBase")){a=r.getBinding("value")?.getResolvedPath()}else if(r?.isA("sap.ui.mdc.Field")){a=r.getBinding("value").getResolvedPath()}const o=new f({target:a,type:t.type,message:t.message,processor:r?.getModel(),description:t.description,persistent:t.persistent});n.addMessages(o);return o.getId()};r.removeMessage=function e(t){const i=this.getMessageManager();const n=i.getMessageModel().getData();const r=n.find(e=>e?.getId?.()===t);if(r){i.removeMessages(r)}};r.getMessageManager=function e(){return g};r.onMetadataAvailable=function e(){if(!this.content){const e=this.prepareProperties();if(e){this.content=this.createContent(e)}}};r.prepareProperties=function e(){const t=this.getMetaPathObject(this.metaPath,this.contextPath);if(!t){return undefined}const i=this._getOwner();const n=this.getPropertyBag();Object.defineProperty(n,"value",{get:()=>this.value});Object.defineProperty(n,"description",{get:()=>this.description});n.readOnly=this.bindState("readOnly");n.vhIdPrefix=this.vhIdPrefix;n.idPrefix=this.idPrefix;n._flexId=this._flexId;n.onLiveChange=this.hasListeners("liveChange")?"Something":undefined;this.preprocessorContext=i?.preprocessorContext;this.odataMetaModel=this.getMetaModel();this.computedContextPath=this.odataMetaModel?.getMetaContext(this.getComputedContextPath(this.contextPath));this.computedMetaPath=this.odataMetaModel?.createBindingContext(t.getPath());if(this.isPropertyInitial("visible")){n.visible=undefined}n.id=n.id??this.getId();const r=Be(n,{},this.preprocessorContext?.models.viewData??new b(this._getOwner()?.getViewData?.()??{}),this.preprocessorContext?.models.internal??this._getOwner().getAppComponent().getModel("internal"),this.preprocessorContext?.appComponent??this._getOwner().getAppComponent(),this.isPropertyInitial("readOnly"),this.computedMetaPath,this.computedContextPath);r.isDynamicInstantiation=true;if(r.mainPropertyRelativePath)this.mainPropertyRelativePath=r.mainPropertyRelativePath;if(r.collaborationEnabled)this.collaborationEnabled=r.collaborationEnabled;return r};r.createContent=function e(t){try{const e=this.getPageController();if(t.required===undefined){this.setOrBindProperty("required",t.requiredExpression)}this.setOrBindProperty("editable",t.editableExpression);this.setOrBindProperty("visible",t.visible);this.setOrBindProperty("inlineEditEnabled",t.inlineEditEnabled);if(typeof t.value!=="string"){this.customValueBinding=t.value}this.setOrBindProperty("hasInlineEdit",ke(t.hasInlineEdit));if(t.computedEditMode!==undefined){this.setOrBindProperty("editMode",t.editMode??ke(t.computedEditMode))}t.eventHandlers.change=i.handleChange;t.eventHandlers.liveChange=i.handleLiveChange;t.eventHandlers.validateFieldGroup=i.onValidateFieldGroup;t.eventHandlers.handleTypeMissmatch=this.onHandleTypeMissmatch.bind(this);t.eventHandlers.handleFileSizeExceed=this.onHandleFileSizeExceed.bind(this);t.eventHandlers.handleUploadComplete=i=>{y.handleUploadComplete(i,{path:t.fileFilenameExpression},t.fileRelativePropertyPath,e)};t.eventHandlers.uploadStream=this.onUploadStream.bind(this);t.eventHandlers.removeStream=i=>{y.removeStream(i,{path:t.fileFilenameExpression},t.fileRelativePropertyPath,e)};t.eventHandlers.handleOpenUploader=this.onHandleOpenUploader.bind(this);t.eventHandlers.handleCloseUploader=this.onHandleCloseUploader.bind(this);t.eventHandlers.openExternalLink=this.onOpenExternalLink.bind(this);t.eventHandlers.onFocusOut=this.onFocusOut.bind(this);t.eventHandlers.linkPressed=this.onLinkPressed.bind(this);t.eventHandlers.onDataFieldWithIBN=i=>{const n=t.metaPath.getObject();if(!n)return undefined;const r={navigationContexts:i.getSource()?.getBindingContext()};if(n.Mapping){r.semanticObjectMapping=n.Mapping}e._intentBasedNavigation.navigate(n.SemanticObject,n.Action,r,i.getSource())};t.eventHandlers.onDataFieldActionButton=i=>{const n=t;const r=t.metaPath.getObject();let a="Isolated";if(r.InvocationGrouping&&r.InvocationGrouping.$EnumMember==="com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet"){a="ChangeSet"}let o=n.navigateAfterAction;o=o==="false"?false:true;const l=n?.contextPath?.getPath().split("/");const s=l[l.length-1];const u={contexts:i.getSource().getBindingContext(),invocationGrouping:a,model:i.getSource().getModel(),label:r.Label,isNavigable:o,entitySetName:s,feFrameworkCall:true};e.editFlow.invokeAction(r.Action,u)};t.eventHandlers.displayAggregationDetails=e=>{l.displayAggregateDetails(e,Me(t.dataModelPath))};if(t.convertedMetaPath.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){t.eventHandlers.onDataFieldWithNavigationPath=i=>{y.onDataFieldWithNavigationPath(i.getSource(),e,t.convertedMetaPath.Target.value)}}t.eventHandlers.showCollaborationEditUser=this.onShowCollaborationEditUser.bind(this);t.valueHelpId=u.getPossibleValueHelpTemplateId(t,this.getPageController(),this.getMetaModel());this.content=u.getFieldStructureTemplate(t)}catch(e){if(e instanceof Error){c.show(e.message+" in createContent of Field")}else{c.show("An unknown error occurred")}}return this.content};r.onHandleTypeMissmatch=function e(t){y.handleTypeMissmatch(t)};r.onHandleFileSizeExceed=function e(t){y.handleFileSizeExceed(t)};r.onHandleOpenUploader=function e(t){y.handleOpenUploader(t)};r.onUploadStream=function e(t){y.uploadStream(this.getPageController(),t)};r.onHandleCloseUploader=function e(t){y.handleCloseUploader(t)};r.onOpenExternalLink=function e(t){y.openExternalLink(t)};r.onLinkPressed=function e(t){y.pressLink(t)};r.onFocusOut=function e(t){const i=this.getPageController();i.collaborativeDraft.handleContentFocusOut(t)};r.onShowCollaborationEditUser=function e(t){const i=t.getSource();const n=this.getPageController().getView();y.showCollaborationEditUser(i,n)};r.getPropertyBag=function e(){const t={};const i=this.getMetadata().getAllProperties();const n=this.getMetadata().getAllAggregations();for(const e in i){const i=this.getProperty(e);t[e]=i}for(const e in n){const i=this.getAggregation(e);if(Array.isArray(i)){const n=[];for(const e of i){if(e.isA("sap.fe.macros.controls.BuildingBlockObjectProperty")){n.push(e.getPropertyBag())}}t[e]=n}else if(i){if(i.isA("sap.fe.macros.controls.BuildingBlockObjectProperty")){t[e]=i.getPropertyBag()}else{t[e]=i.getId()}}}return t};r.getInlineEditProperty=function e(){const t=this.getDataModelObjectForMetaPath(this.metaPath,this.contextPath);const i=Oe(t)?.targetObject;return i};r.getInlineEditPropertyName=function e(){return this.getInlineEditProperty()?.fullyQualifiedName};return i}(m),ee=We(Z.prototype,"editable",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),te=We(Z.prototype,"readOnly",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),ie=We(Z.prototype,"id",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),ne=We(Z.prototype,"metaPath",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),re=We(Z.prototype,"wrap",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),ae=We(Z.prototype,"contextPath",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),oe=We(Z.prototype,"change",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),le=We(Z.prototype,"focusin",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),se=We(Z.prototype,"liveChange",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),ue=We(Z.prototype,"idPrefix",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),de=We(Z.prototype,"vhIdPrefix",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),ce=We(Z.prototype,"navigateAfterAction",[T],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),pe=We(Z.prototype,"formatOptions",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),ge=We(Z.prototype,"_flexId",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),fe=We(Z.prototype,"editMode",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),he=We(Z.prototype,"semanticObject",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),be=We(Z.prototype,"value",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),me=We(Z.prototype,"description",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),ye=We(Z.prototype,"textAlign",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),ve=We(Z.prototype,"showErrorObjectStatus",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),Pe=We(Z.prototype,"collaborationEnabled",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),Ae=We(Z.prototype,"mainPropertyRelativePath",[W],{configurable:true,enumerable:true,writable:true,initializer:null}),Ce=We(Z.prototype,"customValueBinding",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),Ee=We(Z.prototype,"inlineEditEnabled",[G],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),xe=We(Z.prototype,"hasInlineEdit",[q],{configurable:true,enumerable:true,writable:true,initializer:null}),Ie=We(Z.prototype,"_apiId",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),Fe=We(Z.prototype,"required",[J],{configurable:true,enumerable:true,writable:true,initializer:null}),We(Z.prototype,"handleChange",[Q],Object.getOwnPropertyDescriptor(Z.prototype,"handleChange"),Z.prototype),We(Z.prototype,"handleLiveChange",[K],Object.getOwnPropertyDescriptor(Z.prototype,"handleLiveChange"),Z.prototype),We(Z.prototype,"onValidateFieldGroup",[X],Object.getOwnPropertyDescriptor(Z.prototype,"onValidateFieldGroup"),Z.prototype),Z))||Y)||Y);return Ge},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/FooterContent", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/controls/CommandExecution","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/Action","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/library","sap/fe/core/templating/CriticalityFormatters","sap/fe/macros/messages/MessageButton","sap/m/Button","sap/m/DraftIndicator","sap/m/Menu","sap/m/MenuButton","sap/m/MenuItem","sap/m/OverflowToolbar","sap/m/ToolbarSpacer","sap/ui/core/InvisibleText","sap/fe/base/HookSupport","sap/fe/templates/ObjectPage/ObjectPageTemplating","sap/m/OverflowToolbarLayoutData","sap/ui/model/json/JSONModel","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,n,i,a,o,r,s,l,c,d,u,p,f,g,h,b,m,_,C,v,E,A,w,y,O,D,x,M){"use strict";var I,B,P,T,S,N,V,j,R,F,z,G,H,L,J,k;var U={};var q=w.controllerExtensionHandler;var W=c.UI;var $=c.Draft;var X=l.aiIcon;var Y=s.isActionWithDialog;var K=r.getInvolvedDataModelObjects;var Q=o.ActionType;var Z=n.property;var ee=n.implementInterface;var te=n.defineUI5Class;var ne=n.defineReference;var ie=t.pathInModel;var ae=t.or;var oe=t.ifElse;var re=t.equal;var se=t.constant;var le=t.compileExpression;var ce=t.and;function de(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function ue(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,pe(e,t)}function pe(e,t){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pe(e,t)}function fe(e,t,n,i,a){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function ge(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let he=(I=te("sap.fe.macros.FooterContent"),B=ee("sap.ui.core.Toolbar"),P=ee("sap.m.IBar"),T=Z({type:"string",required:true}),S=Z({type:"string",required:true}),N=Z({type:"string"}),V=ne(),j=q("routing","onAfterBinding"),I(R=(F=function(t){function n(e,n){var i;i=t.call(this,e,n)||this;de(i,"__implements__sap_ui_core_Toolbar",z,i);de(i,"__implements__sap_m_IBar",G,i);de(i,"id",H,i);de(i,"metaPath",L,i);de(i,"contextPath",J,i);de(i,"cmdExecution",k,i);i._hideCreateNext=false;return i}U=n;ue(n,t);var i=n.prototype;i.onAfterBinding=async function e(){if(this._hiddenDraft){const e=this._getOwner()?.getRootController();const t=e.getView().getBindingContext();const n=await e.editFlow.isRootContextNew(t);this.getModel("footerInternal").setProperty("/rootIsNewObject",n)}};i.initialize=function e(){const t=this._getOwner();this.setModel(new D,"footerInternal");this.actions=t?.preprocessorContext?.bindingContexts?.converterContext?.getObject("footerActions");const n=t?.preprocessorContext?.fullContextPath;this.oDataMetaModel=t?.preprocessorContext?.models.metaModel;this.dataViewModelPath=this.getDataModelObjectForMetaPath(this.metaPath,n??this.contextPath);const i=this.dataViewModelPath.startingEntitySet;this.isDraftValidation=!!(u.getDraftRoot(i)?.PreparationAction&&i?.entityType.annotations.Common?.Messages);this.content=this.createContent()};i.onMetadataAvailable=function e(){const t=this._getOwner()?.getRootController();this._hiddenDraft=t.getAppComponent().getEnvironmentCapabilities().getCapabilities().HiddenDraft?.enabled;this._hideCreateNext=t.getAppComponent().getEnvironmentCapabilities().getCapabilities().HiddenDraft?.hideCreateNext===true;if(!this.content){this.initialize()}};i.getActionModelPath=function e(t){const n=t.annotationPath;if(n){const e=this.oDataMetaModel.getContext(n);return K(e)}return undefined};i.getDraftIndicator=function e(){const t=this.dataViewModelPath.targetEntitySet||this.dataViewModelPath.startingEntitySet;const n=t.annotations?.Common;if((n?.DraftRoot||n?.DraftNode)&&!this._hiddenDraft){return x(b,{state:"{ui>/draftStatus}",visible:"{ui>/isEditable}"})}return undefined};i.getApplyButton=function e(t){const n=this._getOwner()?.getRootController();const i=n.getView().getViewData();if(i?.viewLevel!=null&&i?.viewLevel<=1||this._hiddenDraft){return null}if(this.isDraftValidation&&!i.isDesktop&&!i.fclEnabled){return x(_,{text:"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_APPLY_DRAFT}",defaultAction:async()=>{await n._applyDocument(n.getView().getBindingContext())},useDefaultActionOnly:"true",buttonMode:"Split",type:t,"dt:designtime":"not-adaptable",children:x(m,{children:x(C,{text:"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_VALIDATE_DRAFT}",press:async()=>{await n._validateDocument()}})})})}return x(h,{id:this.createId("StandardAction::Apply"),text:"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_APPLY_DRAFT}",type:t,enabled:true,press:async()=>{await n._applyDocument(n.getView().getBindingContext())},visible:"{ui>/isEditable}","dt:designtime":"not-adaptable"})};i.getPrimary=function e(t){const n=this._getOwner()?.getRootController();const i=n.getAppComponent().getEnvironmentCapabilities().getCapabilities().HiddenDraft?.enabled;const o=n.getView().getViewData();n.getView().addDependent(x(a,{ref:this.cmdExecution,command:"Save",execute:n._saveDocument,visible:ae(oe(i===true,oe(o.fclEnabled===true,ce(W.IsEditable,re(ie("/showSaveAndCancelButton","fclhelper"),true)),W.IsEditable),W.IsEditable),re(ie("/isInlineEditActive","ui"),true))}));if(this.isDraftValidation&&!o.isDesktop){return x(_,{text:this.getTextSaveButton(),"jsx:command":"cmd:Save|defaultAction",useDefaultActionOnly:"true",buttonMode:"Split",type:t,visible:le(oe(i===true,oe(o.fclEnabled===true,ce(W.IsEditable,re(ie("/showSaveAndCancelButton","fclhelper"),true)),W.IsEditable),W.IsEditable)),"dt:designtime":"not-adaptable",children:x(m,{children:x(C,{text:"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_VALIDATE_DRAFT}",press:async()=>{await n._validateDocument()}})})})}return x(h,{id:this.createId("StandardAction::Save"),text:this.getTextSaveButton(),type:t,visible:le(oe(i===true,oe(o.fclEnabled===true,ce(W.IsEditable,re(ie("/showSaveAndCancelButton","fclhelper"),true)),W.IsEditable),W.IsEditable)),enabled:true,"jsx:command":"cmd:Save|press","dt:designtime":"not-adaptable"})};i.getTextSaveButton=function e(){const t=this.getTranslatedText("T_OP_OBJECT_PAGE_SAVE");const n=this.getTranslatedText("T_OP_OBJECT_PAGE_CREATE");return oe(oe(this.dataViewModelPath.startingEntitySet.annotations.Session?.StickySessionSupported!==undefined,W.IsCreateMode,oe(this._hiddenDraft,ce(ie("/rootIsNewObject","footerInternal")),$.IsNewObject)),n,t)};i.getCancelButton=function e(){const t=this._getOwner()?.getRootController();const n=t.getAppComponent().getEnvironmentCapabilities().getCapabilities().HiddenDraft?.enabled;const i=t.getView().getViewData();t.getView().addDependent(x(a,{ref:this.cmdExecution,command:"Cancel",execute:()=>{t._cancelDocument({cancelButton:"fe::FooterBar::StandardAction::Cancel"})},visible:oe(n===true,oe(i.fclEnabled===true,ce(W.IsEditable,re(ie("/showSaveAndCancelButton","fclhelper"),true)),W.IsEditable),W.IsEditable)}));return x(h,{id:this.createId("StandardAction::Cancel"),text:u.isDraftRoot(this.dataViewModelPath.targetEntitySet)&&!this._hiddenDraft?"{sap.fe.i18n>C_COMMON_OBJECT_PAGE_DISCARD_DRAFT}":"{sap.fe.i18n>C_COMMON_OBJECT_PAGE_CANCEL}","jsx:command":"cmd:Cancel|press",visible:le(oe(n===true,oe(i.fclEnabled===true,ce(W.IsEditable,re(ie("/showSaveAndCancelButton","fclhelper"),true)),W.IsEditable),W.IsEditable)),ariaHasPopup:oe(ie("/isDocumentModified","ui"),se("Dialog"),se("None")),enabled:true,"dt:designtime":"not-adaptable",children:{layoutData:x(O,{closeOverflowOnInteraction:false})}})};i.getCreateNextButton=function e(t){const n=this._getOwner()?.getRootController();const i=n.getView().getViewData();return x(h,{id:this.createId("StandardAction::CreateNext"),text:"{sap.fe.i18n>C_COMMON_OBJECT_PAGE_CREATE_NEXT}",press:n.editFlow.createNextDocument,type:t,visible:oe(this._hiddenDraft===true,oe(i.fclEnabled===true,ce($.IsNewObject,re(ie("/showSaveAndCancelButton","fclhelper"),true)),$.IsNewObject),$.IsNewObject),enabled:true,"dt:designtime":"not-adaptable",children:{layoutData:x(O,{closeOverflowOnInteraction:false})}})};i.getDataFieldForActionButton=function e(t){if(t.annotationPath){const e=this._getOwner()?.getRootController();const n=t.annotationPath;let i;const a=e.getView();const o=this.oDataMetaModel.getContext(n);const r=K(o);const s=r.targetObject;if(s){const n={entitySetName:this.dataViewModelPath.targetEntitySet?.name,invocationGrouping:s.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?p.InvocationGrouping.ChangeSet:p.InvocationGrouping.Isolated,label:s.Label?.toString(),isNavigable:t.isNavigable,defaultValuesExtensionFunction:t.defaultValuesExtensionFunction};if(!t.command){i={press:()=>{e.handlers.onCallAction(a,s.Action,{...n,...{contexts:a.getBindingContext(),model:a.getModel()}})}}}else{if(!t.command.startsWith("cmd:")){t.command=`cmd:${t.command}`}i={"jsx:command":`${t.command}|press`}}return x(h,{id:this.createId(this.getActionModelPath(t)),"dt:designtime":t.visible==="true"||t.visible==="false"?undefined:"not-adaptable-visibility",text:n.label,...i,ariaHasPopup:Y(r.targetObject),visible:t.visible,enabled:t.enabled,type:f.buildExpressionForCriticalityButtonType(r),icon:t?.isAIOperation===true?X:undefined})}}};i.getManifestButton=function t(n){if(y.isManifestAction(n)){let t;if(n.command){t={"jsx:command":`cmd:${n.command}|press`}}else{t={press:t=>{d.actionWrapper(t,n.handlerModule,n.handlerMethod,{}).catch(t=>e.error(t))}}}return x(h,{id:this.createId(n.id),"dt:designtime":n.visible==="true"||n.visible==="false"?undefined:"not-adaptable-visibility",text:n.text??"",...t,type:"Transparent",visible:n.visible,enabled:n.enabled,icon:n?.isAIOperation===true?X:undefined})}};i.getActionControls=function e(){const t=y.buildEmphasizedButtonExpression(this.dataViewModelPath);return this.actions?.map(e=>{switch(e.type){case Q.DefaultApply:return this.getApplyButton(t);case Q.DataFieldForAction:return this.getDataFieldForActionButton(e);case Q.Primary:if(this._hiddenDraft&&!this._hideCreateNext){return this.getPrimary(le(oe($.IsNewObject,undefined,t)))}return this.getPrimary(t);case Q.Secondary:return this.getCancelButton();case Q.CreateNext:if(this._hiddenDraft&&!this._hideCreateNext){return this.getCreateNextButton(le(oe($.IsNewObject,t,undefined)))}return;default:return this.getManifestButton(e)}}).filter(e=>!!e)};i.createContent=function e(){const t=this._getOwner()?.getRootController();const n=t.getView().getViewData();const i=x(g,{id:this.createId("MessageButton"),visible:le(oe(this._hiddenDraft===true,oe(n.fclEnabled===true,ce(W.IsEditable,re(ie("/showSaveAndCancelButton","fclhelper"),true)),true),true)),messageChange:()=>t._getFooterVisibility(),ariaLabelledBy:[this.createId("MessageButton::AriaText")],type:"Emphasized",ariaHasPopup:"Dialog"});const o=M(v,{id:this.createId("_fc"),asyncMode:true,children:[x(A,{id:this.createId("MessageButton::AriaText"),text:"{sap.fe.i18n>C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_BUTTON_ARIA_TEXT}"}),i,x(E,{}),this.getDraftIndicator(),this.getActionControls()]});t.getView().addDependent(x(a,{ref:this.cmdExecution,command:"OpenMessageButtonMenu",execute:()=>i.firePress()}));return o};return n}(i),z=fe(F.prototype,"__implements__sap_ui_core_Toolbar",[B],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),G=fe(F.prototype,"__implements__sap_m_IBar",[P],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),H=fe(F.prototype,"id",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),L=fe(F.prototype,"metaPath",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),J=fe(F.prototype,"contextPath",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),k=fe(F.prototype,"cmdExecution",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),fe(F.prototype,"onAfterBinding",[j],Object.getOwnPropertyDescriptor(F.prototype,"onAfterBinding"),F.prototype),F))||R);U=he;return U},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/KPITag", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/GenericTag","sap/m/ObjectNumber","sap/fe/base/jsx-runtime/jsx"],function(e,t,r,i,n){"use strict";var a,u,o,l,s,c,p,b,f,d,y,g,m,h,v,w,z,I,O;var j={};var B=e.property;var x=e.event;var P=e.defineUI5Class;function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function q(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let N=(a=P("sap.fe.macros.KPITag"),u=B({type:"string",required:true}),o=B({type:"any",isBindingInfo:true}),l=B({type:"any",defaultValue:"None",allowedValues:["Success","Error","Warning","None","Information"],isBindingInfo:true}),s=B({type:"any",isBindingInfo:true}),c=x(),p=B({type:"any",required:true,isBindingInfo:true}),b=B({type:"any",isBindingInfo:true}),f=B({type:"boolean",required:false}),a(d=(y=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;_(i,"id",g,i);_(i,"text",m,i);_(i,"status",h,i);_(i,"tooltip",v,i);_(i,"press",w,i);_(i,"number",z,i);_(i,"unit",I,i);_(i,"showIcon",O,i);return i}j=t;k(t,e);var a=t.prototype;a.onMetadataAvailable=function e(){if(!this.content){this._getOwner()?.runAsOwner(()=>{this.content=this.createContent()})}};a.createContent=function e(){return n(r,{id:this.createId("_kpi"),text:this.text,design:this.showIcon?"Full":"StatusIconHidden",status:this.status,class:"sapUiTinyMarginBegin",tooltip:this.tooltip,press:()=>{this.fireEvent("press")},children:n(i,{state:this.status,emphasized:false,number:this.number,unit:this.unit})})};return t}(t),g=E(y.prototype,"id",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),m=E(y.prototype,"text",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),h=E(y.prototype,"status",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),v=E(y.prototype,"tooltip",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),w=E(y.prototype,"press",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),z=E(y.prototype,"number",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),I=E(y.prototype,"unit",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),O=E(y.prototype,"showIcon",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),y))||d);j=N;return j},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/MacroAPI", ["sap/base/util/deepClone","sap/base/util/merge","sap/base/util/uid","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/converters/ConverterContext","sap/fe/core/converters/ManifestWrapper","sap/fe/core/templating/DataModelPathHelper","sap/ui/base/ManagedObject","sap/ui/core/Component"],function(e,t,n,r,o,i,a,s,c,l){"use strict";var u,p,f,d,g,b,m,y,h,v,C,P;var _=c.bindingParser;var x=s.getTargetObjectPath;var M=r.property;var O=r.implementInterface;var j=r.defineUI5Class;var w=r.aggregation;function z(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function B(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,S(e,t)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function E(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(e,t,i),null):i}function D(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let I=(u=j("sap.fe.macros.MacroAPI"),p=O("sap.ui.core.IFormContent"),f=w({type:"sap.ui.core.Control",multiple:false,isDefault:true}),d=M({type:"string"}),g=M({type:"string"}),u(b=(m=(P=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;z(r,"__implements__sap_ui_core_IFormContent",y,r);z(r,"content",h,r);z(r,"contextPath",v,r);z(r,"metaPath",C,r);r.parentContextToBind={};return r}B(t,e);var n=t.prototype;n.applySettings=function t(n,r){if(n){const e=Object.keys(this.getMetadata().getEvents());for(const t of e){if(n[t]===undefined){delete n[t]}}}return e.prototype.applySettings.call(this,n,r)};n.init=function t(){e.prototype.init.call(this);if(!this.getModel("_pageModel")){const e=l.getOwnerComponentFor(this)?.getModel("_pageModel");if(e){this.setModel(e,"_pageModel")}}};n.setOrBindProperty=function e(t,n){if(n!==undefined){const e=_(n);if(e){this.bindProperty(t,e)}else{if(this.getMetadata().getProperty(t)?.type==="boolean"&&typeof n==="string"){n=n==="true"}this.setProperty(t,n)}}};n.setParentBindingContext=function e(t,n){this.parentContextToBind[t]=n};n.setParent=function t(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++){r[o]=arguments[o]}e.prototype.setParent.call(this,...r);Object.keys(this.parentContextToBind).forEach(e=>{this.getParent().bindObject({path:this.parentContextToBind[e],model:e,events:{change:function(){const e=this.getBoundContext();if(e&&!e.getObject()){e.setProperty("",{})}}}})})};return t}(o),P.namespace="sap.fe.macros",P.macroName="Macro",P.fragment="sap.fe.macros.Macro",P.hasValidation=true,P.getConverterContext=function(n,r,o,s){const c=o.appComponent;const l=o.models.viewData?.getData();let u=Object.assign({},l);delete u.resourceModel;delete u.appComponent;u=e(u);let p={};const f=x(n.contextLocation??n);const d=n.contextLocation?.targetEntitySet?.name??n.targetEntitySet?.name;if(f===l?.contextPath||f===`/${l?.entitySet}`||d===l?.entitySet){p=u.controlConfiguration}u.controlConfiguration=t(p,s||{});return i.createConverterContextForMacro(n.startingEntitySet.name,o.models.metaModel,c?.getDiagnostics(),t,n.contextLocation,new a(u,c))},P.createBindingContext=function(e,t){const r=`/uid--${n()}`;t.models.converterContext.setProperty(r,e);return t.models.converterContext.createBindingContext(r)},P),y=E(m.prototype,"__implements__sap_ui_core_IFormContent",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),h=E(m.prototype,"content",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),v=E(m.prototype,"contextPath",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),C=E(m.prototype,"metaPath",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||b);return I},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/MacroTemplating", ["sap/fe/base/BindingToolkit"],function(t){"use strict";var e={};var n=t.constant;var r=t.compileExpression;const i=function(t,e){if(e&&e.context){return e.context.getPath()}return""};i.requiresIContext=true;e.getPath=i;const o=function(t){return r(n(t))};o.requiresIContext=true;e.getValue=o;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/MessageButton", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/Button","sap/m/MessageItem","sap/m/MessagePopover","sap/m/library","sap/ui/core/Element","sap/ui/core/Messaging","sap/ui/core/message/MessageType","sap/fe/base/jsx-runtime/jsx"],function(e,t,s,i,n,a,o,r,l,g,c){"use strict";var u,p,f,h,_;var m={};var E=o.ButtonType;var d=t.event;var M=t.defineUI5Class;function v(e,t,s,i){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(i):void 0})}function b(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,P(e,t)}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function S(e,t,s,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce(function(s,i){return i(e,t,s)||s},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function T(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let C=(u=M("sap.fe.macros.MessageButton"),p=d(),u(f=(h=function(t){function s(e,s){var i;i=t.call(this,e,s)||this;v(i,"visibilityChange",_,i);i._messageItemMessageDetailMap={};return i}m=s;b(s,t);var o=s.prototype;o.onMetadataAvailable=function e(){if(!this.content){this.content=this.createContent()}this._messageModel=l.getMessageModel();this._messageModel.bindProperty("/").attachChange(this.processMessages,this);this.processMessages()};o.processMessages=async function e(){const t=this._messageModel?.getData();const s=t.reduce((e,t)=>{const s=t.getTargets().length>0;const i=t.getTechnical();if(s&&!i){e.push({message:t})}return e},[]);if(s&&s.length>0){await this.getPageController().messageHandler.beforeShowMessageButton(s)}this.adjustMessageButtonProperties(s)};o.adjustMessageButtonProperties=function e(t){this._messageItemMessageDetailMap={};if(t&&t.length>0){const e={Error:0,Warning:1,Success:2,Information:3,None:4};let s=e.None;let i=0;const n=[];for(const a of t){const t=a.message;const o=t.getType();const r=e[o];if(r<s){s=r}if(o===g.Error){i++}n.push(this.createMessageItem(a))}this.getContent()?.setText(t.length.toString());const a=[E.Negative,E.Critical,E.Success,E.Neutral,E.Default];this.getContent()?.setType(a[s]);const o=["C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_TITLE_ERROR","C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_WARNING_TOOLTIP","C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_SUCCESS","C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_INFO",""];const r=i>1?"C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_MULTIPLE_ERROR_TOOLTIP":o[s];let l=this.getTranslatedText(r);if(i>1){l=`${i}  ${l}`}this.getContent()?.setTooltip(l);if(!this.getContent()?.getVisible()){this.getContent()?.setVisible(true);this.fireEvent("visibilityChange",{visible:this.getContent()?.getVisible()})}this.createMessagePopover(n)}if(t.length===0){if(this.getContent()?.getVisible()){this.getContent()?.setVisible(false);this.fireEvent("visibilityChange",{visible:this.getContent()?.getVisible()})}}};o.createMessageItem=function e(t){const s=t.message;const i=c(n,{title:s.getMessage(),description:s.getDescription(),type:s.getType(),markupDescription:true,longtextUrl:s.getDescriptionUrl(),subtitle:s.getAdditionalText(),groupName:t.groupName||this.getTranslatedText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_GENERAL"),activeTitle:s.getControlIds().length>0||typeof t.activeTitleHandler==="function"});this._messageItemMessageDetailMap[i.getId()]=t;return i};o.createMessagePopover=function e(t){this._messagePopover?.destroy();this._messagePopover=c(a,{groupItems:true,activeTitlePress:e=>{const t=e.getParameter("item");this.handleActiveTitlePress(t)},children:{items:t}});this.getContent()?.addDependent(this._messagePopover);setTimeout(()=>{this._messagePopover.openBy(this.getContent())},0)};o.handleActiveTitlePress=function t(s){if(s){const e=this._messageItemMessageDetailMap[s?.getId()];if(e.activeTitleHandler){e.activeTitleHandler(e.message)}else{const t=e.message.getControlId();const s=r.getElementById(t);if(s){s.focus()}}}else{e.error("message item not found!")}};o.toggleMessagePopover=function e(){this._messagePopover.toggle(this.content)};o.createContent=function e(){return c(i,{visible:"false",press:this.toggleMessagePopover.bind(this)})};return s}(s),_=S(h.prototype,"visibilityChange",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),h))||f);m=C;return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/MicroChart", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/CriticalityFormatters","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","sap/m/Text","sap/ui/core/Lib","./CommonHelper","./controls/ConditionalWrapper","./internal/TitleLink","./microchart/MicroChartContainer","./microchart/MicroChartHelper","sap/fe/base/jsx-runtime/jsx"],function(t,e,a,r,i,n,o,h,s,c,l,u,g,p,C){"use strict";var d,b,y,T,m,_,f,P,M,O,v,I,j,D,U,A,w,k,B,x,z,N,E,L,S,F,R,V,H,$,Q,W,q,G,K,J,X,Y,Z;function tt(t){return new Promise((e,a)=>{sap.ui.require([t],a=>{if(!(a&&a.__esModule)){a=a===null||!(typeof a==="object"&&t.endsWith("/library"))?{default:a}:a;Object.defineProperty(a,"__esModule",{value:true})}e(a)},t=>{a(t)})})}var et={};var at=o.getExpressionForMeasureUnit;var rt=n.getTargetNavigationPath;var it=n.enhanceDataModelPath;var nt=i.buildExpressionForCriticalityColorMicroChart;var ot=e.property;var ht=e.event;var st=e.defineUI5Class;var ct=t.pathInModel;var lt=t.or;var ut=t.not;var gt=t.ifElse;var pt=t.getExpressionFromAnnotation;var Ct=t.equal;var dt=t.constant;var bt=t.compileExpression;function yt(t,e,a,r){a&&Object.defineProperty(t,e,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(r):void 0})}function Tt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,mt(t,e)}function mt(t,e){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mt(t,e)}function _t(t,e,a,r,i){var n={};return Object.keys(r).forEach(function(t){n[t]=r[t]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=a.slice().reverse().reduce(function(a,r){return r(t,e,a)||a},n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(t,e,n),null):n}function ft(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}var Pt=function(t){t["External"]="External";t["InPage"]="InPage";t["None"]="None";return t}(Pt||{});let Mt=(d=st("sap.fe.macros.MicroChart",{returnTypes:["sap.fe.macros.microchart.MicroChartContainer","sap.fe.macros.controls.ConditionalWrapper"]}),b=ot({type:"boolean"}),y=ot({type:"string",required:true}),T=ot({type:"string"}),m=ot({type:"string"}),_=ot({type:"string"}),f=ot({type:"string"}),P=ot({type:"boolean"}),M=ot({type:"string"}),O=ot({type:"string"}),v=ht(),I=ot({type:"object"}),j=ot({type:"object"}),D=ot({type:"object"}),U=ot({type:"object"}),A=ot({type:"string"}),w=ot({type:"object"}),k=ot({type:"object"}),B=ot({type:"boolean"}),d(x=(z=function(t){function e(e,a){var r;r=t.call(this,e,a)||this;yt(r,"showOnlyChart",N,r);yt(r,"metaPath",E,r);yt(r,"contextPath",L,r);yt(r,"navigationType",S,r);yt(r,"batchGroupId",F,r);yt(r,"size",R,r);yt(r,"hideOnNoData",V,r);yt(r,"title",H,r);yt(r,"description",$,r);yt(r,"titlePress",Q,r);yt(r,"_chartTarget",W,r);yt(r,"_dataPoint",q,r);yt(r,"_targetNavigationPath",G,r);yt(r,"_microChartDataModelObjectPath",K,r);yt(r,"_binding",J,r);yt(r,"_sortOrder",X,r);yt(r,"_measureDataPath",Y,r);yt(r,"isAnalytics",Z,r);return r}et=e;Tt(e,t);var a=e.prototype;a.getSortOrder=function t(e){return e.map(t=>({Property:t.Property?.value,Descending:t.Descending,fullyQualifiedName:"",$Type:"com.sap.vocabularies.Common.v1.SortOrderType"}))};a.setProperty=function e(a,r,i){if(!this._applyingSettings&&r!==undefined&&Object.keys(this.getMetadata().getProperties()).includes(a)){t.prototype.setProperty.call(this,a,r,true);if(this.content){this.content.destroy();this.content=this.createContent();this.createMicroChart()}}else{t.prototype.setProperty.call(this,a,r,i)}return this};a.clone=function e(a,r){const i=t.prototype.clone.call(this,a,r);i.createMicroChart();return i};a.onMetadataAvailable=async function t(e){if(!this.content){const t=this._getOwner();this.contextPath=this.contextPath??t?.preprocessorContext?.fullContextPath;const e=t?.getMetaModel();this._microChartDataModelObjectPath=this.getDataModelObjectForMetaPath(this.metaPath,this.contextPath);if(this._microChartDataModelObjectPath?.targetObject?.term==="com.sap.vocabularies.UI.v1.PresentationVariant"){if(this._microChartDataModelObjectPath.targetObject.SortOrder?.length){this._sortOrder=this.getSortOrder(this._microChartDataModelObjectPath.targetObject.SortOrder)}this._microChartDataModelObjectPath=this.getDataModelObjectForMetaPath(`${this._microChartDataModelObjectPath.targetObject.Visualizations[0].value}`,rt(this._microChartDataModelObjectPath)+"/")}if(this._microChartDataModelObjectPath){if(this._microChartDataModelObjectPath.targetObject?.term==="com.sap.vocabularies.UI.v1.PresentationVariant"){if(this._microChartDataModelObjectPath.targetObject.SortOrder?.length!=null){this._sortOrder=this.getSortOrder(this._microChartDataModelObjectPath.targetObject.SortOrder)}}this._chartTarget=this._microChartDataModelObjectPath.targetObject;this._measureDataPath=it(this._microChartDataModelObjectPath,this._chartTarget.Measures[0].value);if(p.shouldRenderMicroChart(this._chartTarget)){this._dataPoint=this._chartTarget?.MeasureAttributes[0]?.DataPoint?.$target;this._targetNavigationPath=e?.createBindingContext(rt(this._microChartDataModelObjectPath));this.showOnlyChart=typeof this.showOnlyChart==="string"?this.showOnlyChart==="true":this.showOnlyChart;this.content=this.createContent();await this.createMicroChart()}else{this.logWarning()}}}};a.createMicroChart=async function t(){const e={"UI.ChartType/Bullet":`sap/suite/ui/microchart/BulletMicroChart`,"UI.ChartType/Donut":`sap/suite/ui/microchart/RadialMicroChart`,"UI.ChartType/Pie":`sap/suite/ui/microchart/HarveyBallMicroChart`,"UI.ChartType/BarStacked":`sap/suite/ui/microchart/StackedBarMicroChart`,"UI.ChartType/Column":`sap/suite/ui/microchart/ColumnMicroChart`,"UI.ChartType/Bar":`sap/suite/ui/microchart/ComparisonMicroChart`,"UI.ChartType/Line":`sap/suite/ui/microchart/LineMicroChart`,"UI.ChartType/Area":`sap/suite/ui/microchart/AreaMicroChart`};const a=this._chartTarget.ChartType;if(Object.keys(e).includes(a)){const t=(await tt(e[a])).default;const r=await this.getMicroChartAggregations();if(this.isAnalytics){(this.content?.getAggregation("contentTrue")).setAggregation("microChart",C(t,{...this.getMicroChartProperties(),children:r}))}else{this.content.setAggregation("microChart",C(t,{...this.getMicroChartProperties(),children:r}))}}};a.logWarning=function t(){const e={};if(this._chartTarget.ChartType==="UI.ChartType/Bullet"){e["DataPoint_Value"]=this._dataPoint?.Value||undefined}p.logWarning(this._chartTarget.ChartType,e)};a.getMicroChartProperties=function t(){let e={size:this.size,hideOnNoData:this.hideOnNoData};const a=it(this._microChartDataModelObjectPath,this._chartTarget?.MeasureAttributes[0]?.DataPoint?.value);const r=p.getAggregationForMicrochart(this._chartTarget.ChartType,this._targetNavigationPath?.getObject(),a,this._targetNavigationPath?.getObject("@sapui.name"),undefined,this._measureDataPath,this._sortOrder,this._microChartDataModelObjectPath?.targetObject?.Dimensions?.[0]?.value,true);switch(this._chartTarget.ChartType){case"UI.ChartType/Bullet":e=p.getBulletMicroChartProperties(e,this._dataPoint);break;case"UI.ChartType/Donut":e=p.getRadialMicroChartProperties(e,this._dataPoint);break;case"UI.ChartType/Pie":e=p.getHarveyMicroChartProperties(e,this._dataPoint);break;case"UI.ChartType/BarStacked":e.bars=r;break;case"UI.ChartType/Column":e.columns=p.getAggregationForMicrochart(this._chartTarget.ChartType,this._targetNavigationPath?.getObject(),a,this._targetNavigationPath?.getObject("@sapui.name"),this._chartTarget?.Dimensions?.[0],this._measureDataPath,this._sortOrder,this._microChartDataModelObjectPath?.targetObject?.Dimensions?.[0]?.value,true);break;case"UI.ChartType/Bar":e.maxValue=this._dataPoint.MaximumValue?bt(dt(this._dataPoint.MaximumValue?.valueOf())):undefined;e.minValue=this._dataPoint.MinimumValue?bt(dt(this._dataPoint.MinimumValue?.valueOf())):undefined;e.colorPalette=p.getColorPaletteForMicroChart(this._dataPoint);e.data=r;break;case"UI.ChartType/Line":e.showThresholdLine=false;break;default:break}return e};a.getMicroChartAggregations=async function t(){const e=this._dataPoint.Criticality?nt(this._dataPoint):undefined;if(this._chartTarget.ChartType==="UI.ChartType/Bullet"){return p.getBulletMicroChartAggregations(this._dataPoint,e)}if(this._chartTarget.ChartType==="UI.ChartType/BarStacked"){return p.getStackMicroChartAggregations(this._dataPoint,this._measureDataPath,e)}if(this._chartTarget.ChartType==="UI.ChartType/Pie"){return p.getHarveyMicroChartAggregations(this._dataPoint,e)}if(this._chartTarget.ChartType==="UI.ChartType/Bar"){return p.getComparisonMicroChartAggregations(this._dataPoint,e,this._chartTarget)}if(this._chartTarget.ChartType==="UI.ChartType/Area"){return p.getAreaMicroChartAggregations(this._chartTarget,this._microChartDataModelObjectPath,this._targetNavigationPath,this.showOnlyChart)}if(this._chartTarget.ChartType==="UI.ChartType/Column"){return p.getColumnMicroChartAggregations(this._dataPoint,e,this.showOnlyChart)}if(this._chartTarget.ChartType==="UI.ChartType/Line"){if(this._microChartDataModelObjectPath&&this._targetNavigationPath){return p.getLineMicroChartAggragations(this._microChartDataModelObjectPath,this._chartTarget,this._targetNavigationPath)}}return};a.createMicroChartId=function t(e){let a;switch(e){case"UI.ChartType/Bullet":a="BulletMicroChart";break;case"UI.ChartType/Donut":a="RadialMicroChart";break;case"UI.ChartType/Pie":a="HarveyBallMicroChart";break;case"UI.ChartType/BarStacked":a="StackedBarMicroChart";break;case"UI.ChartType/Area":a="AreaMicroChart";break;case"UI.ChartType/Column":a="ColumnMicroChart";break;case"UI.ChartType/Bar":a="ComparisonMicroChart";break;case"UI.ChartType/Line":a="LineMicroChart";break}return this.createId(a)};a.getMicroChartContainerProperties=function t(){const e={chartTitle:this.title||this._chartTarget.Title?.valueOf()||undefined};e.showOnlyChart=this.showOnlyChart;e.chartTitle=this._chartTarget.Title||undefined;e.chartDescription=this.description||this._chartTarget.Description?.valueOf()||undefined;this._binding=p.getBindingExpressionForMicrochart(this._chartTarget.ChartType,this._measureDataPath,this,this._targetNavigationPath?.getObject(),this._targetNavigationPath?.getObject("@sapui.name"));e.uomPath=p.getUOMPathForMicrochart(this.showOnlyChart,this._measureDataPath,this._chartTarget.ChartType);e.id=this.createMicroChartId(this._chartTarget.ChartType);const a=["UI.ChartType/Bullet","UI.ChartType/Pie","UI.ChartType/Radial"];if(a.includes(this._chartTarget.ChartType)){e.visible=bt(ut(gt(pt(this._chartTarget.Measures[0].$target?.annotations.UI?.Hidden),dt(true),dt(false))))}else{e.visible=undefined}if(this._chartTarget.ChartType==="UI.ChartType/BarStacked"){e.dataPointQualifiers=p.getDataPointQualifiersForMicroChart(this._chartTarget?.MeasureAttributes[0]?.DataPoint?.value)}if(this._chartTarget.ChartType==="UI.ChartType/Area"||this._chartTarget.ChartType==="UI.ChartType/Column"){e.dataPointQualifiers=p.getDataPointQualifiersForMicroChart(this._chartTarget?.MeasureAttributes[0]?.DataPoint?.value);e.measures=[this._measureDataPath?.targetObject?.name]}if(this._chartTarget.ChartType==="UI.ChartType/Line"){e.measures=p.getMeasurePropertyPaths(this._chartTarget,this._microChartDataModelObjectPath?.targetEntityType.annotations,"Line",true);e.dataPointQualifiers=p.getDataPointQualifiersForMeasures(this._chartTarget,this._microChartDataModelObjectPath?.targetEntityType.annotations,"Line",true)}if(this._chartTarget.ChartType==="UI.ChartType/Area"||this._chartTarget.ChartType==="UI.ChartType/Column"||this._chartTarget.ChartType==="UI.ChartType/Line"){const t=it(this._microChartDataModelObjectPath,this._chartTarget.Dimensions[0].value);e.dimension=t?.targetObject?.annotations?.Common?.Text?t?.targetObject?.annotations?.Common?.Text?.path:t?.targetObject?.name;e.measurePrecision=this._dataPoint?.Value?.$target?.precision;e.measureScale=p.getMeasureScaleForMicroChart(this._dataPoint);e.dimensionPrecision=t?.targetObject?.precision;e.calendarPattern=p.getCalendarPattern(t?.targetObject?.type,t?.targetObject?.annotations,true)}return e};a.createTitle=function t(e){if(e){const t=r.generate(["fe","MicroChartLink",this._targetNavigationPath?.getObject("@sapui.name"),this._microChartDataModelObjectPath?.targetObject?.term,this._microChartDataModelObjectPath?.targetObject?.qualifier]);const a=this.getPageController()?.getView().getId();const i=`${a}--${t}`;const n={id:i,text:e};const o=s.getResourceBundleFor("sap.fe.macros");if(this.navigationType==="InPage"){const t=o?.getText("T_COMMON_HEADERDP_TITLE_LINK_INPAGE_ARIA");n.showAsLink=true;n.linkAriaText=t}else if(this.navigationType==="External"){const e=c.getHeaderDataPointLinkVisibility(t,true);const a=o?.getText("M_MICROCHART_TITLE_FRAGMENT_HEADER_MICROCHART_LINK_ARIA");n.showAsLink=e;n.linkAriaText=a}return C(u,{...n,linkPress:t=>{this.fireEvent("titlePress",t)}})}};a.createContent=function t(){const e=["UI.ChartType/Bullet","UI.ChartType/Donut","UI.ChartType/Pie","UI.ChartType/BarStacked","UI.ChartType/Area","UI.ChartType/Column","UI.ChartType/Bar","UI.ChartType/Line"].includes(this._chartTarget.ChartType);if(!e){return C(h,{text:"This chart type is not supported. Other Types yet to be implemented.."})}else if(this.isAnalytics){return C(l,{condition:bt(lt(ut(ct("@$ui5.node.isExpanded")),Ct(ct("@$ui5.node.level"),0))),visible:at(this._dataPoint.Value.$target),children:{contentTrue:this.createChartContent(),contentFalse:C(h,{text:"*"})}})}else{return this.createChartContent()}};a.createChartContent=function t(){const e={...this.getMicroChartContainerProperties(),binding:this._binding};return C(g,{...e,children:{microChartTitle:!this.showOnlyChart?this.createTitle(e.chartTitle):undefined}})};return e}(a),N=_t(z.prototype,"showOnlyChart",[b],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),E=_t(z.prototype,"metaPath",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),L=_t(z.prototype,"contextPath",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),S=_t(z.prototype,"navigationType",[m],{configurable:true,enumerable:true,writable:true,initializer:function(){return Pt.None}}),F=_t(z.prototype,"batchGroupId",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),R=_t(z.prototype,"size",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),V=_t(z.prototype,"hideOnNoData",[P],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),H=_t(z.prototype,"title",[M],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),$=_t(z.prototype,"description",[O],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),Q=_t(z.prototype,"titlePress",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),W=_t(z.prototype,"_chartTarget",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),q=_t(z.prototype,"_dataPoint",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),G=_t(z.prototype,"_targetNavigationPath",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),K=_t(z.prototype,"_microChartDataModelObjectPath",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),J=_t(z.prototype,"_binding",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),X=_t(z.prototype,"_sortOrder",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),Y=_t(z.prototype,"_measureDataPath",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),Z=_t(z.prototype,"isAnalytics",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),z))||x);et=Mt;return et},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/MultiTab", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/MessageStrip","sap/m/IconTabBar","sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ResourceModelHelper","sap/ui/core/Element","sap/ui/fl/write/api/ControlPersonalizationWriteAPI","sap/ui/model/json/JSONModel","sap/fe/base/jsx-runtime/jsx"],function(e,t,n,i,r,o,s,l,a,u,c,f){"use strict";var d,h,g,p,b,C,y,m,I,_,v,S,T,w,z,A,F,O,K,B,M,E,V;var P={};var R=l.getResourceModel;var D=e.property;var L=e.implementInterface;var x=e.event;var N=e.defineUI5Class;var j=e.association;var U=e.aggregation;function $(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,H(e,t)}function H(e,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H(e,t)}function q(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function Z(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}var J=function(e){e["Suspend"]="suspendBinding";e["Resume"]="resumeBinding";return e}(J||{});let W=(d=N("sap.fe.macros.MultiTab"),h=L("sap.fe.core.controllerextensions.viewState.IViewStateContributor"),g=D({type:"string"}),p=D({type:"boolean"}),b=U({type:"sap.fe.macros.Tab",multiple:true,isDefault:true}),C=j({type:"sap.fe.macros.controls.FilterBar",multiple:false}),y=D({type:"boolean",defaultValue:false}),m=D({type:"boolean",defaultValue:false}),I=D({type:"boolean",defaultValue:false}),_=j({type:"sap.fe.macros.controls.FilterBar",multiple:false}),v=x(),d(S=(T=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;$(i,"__implements__sap_fe_core_controllerextensions_viewState_IViewStateContributor",w,i);$(i,"id",z,i);$(i,"showCounts",A,i);$(i,"tabs",F,i);$(i,"filterBarId",O,i);$(i,"setVisibleOverridden",K,i);$(i,"freezeContent",B,i);$(i,"countsOutDated",M,i);$(i,"filterControl",E,i);$(i,"select",V,i);return i}P=t;k(t,e);var l=t.prototype;l.initialize=function e(){this.id=this.createId("Control");this.filterControl=this.filterBarId+"-content";this.content=this.createContent()};l.onMetadataAvailable=function e(){if(!this.content){this.initialize()}};l.retrieveState=function e(){return this?.content?{selectedKey:this.content.getSelectedKey()}:null};l.applyState=function e(t){if(t?.selectedKey){const e=this.content;if(e?.getItems().find(e=>e.getKey()===t.selectedKey)){e.setSelectedKey(t.selectedKey)}}};l.onBeforeRendering=function e(){this.getTabsModel();const t=this._getFilterControl();if(!t){this.setCountsOutDated(true)}const n=t?.getParent();this.getAllInnerControls().forEach(e=>{if(this.showCounts){e.attachEvent("internalDataRequested",this.internalRefreshTabsCount.bind(this))}e.suspendBinding()});if(n&&n.isA("sap.fe.macros.filterBar.FilterBarAPI")){n.waitForInitialState().then(()=>{n.attachEvent("internalSearch",this._onSearch.bind(this));n.attachEvent("internalFilterChanged",this._onFilterChanged.bind(this));return}).catch(()=>{r.error("Error while waiting for initial state of filter bar")})}};l.onAfterRendering=function e(){this.getSelectedInnerControl()?.resumeBinding(!this.getProperty("freezeContent"));if(this.showCounts&&!this.setVisibleOverridden){this.setProperty("setVisibleOverridden",true);this.getAllInnerControls().forEach(e=>{const t=e.setVisible;e.setVisible=n=>{if(e.getVisible()===false&&n){e.refreshCount()}return t.bind(e)(n)}})}};t.render=function e(t,n){t.renderControl(n.content)};l.getTabsModel=function e(){const t="tabsInternal";const n=this.content;if(!n){return undefined}let i=n.getModel(t);if(!i){i=new c({});n.setModel(i,t)}return i};l.getSelectedInnerControl=function e(){return(this.content?.getItems()).find(e=>e.getKey()===this.content?.getSelectedKey())};t.handleTabChange=function e(t){const n=t.getSource();const i=n.getParent();const r=t.getParameters();i._setInnerBinding(true);const o=r?.previousKey;const s=r?.selectedKey;if(s&&o!==s){const e=i._getFilterControl();if(e&&!i.getProperty("freezeContent")){if(!i.getSelectedInnerControl()?.getTabContent().length){i._refreshCustomView(e.getFilterConditions(),"tabChanged")}else{i.refreshSelectedInnerControlContent()}}u.add({changes:[{changeSpecificData:{changeType:"selectIconTabBarFilter",content:{selectedKey:s,previousSelectedKey:o}},selectorElement:n}]})}i._getViewController()?.getExtensionAPI()?.updateAppState();i.fireEvent("select",{iconTabBar:n,selectedKey:s,previousKey:o})};l.refreshSelectedInnerControlContent=function e(){if(this.getSelectedInnerControl()){this.getSelectedInnerControl()?.invalidateContent();this.getSelectedInnerControl()?.resumeBinding(true)}else{this._refreshCustomView(undefined,"forcedRefresh")}};l.invalidateContent=function e(t){this.setCountsOutDated(true);this.getAllInnerControls().forEach(e=>{if(t){for(const n of t){if(e.getKey()===`fe::table::${n}::LineItem`||e.getKey()===`fe::CustomTab::${n}`||e.getKey()===n){e.invalidateContent()}}}else{e.invalidateContent()}})};l.setCountsOutDated=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.setProperty("countsOutDated",t);if(t&&!this.getSelectedInnerControl()?.getTabContent().length){this.internalRefreshTabsCount()}};l.setFreezeContent=function e(t){this.setProperty("freezeContent",t);this._setInnerBinding()};l._updateMultiTabNotApplicableFields=function e(){const t=this.getTabsModel();const n=this._getFilterControl();if(t&&n){const e={};this.getAllInnerControls().forEach(t=>{const i=t.getKey();const r=t.refreshNotApplicableFields(n)||[];e[i]={notApplicable:{fields:r,title:this._setTabMessageStrip({entityTypePath:n.data("entityType"),ignoredFields:r,title:t.getText()})}};const o=t.getTabContent()?.[0];if(o&&o.isA("sap.fe.macros.Chart")){e[i]=this.checkNonFilterableEntitySet(o,i,e)}});t.setData(e)}};l.checkNonFilterableEntitySet=function e(t,n,i){const r=R(t);const o=t.getContent();const l=o&&s.getInvolvedDataModelObjects(o.getModel().getMetaModel().getContext(`${o.data("targetCollectionPath")}`))?.targetObject?.annotations?.Capabilities?.FilterRestrictions?.Filterable;if(l!==undefined&&!l){if(i[n].notApplicable.fields.includes("$search")){i[n].notApplicable.title+=" "+r.getText("C_LR_MULTIVIZ_CHART_MULTI_NON_FILTERABLE")}else{i[n].notApplicable.fields=["nonFilterable"];i[n].notApplicable.title=r.getText("C_LR_MULTIVIZ_CHART_MULTI_NON_FILTERABLE")}}return i[n]};l.getAllInnerControls=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return(this.content?.getItems()).filter(e=>!t||e.getVisible())??[]};l._getFilterControl=function e(){return a.getElementById(this.filterControl)};l._getViewController=function e(){const t=o.getTargetView(this);return t&&t.getController()};l._refreshCustomView=function e(t,n){this._getViewController()?.onViewNeedsRefresh?.({filterConditions:t,currentTabId:this.content?.getSelectedKey(),refreshCause:n})};l.internalRefreshTabsCount=function e(t){const n=t?.getSource();const i=n?n.getKey():this.content?.getSelectedKey();if(i){this.refreshTabsCount([i.split("::")[2]])}};l.refreshTabsCount=function e(t){if(!t){this.setCountsOutDated(true)}this.getAllInnerControls(true).forEach(e=>{if(this.countsOutDated||t&&t.includes(e.getKey().split("::")[2])){e.refreshCount()}});this.setCountsOutDated(false)};l.setTabContentToBeRefreshedOnNextOpening=function e(t){const n=this?.content?.getSelectedKey();const i=[];const r=t?t.includes(n.split("::")[2])||t.includes(n):true;if(t){for(const e of t){if(n!==`fe::table::${e}::LineItem`&&n!==`fe::CustomTab::${e}`&&n!==e){i.push(e)}}}else{this?.getAllInnerControls().forEach(e=>{if(e.getKey()!==n){i.push(e.getKey().split("::")[2])}})}this?.invalidateContent(i);if(r){this?.refreshSelectedInnerControlContent()}};l._setInnerBinding=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.content){this.getAllInnerControls().forEach(e=>{const n=e.getKey()===this.content?.getSelectedKey();const i=n&&!this.getProperty("freezeContent")?J.Resume:J.Suspend;e[i]?.(i===J.Resume?t&&n:undefined)})}};l._setTabMessageStrip=function e(t){let i="";const r=t.ignoredFields;const o=this._getFilterControl();if(o&&Array.isArray(r)&&r.length>0&&t.title){const e=n.getLabels(r,t.entityTypePath,o,R(o));i=n.getText(e,o,t.title);return i}};l._onSearch=function e(t){this.setCountsOutDated(true);this.setFreezeContent(false);if(this.getSelectedInnerControl()){this._updateMultiTabNotApplicableFields();if(this.getSelectedInnerControl().getTabContent().length==0){this.getSelectedInnerControl().fireEvent("internalDataRequested",t.getParameters())}}else{this._refreshCustomView(t.getParameter("conditions"),"search")}};l._onFilterChanged=function e(t){if(t.getParameter("conditionsBased")){this.setFreezeContent(true)}};l.createContent=function e(){return f(i,{expandable:false,headerMode:"Inline",id:this.createId("_mt"),stretchContentHeight:false,select:t.handleTabChange,children:{items:this.tabs}})};return t}(t),w=q(T.prototype,"__implements__sap_fe_core_controllerextensions_viewState_IViewStateContributor",[h],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),z=q(T.prototype,"id",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),A=q(T.prototype,"showCounts",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),F=q(T.prototype,"tabs",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),O=q(T.prototype,"filterBarId",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),K=q(T.prototype,"setVisibleOverridden",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),B=q(T.prototype,"freezeContent",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),M=q(T.prototype,"countsOutDated",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),E=q(T.prototype,"filterControl",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),V=q(T.prototype,"select",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),T))||S);P=W;return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/MultiValueField", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldHelper","sap/fe/macros/field/FieldTemplating","sap/ui/core/CustomData","sap/ui/mdc/MultiValueField","sap/ui/mdc/field/MultiValueFieldItem","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/controls/FormElementWrapper","sap/fe/core/formatters/CollaborationFormatter","sap/fe/core/helpers/ModelHelper","sap/fe/macros/field/FieldRuntime","sap/fe/macros/multivaluefield/FormatOptions","sap/fe/macros/multivaluefield/MultiValueFieldRuntime","sap/m/Avatar","sap/m/HBox","sap/ui/base/Event","sap/ui/core/Element","./ValueHelp","./field/FieldRuntimeHelper","sap/fe/base/jsx-runtime/jsx"],function(t,e,i,a,o,n,r,l,s,d,c,u,h,p,f,b,g,m,y,v,P,M,x,C,E,I,O){"use strict";var D,F,_,w,z,B,j,S,V,A,L,T,G,H,$,R,k,U,N,Q,q,W,J;var K={};var X=p.CollaborationFieldGroupPrefix;var Y=s.getVisibleExpression;var Z=s.getValueBinding;var tt=r.getDisplayMode;var et=r.getCollaborationExpression;var it=n.isPathInsertable;var at=n.isPathDeletable;var ot=n.getTargetObjectPath;var nt=n.getRelativePaths;var rt=n.getContextRelativeTargetObjectPath;var lt=n.enhanceDataModelPath;var st=o.isPropertyPathExpression;var dt=o.isProperty;var ct=o.isPathAnnotationExpression;var ut=o.isMultipleNavigationProperty;var ht=i.UI;var pt=e.property;var ft=e.implementInterface;var bt=e.defineUI5Class;var gt=e.association;var mt=e.aggregation;var yt=t.or;var vt=t.not;var Pt=t.isConstant;var Mt=t.ifElse;var xt=t.getExpressionFromAnnotation;var Ct=t.constant;var Et=t.compileExpression;var It=t.and;function Ot(t,e,i,a){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function Dt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ft(t,e)}function Ft(t,e){return Ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ft(t,e)}function _t(t,e,i,a,o){var n={};return Object.keys(a).forEach(function(t){n[t]=a[t]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(t,e,n),null):n}function wt(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let zt=(D=bt("sap.fe.macros.MultiValueField"),F=ft("sap.ui.core.IFormContent"),_=pt({type:"string"}),w=gt({type:"string"}),z=gt({type:"string"}),B=pt({type:"string",required:true}),j=pt({type:"boolean",required:false}),S=pt({type:"string"}),V=pt({type:"any",isBindingInfo:true}),A=mt({type:"sap.fe.macros.multivaluefield.FormatOptions",multiple:false,defaultClass:y}),L=pt({type:"boolean"}),D(T=(G=function(t){function e(e,i){var a;if(typeof e!=="string"){e._isInEditMode=Et(ht.IsEditable)}a=t.call(this,e,i)||this;Ot(a,"__implements__sap_ui_core_IFormContent",H,a);Ot(a,"id",$,a);Ot(a,"idPrefix",R,a);Ot(a,"vhIdPrefix",k,a);Ot(a,"metaPath",U,a);Ot(a,"readOnly",N,a);Ot(a,"contextPath",Q,a);Ot(a,"items",q,a);Ot(a,"formatOptions",W,a);Ot(a,"_isInEditMode",J,a);return a}K=e;Dt(e,t);var i=e.prototype;i._overrideValue=function t(e,i,a,o){if(this.items){const t=this.items.model??this.items.modelName;e={path:`${t}>${this.items.path}`};const n=i.targetObject;const r=`{${t}>${n.name}}`;if(ct(n.annotations.Common?.Text)){a=`{${t}>${n.annotations.Common?.Text?.path}}`}else{a=r}o=r}return{description:a,collectionBinding:e,key:o}};i._getMultiInputSettings=function t(i,a){const{collectionPath:o,itemDataModelObjectPath:n}=e._getPathStructure(i);const r={path:o,parameters:{$$ownRequest:true},templateShareable:false};const l=i.targetObject;const s=st(l)?l.$target:l;const d=s?.annotations.Common?.Text;const c=nt(i);const u=d?Et(xt(d,c)):Z(n,a??{},true);const h=Z(n,a??{},true);let p=false;if(nt(n).length>0){p=true}return{displayOnly:p,...this._overrideValue(r,n,u,h)}};e._getPathStructure=function t(e){let i="";const a=e.contextLocation?.targetEntitySet?e.contextLocation.targetEntitySet:e.startingEntitySet;const o=[];const n=e.contextLocation?.navigationProperties||[];for(const t of e.navigationProperties){if(e.contextLocation===undefined||!e.contextLocation.navigationProperties.some(e=>e.fullyQualifiedName===t.fullyQualifiedName)){o.push(t.name);n.push(t);if(a.navigationPropertyBinding.hasOwnProperty(t.name)){if(ut(t)){break}}}}i=`${o.join("/")}`;const r=Object.assign({},e);if(r.contextLocation){r.contextLocation.navigationProperties=n}return{collectionPath:i,itemDataModelObjectPath:r}};i.computeFieldGroupIds=function t(e){if(!e){return""}const i=e.getSideEffectsService();const a=i.computeFieldGroupIds(this.dataModelPath.targetEntityType.fullyQualifiedName,this.dataModelPath.targetObject.fullyQualifiedName);if(this.collaborationEnabled){const t=`${X}${this.dataSourcePath}`;a.push(t)}this.fieldGroupIds=a.length?a.join(","):undefined;const o=a.join(",");return o===""?undefined:o};i.initialize=function t(e){const i=this._getOwner();this.contextPath=this.contextPath??i?.preprocessorContext?.fullContextPath;const a=i?.getMetaModel();const o=a?.createBindingContext(e.getPath());const n=e?.getTarget();if(dt(n)&&n.annotations.UI?.DataFieldDefault!==undefined){this.enhancedMetaPath=a?.createBindingContext(`@${"com.sap.vocabularies.UI.v1.DataFieldDefault"}`,o)}else{this.enhancedMetaPath=o}const r=this.getDataModelObjectForMetaPath(this.enhancedMetaPath.getPath(),this.contextPath);this.convertedDataField=r.targetObject;this.dataModelPath=lt(r,this.convertedDataField.Value.path);this.dataSourcePath=ot(this.dataModelPath);this.property=this.dataModelPath.targetObject;let l=it(this.dataModelPath);const s=at(this.dataModelPath,{ignoreTargetCollection:true,authorizeUnresolvable:true});const d=at(this.dataModelPath);let c=Mt(s._type==="Unresolvable",yt(vt(Pt(d)),d),d);if(this.items){l=c=Ct(!this.readOnly)}else{this.visible=Y(this.dataModelPath,this.formatOptions)}this.insertableAndDeletable=It(l,c);this.collaborationExpression=Ct(false);this.computeCollaborationProperties();if(this.formatOptions?.displayOnly===true||this.readOnly===true){this.editMode="Display"}else if(this.readOnly===false){this.editMode=Et(Mt(It(l,c),Mt(this.collaborationExpression,Ct("ReadOnly"),Ct("Editable")),Ct("Display")))}else{this.editMode=Et(Mt(It(l,c,ht.IsEditable),Mt(this.collaborationExpression,Ct("ReadOnly"),Ct("Editable")),Ct("Display")))}this.displayMode=tt(this.dataModelPath);const u=lt(this.getDataModelObjectForMetaPath(this.enhancedMetaPath.getPath(),this.contextPath),this.convertedDataField.Value.path);this.item=this._getMultiInputSettings(u,this.formatOptions);if(this.item.displayOnly){this.editMode="Display"}this.collection=this.item.collectionBinding;const h=this.getAppComponent();this.fieldGroupIds=this.computeFieldGroupIds(h)};i.onMetadataAvailable=function t(){if(!this.content){this.content=this.createContent()}};i.isCollaborationDraftSupported=function t(){const e=this._getOwner();const i=e?.getMetaModel();return g.isCollaborationDraftSupported(i)};i.computeCollaborationProperties=function t(){if(this.isCollaborationDraftSupported()&&this.editMode!=="Display"){this.collaborationEnabled=true;this.collaborationExpression=r.getCollaborationExpression(this.dataModelPath,b.hasCollaborationActivity);this.collaborationInitialsExpression=Et(et(this.dataModelPath,b.getCollaborationActivityInitials));this.collaborationColorExpression=Et(et(this.dataModelPath,b.getCollaborationActivityColor))}};i.createContent=function t(){const e=this.getMetaPathObject(this.metaPath,this.contextPath);if(e){this.initialize(e);if(this.id){this.vhIdPrefix=a.generate([this.getId(),this.vhIdPrefix??"FieldValueHelp"])}else if(!this.vhIdPrefix){this.vhIdPrefix=this.createId("FieldValueHelp")}const t=this._getOwner()?.getRootController();const i=t.getView();const o=this._getOwner()?.getMetaModel();const n=o?.createBindingContext(e.getPath());const r=o?.createBindingContext(e.getContextPath());if(!n||!r){return}const s=this.collection;const h=this.getAppComponent()?.getManifestEntry("sap.fe")?.macros?.multiValueField?.itemsSizeLimit;if(h!==undefined){s.length=h}const p=l.computeLabelText(this.convertedDataField.Value,{context:n});const b=E.getValueHelpForMetaPath(this.getPageController(),rt(this.dataModelPath),this.contextPath??this.getOwnerContextPath(),this._getOwner()?.getMetaModel());let g;if(b&&b.getContent()){g=b.getContent().getId()}const y=O(c,{id:this.createId("_mvf"),delegate:{name:"sap/fe/macros/multivaluefield/MultiValueFieldDelegate"},items:s,display:this.displayMode,width:"100%",editMode:this.editMode,valueHelp:g,ariaLabelledBy:this.ariaLabelledBy?this.ariaLabelledBy:[],showEmptyIndicator:this.formatOptions?.showEmptyIndicator,label:p,change:v.handleChange.bind(v,t),fieldGroupIds:this.fieldGroupIds,validateFieldGroup:m.onValidateFieldGroup,children:{items:O(u,{description:this.item.description},this.item.key),customData:O(d,{value:this.insertableAndDeletable},"insertableAndDeletable")}});let D=null;if(this.collaborationEnabled){const e=O(P,{visible:this.collaborationExpression,initials:this.collaborationInitialsExpression,displaySize:"Custom",customDisplaySize:"1.5rem",customFontSize:"0.8rem",backgroundColor:this.collaborationColorExpression,press:()=>{I.showCollaborationEditUser(e,i)}});D=O(f,{children:O(M,{width:"100%",renderType:"Bare",alignItems:"End",children:{items:[y,e]}})});y?.addEventDelegate({onfocusin:e=>{const i=e.srcControl.getParent();t.collaborativeDraft?.handleContentFocusIn(i);if(a?.getDomRef()){a.attachEventOnce("closed",()=>{i?.focus()})}},onfocusout:e=>{let i=e.srcControl.getParent();if(i?.isA("sap.m.Tokenizer")){i=i.getParent()?.getParent()}const a=new x("",i,{fieldGroupIds:i.getFieldGroupIds()});t.collaborativeDraft.handleContentFocusOut(a)}},this);const a=C.getElementById(y.getValueHelp());a?.attachOpened(e=>{const i=e.getSource().getControl();t.collaborativeDraft.handleContentFocusIn(i)})}y.addCustomData(new d({key:"forwardedItemsBinding",value:this.items}));return this.collaborationEnabled?D:y}};i.setReadOnly=function e(i){t.prototype.setProperty.call(this,"readOnly",i);this.updateEditMode()};i.set_isInEditMode=function e(i){t.prototype.setProperty.call(this,"_isInEditMode",i);this.updateEditMode()};i.getMultiValueField=function t(){if(this.isCollaborationDraftSupported()){return this.content.content.getItems()[0]}else{return this.content}};i.updateEditMode=function t(){if(!this.content){return}const e=this.getMultiValueField();const i=e.data("insertableAndDeletable");if(this.readOnly===true){this.editMode="Display";e.setEditMode("Display")}else if(this.readOnly===false&&i){if(this._isInEditMode){this.editMode="Editable";e.setEditMode("Editable")}else{this.editMode="Display";e.setEditMode("Display")}}};i.onBeforeRendering=function t(){if(this.content){const t=this.getMultiValueField();const e=this.getAriaLabelledBy();for(const i of e){const e=t.getAriaLabelledBy();if(!e.includes(i)){t.addAriaLabelledBy(i)}}}};return e}(h),H=_t(G.prototype,"__implements__sap_ui_core_IFormContent",[F],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),$=_t(G.prototype,"id",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),R=_t(G.prototype,"idPrefix",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),k=_t(G.prototype,"vhIdPrefix",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),U=_t(G.prototype,"metaPath",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),N=_t(G.prototype,"readOnly",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),Q=_t(G.prototype,"contextPath",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),q=_t(G.prototype,"items",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),W=_t(G.prototype,"formatOptions",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),J=_t(G.prototype,"_isInEditMode",[L],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),G))||T);K=zt;return K},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ObjectTitle", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/Avatar","sap/m/FlexBox","sap/m/Label","sap/m/LightBox","sap/m/LightBoxItem","sap/m/Title","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,r,a,n,o,s,l,c){"use strict";var u,f,p,h,d;var b={};var v=t.property;var g=t.defineUI5Class;var m=e.getExpressionFromAnnotation;var I=e.compileExpression;function y(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function P(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,x(e,t)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function T(e,t,i,r,a){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function O(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let _=function(){function e(e){this.headerInfo=e}var t=e.prototype;t.hasAvatar=function e(){return!!(this.headerInfo.ImageUrl??this.headerInfo.TypeImageUrl??this.headerInfo.Initials)};t.getTitle=function e(){return I(m(this.headerInfo.Title.Value))};t.isDescriptionVisible=function e(){return this.headerInfo.Description?.annotations?.UI?.Hidden?.valueOf()!==false};t.getDescription=function e(){return I(m(this.headerInfo.Description.Value))};return e}();let D=(u=g("sap.fe.macros.ObjectTitle"),f=v({type:"string"}),u(p=(h=function(e){function t(t,i){var r;r=e.call(this,t,i)||this;y(r,"metaPath",d,r);return r}b=t;P(t,e);var i=t.prototype;i.onMetadataAvailable=function e(){if(!this.content){this.content=this.createContent()}};i._createAvatar=function e(){return c(r,{class:"sapUiSmallMarginEnd",src:"{avatar>src}",initials:"{avatar>initials}",fallbackIcon:"{avatar>fallbackIcon}",displayShape:"{avatar>displayShape}",displaySize:"S",imageFitType:"Cover",children:{detailBox:c(o,{children:c(s,{imageSrc:"{avatar>src}",title:"{= OP.getExpressionForTitle(${fullContextPath>@@UI.getDataModelObjectPath}, ${viewData>}, ${headerInfo>@@UI.getConverterContext})}",subtitle:"{= OP.getExpressionForDescription(${fullContextPath>@@UI.getDataModelObjectPath}, ${headerInfo>@@UI.getConverterContext})}"})})}})};i._createTitle=function e(t){return c(l,{text:t.getTitle(),wrapping:"true",level:"H2"})};i._createDescription=function e(t){return c(n,{text:t.getDescription(),wrapping:"true"})};i._getTitlePart=function e(t){if(t.isDescriptionVisible()){return c(a,{direction:"Column",children:{items:[this._createTitle(t),this._createDescription(t)]}})}else{return this._createTitle(t)}};i.createContent=function e(){const t=this.getMetaPathObject(`@${this.metaPath}`);if(t){const e=new _(t.getTarget());if(e.hasAvatar()){return c(a,{renderType:"Bare",children:{items:[this._createAvatar(),this._getTitlePart(e)]}})}else{return this._getTitlePart(e)}}};return t}(i),d=T(h.prototype,"metaPath",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return"com.sap.vocabularies.UI.v1.HeaderInfo"}}),h))||p);b=D;return b},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/Page", ["sap/f/DynamicPage","sap/f/DynamicPageHeader","sap/f/DynamicPageTitle","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controls/CommandExecution","sap/fe/macros/ObjectTitle","sap/m/Avatar","sap/m/AvatarShape","sap/m/AvatarSize","sap/m/FlexBox","sap/m/Label","sap/m/Title","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,r,a,n,l,o,s,c,u,p,d,f,b){"use strict";var m,h,g,y,v,z,C,P,S,w,x,T,j,O,B;var D={};var A=r.property;var k=r.defineUI5Class;var E=r.aggregation;function M(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function I(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_(e,t)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function H(e,t,i,r,a){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function L(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let U=(m=k("sap.fe.macros.Page"),h=E({type:"sap.ui.core.Control",multiple:true,isDefault:true}),g=E({type:"sap.ui.core.Control",multiple:true}),y=A({type:"string"}),v=A({type:"boolean"}),z=A({type:"string"}),C=A({type:"string"}),m(P=(S=function(r){function a(e,t){var i;i=r.call(this,e,t)||this;M(i,"items",w,i);M(i,"actions",x,i);M(i,"title",T,i);M(i,"editable",j,i);M(i,"description",O,i);M(i,"avatarSrc",B,i);return i}D=a;I(a,r);var m=a.prototype;m.onMetadataAvailable=function e(){this.content=this.createContent()};m.createAvatar=function e(t){if(this.avatarSrc){return b(s,{class:"sapUiSmallMarginEnd",src:this.avatarSrc,displayShape:c.Square,displaySize:t?u.XL:u.S})}};m.createTitle=function e(){return b(f,{text:this.title})};m.createDescription=function e(){return b(d,{text:this.description})};m.getTitlePart=function e(){if(this.title&&this.description){return b(p,{direction:"Column",children:{items:[this.createTitle(),this.createDescription()]}})}else if(this.title){return b(p,{direction:"Column",children:{items:[this.createTitle()]}})}else{return b(o,{})}};m.createContent=function r(){return b(e,{id:this.createId("page"),children:{title:b(i,{id:this.createId("title"),children:{expandedHeading:this.getTitlePart(),snappedHeading:b(p,{renderType:"Bare",children:{items:[this.createAvatar(false),this.getTitlePart()]}}),actions:this.actions}}),header:b(t,{children:this.createAvatar(true)}),content:b(p,{id:this.createId("content"),direction:"Column",children:{items:this.items.map(e=>{e.addStyleClass("sapUiMediumMarginBottom");return e})}}),dependents:[b(l,{execute:()=>{const e=this.getBindingContext();const t=this.getModel("ui");n.lock(t);this.getPageController()?.editFlow?.editDocument(e).finally(function(){n.unlock(t)})},enabled:true,visible:true,command:"Edit"})]}})};return a}(a),w=H(S.prototype,"items",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),x=H(S.prototype,"actions",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),T=H(S.prototype,"title",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),j=H(S.prototype,"editable",[v],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),O=H(S.prototype,"description",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),B=H(S.prototype,"avatarSrc",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),S))||P);D=U;return D},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/Paginator", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/base/HookSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/HBox","sap/ui/core/Element","sap/ui/core/InvisibleText","sap/ui/model/json/JSONModel","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(t,e,n,i,r,o,a,s,u,l){"use strict";var d,c,p,h,f,g,b,C,_,x,I,B,T,v,y,A;function O(t){return new Promise((e,n)=>{sap.ui.require([t],n=>{if(!(n&&n.__esModule)){n=n===null||!(typeof n==="object"&&t.endsWith("/library"))?{default:n}:n;Object.defineProperty(n,"__esModule",{value:true})}e(n)},t=>{n(t)})})}var P={};var w=n.controllerExtensionHandler;var E=e.property;var m=e.defineUI5Class;var D=e.defineReference;var L=t.pathInModel;var M=t.or;var N=t.compileExpression;function j(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function z(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,U(t,e)}function U(t,e){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},U(t,e)}function H(t,e,n,i,r){var o={};return Object.keys(i).forEach(function(t){o[t]=i[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(t,e,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(t,e,o),null):o}function R(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let G=(d=m("sap.fe.macros.Paginator"),c=E({type:"string"}),p=E({type:"string"}),h=D(),f=D(),g=D(),b=D(),C=w("paginator","initialize"),d(_=(x=function(t){function e(e,n){var i;i=t.call(this,e,n)||this;j(i,"id",I,i);j(i,"ariaTitle",B,i);j(i,"upButton",T,i);j(i,"downButton",v,i);j(i,"upDescription",y,i);j(i,"downDescription",A,i);i.paginatorModel=new s({navUpEnabled:false,navDownEnabled:false});i._iCurrentIndex=-1;return i}P=e;z(e,t);e.load=async function t(){if(e.ObjectPageHeaderActionButton===undefined){const{default:t}=await O("sap/uxap/ObjectPageHeaderActionButton");e.ObjectPageHeaderActionButton=t}return this};var n=e.prototype;n.onMetadataAvailable=async function t(n){await e.load();this.content=this.createContent(n)};n.onModelContextChange=function t(e){const n=e.getSource();if(n.isA("sap.m.HBox")&&this.upButton.current&&this.downButton.current){const t=n.getBindingContext();if(!t){return}this._updateDescriptionAndFocus(this.upButton.current,this.downButton.current)}};n.initialize=function t(e,n){if(e&&e.getAllCurrentContexts){this._oListBinding=e;e.attachEvent("change",this._updateCurrentIndexAndButtonEnablement.bind(this))}else{this._oListBinding=undefined}if(n){this._oCurrentContext=n}this._updateCurrentIndexAndButtonEnablement()};n._updateCurrentIndexAndButtonEnablement=function t(){if(this._oCurrentContext&&this._oListBinding){const t=this._oCurrentContext.getPath();this._iCurrentIndex=this._oListBinding?.getAllCurrentContexts()?.findIndex(function(e){return e&&e.getPath()===t});const e=this._oListBinding?.getAllCurrentContexts()?.[this._iCurrentIndex];if(!this._iCurrentIndex&&this._iCurrentIndex!==0||!e||this._oCurrentContext.getPath()!==e.getPath()){this._updateCurrentIndex()}}this._handleButtonEnablement()};n._handleButtonEnablement=function t(){const e=this.paginatorModel;if(this._oListBinding&&this._oListBinding.getAllCurrentContexts()?.length>1&&this._iCurrentIndex>-1){if(this._iCurrentIndex===this._oListBinding.getAllCurrentContexts().length-1){e.setProperty("/navDownEnabled",false)}else if(this._oListBinding.getAllCurrentContexts()[this._iCurrentIndex+1].isInactive()){e.setProperty("/navDownEnabled",false)}else{e.setProperty("/navDownEnabled",true)}if(this._iCurrentIndex===0){e.setProperty("/navUpEnabled",false)}else if(this._oListBinding.getAllCurrentContexts()[this._iCurrentIndex-1].isInactive()){e.setProperty("/navUpEnabled",false)}else{e.setProperty("/navUpEnabled",true)}}else{e.setProperty("/navUpEnabled",false);e.setProperty("/navDownEnabled",false)}};n._updateCurrentIndex=function t(){if(this._oCurrentContext&&this._oListBinding){const t=this._oCurrentContext.getPath();this._iCurrentIndex=this._oListBinding?.getAllCurrentContexts()?.findIndex(function(e){return e&&e.getPath()===t})}};n.updateCurrentContext=async function t(e){if(!this._oListBinding){return}const n=this._oCurrentContext?.getModel?this._oCurrentContext?.getModel():undefined;await(n?.submitBatch("$auto"));const i=this._oListBinding.getAllCurrentContexts();const r=this._iCurrentIndex+e;const o=i[r];if(o){const t=this.getPageController()?.paginator.onBeforeContextUpdate(this._oListBinding,this._iCurrentIndex,e);if(!t){this._iCurrentIndex=r;this._oCurrentContext=o}this.getPageController()?.paginator.onContextUpdate(o)}this._handleButtonEnablement()};n._updateDescriptionAndFocus=function t(e,n){const i=o.getActiveElement();const r=e.getEnabled();const a=n.getEnabled();let s="";let u="";if(r&&!a&&i===n){e.focus();s=this.getTranslatedText("M_PAGINATOR_TITLE_BOTTOM");u=""}else if(a&&!r&&i===e){n.focus();s="";u=this.getTranslatedText("M_PAGINATOR_TITLE_TOP")}if(this.upDescription.current){this.upDescription.current.setText(s)}if(this.downDescription.current){this.downDescription.current.setText(u)}};n.createContent=function t(n){const i=L("/navUpEnabled","paginator");const o=L("/navDownEnabled","paginator");const s=M(i,o);const d=L("T_PAGINATOR_CONTROL_PAGINATOR_TOOLTIP_UP","sap.fe.i18n");const c=L("T_PAGINATOR_CONTROL_PAGINATOR_TOOLTIP_DOWN","sap.fe.i18n");const p=this.ariaTitle?this.getTranslatedText("M_PAGINATOR_ANNOUNCEMENT_TITLE_LOADED",[this.ariaTitle]):this.getTranslatedText("M_PAGINATOR_ANNOUNCEMENT_OBJECT_LOADED");n.setModel(this.paginatorModel,"paginator");return l(r,{displayInline:"true",id:this.createId("_box"),visible:N(s),modelContextChange:t=>{this.onModelContextChange(t)},children:[u(a,{ref:this.upDescription,id:this.createId("upDescription")}),u(a,{ref:this.downDescription,id:this.createId("downDescription")}),u(a,{id:this.createId("titleDescription"),text:p}),u(e.ObjectPageHeaderActionButton,{id:this.createId("previousItem"),ref:this.upButton,enabled:N(i),tooltip:N(d),icon:"sap-icon://navigation-up-arrow",press:async()=>this.updateCurrentContext(-1),type:"Transparent",importance:"High",ariaDescribedBy:[this.createId("titleDescription"),this.createId("upDescription")].filter(t=>t!==undefined)}),u(e.ObjectPageHeaderActionButton,{id:this.createId("nextItem"),ref:this.downButton,enabled:N(o),tooltip:N(c),icon:"sap-icon://navigation-down-arrow",press:async()=>this.updateCurrentContext(1),type:"Transparent",importance:"High",ariaDescribedBy:[this.createId("titleDescription"),this.createId("downDescription")].filter(t=>t!==undefined)})]})};return e}(i),I=H(x.prototype,"id",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),B=H(x.prototype,"ariaTitle",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),T=H(x.prototype,"upButton",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),v=H(x.prototype,"downButton",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),y=H(x.prototype,"upDescription",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),A=H(x.prototype,"downDescription",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),H(x.prototype,"initialize",[C],Object.getOwnPropertyDescriptor(x.prototype,"initialize"),x.prototype),x))||_);P=G;return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/RichTextEditor", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/BindingHelper","sap/fe/macros/richtexteditor/ButtonGroup","sap/fe/macros/richtexteditor/Plugin","sap/m/FormattedText","sap/ui/richtexteditor/RichTextEditor","sap/fe/base/jsx-runtime/jsx"],function(e,t,r,i,n,o,u,a,l){"use strict";var s,p,c,d,f,b,y,h,g,m,v,C,_,w,G,x,z,P,T;var E={};var B=i.UI;var O=t.property;var I=t.defineUI5Class;var D=t.aggregation;var M=e.compileExpression;function j(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,q(e,t)}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function R(e,t,r,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function A(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let F=(s=I("sap.fe.macros.RichTextEditor"),p=O({type:"string",required:true}),c=O({type:"any",isBindingInfo:true}),d=O({type:"boolean"}),f=D({type:"sap.fe.macros.richtexteditor.ButtonGroup",multiple:true,defaultClass:n}),b=D({type:"sap.fe.macros.richtexteditor.Plugin",multiple:true,defaultClass:o}),y=O({type:"boolean"}),h=O({type:"any",bindable:false}),g=O({type:"boolean"}),s(m=(v=function(e){function t(t,r){var i;t._isInEditMode=M(B.IsEditable);i=e.call(this,t,r)||this;j(i,"id",C,i);j(i,"value",_,i);j(i,"readOnly",w,i);j(i,"buttonGroups",G,i);j(i,"plugins",x,i);j(i,"excludeDefaultPlugins",z,i);j(i,"required",P,i);j(i,"_isInEditMode",T,i);i.getPlugins=()=>{let e;if(i.excludeDefaultPlugins){e=[]}else{e=["emoticons","directionality","image","table","link","powerpaste"].map(e=>({name:e}))}if(i.plugins?.length){for(const t of i.plugins){e.push(t)}}return{plugins:e}};i.getButtonGroups=()=>{if(i.buttonGroups&&i.buttonGroups.length>0){return i.buttonGroups.map(e=>({name:e.name??"",visible:e.visible==="true",priority:e.priority,row:e.row,customToolbarPriority:e.customToolbarPriority,buttons:e.buttons?.split(",")||[]}))}return[]};i.getEditContent=()=>{if(i._editContent){i._editContent.destroy()}i._editContent=l(a,{id:i.createId("_rte"),value:i.value,visible:true,customToolbar:true,editable:true,editorType:"TinyMCE6",showGroupFontStyle:true,showGroupTextAlign:true,showGroupStructure:true,showGroupFont:false,showGroupClipboard:true,showGroupInsert:false,showGroupLink:false,showGroupUndo:false,sanitizeValue:true,wrapping:true,width:"100%",required:i.required,...i.getPlugins(),buttonGroups:i.buttonGroups.length>0?[]:undefined});i._editContent.attachReady(i.addButtonGroups,i);return i._editContent};return i}E=t;k(t,e);var r=t.prototype;r.onMetadataAvailable=function t(r){e.prototype.onMetadataAvailable.call(this,r);this.content=this.createContent()};r.createContentDebounced=function e(){if(this._contentTimer){clearTimeout(this._contentTimer)}this._contentTimer=setTimeout(()=>{this.content=this.createContent()},200)};r.exit=function e(){this._displayContent?.destroy();this._editContent?.destroy()};r.set_isInEditMode=function t(r){e.prototype.setProperty.call(this,"_isInEditMode",r);this.createContentDebounced()};r.setReadOnly=function t(r){e.prototype.setProperty.call(this,"readOnly",r);this.createContentDebounced()};r.addButtonGroups=function e(){const t=this.getButtonGroups().reverse();for(const e of t){this._editContent?.addButtonGroup(e)}this._editContent?.detachReady(this.addButtonGroups,this)};r.getDisplayContent=function e(){if(this._displayContent){this._displayContent.destroy()}this._displayContent=l(u,{htmlText:this.value});return this._displayContent};r.createContent=function e(){if(this._isInEditMode&&!this.readOnly){return this.getEditContent()}else{return this.getDisplayContent()}};return t}(r),C=R(v.prototype,"id",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),_=R(v.prototype,"value",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),w=R(v.prototype,"readOnly",[d],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),G=R(v.prototype,"buttonGroups",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return[]}}),x=R(v.prototype,"plugins",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),z=R(v.prototype,"excludeDefaultPlugins",[y],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),P=R(v.prototype,"required",[h],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),T=R(v.prototype,"_isInEditMode",[g],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),v))||m);E=F;return E},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/RichTextEditorWithMetadata", ["sap/fe/base/ClassSupport","sap/fe/macros/RichTextEditor","sap/fe/macros/field/FieldTemplating"],function(e,t,r){"use strict";var i,a,n,o,l,u,c;var s={};var f=r.getValueBinding;var p=e.property;var b=e.defineUI5Class;function d(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function y(e,t,r,i,a){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function m(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let g=(i=b("sap.fe.macros.RichTextEditorWithMetadata"),a=p({type:"string",required:true}),n=p({type:"string",required:true}),i(o=(l=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;d(i,"metaPath",u,i);d(i,"contextPath",c,i);return i}s=t;h(t,e);var r=t.prototype;r.onMetadataAvailable=function t(r){const i=this.getDataModelObjectForMetaPath(this.metaPath,this.contextPath);if(i){this.value=f(i,{})}e.prototype.onMetadataAvailable.call(this,r)};return t}(t),u=y(l.prototype,"metaPath",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),c=y(l.prototype,"contextPath",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),l))||o);s=g;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/Share", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/controls/CommandExecution","sap/fe/core/helpers/BindingHelper","sap/m/Menu","sap/m/MenuItem","sap/ui/core/CustomData","sap/ui/performance/trace/FESRHelper","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/macros/share/ShareOptions","sap/m/OverflowToolbarMenuButton","sap/ui/base/BindingParser","./share/MsTeamsOptions","./share/ShareAPI","sap/fe/base/jsx-runtime/jsx"],function(e,t,n,a,i,s,r,o,l,c,u,h,p,m,f,b,d){"use strict";var M,g,A,_,S,O,C,I,T,E,y,w,v,B,R,L,k,N,V,x,P,D,z,H,j,J,U,F,G,$,W;function q(e){return new Promise((t,n)=>{sap.ui.require([e],n=>{if(!(n&&n.__esModule)){n=n===null||!(typeof n==="object"&&e.endsWith("/library"))?{default:n}:n;Object.defineProperty(n,"__esModule",{value:true})}t(n)},e=>{n(e)})})}var K={};var Q=s.UI;var X=n.property;var Y=n.defineUI5Class;var Z=n.defineReference;var ee=n.aggregation;var te=t.resolveBindingString;var ne=t.or;var ae=t.not;var ie=t.isConstant;var se=t.constant;var re=t.compileExpression;var oe=t.and;function le(e,t,n,a){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}function ce(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ue(e,t)}function ue(e,t){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ue(e,t)}function he(e,t,n,a,i){var s={};return Object.keys(a).forEach(function(e){s[e]=a[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(n,a){return a(e,t,n)||n},s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer?(Object.defineProperty(e,t,s),null):s}function pe(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}const me={COLLABORATION_MSTEAMS_CARD:"COLLABORATION_MSTEAMS_CARD",COLLABORATION_MSTEAMS_TAB:"COLLABORATION_MSTEAMS_TAB",COLLABORATION_MSTEAMS_CHAT:"COLLABORATION_MSTEAMS_CHAT"};const fe={...me,...{SEND_EMAIL:"SEND_EMAIL",SHARE_JAM:"SHARE_JAM",SAVE_AS_TILE:"SAVE_AS_TILE",MS_TEAMS_GROUP:"MS_TEAMS_GROUP",SHARE_COLLABORATION_MANAGER:"SHARE_COLLABORATION_MANAGER"}};let be=(M=Y("sap.fe.macros.Share"),g=X({type:"string"}),A=ee({type:"sap.fe.macros.share.ShareOptions",defaultClass:h,isDefault:true}),_=ee({type:"sap.fe.macros.share.MsTeamsOptions",defaultClass:f}),S=Z(),O=Z(),C=Z(),I=Z(),T=Z(),E=Z(),y=Z(),w=Z(),v=Z(),B=Z(),R=Z(),M(L=(k=function(t){function n(e,n){var a;let i;if(typeof e!=="string"){n=e;i=n.id}else{i=e}n??={};n.shareAPIId=i;n.id=undefined;a=t.call(this,undefined,n)||this;le(a,"shareAPIId",N,a);le(a,"shareOptions",V,a);le(a,"msTeamsOptions",x,a);le(a,"menuButton",P,a);le(a,"cmdExecution",D,a);le(a,"menu",z,a);le(a,"saveAsTileMenuItem",H,a);le(a,"shareAsCollaborationManager",j,a);le(a,"shareViaJAMMenuItem",J,a);le(a,"sendEmailMenuItem",U,a);le(a,"shareAsCardMenuItem",F,a);le(a,"shareViaChatMenuItem",G,a);le(a,"shareAsTabMenuItem",$,a);le(a,"msTeamsGroupMenuItem",W,a);return a}K=n;ce(n,t);var s=n.prototype;s.onMetadataAvailable=function e(n){t.prototype.onMetadataAvailable.call(this,n);this.content=this.createContent(n.getAppComponent())};s._initializeMenuItems=async function e(t,n){let a=false;if(n.getEnvironmentCapabilities().getCapabilities().Collaboration){const{default:e}=await q("sap/suite/ui/commons/collaboration/CollaborationHelper");a=await e.isTeamsModeActive()}if(a){this.menuButton.current?.unbindProperty("visible",true);this.menuButton.current?.setVisible(false);return}const i=t.getController();const s=n.getShellServices();const r=await s.waitForPluginsLoad();if(!r){const e=this.menuButton.current?.getAggregation("_control");e?.attachEventOnce("press",{},()=>this._initializeMenuItems,this)}this._blockInternalConfig=this._getShareBlockConfig(t);await this._addMenuItems(i,s);this.setShareOptionsVisibility()};s._addMenuItems=async function e(t,n){this._addSendEmailOption(t);await this._addShellBasedMenuItems(t,n)};s._addSendEmailOption=function e(t){if(this.shareOptions?.showSendEmail??true){this?.menu?.current?.addItem(d(o,{ref:this.sendEmailMenuItem,text:this.getTranslatedText("T_SEMANTIC_CONTROL_SEND_EMAIL"),icon:"sap-icon://email",press:async()=>t.share._triggerEmail()}))}};s._addShellBasedMenuItems=async function e(t,n){const a=n.hasUShell();if(a){this._addShareViaJAMOption(t,n);await this._addMSTeamsOptions(t);await this._addCollaborationManagerOption(t);await this._addSaveAsTileOption(t)}};s._addCollaborationManagerOption=async function t(n){try{const e=n.getAppComponent().getCollaborativeToolsService();const t=await e.getCollaborationManagerOption();if(t&&(this.shareOptions?.showCollaborationManager??false)){const e=d(o,{ref:this.shareAsCollaborationManager,text:t.text,icon:t.icon,press:async e=>this._collaborationManagerButtonPress(t.press,e)});c.setSemanticStepname(e,"press",t.fesrStepName);this?.menu?.current?.addItem(e)}}catch(t){const n=t instanceof Error?t.message:String(t);e.error(`FE : Adding Collaboration Manager Option : ${n}`)}};s._collaborationManagerButtonPress=async function e(t,n){const i=n.getSource();const s=a.getTargetView(i);const r=s.getController();await r.share._adaptShareMetadata();const o=s.getModel("shareInfo");if(o){const e=o.getData();const{collaborationInfo:n}=e;t(n.appTitle,n.url)}};s._addShareViaJAMOption=function e(t,n){const a=!!n.isJamActive?.();if(a){this?.menu?.current?.addItem(d(o,{ref:this.shareViaJAMMenuItem,text:this.getTranslatedText("T_COMMON_SAPFE_SHARE_JAM"),icon:"sap-icon://share-2",press:async()=>t.share._triggerShareToJam()}))}};s._addMSTeamsOptions=async function t(n){try{if(this._blockInternalConfig?.showMsTeamsOptions===false){return}const e=n.getAppComponent().getCollaborativeToolsService();const t=await e.getTeamsCollabOptionsViaShare({isShareAsCardEnabled:this._getIsShareAsCardEnabled()});if(!t){return}for(const e of t){const t=this._getMsTeamsMenuItemSettings(e);const n=t.items;const a=Array.isArray(n)&&n.length?fe.MS_TEAMS_GROUP:e.key;this._addMsTeamsMenuItem(t,a,e.fesrStepName)}}catch(t){const n=t instanceof Error?t.message:String(t);e.error(`FE : Buildingblock : Share : adding MS teams options : ${n}`)}};s._addSaveAsTileOption=async function t(n){try{const{default:e}=await q("sap/ushell/ui/footerbar/AddBookmarkButton");const t=new e;if(t.getEnabled()){this?.menu?.current?.addItem(d(o,{ref:this.saveAsTileMenuItem,text:t.getText(),icon:t.getIcon(),press:async()=>n.share._saveAsTile(this.saveAsTileMenuItem.current),children:{dependents:[t]}}))}else{t.destroy()}}catch(t){const n=t instanceof Error?t.message:String(t);e.error(`FE : Buildingblock : Share : adding Save as tile option : ${n}`)}};s._getIsShareAsCardEnabled=function t(){const n=this.msTeamsOptions?.enableCard??false;if(typeof n==="boolean"){return n}else if(typeof n==="string"){try{return n==="true"||Boolean(m.complexParser(n))}catch(t){e.error(t)}}return true};s._getMsTeamsMenuItemSettings=function e(t){const n=this._getMsTeamsSubOptions(t?.subOptions);const a={text:t.text,icon:t.icon,items:n};if(n.length===0){a.press=async e=>this.collaborationMenuItemPress(e);a["customData"]=new l({key:"collaborationData",value:t})}return a};s._addMsTeamsMenuItem=function e(t,n,a){const i=d(o,{ref:this._getMenuItemReference(n),text:t.text,icon:t.icon,customData:t.customData,items:t.items});if(t.press){i.attachPress(t.press);if(a){c.setSemanticStepname(i,"press",a)}}this?.menu?.current?.addItem(i)};s._getMsTeamsSubOptions=function e(t){if(!Array.isArray(t)){return[]}return t.reduce((e,t)=>{const n=d(o,{ref:this._getMenuItemReference(t.key),text:t.text,icon:t.icon,press:async e=>this.collaborationMenuItemPress(e),customData:new l({key:"collaborationData",value:t})});if(t.fesrStepName){c.setSemanticStepname(n,"press",t.fesrStepName)}return[...e,n]},[])};s.collaborationMenuItemPress=async function t(n){const i=n.getSource();const s=a.getTargetView(i);const r=s.getController();await r.share._adaptShareMetadata();const o=s.getModel("shareInfo");if(o){const t=o.getData();const{collaborationInfo:n}=t;const a=i.data("collaborationData");const s=r.getAppComponent().getCollaborativeToolsService();const l=(await s.getCollaborationServices()).oTeamsHelperService;if(a["key"]===me.COLLABORATION_MSTEAMS_CARD){const t=l.isFeatureFlagEnabled();const a=t?await r.share.getCardDefinition():undefined;let i;if(a){const e=r.getAppComponent().getShellServices();const{semanticObject:t,action:n}=e.parseShellHash(document.location.hash);i=`${t}_${n}`}else{const n=!t?"Feature flag disabled in collaboration teams helper":"Card definition was not created";e.info(`FE V4 : Share block : share as Card : ${n}`)}n["cardManifest"]=a;n["cardId"]=i}l.share(a,n)}};s.setShareOptionsVisibility=function e(){const t=Object.keys(fe);const n=t.reduce((e,t)=>{const n=this._getShareOptionVisibilityExpression(t);this._setShareOptionVisibility(t,n);return[...e,n]},[]);const a=ne(...n);if(this.menuButton.current&&this.cmdExecution.current){this._bindUIVisibility(this.menuButton.current,a);this._bindUIVisibility(this.cmdExecution.current,a)}};s._getMenuItemReference=function e(t){let n;switch(t){case fe.COLLABORATION_MSTEAMS_CARD:n=this.shareAsCardMenuItem;break;case fe.COLLABORATION_MSTEAMS_CHAT:n=this.shareViaChatMenuItem;break;case fe.COLLABORATION_MSTEAMS_TAB:n=this.shareAsTabMenuItem;break;case fe.SEND_EMAIL:n=this.sendEmailMenuItem;break;case fe.SHARE_JAM:n=this.shareViaJAMMenuItem;break;case fe.SAVE_AS_TILE:n=this.saveAsTileMenuItem;break;case fe.MS_TEAMS_GROUP:n=this.msTeamsGroupMenuItem;break;case fe.SHARE_COLLABORATION_MANAGER:n=this.shareAsCollaborationManager;break;default:break}return n};s._getShareOptionVisibilityExpression=function e(t){const n=this._getMenuItemReference(t);if(!n?.current){return se(false)}let a;switch(t){case fe.COLLABORATION_MSTEAMS_CARD:case fe.COLLABORATION_MSTEAMS_CHAT:case fe.COLLABORATION_MSTEAMS_TAB:a=this._getMSTeamsShareOptionVisibility(t);break;case fe.SHARE_COLLABORATION_MANAGER:a=this._getCollaborationOptionExpression();break;case fe.SEND_EMAIL:{const e=te(this.shareOptions?.showSendEmail??true,"boolean");const t=te(this._blockInternalConfig.showSendEmail??true,"boolean");if(ie(t)&&t.value===false){a=se(false)}else if(ie(t)&&t.value===true){a=this.shareOptions?.showSendEmail??true}else{a=oe(e,t)}break}case fe.SHARE_JAM:case fe.SAVE_AS_TILE:{a=se(true);break}case fe.MS_TEAMS_GROUP:{const e=this._getShowMsTeamsOptionsExpression();const t=Object.keys(me);const n=t.reduce((e,t)=>{const n=this._getMSTeamsShareOptionVisibility(t);return[...e,n]},[]);a=oe(e,ne(...n));break}default:a=se(false)}return a};s._getCollaborationOptionExpression=function e(){const t=this.shareOptions?.showCollaborationManager??false;const n=te(t,"boolean");const a=this._blockInternalConfig.showCollaborationManager??true;const i=te(a,"boolean");return oe(n,i)};s._getShowMsTeamsOptionsExpression=function e(){const t=this._blockInternalConfig.showMsTeamsOptions??true;return te(t,"boolean")};s._getShareAsCardVisibility=function e(){let t;const n=this._getMenuItemReference(fe.COLLABORATION_MSTEAMS_CARD);if(n?.current){const e=this._getShowMsTeamsOptionsExpression();const n=this.msTeamsOptions?.enableCard??true;const a=te(n,"boolean");const i=this._blockInternalConfig.enableCard??true;const s=te(i,"boolean");const r=oe(a,s);t=oe(ae(Q.IsEditable),e,r)}else{t=se(false)}return t};s._getMSTeamsShareOptionVisibility=function e(t){if(t===fe.COLLABORATION_MSTEAMS_CARD){return this._getShareAsCardVisibility()}const n=this._getMenuItemReference(t);return n?.current?this._getShowMsTeamsOptionsExpression():se(false)};s._setShareOptionVisibility=function e(t,n){const a=this._getMenuItemReference(t);if(a?.current){this._bindUIVisibility(a.current,n)}};s._bindUIVisibility=function t(n,a){const i=re(a);if(i&&i.startsWith("{")&&i?.endsWith("}")){try{const e=m.complexParser(i);n.bindProperty("visible",e)}catch(t){e.error(t)}}else if(i==="false"){n.unbindProperty("visible",true);n.setVisible(false)}};s._getShareBlockConfig=function e(t){const n=t.getViewData();const a=n?.share;const i=t.getController();const s=i.getAppComponent().getManifestEntry("sap.fe")?.app?.share;const r=this._getOptionBlockConfig(s?.showSendEmail,a?.showSendEmail);const o=this._getOptionBlockConfig(s?.showCollaborationManager,a?.showCollaborationManager);const l=this._getOptionBlockConfig(s?.teams?.showMsTeamsOptions,a?.teams?.showMsTeamsOptions);const c=this._getOptionBlockConfig(s?.teams?.asCard,a?.teams?.asCard);return{showSendEmail:r,showMsTeamsOptions:l,enableCard:c,showCollaborationManager:o}};s._getOptionBlockConfig=function e(t,n){const a=typeof t==="string"?te(t):se(t??true);const i=typeof n==="string"?te(n):se(n??true);return re(oe(a,i))};s.createContent=function t(n){const a=d(b,{id:this.shareAPIId,children:d(p,{text:"{sap.fe.i18n>M_COMMON_SAPFE_ACTION_SHARE}",ref:this.menuButton,icon:"sap-icon://action",tooltip:"{sap.fe.i18n>M_COMMON_SAPFE_ACTION_SHARE} (Ctrl+Shift+S)",children:d(r,{ref:this.menu})})});this.getPageController().getView().addDependent(d(i,{ref:this.cmdExecution,command:"Share",execute:()=>{this.menuButton.current?.getMenu().openBy(this.menuButton.current,true)}}));this.isInitialized=this._initializeMenuItems(this.getPageController().getView(),n).catch(t=>{e.error(t)});return a};return n}(u),N=he(k.prototype,"shareAPIId",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),V=he(k.prototype,"shareOptions",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),x=he(k.prototype,"msTeamsOptions",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),P=he(k.prototype,"menuButton",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),D=he(k.prototype,"cmdExecution",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),z=he(k.prototype,"menu",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),H=he(k.prototype,"saveAsTileMenuItem",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),j=he(k.prototype,"shareAsCollaborationManager",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),J=he(k.prototype,"shareViaJAMMenuItem",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),U=he(k.prototype,"sendEmailMenuItem",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),F=he(k.prototype,"shareAsCardMenuItem",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),G=he(k.prototype,"shareViaChatMenuItem",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),$=he(k.prototype,"shareAsTabMenuItem",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),W=he(k.prototype,"msTeamsGroupMenuItem",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),k))||L);K=be;return K},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/TSXUtils", ["sap/ui/core/CustomData","sap/fe/base/jsx-runtime/jsx"],function(e,n){"use strict";var t={};function u(t,u){return u!==undefined?n(e,{value:u},t):undefined}t.createCustomData=u;function a(e){const n=e.map(e=>u(e.key,e.value)).filter(e=>e!==undefined);return n.length>0?n:undefined}t.createCustomDatas=a;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/Tab", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/helpers/StableIdHelper","sap/m/IconTabFilter","sap/m/MessageStrip","sap/fe/base/jsx-runtime/jsx"],function(e,t,n,i,r,a){"use strict";var o,s,u,l,c,p,f,b,d,h,g,m,v,C,y,R;var w={};var z=n.generate;var E=t.xmlEventHandler;var I=t.property;var T=t.event;var B=t.defineUI5Class;function S(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function D(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,O(e,t)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function j(e,t,n,i,r){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function q(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let P=(o=B("sap.fe.macros.Tab"),s=I({type:"string"}),u=I({type:"string"}),l=T(),c=T(),p=T(),f=T(),b=E(),o(d=(h=function(t){function n(e,n){var i;if(typeof e==="string"){n??={};n.id=e}i=t.call(this,e,n)||this;S(i,"id",g,i);S(i,"count",m,i);S(i,"internalDataRequested",v,i);S(i,"customRefreshCount",C,i);S(i,"customResumeBinding",y,i);S(i,"customSuspendBinding",R,i);i.isSuspended=false;i.setKey(z([i.id]));i.insertContent(a(r,{text:"{tabsInternal>/"+i.id+"/notApplicable/title}",type:"Information",showIcon:"true",showCloseButton:"true",class:"sapUiTinyMargin",visible:"{= (${tabsInternal>/"+i.id+"/notApplicable/fields} || []).length>0 }"}),0);i.getTabContent()[0]?.attachEvent("internalDataRequested",i.onInternalDataRequested.bind(i));return i}w=n;D(n,t);var i=n.prototype;i.onInternalDataRequested=function e(t){this.fireEvent("internalDataRequested",t.getParameters())};i.getTabContent=function e(){return this.getContent().filter(e=>e.isA(["sap.fe.macros.table.TableAPI","sap.fe.macros.Chart"]))};i.resumeBinding=function e(t){if(this.isSuspended){this.getTabContent()?.forEach(e=>e.resumeBinding?.(t));this.fireEvent("customResumeBinding");this.isSuspended=false}};i.suspendBinding=function e(){if(!this.isSuspended){this.getTabContent()?.forEach(e=>e.suspendBinding?.());this.fireEvent("customSuspendBinding");this.isSuspended=true}};i.invalidateContent=function e(){this.getTabContent()?.forEach(e=>e.invalidateContent?.())};i.hasCounts=function e(){if(this.hasListeners("customRefreshCount")||this.getTabContent()?.[0]?.getCounts){return true}return false};i.refreshCount=function t(){if(this.hasCounts()){this.setCount("...");this.getTabContent()?.[0]?.getCounts?.().then(e=>this.setCount(e||"0")).catch(function(t){e.error(`Error while requesting Counts for Control: ${t}`)});this.fireEvent("customRefreshCount")}};i.refreshNotApplicableFields=function e(t){return this.getTabContent()?.[0]?.refreshNotApplicableFields?.(t)};return n}(i),g=j(h.prototype,"id",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),m=j(h.prototype,"count",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),v=j(h.prototype,"internalDataRequested",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),C=j(h.prototype,"customRefreshCount",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),y=j(h.prototype,"customResumeBinding",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),R=j(h.prototype,"customSuspendBinding",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),j(h.prototype,"onInternalDataRequested",[b],Object.getOwnPropertyDescriptor(h.prototype,"onInternalDataRequested"),h.prototype),h))||d);w=P;return w},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ValueHelp", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/macros/field/FieldHelper","sap/fe/macros/internal/valuehelp/ValueHelpTemplating"],function(e,t,i,r,a,n){"use strict";var l,o,u,s,c,p,f,d,b,g,h,y,m,P,v,x,V,w,z,M,H,F,C;var I={};var O=n.getValueHelpTemplate;var _=r.isEntitySet;var B=e.property;var D=e.defineUI5Class;var E=e.association;function S(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function j(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,q(e,t)}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function k(e,t,i,r,a){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function G(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let R=(l=D("sap.fe.macros.ValueHelp"),o=E({type:"string"}),u=B({type:"string"}),s=B({type:"string"}),c=B({type:"string"}),p=B({type:"boolean"}),f=B({type:"boolean"}),d=B({type:"boolean"}),b=B({type:"string"}),g=B({type:"boolean"}),h=E({type:"string"}),l(y=(m=function(e){function t(t,i){var r;if(t._flexId){t.id=t._flexId+"::Block"}r=e.call(this,t,i)||this;S(r,"idPrefix",P,r);S(r,"metaPath",v,r);S(r,"contextPath",x,r);S(r,"conditionModel",V,r);S(r,"filterFieldValueHelp",w,r);S(r,"useSemanticDateRange",z,r);S(r,"useMultiValueField",M,r);S(r,"navigationPrefix",H,r);S(r,"requiresValidation",F,r);S(r,"_flexId",C,r);r.requestGroupId="$auto.Workers";r.collaborationEnabled=false;return r}I=t;j(t,e);t.getValueHelpForMetaPath=function e(i,r,a,n){const l=i.getView()?.getDependents();const o=l?.find(e=>e.isA("sap.fe.macros.ValueHelp")&&e.getMetaPath()===r);if(!o){const e=new t({metaPath:r,contextPath:a,metaModel:n?.getId(),idPrefix:i.getView()?.createId("FieldValueHelp")});i.getView().addDependent(e);return e}else{return o}};var r=t.prototype;r.onMetadataAvailable=function e(){if(!this.content){this._getOwner()?.runAsOwner(()=>{this.content=this.createContent()})}};r.createContent=function e(){const t=this.getMetaPathObject(this.metaPath,this.contextPath);const r=this._getOwner()?.getMetaModel(this.metaModel);if(t&&r){const e=t.getClosestEntitySet();if(_(e)){this.collaborationEnabled=i.isCollaborationDraftSupported(r)}let n=r.createBindingContext(t.getPath());if(n){if(this.filterFieldValueHelp){n=r.createBindingContext(a.valueHelpPropertyForFilterField(n))}else{n=r.createBindingContext(a.valueHelpProperty(n))}const e=this.idPrefix??"ValueHelp";return O(n,{metaPath:r.createBindingContext(t.getPath()),contextPath:r.createBindingContext(t.getContextPath()),filterFieldValueHelp:this.filterFieldValueHelp,useSemanticDateRange:this.useSemanticDateRange,useMultiValueField:this.useMultiValueField,navigationPrefix:this.navigationPrefix,requiresValidation:this.requiresValidation,_flexId:this._flexId,idPrefix:e,conditionModel:this.conditionModel,requestGroupId:this.requestGroupId,collaborationEnabled:this.collaborationEnabled})}}};return t}(t),P=k(m.prototype,"idPrefix",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),v=k(m.prototype,"metaPath",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),x=k(m.prototype,"contextPath",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),V=k(m.prototype,"conditionModel",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),w=k(m.prototype,"filterFieldValueHelp",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),z=k(m.prototype,"useSemanticDateRange",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),M=k(m.prototype,"useMultiValueField",[d],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),H=k(m.prototype,"navigationPrefix",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),F=k(m.prototype,"requiresValidation",[g],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),C=k(m.prototype,"_flexId",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||y);I=R;return I},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/VariantManagement", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/StableIdHelper","sap/ui/fl/variants/VariantManagement"],function(e,t,r,i,a){"use strict";var n,o,l,u,s,c,f,p,b,d,h;var v={};var g=i.generate;var y=t.property;var m=t.defineUI5Class;var A=t.association;function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,B(e,t)}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function O(e,t,r,i,a){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function V(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let j=(n=m("sap.fe.macros.VariantManagement"),o=y({type:"any",required:true}),l=A({type:"sap.ui.core.Control",multiple:true}),u=y({type:"boolean",defaultValue:true}),s=y({type:"string"}),n(c=(f=function(t){function i(e,r){var i;i=t.call(this,e,r)||this;w(i,"id",p,i);w(i,"for",b,i);w(i,"showSetAsDefault",d,i);w(i,"headerLevel",h,i);return i}v.VariantManagement=i;z(i,t);var n=i.prototype;n.onMetadataAvailable=function e(){this.content=this.createContent();const t=this.getAssociation("for",null)||[];this.connectToFilterbar(Array.isArray(t)?t:[t])};n.createContent=function e(){const t=new a({id:g([this.id,"VM"]),for:this.for,showSetAsDefault:this.showSetAsDefault,headerLevel:this.headerLevel});this.setAggregation("content",t);return t};n.connectToFilterbar=function t(i){const a=Array.isArray(i)?i:[i];a.forEach(t=>{try{r.observeBuildingBlock(t,{onAvailable:e=>{if(e&&e.isA("sap.fe.macros.filterBar.FilterBarAPI")){const t=this.getContent();if(t){e.setVariantBackReference(t)}}}})}catch(t){e.error(`Error setting variant in Filter Bar: ${t}`)}})};return i}(r),p=O(f.prototype,"id",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),b=O(f.prototype,"for",[l],{configurable:true,enumerable:true,writable:true,initializer:function(){return[]}}),d=O(f.prototype,"showSetAsDefault",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),h=O(f.prototype,"headerLevel",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),f))||c);v.VariantManagement=j;return j},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ai/EasyFillDialog", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/controls/easyFill/EasyFillPlaceholder","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/converters/MetaModelConverter","sap/fe/core/templating/PropertyHelper","sap/fe/macros/Field","sap/fe/macros/field/FieldTemplating","sap/m/Button","sap/m/Dialog","sap/m/FlexBox","sap/m/FlexItemData","sap/m/FormattedText","sap/m/OverflowToolbar","sap/m/ScrollContainer","sap/m/TextArea","sap/m/Title","sap/m/ToolbarSpacer","sap/m/VBox","sap/m/library","sap/ui/core/InvisibleText","sap/ui/core/Title","sap/ui/layout/form/ColumnLayout","sap/ui/layout/form/Form","sap/ui/layout/form/FormContainer","sap/ui/layout/form/FormElement","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,a,i,n,r,s,o,l,c,d,u,h,g,p,f,m,b,C,y,E,x,T,P,_,v,S,I,w,F){"use strict";var M,A,O,D,L,V,B;function j(e){return new Promise((t,a)=>{sap.ui.require([e],a=>{if(!(a&&a.__esModule)){a=a===null||!(typeof a==="object"&&e.endsWith("/library"))?{default:a}:a;Object.defineProperty(a,"__esModule",{value:true})}t(a)},e=>{a(e)})})}var U={};var z=x.FlexDirection;var $=c.getValueBinding;var Y=o.isImmutable;var N=o.isComputed;var R=o.getLabel;var G=r.CollaborationUtils;var k=a.property;var W=a.defineUI5Class;var H=a.defineReference;var q=a.createReference;var Q=t.transformRecursively;function X(e,t,a,i){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(i):void 0})}function J(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,K(e,t)}function K(e,t){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},K(e,t)}function Z(e,t,a,i,n){var r={};return Object.keys(i).forEach(function(e){r[e]=i[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=a.slice().reverse().reduce(function(a,i){return i(e,t,a)||a},r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(e,t,r),null):r}function ee(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let te=(M=W("sap.fe.macros.ai.EasyFillDialog"),A=H(),O=k({type:"Function"}),M(D=(L=function(t){function a(e,a){var i;i=t.call(this,e,a)||this;X(i,"$reviewArea",V,i);X(i,"getEditableFields",B,i);return i}U=a;J(a,t);var n=a.prototype;n.onMetadataAvailable=function e(a){t.prototype.onMetadataAvailable.call(this,a);this.state.newValues={};this.state.hasValues=false;this.content=this.createContent()};n.onConfirm=async function e(t){const a=this.getPageController().getView()?.getBindingContext();const i=[];const n=this._bindingContext?.getObject()??this.state.newValues;for(const e in n){if(e!=="__bindingInfo"&&!e.startsWith("@$")){if(typeof n[e]!=="object"){a?.setProperty(e,n[e]);i.push(this.applyUpdatesForChange(this.getPageController().getView(),a.getPath(e)))}}}await Promise.all(i);this.content?.close()};n.applyUpdatesForChange=async function t(a,i){const n=a.getModel().getMetaModel();const r=n.getMetaContext(i);const o=s.getInvolvedDataModelObjects(r);const l=a.getBindingContext();try{const e=[];const t=G.getAppComponent(a).getSideEffectsService();const r=n.getMetaPath(l.getPath());const s=n.getMetaPath(i).replace(r,"").slice(1);e.push(t.requestSideEffects([s],l,"$auto"));const c=t.computeFieldGroupIds(o.targetEntityType.fullyQualifiedName,o.targetObject.fullyQualifiedName);if(c.length){const t=a.getController();const i=t._sideEffects.getSideEffectsMapForFieldGroups(c,l);Object.keys(i).forEach(a=>{const n=i[a];e.push(t._sideEffects.requestSideEffects(n.sideEffects,n.context,"$auto",undefined,true))})}await Promise.all(e)}catch(t){e.error("Failed to update data after change:"+t);throw t}};n.onCancel=function e(){this.content?.close()};n.open=function e(){this.content?.open()};n._getFieldMapping=function e(t){const a={};if(t){const e=t.getMetaPath().getTarget();let i;switch(e._type){case"EntitySet":case"Singleton":i=e.entityType;break;case"NavigationProperty":i=e.targetType;break}if(i!==undefined){for(const e of i.entityProperties){if(!Y(e)&&!N(e)&&e.annotations.UI?.Hidden?.valueOf()!==true){a[e.name]={description:R(e)??e.name,dataType:e.type}}}}}return a};n.generateListBinding=function e(t,a){const i=a.bindList(t,undefined,[],[],{$$updateGroupId:"submitLater"});i.refreshInternal=()=>{};return i};n.onEasyEditPressed=async function e(){const t=this.getOwnerPageDefinition();const a=this._getFieldMapping(t);const i=await j("ux/eng/fioriai/reuse/easyfill/EasyFill");const n=this.getModel();const r=this.generateListBinding(n.getMetaModel().getMetaPath(this.getPageController().getView()?.getBindingContext()?.getPath()),this.getModel());this._bindingContext=r.create({},true);const s=await i.extractFieldValuesFromText(this.state.enteredText,a);if(s.success){const e=s.data;const t=await(this.getEditableFields?.())??{};this.state.hasValues=false;this.state.hasIncorrectValues=false;this.$reviewArea.current?.removeAllItems();const i=w(v,{editable:true,class:"sapUiSmallMarginTopBottom",visible:this.bindState("hasValues"),children:{layout:w(_,{columnsM:2,columnsL:2,columnsXL:2,labelCellsLarge:1,emptyCellsLarge:1})}});const n=w(v,{editable:false,class:"sapUiSmallMarginTopBottom",visible:this.bindState("hasIncorrectValues"),children:{layout:w(_,{columnsM:2,columnsL:2,columnsXL:2,labelCellsLarge:1,emptyCellsLarge:1})}});const r=w(S,{children:{title:w(P,{text:this.getTranslatedText("C_EASYEDIT_PREVIOUS_VALUES")})}});const o=w(S,{children:{title:w(P,{text:this.getTranslatedText("C_EASYEDIT_PREVIOUS_VALUES")})}});const c=w(S,{children:{title:w(P,{text:this.getTranslatedText("C_EASYEDIT_NEW_VALUES")})}});const d=w(S,{children:{title:w(P,{text:this.getTranslatedText("C_EASYEDIT_NEW_VALUES")})}});const u=this.getPageController().getModel("ui")?.createBindingContext("/easyEditDialog");this.getPageController().getModel("ui").setProperty("/easyEditDialog",{});u.setProperty("isEditable",true);c.setBindingContext(u,"ui");i.addFormContainer(r);i.addFormContainer(c);n.addFormContainer(o);n.addFormContainer(d);const h={};const g={};c.setBindingContext(this._bindingContext);d.setBindingContext(this.getModel("$componentState")?.createBindingContext("/incorrectValues"));d.setModel(this.getModel("$componentState"));for(const i in e){if(t[i]&&t[i].isEditable===true){h[i]=e[i];this._bindingContext.setProperty(i,e[i]);this.state.hasValues=true;let t=$(this.getDataModelObjectForMetaPath(i,this.getOwnerContextPath()),{},false,false,undefined,false,false,0,false,true);t=Q(t,"PathInModel",e=>{e.modelName="$componentState";e.path="/newValues/"+e.path;return e});r.addFormElement(w(I,{label:a[i].description,children:w(l,{metaPath:i,contextPath:this.getOwnerContextPath(),readOnly:true})}));c.addFormElement(w(I,{label:a[i].description,children:w(l,{metaPath:i,contextPath:this.getOwnerContextPath()})}))}else{g[i]=e[i];this.state.hasIncorrectValues=true;o.addFormElement(w(I,{label:a[i].description,children:w(l,{metaPath:i,contextPath:this.getOwnerContextPath(),readOnly:true})}));d.addFormElement(w(I,{label:a[i].description,children:w(l,{metaPath:i,contextPath:this.getOwnerContextPath(),readOnly:true})}))}}const p=q();this.$reviewArea.current?.addItem(w(m,{vertical:true,class:"sapUiContentPadding",children:{content:w(E,{ref:p,children:{items:[w(C,{text:this.getTranslatedText("C_EASYEDIT_FILLED_FIELDS"),visible:this.bindState("hasValues")}),i,w(C,{text:this.getTranslatedText("C_EASYEDIT_INCORRECT_FIELDS"),class:"sapUiSmallMarginTopBottom",visible:this.bindState("hasIncorrectValues")}),n]}})}}));p.current?.setBindingContext(this.getPageController().getView()?.getBindingContext());p.current?.setModel(this.getPageController().getModel());p.current?.setModel(this.getPageController().getModel("ui"),"ui");this.state.newValues=h;this.state.incorrectValues=g}};n.createContent=function e(){const t=w(T,{text:this.getTranslatedText("C_EASYEDIT_DIALOG_DESCRIPTION")});return w(u,{title:this.getTranslatedText("C_EASYEDIT_DIALOG_TITLE"),resizable:true,horizontalScrolling:false,verticalScrolling:false,contentWidth:"1100px",contentHeight:"800px",escapeHandler:()=>{this.onCancel()},afterClose:()=>{this.destroy()},children:{content:F(h,{direction:z.Row,renderType:"Bare",width:"100%",height:"100%",children:[F(h,{width:"40%",id:this.createId("inputArea"),direction:z.Column,class:"sapUiContentPadding",renderType:"Bare",children:[w(p,{htmlText:this.getTranslatedText("C_EASYEDIT_DIALOG_DESCRIPTION"),class:"sapUiMarginEnd"}),t,w(b,{value:this.bindState("enteredText"),width:"100%",rows:20,growing:true,growingMaxLines:30,ariaLabelledBy:t}),w(d,{text:this.getTranslatedText("C_EASYEDIT_BUTTON"),icon:"sap-icon://ai",enabled:true,press:this.onEasyEditPressed.bind(this),children:{layoutData:w(g,{alignSelf:"End"})}})]}),w(h,{id:this.createId("reviewArea"),ref:this.$reviewArea,width:"60%",renderType:"Bare",direction:z.Column,class:"sapFeEasyFillReviewArea",children:w(i,{})})]}),footer:F(f,{children:[w(y,{}),w(d,{text:this.getTranslatedText("C_EASYEDIT_DIALOG_SAVE"),type:"Emphasized",enabled:this.bindState("hasValues"),press:this.onConfirm.bind(this)}),w(d,{text:this.getTranslatedText("C_EASYEDIT_DIALOG_CANCEL"),type:"Transparent",press:this.onCancel.bind(this)})]})}})};return a}(n),V=Z(L.prototype,"$reviewArea",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),B=Z(L.prototype,"getEditableFields",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),L))||D);U=te;return U},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ai/EasyFilterBar", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/controls/easyFilter/EasyFilterBarContainer","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/PropertyHelper","sap/fe/macros/ai/EasyFilterDataFetcher","sap/fe/macros/filter/FilterUtils","sap/fe/macros/filterBar/DraftEditState","sap/fe/macros/internal/valuehelp/ValueListHelper","sap/ui/core/Element","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/ui/model/odata/type/Date","sap/ui/model/odata/type/DateTimeOffset","sap/ui/model/odata/type/TimeOfDay","sap/fe/base/jsx-runtime/jsx"],function(e,t,a,r,i,n,o,s,l,c,u,p,d,f,h,m,y,g,b){"use strict";var w,F,v,V,P,C,B,S,E,T,_,k,M,L,O;var D={};var I=l.unresolvedResult;var x=l.resolveTokenValue;var A=l.mapValueListToCodeList;var z=l.generateSelectParameter;var Q=s.hasValueHelpWithFixedValues;var j=o.isPathAnnotationExpression;var H=t.property;var $=t.implementInterface;var q=t.defineUI5Class;var N=t.association;var W=t.aggregation;function K(e,t,a,r){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(r):void 0})}function R(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,U(e,t)}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}function G(e,t,a,r,i){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=a.slice().reverse().reduce(function(a,r){return r(e,t,a)||a},n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function J(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let X=(w=q("sap.fe.macros.EasyFilterBar"),F=$("sap.fe.core.controllerextensions.viewState.IViewStateContributor"),v=N({type:"sap.fe.macros.filterBar.FilterBarAPI"}),V=N({type:"sap.fe.macros.contentSwitcher.ContentSwitcher"}),P=H({type:"string"}),C=H({type:"string"}),B=W({type:"sap.fe.controls.easyFilter.EasyFilterBarContainer"}),w(S=(E=function(t){function r(a,r){var i;i=t.call(this,a,r)||this;K(i,"__implements__sap_fe_core_controllerextensions_viewState_IViewStateContributor",T,i);K(i,"filterBar",_,i);K(i,"contentSwitcher",k,i);K(i,"contentSwitcherKey",M,i);K(i,"contextPath",L,i);K(i,"content",O,i);i.getAppComponent()?.getEnvironmentCapabilities().prepareFeature("MagicFiltering").then(()=>{i.easyFilterPath="ux/eng/fioriai/reuse/easyfilter/EasyFilter";i.content?.setEasyFilterLib(i.easyFilterPath);return}).catch(t=>{e.debug("Error while loading EasyFilter",t);return undefined});return i}D=r;R(r,t);var o=r.prototype;o.applyLegacyState=async function e(t,a,r,i){if(a?.selectionVariant){const e=a.selectionVariant.getSelectOptionsPropertyNames();this.filterBarMetadata.forEach(t=>{if(e.includes(t.name)){t.defaultValue=a.selectionVariant.getSelectOption(t.name)?.map(e=>{if(e.Sign==="I"){if(e.Option==="BT"){return{operator:f.BT,selectedValues:[{value1:e.Low,value2:e.High}]}}else{return{operator:e.Option,selectedValues:[e.Low]}}}else{return{operator:f.NE,selectedValues:[e.Low]}}})}});this.content?.resetState(false)}return Promise.resolve(undefined)};o.applyState=function e(t,a){return undefined};o.retrieveState=function e(){return{}};o.getApplicationId=function e(){return this.getAppComponent()?.getManifestEntry("sap.app").id??"<unknownID>"};o.onMetadataAvailable=function e(){this._fetchedCodeList??={};this.filterBarMetadata=this.prepareFilterBarMetadata();this.recommendedQueries=this.getAppComponent()?.getManifestEntry("sap.fe")?.macros?.easyFilter?.recommendedQueries??[];this.content=this.createContent();this.content.filterBarMetadata=this.filterBarMetadata};o.prepareFilterBarMetadata=function e(){const t=this._getOwner();const a=t.preprocessorContext?.getDefinitionForPage();let r;if(a){r=a.getFilterBarDefinition({});const e=t.preprocessorContext?.models.metaModel;const i=(e,t)=>{if(t){return"MenuWithCheckBox"}switch(e){case"Edm.Date":return"Calendar";case"Edm.TimeOfDay":return"Time";default:return"ValueHelp"}};const o=t.getAppComponent().getComponentData()?.startupParameters??{};const s=r.getFilterFields();const l=s.map(e=>{const t=e.getTarget();let a;const r=Q(t);if(r){a=this._fetchedCodeList[e.name];if(!a){a=async()=>this.getCodeListForProperty(e.name,e.annotationPath)}}const n=t.annotations.Measures?.ISOCurrency??t.annotations.Measures?.Unit;const l=j(n)?n.$target:undefined;const c=l?s.find(e=>e.getTarget()===l)?.name:undefined;let u;if(o.hasOwnProperty(e.name)){u=[{operator:f.EQ,selectedValues:o[e.name]}]}else if(e.isParameter&&o.hasOwnProperty(e.name.substring(2))){u=[{operator:f.EQ,selectedValues:o[e.name.substring(2)]}]}return{name:e.name,path:e.annotationPath,label:e.label,dataType:t.type,required:e.required??false,defaultValue:u,filterable:true,sortable:!e.isParameter,codeList:a,type:i(t.type,a),unit:c}});if(n.isMetaPathDraftSupported(a.getMetaPath())){const t=new h({isDraftCollaborative:n.isCollaborationDraftSupported(e)}).createBindingContext("/");const a=u.getEditStatesContext(t).getObject("/").map(e=>({value:e.id,description:e.display}));l.push({name:"$editState",label:this.getTranslatedText("FILTERBAR_EDITING_STATUS"),dataType:"Edm.String",required:false,filterable:true,sortable:false,codeList:a,type:"MenuWithCheckBox"})}return l}return[]};o.getCodeListForProperty=async function e(t,a){const r=await this.getValueList(a);if(!r){return[]}const i=r.valueListInfo;const n=i.$model.bindList(`/${i.CollectionPath}`,undefined,undefined,undefined,{$select:z(r)});const o=await n.requestContexts();const s=o.map(A(r));this._fetchedCodeList[t]=s;const l=this.filterBarMetadata.find(e=>e.name===t);if(l){l.codeList=s}return s};o.resolveTokenValuesForField=async function e(t,a){const r=this.filterBarMetadata.find(e=>{let{name:a}=e;return a===t});if(r?.path){const e=await this.getValueList(r.path);if(e&&p.isValueListSearchable(r.path,e)){const t=await Promise.all(a.map(async t=>x(e,t)));return t.flat()}}return I(a)};o.getValueList=async function e(t){const a=this.getMetaModel();const r=await p.getValueListInfo(undefined,t,undefined,a);return r[0]};o.onTokensChanged=async function e(t){const a=d.getElementById(this.filterBar);const r=a.getParent();const i=t.getParameter("tokens");const n=i.some(e=>e.key==="$editState");await r._clearFilterValuesWithOptions(a,{clearEditFilter:n});this.formateDataTypes(i);for(const e of i){if(e.key==="$editState"){for(const t of e.keySpecificSelectedValues){await c.addFilterValues(r.content,e.key,"DRAFT_EDIT_STATE",t.selectedValues)}}else{for(const t of e.keySpecificSelectedValues){const{operator:a,selectedValues:i}=t;await c.addFilterValues(r.content,e.key,a,i)}}}await r.triggerSearch()};o.formateDataTypes=function e(t){const a=new m,r=new y(undefined,{V4:true}),i=new g;t.forEach(e=>{const t=this.filterBarMetadata.find(t=>t.name===e.key)?.dataType;e.keySpecificSelectedValues.forEach(e=>{let n;switch(t){case"Edm.Date":n=a;break;case"Edm.TimeOfDay":n=i;break;case"Edm.DateTimeOffset":n=r;break;default:return}e.selectedValues.forEach((t,a)=>{e.selectedValues[a]=n.parseValue(t,"object")})})})};o.showValueHelpForKey=async function e(t,a,r){const i=d.getElementById(this.filterBar);const n=i.getParent();await n.showFilterField(t);n.openValueHelpForFilterField(t,undefined,r)};o.onBeforeQueryProcessing=function e(){const t=this.getModel("ui");i.lock(t)};o.onAfterQueryProcessing=function e(){const t=this.getModel("ui");i.unlock(t)};o.onClearFilters=async function e(){const t=d.getElementById(this.filterBar);const a=t.getParent();await a._clearFilterValuesWithOptions(t);await a.triggerSearch()};o.onQueryChanged=function e(){const t=d.getElementById(this.filterBar);t.fireFiltersChanged({conditionsBased:true})};o.createContent=function e(){return b(a,{contextPath:this.getOwnerContextPath(),appId:this.getApplicationId(),filterBarMetadata:this.filterBarMetadata,easyFilterLib:this.easyFilterPath,showValueHelp:e=>{this.showValueHelpForKey(e.getParameter("key"),e.getParameter("values"),t=>{const a=t.map(e=>{if(e.operator===f.BT||e.operator===f.NB){return{operator:e.operator,selectedValues:e.values}}else{return{operator:e.operator,selectedValues:e.values}}});e.getParameter("resolve")(a)})},dataFetcher:this.resolveTokenValuesForField.bind(this),recommendedValues:this.recommendedQueries,queryChanged:this.onQueryChanged.bind(this),tokensChanged:this.onTokensChanged.bind(this),beforeQueryProcessing:this.onBeforeQueryProcessing.bind(this),afterQueryProcessing:this.onAfterQueryProcessing.bind(this),clearFilters:this.onClearFilters.bind(this)})};return r}(r),T=G(E.prototype,"__implements__sap_fe_core_controllerextensions_viewState_IViewStateContributor",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),_=G(E.prototype,"filterBar",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),k=G(E.prototype,"contentSwitcher",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),M=G(E.prototype,"contentSwitcherKey",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),L=G(E.prototype,"contextPath",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),O=G(E.prototype,"content",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),E))||S);D=X;return D},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ai/EasyFilterDataFetcher", ["sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,n,o,s){"use strict";var r={};var a=n.isProperty;var l=t.convertTypes;function i(e,t,n,s){let r=s;if(typeof r==="string"&&t.annotations.Common?.IsUpperCase?.valueOf()===true){r=r.toUpperCase()}return new o({path:e.keyPath,operator:n,value1:r})}async function u(t,n,o,r){const a=t.valueListInfo.$model;const l=`/${t.valueListInfo.CollectionPath}`;const u=d(t);const p=e.normalizeSearchTerm(r instanceof Date?r.toISOString():r.toString());const f=i(t,n,o,r);const[v,m]=await Promise.allSettled([a.bindList(l,undefined,undefined,f,{$select:u}).requestContexts(0,1),a.bindList(l,undefined,undefined,undefined,{$search:p,$select:u}).requestContexts()]);const h=c(t,true);if(v.status==="fulfilled"&&v.value.length>0){return o===s.EQ?{operator:o,selectedValues:v.value.map(h)}:{operator:o,selectedValues:[{value:r,description:r}]}}if(m.status==="fulfilled"&&m.value.length>0){return{operator:s.EQ,selectedValues:m.value.map(h)}}return{operator:o,selectedValues:[{value:r,description:r}]}}function c(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return n=>{const o=n.getObject();const s=o[e.keyPath];const r=e.descriptionPath?o[e.descriptionPath]:undefined;return{value:s,description:t?r??s:r}}}r.mapValueListToCodeList=c;function d(e){return[e.keyPath,e.descriptionPath].filter(e=>e&&!e.includes("/")).join(",")}r.generateSelectParameter=d;function p(e,t){const[n,o]=t;const s=[];for(const{value:t,description:r}of n.selectedValues){for(const{value:n,description:a}of o.selectedValues){s.push({operator:e,selectedValues:[{value:t,description:r??t},{value:n,description:a??n}]})}}return s}async function f(e,t){const{operator:n,selectedValues:o}=t;const r=e.valueListInfo.$model;r.setContinueOnError("$auto");const i=l(r.getMetaModel());const c=i.resolvePath(`/${e.valueListInfo.CollectionPath}/${e.keyPath}`)?.target;if(!a(c)){return v([t])}const d=n===s.BT||n===s.NB?s.EQ:n;const f=await Promise.all(o.map(async t=>u(e,c,d,t)));return n===s.BT||n===s.NB?p(n,f):f.flat()}r.resolveTokenValue=f;function v(e){return e.map(e=>{let{operator:t,selectedValues:n}=e;return{operator:t,selectedValues:n.map(e=>({value:e,description:e}))}})}r.unresolvedResult=v;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ai/SummarizationButton", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/Button","sap/m/OverflowToolbarLayoutData","sap/m/library","sap/ui/performance/trace/FESRHelper","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/Fragment"],function(e,t,r,i,a,n,o,s,u,l){"use strict";var c,p,f,m,b;function d(e){return new Promise((t,r)=>{sap.ui.require([e],r=>{if(!(r&&r.__esModule)){r=r===null||!(typeof r==="object"&&e.endsWith("/library"))?{default:r}:r;Object.defineProperty(r,"__esModule",{value:true})}t(r)},e=>{r(e)})})}var y={};var v=o.ButtonType;var g=t.property;var h=t.defineUI5Class;function z(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,S(e,t)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function j(e,t,r,i,a){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function O(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let C=(c=h("sap.fe.macros.ai.SummarizationButton"),p=g({type:"string",required:true}),c(f=(m=function(t){function i(){var e;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++){i[a]=arguments[a]}e=t.call(this,...i)||this;z(e,"id",b,e);e.fesrStepName="fe4:sum:summarize";return e}y=i;w(i,t);var o=i.prototype;o.onMetadataAvailable=function e(){this.content=this.createContent()};o.createContent=function t(){const i=this.getAppComponent()?.getEnvironmentCapabilities();let o;if(i?.environmentCapabilities.SmartSummarize===true){o=u(a,{id:this.createId("button"),"dt:designtime":"not-adaptable",text:"{sap.fe.i18n>SUMMARIZE}",icon:"sap-icon://ai",type:v.Ghost,press:async()=>{try{await i.prepareFeature("SmartSummarize");const e=await d("ux/eng/fioriai/reuse/library");await e.summarize({view:r.getTargetView(this)})}catch(t){e.error("Summarization failed",t)}},children:{layoutData:u(l,{children:u(n,{priority:"High"})})}});s.setSemanticStepname(o,"press",this.fesrStepName)}return o};return i}(i),b=j(m.prototype,"id",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||f);y=C;return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/Action", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,a,l,o,u,c,p,b,s,f,y,g,d,m,v;var z={};var w=e.property;var h=e.defineUI5Class;function O(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function j(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,P(e,r)}function P(e,r){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},P(e,r)}function k(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function _(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let S=(t=h("sap.fe.macros.chart.Action"),i=w({type:"string"}),n=w({type:"string"}),a=w({type:"string"}),l=w({type:"string"}),o=w({type:"boolean"}),u=w({type:"string"}),c=w({type:"boolean"}),t(p=(b=function(e){function r(){var r;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}r=e.call(this,...i)||this;O(r,"key",s,r);O(r,"text",f,r);O(r,"anchor",y,r);O(r,"placement",g,r);O(r,"requiresSelection",d,r);O(r,"press",m,r);O(r,"enabled",v,r);return r}z=r;j(r,e);return r}(r),s=k(b.prototype,"key",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),f=k(b.prototype,"text",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),y=k(b.prototype,"anchor",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),g=k(b.prototype,"placement",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),d=k(b.prototype,"requiresSelection",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),m=k(b.prototype,"press",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),v=k(b.prototype,"enabled",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),b))||p);z=S;return z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/ActionGroup", ["sap/fe/base/ClassSupport","sap/fe/macros/chart/Action"],function(e,r){"use strict";var t,i,n,a,o,l,u,c,s,p,f,b,y;var g={};var m=e.property;var v=e.defineUI5Class;var d=e.aggregation;function z(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function h(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,w(e,r)}function w(e,r){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},w(e,r)}function O(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function j(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let P=(t=v("sap.fe.macros.chart.ActionGroup"),i=m({type:"string"}),n=d({type:"sap.fe.macros.chart.Action",multiple:true,defaultClass:r,isDefault:true}),a=m({type:"string"}),o=m({type:"string"}),l=m({type:"string"}),t(u=(c=function(e){function r(){var r;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}r=e.call(this,...i)||this;z(r,"key",s,r);z(r,"actions",p,r);z(r,"text",f,r);z(r,"placement",b,r);z(r,"anchor",y,r);return r}g=r;h(r,e);return r}(r),s=O(c.prototype,"key",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),p=O(c.prototype,"actions",[n],{configurable:true,enumerable:true,writable:true,initializer:function(){return[]}}),f=O(c.prototype,"text",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),b=O(c.prototype,"placement",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),y=O(c.prototype,"anchor",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||u);g=P;return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/Chart", ["sap/base/Log","sap/fe/base/ClassSupport","../Chart"],function(t,e,r){"use strict";var a,o;var s={};var n=e.defineUI5Class;function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,p(t,e)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}let u=(a=n("sap.fe.macros.chart.Chart"),a(o=function(e){function r(r,a){t.warning("You've consumed deprecated Chart class. Use sap.fe.macros.Chart instead");return e.call(this,r,a)||this}s=r;c(r,e);return r}(r))||o);s=u;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/ChartDelegate", ["sap/base/Log","sap/base/util/merge","sap/chart/TimeUnitType","sap/fe/core/CommonUtils","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/fe/macros/chart/ChartHelper","sap/fe/macros/chart/ChartUtils","sap/fe/macros/filter/FilterUtils","sap/m/IllustratedMessageSize","sap/m/IllustratedMessageType","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/mdc/enums/ChartItemRoleType","sap/ui/mdc/odata/v4/util/DelegateUtil","sap/ui/mdc/odata/v4/vizChart/ChartDelegate","sap/ui/model/Filter","sap/ui/model/FilterOperator","../filterBar/FilterBarDelegate"],function(e,t,a,r,n,s,o,i,l,c,u,g,f,p,d,m,h,y,b,T,C,P,_){"use strict";var I=s.isMultiValueFilterExpression;var D=s.getSortRestrictionsInfo;var A=s.getFilterableData;const O=Object.assign({},T);T.apiVersion=2;O._loadChart=async function(){await h.load({name:"sap.chart"});return T._loadChart()};O._handleProperty=function(t,a,n,s,i,c,u,g){const f=l.parseCustomData(a.data("applySupported"));const p=D(n);const d=t.getModel();const m=a.data("entityType");const h=o.getEntitySetPath(m);const y=r.getFilterRestrictionsByPath(h,d);const b={};A(b,y.NonFilterableProperties,Object.keys(y.FilterAllowedExpressions));const T=t.getModel().getObject(t.getPath());const C=t.getModel().getObject(`${t.getPath()}@sapui.name`);const P=a.getP13nMode();$(a,P);if(T&&T.$kind==="Property"){if(T.$isCollection){return}const r=d.getObject(`${t.getPath()}@`);const n=d.getObject("@sapui.name",d.getMetaContext(t.getPath()));const o=f&&f.GroupableProperties;const m=f&&f.AggregatableProperties;let h=o?M(o,n):false;let _=m?M(m,n):false;const I=Object.keys(i);if(!o||o&&!o.length){h=r["@Org.OData.Aggregation.V1.Groupable"]}if(!m||m&&!m.length){_=r["@Org.OData.Aggregation.V1.Aggregatable"]}if(I.includes(C)){_=true}if(!h&&!_){return}const D=l.isPropertyFilterable(t);if(_){const e=O._createPropertyInfosForAggregatable(a,C,r,y,p,s,i,T.$Type);e.forEach(function(e){if(!g.includes(e.path)){c.push(e)}});if(P&&P.includes("Filter")){const e=Object.keys(s);const t=o?.map(e=>e.$PropertyPath);if(e.includes(C)&&!t?.includes(C)&&!g.includes(C)){c=S(c,C,r,I.includes(C)?false:E(C,D,b),y,false,a,u,T,false,true,undefined,true)}}}if(h){const t=C||"",n=r["@"+"com.sap.vocabularies.Common.v1.Text"]?r["@"+"com.sap.vocabularies.Common.v1.Text"].$Path:null;let s=false;if(t&&t.includes("/")){e.error(`$expand is not yet supported. Property: ${t} from an association cannot be used`);return}if(n&&n.indexOf("/")>-1){e.error(`$expand is not yet supported. Text Property: ${n} from an association cannot be used`);s=true}c=S(c,C,r,E(C,D,b)?I.includes(C)&&g.includes(C)||!g.includes(C):false,y,O._getSortable(a,p.propertyInfo[C],false),a,u,T,!I.includes(C)||I.includes(C)&&g.includes(C)?true:false,false,s)}}};function v(e,t,a){const r=[];for(const n in e){const e=t.createBindingContext(`${a}/${n}`);const s=t.getObject(`${e?.getPath()}@`);const o=s?.["@Org.OData.Measures.V1.ISOCurrency"]?.$Path||s?.["@Org.OData.Measures.V1.Unit"]?.$Path;if(o&&!r.includes(o)){r.push(o)}}return r}function S(e,t,a,r,n,s,o,i,l,c,u,g,f){let p=y.category;const d=o.data("chartDimensionKeyAndRole");if(Array.isArray(d)){d.forEach(e=>{if(e[t]){p=e[t].split("/").pop()?.toLowerCase()||p}})}const m={name:"_fe_groupable_"+t,label:a["@com.sap.vocabularies.Common.v1.Label"]?.toString()||t,sortable:s,filterable:r,groupable:c,aggregatable:u,maxConditions:I(n["FilterAllowedExpressions"]?.[t]?.[0])?-1:1,path:t,role:p,criticality:i,dataType:l.$Type,visible:f?!f:true,textProperty:!g&&a["@com.sap.vocabularies.Common.v1.Text"]?a["@com.sap.vocabularies.Common.v1.Text"].$Path:null,textFormatter:a["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"]};const h=O._getTimeType(l,a);if(h)m.timeUnitType=h;if(l.$Type==="Edm.DateTimeOffset"||l.$Type==="Edm.TimeOfDay"){switch(l.$Type){case"Edm.DateTimeOffset":m.formatOptions={style:"medium/short"};break;case"Edm.TimeOfDay":m.formatOptions={style:"short"};break;default:break}}e.push(m);return e}function E(e,t,a){if(t===false){return false}else if(typeof t==="string"){return true}else{return a?.[e]?.filterable??true}}O._getTimeType=function(e,t){switch(e.$Type){case"Edm.Date":return a.Date;case"Edm.String":if(t["@"+"com.sap.vocabularies.Common.v1.IsFiscalYear"]){return a.fiscalyear}else if(t["@"+"com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"]){return a.fiscalyearperiod}else if(t["@"+"com.sap.vocabularies.Common.v1.IsCalendarYearMonth"]){return a.yearmonth}else if(t["@"+"com.sap.vocabularies.Common.v1.IsCalendarYearQuarter"]){return a.yearquarter}else if(t["@"+"com.sap.vocabularies.Common.v1.IsCalendarYearWeek"]){return a.yearweek}else if(t["@"+"com.sap.vocabularies.Common.v1.IsCalendarDate"]){return a.yearmonthday}break;default:return undefined}};function $(e,t){const a=e?.getModel()?.getMetaModel()?.getObject(`${e.data("targetCollectionPath")}@Org.OData.Capabilities.V1.FilterRestrictions`)?.Filterable;if(a!==undefined&&!a){t=t.filter(e=>e!=="Filter");e.setP13nMode(t)}}function M(e,t){if(e.length){for(const a of e){if(a?.$PropertyPath===t||a?.Property?.$PropertyPath===t){return true}}}}O.formatText=function(e,t){const a=this.typeConfig?.typeInstance?.formatValue(e,"string")||e;if(t){const e=this.textFormatter;if(!e||e.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextFirst"){return n.formatWithBrackets(t,a)}if(e.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextLast"){return n.formatWithBrackets(a,t)}}return t||a};O._updateIllustratedMessage=function(e,t){const a=e.getNoData();a.setTitle(t.title);a.setDescription(t.description);a.setIllustrationType(t.illustrationType||d.NoData);a.setIllustrationSize(t.illustrationSize||p.Auto)};O.setChartNoDataIllustratedMessage=function(e,t){const a=i.getResourceModel(e);let n={};const s=r.getTargetView(e).getViewData().converterType;const o=g.getAllFilterInfo(e);const l=t.path.startsWith("/")?t.path.substr(1):t.path;const c=function(){if(e.data("multiViews")==="true"){return{title:a.getText("T_ILLUSTRATED_MESSAGE_TITLE_NOSEARCHRESULTS",undefined,l),description:a.getText("M_TABLE_AND_CHART_NO_DATA_TEXT_MULTI_VIEW",undefined,l),illustrationType:d.NoSearchResults}}return{title:a.getText("T_ILLUSTRATED_MESSAGE_TITLE_NOSEARCHRESULTS",undefined,l),description:a.getText("T_TABLE_AND_CHART_NO_DATA_TEXT_WITH_FILTER",undefined,l),illustrationType:d.NoSearchResults,illustrationSize:s==="ObjectPage"?p.Small:p.Auto}};if(e.getFilter()&&s!=="ObjectPage"){if(o.search||o.filters?.length){n=c()}}else if(o.search||o.filters?.length){n=c()}else{n={title:a.getText("T_ILLUSTRATED_MESSAGE_TITLE_NODATA",undefined,l),description:a.getText("M_TABLE_AND_CHART_NO_FILTERS_NO_DATA_TEXT",undefined,l),illustrationType:d.NoData,illustrationSize:p.Small}}O._updateIllustratedMessage(e,n)};O.updateBindingInfo=function(e,t){const a=e.getBindingContext("internal");a.setProperty("isInsightsEnabled",true);O.setChartNoDataIllustratedMessage(e,t);const n=m.getElementById(e.getFilter());const s=e.getConditions();if(!t){t={}}if(!t.parameters){t.parameters={}}if(n){const a=f.getFilterInfo(n,{});const s=l.parseCustomData(e.data("applySupported"));if(s&&s.enableSearch&&a.search){t.parameters.$search=r.normalizeSearchTerm(a.search)}else if(t.parameters.$search){delete t.parameters.$search}}const o=s?b.getParametersInfo(n,s):null;if(o){t.path=o}const i=g.getAllFilterInfo(e);if(i.bindingPath){t.path=i.bindingPath}if(r.getTargetView(e).getViewData().viewLevel>0&&t.path&&e.getBindingContext()){t.path=u.getCollectionName(t.path)}if(i.filters){i.filters.forEach(t=>{if(t.getPath()){t.sPath=e.getParent().getChartPropertiesWithoutPrefixes(t.getPath())}})}t.events??={};t.events.dataRequested=e.getParent().onInternalDataRequested.bind(e.getParent());t.filters=i.filters.length>0?new C({filters:i.filters,and:true}):undefined;t.sorter=this.getSorters(e);O._checkAndAddDraftFilter(e,t)};O.fetchProperties=async function(e){const t=this._getModel(e);let a;if(!t){a=new Promise(t=>{e.attachModelContextChange({resolver:t},F,this)}).then(t=>this._createPropertyInfos(e,t))}else{a=this._createPropertyInfos(e,t)}return a.then(function(t){if(e.data){e.data("$mdcChartPropertyInfo",t);c.setCachedProperties(e,t)}return t})};function F(e,t){const a=e.getSource();const r=this._getModel(a);if(r){a.detachModelContextChange(F);t.resolver(r)}}O._createPropertyInfos=async function(e,t){const a=`/${e.data("entitySet")}`;const r=t.getMetaModel();const n=await Promise.all([r.requestObject(`${a}/`),r.requestObject(`${a}@`)]);const s=[];const o=n[0];const i=n[1];const c=l.parseCustomData(e.data("customAgg"));x(c,e);let g;for(const e in i){if(e.startsWith("@Org.OData.Aggregation.V1.CustomAggregate")){g=e.replace("@Org.OData.Aggregation.V1.CustomAggregate#","");const t=g.split("@");if(t.length==2&&t[1]=="com.sap.vocabularies.Common.v1.Label"){c[t[0]]=i[e]}}}const f=l.parseCustomData(e.data("transAgg"));const p={};for(const e in f){const t=f[e].propertyPath;p[t]=p[t]||{};p[t][f[e].aggregationMethod]={name:f[e].name,label:f[e].label}}const d=v(o,r,a);for(const t in o){if(t.indexOf("$")!==0){const n=u.fetchCriticality(r,r.createBindingContext(`${a}/${t}`));O._handleProperty(r.getMetaContext(`${a}/${t}`),e,i,p,c,s,n,d)}}return s};function x(t,a){const r=[],n=[];if(t&&Object.keys(t).length>=1){const t=a.getItems();for(const e in t){if(t[e].getType()==="groupable"){r.push(O.getInternalChartNameFromPropertyNameAndKind(t[e].getPropertyKey(),"groupable"))}else if(t[e].getType()==="aggregatable"){n.push(O.getInternalChartNameFromPropertyNameAndKind(t[e].getPropertyKey(),"aggregatable"))}}if(n.filter(function(e){return r.includes(e)}).length>=1){e.error("Dimension and Measure has the sameProperty Configured")}}}O._createPropertyInfosForAggregatable=function(e,a,r,n,s,o,i,l){const c=[];if(Object.keys(o).includes(a)){for(const e in o[a]){c.push({name:"_fe_aggregatable_"+o[a][e].name,label:o[a][e].label||`${r["@com.sap.vocabularies.Common.v1.Label"]} (${e})`||`${a} (${e})`,sortable:s.propertyInfo[a]?s.propertyInfo[a].sortable:true,filterable:false,groupable:false,aggregatable:true,path:a,dataType:l,aggregationMethod:e,maxConditions:I(n["FilterAllowedExpressions"]?.[a]?.[0])?-1:1,role:y.axis1,datapoint:null,unitPath:r["@Org.OData.Measures.V1.ISOCurrency"]?.$Path||r["@Org.OData.Measures.V1.Unit"]?.$Path})}}if(Object.keys(i).includes(a)){for(const e in i){if(e===a){const a=t({},i[e],{name:"_fe_aggregatable_"+e,groupable:false,aggregatable:true,filterable:false,role:y.axis1,path:e,dataType:l,datapoint:null,unitPath:r["@Org.OData.Measures.V1.ISOCurrency"]?.$Path||r["@Org.OData.Measures.V1.Unit"]?.$Path});c.push(a);break}}}return c};O.rebind=function(e,t){const a=t.parameters.$search;if(a){delete t.parameters.$search}T.rebind(e,t);if(a){const t=e.getControlDelegate().getInnerChart(e),r=t&&t.getBinding("data");r.suspend();r.setAggregation({search:a});const n={onBeforeRendering:function(){r.resume();t.removeEventDelegate(n)}};t.addEventDelegate(n)}e.fireEvent("bindingUpdated")};O._setChart=function(e,t){const a=e.getParent();t.setVizProperties(e.data("vizProperties"));t.detachSelectData(a.handleSelectionChange.bind(a));t.detachDeselectData(a.handleSelectionChange.bind(a));t.detachDrilledUp(a.handleSelectionChange.bind(a));t.attachSelectData(a.handleSelectionChange.bind(a));t.attachDeselectData(a.handleSelectionChange.bind(a));t.attachDrilledUp(a.handleSelectionChange.bind(a));t.setSelectionMode(e.getPayload().selectionMode.toUpperCase());T._setChart(e,t)};O._getBindingInfo=function(e){if(this._getBindingInfoFromState(e)){return this._getBindingInfoFromState(e)}const a=e.getDelegate().payload;const r=t({},a.parameters,{entitySet:e.data("entitySet")});return{path:a.chartContextPath,events:{dataRequested:e.getParent().onInternalDataRequested.bind(e.getParent())},parameters:r}};O.removeItemFromInnerChart=function(e,t){T.removeItemFromInnerChart.call(this,e,t);if(t.getType()==="groupable"){const t=this.getInnerChart(e);t.fireDeselectData()}};O._getSortable=function(e,t,a){if(a){if(e.data("draftSupported")==="true"){return false}else{return t?t.sortable:true}}return t?t.sortable:true};O._checkAndAddDraftFilter=function(e,t){if(e.data("draftSupported")==="true"){if(!t){t={}}if(!t.filters){t.filters=[];t.filters.push(new C("IsActiveEntity",P.EQ,true))}else{t.filters?.aFilters?.push(new C("IsActiveEntity",P.EQ,true))}}};O.getInternalChartNameFromPropertyNameAndKind=function(e,t){return e.replace("_fe_"+t+"_","")};O.getPropertyFromNameAndKind=function(e,t,a){return a.getPropertyHelper().getProperty("_fe_"+t+"_"+e)};O.getFilterDelegate=function(){return Object.assign({apiVersion:2},_,{addItem:async function(e,t){const a=O.getInternalChartNameFromPropertyNameAndKind(t,"groupable");return _.addItem(e,a).then(e=>{e?.bindProperty("conditions",{path:"$filters>/conditions/"+t});e?.setPropertyKey(t);return e})}})};return O},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/ChartHelper", ["sap/base/Log","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/macros/CommonHelper","sap/fe/macros/internal/helpers/ActionHelper","sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/AnnotationHelper"],function(e,a,t,o,r,i){"use strict";var n=a.getUiControl;function s(e){return e.getPath().replace(/@com.sap.vocabularies.UI.v1.(Chart|PresentationVariant).*/,"")}const c={"com.sap.vocabularies.UI.v1.ChartType/Column":"column","com.sap.vocabularies.UI.v1.ChartType/ColumnStacked":"stacked_column","com.sap.vocabularies.UI.v1.ChartType/ColumnDual":"dual_column","com.sap.vocabularies.UI.v1.ChartType/ColumnStackedDual":"dual_stacked_column","com.sap.vocabularies.UI.v1.ChartType/ColumnStacked100":"100_stacked_column","com.sap.vocabularies.UI.v1.ChartType/ColumnStackedDual100":"100_dual_stacked_column","com.sap.vocabularies.UI.v1.ChartType/Bar":"bar","com.sap.vocabularies.UI.v1.ChartType/BarStacked":"stacked_bar","com.sap.vocabularies.UI.v1.ChartType/BarDual":"dual_bar","com.sap.vocabularies.UI.v1.ChartType/BarStackedDual":"dual_stacked_bar","com.sap.vocabularies.UI.v1.ChartType/BarStacked100":"100_stacked_bar","com.sap.vocabularies.UI.v1.ChartType/BarStackedDual100":"100_dual_stacked_bar","com.sap.vocabularies.UI.v1.ChartType/Area":"area","com.sap.vocabularies.UI.v1.ChartType/AreaStacked":"stacked_column","com.sap.vocabularies.UI.v1.ChartType/AreaStacked100":"100_stacked_column","com.sap.vocabularies.UI.v1.ChartType/HorizontalArea":"bar","com.sap.vocabularies.UI.v1.ChartType/HorizontalAreaStacked":"stacked_bar","com.sap.vocabularies.UI.v1.ChartType/HorizontalAreaStacked100":"100_stacked_bar","com.sap.vocabularies.UI.v1.ChartType/Line":"line","com.sap.vocabularies.UI.v1.ChartType/LineDual":"dual_line","com.sap.vocabularies.UI.v1.ChartType/Combination":"combination","com.sap.vocabularies.UI.v1.ChartType/CombinationStacked":"stacked_combination","com.sap.vocabularies.UI.v1.ChartType/CombinationDual":"dual_combination","com.sap.vocabularies.UI.v1.ChartType/CombinationStackedDual":"dual_stacked_combination","com.sap.vocabularies.UI.v1.ChartType/HorizontalCombinationStacked":"horizontal_stacked_combination","com.sap.vocabularies.UI.v1.ChartType/Pie":"pie","com.sap.vocabularies.UI.v1.ChartType/Donut":"donut","com.sap.vocabularies.UI.v1.ChartType/Scatter":"scatter","com.sap.vocabularies.UI.v1.ChartType/Bubble":"bubble","com.sap.vocabularies.UI.v1.ChartType/Radar":"line","com.sap.vocabularies.UI.v1.ChartType/HeatMap":"heatmap","com.sap.vocabularies.UI.v1.ChartType/TreeMap":"treemap","com.sap.vocabularies.UI.v1.ChartType/Waterfall":"waterfall","com.sap.vocabularies.UI.v1.ChartType/Bullet":"bullet","com.sap.vocabularies.UI.v1.ChartType/VerticalBullet":"vertical_bullet","com.sap.vocabularies.UI.v1.ChartType/HorizontalWaterfall":"horizontal_waterfall","com.sap.vocabularies.UI.v1.ChartType/HorizontalCombinationDual":"dual_horizontal_combination","com.sap.vocabularies.UI.v1.ChartType/HorizontalCombinationStackedDual":"dual_horizontal_stacked_combination"};const l={"com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Category":"category","com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Series":"series","com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Category2":"category2"};const u={formatJSONToString(e){if(!e){return undefined}let a=JSON.stringify(e);a=a.replace(new RegExp("{","g"),"\\{");a=a.replace(new RegExp("}","g"),"\\}");return a},formatChartType(e){return c[e?.$EnumMember]},formatDimensions(a){const t=a.getObject("./"),o=a.getModel(),i=s(a),n=[];let c=false;t.DimensionAttributes=t.DimensionAttributes||[];for(const a of t.Dimensions){const r=a.$PropertyPath;const s=o.getObject(`${i+r}@${"com.sap.vocabularies.Common.v1.Text"}`)||{};if(r.includes("/")){e.error(`$expand is not yet supported. Dimension: ${r} from an association cannot be used`)}if(s.$Path&&s.$Path.indexOf("/")>-1){e.error(`$expand is not yet supported. Text Property: ${s.$Path} from an association cannot be used for the dimension ${r}`);c=true}const u={key:r,textPath:!c?s.$Path:undefined,label:o.getObject(`${i+r}@${"com.sap.vocabularies.Common.v1.Label"}`),role:"category"};for(const e of t.DimensionAttributes){if(u.key===e.Dimension?.$PropertyPath){u.role=l[e.Role?.$EnumMember]||u.role;break}}const p=this.fetchCriticality(o,o.createBindingContext(i+r));u.criticality=this.formatJSONToString(p);n.push(u)}const u=new r(n);u.$$valueAsPromise=true;return u.createBindingContext("/")},fetchCriticality(e,a){const t="@com.sap.vocabularies.UI.v1";const o=e.getObject(`${t}.ValueCriticality`,a);let r,i;if(o){r={VeryPositive:[],Positive:[],Critical:[],VeryNegative:[],Negative:[],Neutral:[]};for(let e=0;e<o.length;e++){i=o[e];const a=i.Criticality;if(a?.$EnumMember.endsWith("VeryPositive")){r.VeryPositive.push(i.Value)}else if(a?.$EnumMember.endsWith("Positive")){r.Positive.push(i.Value)}else if(a?.$EnumMember.endsWith("Critical")){r.Critical.push(i.Value)}else if(a?.$EnumMember.endsWith("VeryNegative")){r.VeryNegative.push(i.Value)}else if(a?.$EnumMember.endsWith("Negative")){r.Negative.push(i.Value)}else{r.Neutral.push(i.Value)}}for(const e in r){if(r[e]?.length==0){delete r[e]}}}return r},formatMeasures(e){return e.getModel().getData()},getUiChart(e){return n(e,`@${"com.sap.vocabularies.UI.v1.Chart"}`)},getOperationAvailableMap(e,a){const t=e?.Actions||[];return JSON.stringify(o.getOperationAvailableMap(t,"chart",a))},getSortConditions:function(e,a,o,r){if(a&&t._isPresentationVariantAnnotation(o)&&a.SortOrder){const t={sorters:[]};const o=e.getPath().split("@")[0];a.SortOrder.forEach(function(){let a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let i="";if(a.DynamicProperty){i="_fe_aggregatable_"+e.getModel().getObject(o+a.DynamicProperty.$AnnotationPath)?.Name}else if(a.Property){const t=r.GroupableProperties;if(t&&t.length){for(let e=0;e<t.length;e++){if(t[e].$PropertyPath===a.Property.$PropertyPath){i="_fe_groupable_"+a.Property.$PropertyPath;break}if(!i){i="_fe_aggregatable_"+a.Property.$PropertyPath}}}else if(e.getModel().getObject(`${o+a.Property.$PropertyPath}@${"Org.OData.Aggregation.V1.Groupable"}`)){i="_fe_groupable_"+a.Property.$PropertyPath}else{i="_fe_aggregatable_"+a.Property.$PropertyPath}}if(i){const e={name:i,key:i,descending:!!a.Descending};t.sorters.push(e)}else{throw new Error("Please define the right path to the sort property")}});return t}return undefined},_getModel(e,a){return a.context},isDataFieldForActionButtonEnabled(e,a,t,r,i){if(e!==true){return"true"}const n=t.getModel();const s=t.getPath();const c=n.getObject(s).$Partner;const l=r&&JSON.parse(r);const u=l&&l[a]&&l[a].split("/");const p=o.getNumberOfContextsExpression(i);if(u&&u[0]===c){const e=l[a].replace(c+"/","");return"{= ${"+p+" && ${"+e+"}}"}else{return"{= ${"+p+"}"}},getHiddenPathExpressionForTableActionsAndIBN(e,a){const t=a.context,o=t.getPath(),r=i.getNavigationPath(o);if(e.indexOf("/")>0){const a=e.split("/");const o=a[0];if(t.getObject(r+"/$Partner")===o){return"{= !%{"+a.slice(1).join("/")+"} }"}}return true},getPressEventForDataFieldForActionButton(e,a,t){return o.getPressEventDataFieldForActionButton(e,a,{contexts:"${internal>selectedContexts}"},t)},getActionType(e){return((e["$Type"].includes("com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")||e["$Type"].includes("com.sap.vocabularies.UI.v1.DataFieldForAction"))&&e["Inline"]).valueOf()},getCollectionName(e){const a=e.split("/");return a[a.length-1]}};u.getSortConditions.requiresIContext=true;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/ChartRuntime", ["sap/fe/core/ActionRuntime","sap/fe/macros/chart/ChartUtils","sap/fe/macros/DelegateUtil"],function(t,e,n){"use strict";const o={fnUpdateChart:function(o){const a=o.getSource();const s=a.getParent();let c,r={},i=[];s.getCustomData().forEach(function(t){if(t.getKey()==="operationAvailableMap"){r=n.getCustomData(s,"operationAvailableMap").customData}else if(t.getKey()==="multiSelectDisabledActions"){c=t.getValue();i=c?c.split(","):[]}});const l=s.getBindingContext("internal");const f=[];let g;const u=e.getChartSelectedData(a);for(let t=0;t<u.length;t++){f.push(u[t].context)}l.setProperty("selectedContexts",f);l.getModel().setProperty(`${l.getPath()}/numberOfSelectedContexts`,a.getSelectedDataPoints().count);for(let t=0;t<f.length;t++){const e=f[t];const n=e.getObject();for(const t in n){if(t.indexOf("#")===0){let e=t;e=e.substring(1,e.length);g=l.getObject();g[e]=true;l.setProperty("",g)}}g=l.getObject()}t.setActionEnablement(l,r,f,"chart");if(f.length>1){i.forEach(function(t){l.setProperty(t,false)})}}};return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/ChartUtils", ["sap/fe/core/CommonUtils","sap/fe/macros/filter/FilterUtils","sap/ui/model/Filter","sap/ui/model/FilterOperator","../CommonHelper","../table/Utils"],function(t,e,n,i,r,s){"use strict";const o={getChartSelections:function(t,e){if(e){this.getChartModel(t,"",{})}const n=this.getChartModel(t,"filters");return n||[]},getChartFilters:function(t){const e=this.getChartSelections(t)||[];return new n(e)},setChartFilters:function(t){const e=this.getChartModel(t,"drillStack")||{};const r=t.getControlDelegate().getInnerChart(t);const s=[];let o;function l(t){for(const e in t){const r=[];for(const s in o){const l=o[s];const a=t[e].data[l];if(a!==undefined){r.push(new n({path:l,operator:i.EQ,value1:a}))}}if(r.length>0){s.push(new n(r,true))}}}if(r){const n=this.getVizSelection(r);o=r.getVisibleDimensions();const i=this.getDimensionsFromDrillStack(r);if(i.length>0){this.getChartModel(t,"drillStack",{});e[i.toString()]=n;this.getChartModel(t,"drillStack",e)}if(n.length>0){l(n)}else{const t=Object.keys(e)||[];const n=e[t[t.length-2]]||[];l(n)}this.getChartModel(t,"filters",s)}},getFilterBarFilterInfo:function(t){return e.getFilterInfo(t.getFilter(),{targetControl:t})},getAllFilterInfo:function(e){const n=this.getFilterBarFilterInfo(e);const i=this.getChartFilters(e);const o=s.getP13nFilters(e);const l=r.parseCustomData(e.data("selectionPresentationVariantPath"))?r.parseCustomData(e.data("selectionPresentationVariantPath")).data:"";const a=l?t.getFiltersFromAnnotation(e,l):null;if(i&&i.getFilters()?.length){n.filters.push(i)}if(o.length>0){o.forEach(t=>{const e=t.getFilters();if(e?.length&&e?.length>0){e.forEach(t=>{n.filters.push(t)})}else{n.filters.push(t)}})}if(a&&a.length>0){a.forEach(t=>{n.filters.push(t.aFilters[0])})}return n},getChartSelectedData:function(t){let e=[];switch(t.getSelectionBehavior()){case"DATAPOINT":e=t.getSelectedDataPoints().dataPoints;break;case"CATEGORY":e=t.getSelectedCategories().categories;break;case"SERIES":e=t.getSelectedSeries().series;break}return e},getChartModel:function(t,e,n){const i=t.getBindingContext("internal");if(!i){return false}if(n){i.setProperty(e,n)}return i&&i.getObject(e)},getDimensionsFromDrillStack:function(t){const e=t.getDrillStack()||[];const n=e.pop()||{};return n.dimension||[]},getVizSelection:function(t){return t&&t._getVizFrame()&&t._getVizFrame().vizSelection()||[]}};return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/MdcChartTemplate", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/merge","sap/base/util/uid","sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/controls/CommandExecution","sap/fe/core/converters/ConverterContext","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/ManifestWrapper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/converters/helpers/Aggregation","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/CommonHelper","sap/m/Button","sap/m/FlexItemData","sap/m/IllustratedMessage","sap/m/IllustratedMessageSize","sap/m/IllustratedMessageType","sap/m/Menu","sap/m/MenuButton","sap/m/MenuItem","sap/m/OverflowToolbarLayoutData","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/ui/Device","sap/ui/core/CustomData","sap/ui/core/Element","sap/ui/core/Popup","sap/ui/fl/variants/VariantManagement","sap/ui/mdc/Chart","sap/ui/mdc/actiontoolbar/ActionToolbarAction","sap/ui/mdc/chart/Item","sap/ui/mdc/p13n/PersistenceProvider","sap/ui/model/json/JSONModel","../internal/helpers/ActionHelper","../internal/helpers/DefaultActionHandler","./ChartHelper","sap/fe/base/jsx-runtime/jsx"],function(e,t,n,a,o,i,r,s,c,l,u,d,p,g,f,h,m,b,v,C,y,A,_,M,P,x,D,T,O,I,S,B,k,V,j,E,$,w,F,N,L,U,H,z,R,G,W){"use strict";var K={};var q=$.Dock;var J=y.getTargetObjectPath;var X=y.getContextRelativeTargetObjectPath;var Y=C.isPathAnnotationExpression;var Q=v.generate;var Z=h.AggregationHelper;var ee=f.getVisualizationsFromAnnotation;var te=f.getDataVisualizationConfiguration;var ne=g.aiIcon;var ae=p.isDataModelObjectPathForActionWithDialog;var oe=d.getInvolvedDataModelObjects;var ie=l.TemplateType;var re=r.escapeXMLAttributeValue;var se=o.resolveBindingString;var ce=o.pathInModel;var le=o.notEqual;const ue={"com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis1":"axis1","com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis2":"axis2","com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis3":"axis3","com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis4":"axis4"};var de=function(e){e["Sort"]="Sort";e["Type"]="Type";e["Item"]="Item";e["Filter"]="Filter";return e}(de||{});function pe(e,t,n,a){let o=X(n);let i=[];if(e._metaPathContext?.getObject()?.$Type==="com.sap.vocabularies.UI.v1.PresentationVariantType"){i=e._metaPathContext.getObject().Visualizations}else if(e._metaPathContext?.getObject()?.$Type==="com.sap.vocabularies.UI.v1.SelectionPresentationVariantType"){i=e._metaPathContext.getObject().PresentationVariant?.Visualizations}if(i?.length&&!ge(i,a)){o=""}if(!o){o=`@${"com.sap.vocabularies.UI.v1.Chart"}`}const r=te(o,t,{isCondensedTableLayoutCompliant:e.useCondensedLayout,isMacroOrMultipleView:true,shouldCreateTemplateChartVisualization:false});return r.visualizations[0]}function ge(e,t){return e.some(e=>t?.includes(e.$AnnotationPath))}function fe(e){return`${e}-content`}function he(e,t){const n={};const a={};if(e.actions){Object.values(e.actions)?.forEach(e=>{if(e.isA("sap.fe.macros.chart.ActionGroup")){a[e.key]=me(e.key,e.text,null,false,true,{placement:e.placement,anchor:e.anchor},e.actions.map((t,n)=>e.key+"_Menu_"+n));e.actions?.forEach((t,n)=>{const o=e.key.concat("_Menu_",n);a[o]=me(o,t.text,t.press,!!t.requiresSelection,t.enabled===null||t.enabled===undefined?true:t.enabled)})}else if(e.isA("sap.fe.macros.chart.Action")){a[e.key]=me(e.key,e.text,e.press,!!e.requiresSelection,e.enabled===null||e.enabled==undefined?true:e.enabled,{placement:e.placement,anchor:e.anchor})}})}if(t&&e.actions){n[t]={actions:a}}return n}function me(e,t,n,a,o,i,r){const s={key:e,text:t,__noWrap:true,press:n,requiresSelection:a,enabled:o};if(i){s.position=i}if(r){s.menu=r}return s}function be(e){const t=`/${a()}`;const n=new H;n.setProperty(t,e);return n.createBindingContext(t)}function ve(t,n){const a=t.chartDefinition.annotationPath.split("/");const o=a.filter(function(e,t){return a.indexOf(e)==t}).toString().replaceAll(",","/");const i=oe(t._metaModel.createBindingContext(o),t._context).targetObject;const r=n.getAggregatedProperty();let s=[];const c=t._metaPathContext.getPath();const l=n.getAggregatedProperties();const u=i?.Measures?i.Measures:[];const d=i?.DynamicMeasures?i.DynamicMeasures:[];const p=l[0]?l[0].filter(function(e){return u.some(function(t){return e.Name===t.value})}):undefined;const g=c.replace(/@com.sap.vocabularies.UI.v1.(Chart|PresentationVariant|SelectionPresentationVariant).*/,"");const f=t.chartDefinition.transAgg;const h=t.chartDefinition.customAgg;if(r.length>0&&!d&&p&&p.length>0){e.warning("The transformational aggregate measures are configured as Chart.Measures but should be configured as Chart.DynamicMeasures instead. Please check the SAP Help documentation and correct the configuration accordingly.")}const m=u.some(e=>{const t=_e(h,e);return!!t});if(r.length>0&&!d?.length&&!m){throw new Error("Please configure DynamicMeasures for the chart")}if(r.length>0&&i){for(const e of d){s=Ae(s,e,g,i,t)}}for(const e of u){const n=e.value;const a=_e(h,e);const o={};if(a){s=Ce(s,o,a,n)}else if(r.length===0&&f[n]){s=ye(s,o,f,n)}Me(t._chart.MeasureAttributes,g,o,t)}const b=new H(s);b.$$valueAsPromise=true;return b.createBindingContext("/")}function Ce(t,n,a,o){if(o.includes("/")){e.error(`$expand is not yet supported. Measure: ${o} from an association cannot be used`)}n.key=a.value;n.role="axis1";n.label=a.label;n.propertyPath=a.value;t.push(n);return t}function ye(e,t,n,a){const o=n[a];t.key=o.name;t.role="axis1";t.propertyPath=a;t.aggregationMethod=o.aggregationMethod;t.label=o.label||t.label;e.push(t);return e}function Ae(t,n,a,o,i){const r=n.value||"";const s=oe(i._metaModel.createBindingContext(a+r),i._context).targetObject;if(r.includes("/")){e.error(`$expand is not yet supported. Measure: ${r} from an association cannot be used`)}else if(!s){throw new Error(`Please provide the right AnnotationPath to the Dynamic Measure ${n.value}`)}else if(n.value?.startsWith(`@${"com.sap.vocabularies.Analytics.v1.AggregatedProperty"}`)===null){throw new Error(`Please provide the right AnnotationPath to the Dynamic Measure ${n.value}`)}else{const e={key:s.Name.toString(),role:"axis1"};e.propertyPath=s.AggregatableProperty.value;e.aggregationMethod=s.AggregationMethod.toString();e.label=se(s.annotations?.Common?.Label?.toString()??s.AggregatableProperty.$target?.annotations?.Common?.Label?.toString()??"");Me(o.MeasureAttributes,a,e,i);t.push(e)}return t}function _e(e,t){if(t.value&&e[t.value]){t.label=e[t.value]?.label;return t}return null}function Me(e,t,n,a){if(e?.length){for(const o of e){Pe(o,t,n,a)}}}function Pe(e,t,n,a){const o=e.DynamicMeasure?e?.DynamicMeasure?.value:e?.Measure?.value;const i=e.DataPoint?e?.DataPoint?.value:null;const r=e.Role;const s=i?oe(a._metaModel.createBindingContext(t+i),a._context).targetObject:undefined;if(n.key===o){ke(n,r);Be(n,s)}}function xe(e){const t={};if(e.TargetValue){t.targetValue=e.TargetValue.$Path}if(e.ForecastValue){t.foreCastValue=e.ForecastValue.$Path}let n=null;if(e.Criticality){if(Y(e.Criticality)&&e.Criticality.path){n={Calculated:e.Criticality.path}}else{n={Static:e.Criticality.$EnumMember.replace("com.sap.vocabularies.UI.v1.CriticalityType/","")}}}else if(e.CriticalityCalculation){const t={};const a=De(t,e.CriticalityCalculation);if(a){n={ConstantThresholds:t}}else{n={DynamicThresholds:t}}}if(n){t.criticality=n}return t}function De(e,t){const n=["AcceptanceRangeLowValue","AcceptanceRangeHighValue","ToleranceRangeLowValue","ToleranceRangeHighValue","DeviationRangeLowValue","DeviationRangeHighValue"];e.ImprovementDirection=t.ImprovementDirection?.$EnumMember.replace("com.sap.vocabularies.UI.v1.ImprovementDirectionType/","");const a={oneSupplied:false,usedMeasures:[]};const o={oneSupplied:false};Te(n,a,o,t);Oe(n,e,a,o,t);return!a.oneSupplied}function Te(e,t,n,a){for(const o of e){t[o]=a[o]?a[o].$Path:undefined;t.oneSupplied=t.oneSupplied||t[o];if(!t.oneSupplied){n[o]=a[o];n.oneSupplied=n.oneSupplied||n[o]}else if(t[o]){t.usedMeasures.push(t[o])}}}function Oe(e,t,n,a,o){if(n.oneSupplied){for(const a of e){if(n[a]){t[a]=n[a]}}t.usedMeasures=n.usedMeasures}else{t.AggregationLevels=[];Ie(e,t,a,o)}}function Ie(e,t,n,a){let o={};if(n.oneSupplied){o={VisibleDimensions:null};for(const t of e){if(n[t]){o[t]=n[t]}}t.AggregationLevels?.push(o)}Se(e,t,a,o)}function Se(e,t,n,a){if(n.ConstantThresholds&&n.ConstantThresholds.length>0){for(const o of n.ConstantThresholds){const n=o.AggregationLevel?[]:null;if(n&&o.AggregationLevel&&o.AggregationLevel.length>0){for(const e of o.AggregationLevel){n.push(e.$PropertyPath)}}a={VisibleDimensions:n};for(const t of e){const e=o[t];if(e){a[t]=e}}t.AggregationLevels?.push(a)}}}function Be(e,t){if(t&&t.Value.$Path==e.key){e.dataPoint=G.formatJSONToString(xe(t))||""}}function ke(e,t){if(t!=null){const n=t.$EnumMember;e.role=ue[n]}}function Ve(e,t){if(e._commandActions.length>0){return e._commandActions.map(n=>Le(n,t,e))}return""}function je(e,t){if(e){if(e==="false"||e===false){t._personalization=undefined}else if(e==="true"||e===true){t._personalization=Object.values(de).join(",")}else if(Ee(e)===true){t._personalization=e}else{t._personalization=undefined}}}function Ee(e){let t=true;const n=e.split(",");const a=Object.values(de);n.forEach(e=>{if(!a.includes(e)){t=false}});return t}function $e(e){const t=e.variantManagement?e.variantManagement:e.chartDefinition.variantManagement;return e.personalization===undefined?"None":t}function we(t){const n=t.personalization;if(n){const e=$e(t);if(e==="Control"){return W(w,{id:Q([t._blockId,"VM"]),for:[t._blockId],showSetAsDefault:true,headerLevel:t.headerLevel,select:e=>{t.fireVariantSelected?.(e)},save:e=>{t.fireVariantSaved?.(e)}})}else if(e==="None"||e==="Page"){return""}}else if(!n){e.warning("Variant Management cannot be enabled when personalization is disabled")}return""}function Fe(e){if($e(e)==="None"){return W(U,{id:Q([e._blockId,"PersistenceProvider"]),for:e._blockId})}}function Ne(e,t,n,a,o){if(t){const i={actionContext:e,onExecuteAction:G.getPressEventForDataFieldForActionButton(o._blockId,t,n||""),onExecuteIBN:A.getPressHandlerForDataFieldForIBN(t,`\${internal>selectedContexts}`,false),onExecuteManifest:A.buildActionWrapper(a,o),chartOperationAvailableMap:n};o._commandActions.push(i)}}function Le(e,t,n){const a=e.actionContext.getObject();const o=a.annotationPath&&n._metaModel.createBindingContext(a.annotationPath);const i=o&&o.getObject();const r=n._metaModel.createBindingContext(a.annotationPath+"/Action");const c=A.getActionContext(r);const l=A.getPathToBoundActionOverload(r);const u=n._metaModel.createBindingContext(l).getObject();const d=re(G.getOperationAvailableMap(t.getObject(),{context:t}));const p=a.enabled?a.enabled:G.isDataFieldForActionButtonEnabled(u&&u.$IsBound,i.Action,n._context,d||"",a.enableOnSelect||"");let g;if(a.enabled){g=a.enabled}else if(i.RequiresContext){g="{= %{internal>numberOfSelectedContexts} >= 1}"}let f;switch(a.type){case"ForAction":f=p??a.enabled;break;case"ForNavigation":f=g??a.enabled;break;default:f=a.enabled;break}const h=W(s,{execute:t=>Ue(t,a,n._blockId,e.chartOperationAvailableMap,i),enabled:f,visible:dt(o,n)??a.visible,command:a.command});if(a.type=="ForAction"&&(!u||u.IsBound!==true||c[`@${"Org.OData.Core.V1.OperationAvailable"}`]!==false)){return h}else if(a.type=="ForAction"){return""}else{return h}}function Ue(e,t,n,a,o){const r=i.getTargetView(e.getSource());const s=r?.getController();switch(t.type){case"ForAction":const i=t.InvocationGrouping&&t.InvocationGrouping.$EnumMember==="com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated";const c={contexts:r.getBindingContext("internal")?.getProperty("selectedContexts"),invocationGrouping:i,controlId:n,operationAvailableMap:a,model:r.getModel(),label:o.Label};s.editFlow.invokeAction(o.Action,c);break;case"ForNavigation":const l={navigationContexts:r.getBindingContext("internal")?.getProperty("selectedContexts")};if(o.Mapping){l.semanticObjectMapping=JSON.stringify(o.Mapping)}s._intentBasedNavigation.navigate(o.SemanticObject,o.Action,l);break;default:m.actionWrapper(e,t.handlerModule,t.handlerMethod,{contexts:r.getBindingContext("internal")?.getProperty("selectedContexts")});break}}function He(e){if(e._chart){const t=[];const n=[];if(e._chart.Dimensions){G.formatDimensions(e._chartContext).getObject().forEach(n=>{n.id=Q([e.id,"dimension",n.key]);t.push(ze({id:n.id,key:n.key,label:n.label,role:n.role},"_fe_groupable_","groupable"))})}if(e.measures){G.formatMeasures(e.measures).forEach(t=>{t.id=Q([e.id,"measure",t.key]);n.push(ze({id:t.id,key:t.key,label:t.label,role:t.role},"_fe_aggregatable_","aggregatable"))})}if(t.length&&n.length){return t.concat(n)}}return""}function ze(e,t,n){return W(L,{id:e.id,propertyKey:t+e.key,type:n,label:se(e.label,"string"),role:e.role})}function Re(e){const t=We(e);if(e.chartDefinition?.onSegmentedButtonPressed){t.push(st(e))}if(e.chartDefinition.isInsightsEnabled){t.push(Ge(e.chartDefinition.isInsightsEnabled,e.chartDefinition.isInsightsVisible,e._blockId,e))}if(t.length>0){return t}return[]}function Ge(e,t,n,a){return W(N,{visible:t,children:W(_,{id:Q([n,"StandardAction::Insights"]),text:"{sap.fe.i18n>M_COMMON_INSIGHTS_CARD}",press:()=>{a.onAddCardToInsightsPressed()},enabled:e,children:{layoutData:W(S,{priority:"AlwaysOverflow"})}})})}function We(e){const t=Ke(e.chartActions??[]);return t.map(t=>{if(t.annotationPath||t.type==="Menu"&&!t.id?.startsWith("CustomAction")){return Ye(t,e._chartContext,false,e)}else if(t.hasOwnProperty("noWrap")){return qe(t,e._chartContext,e)}})}function Ke(e){for(const t of e){if(t.menu){t.menu.forEach(t=>{const n=e.map(e=>e.key).indexOf(t.key);if(n!==-1){e.splice(n,1)}})}}return e}function qe(e,t,n){let a=e.enabled;if((e.requiresSelection??false)&&e.enabled==="true"){a="{= %{internal>numberOfSelectedContexts} >= 1}"}if(e.type==="Default"){return et(e,{id:Q([n._blockId,e.id]),unittestid:"DataFieldForActionButtonAction",label:e.text?e.text:"",ariaHasPopup:undefined,press:e.press?e.press:"",enabled:a,visible:e.visible?e.visible:false},false,n)}else if(e.type==="Menu"){return Xe({id:Q([n._blockId,e.id]),text:e.text,visible:e.visible,enabled:a,useDefaultActionOnly:R.getUseDefaultActionOnly(e),buttonMode:R.getButtonMode(e),defaultAction:undefined,actions:e},t,n)}}function Je(e,t,n){let a;if(e.annotationPath){return Ye(e,t,true,n)}if(e.command){a={"jsx:command":`cmd:${e.command}|press`}}else if(e.noWrap??false){a={press:t=>{const n=e.handlerMethod?.split(".")[1];const a={...i.getTargetView(t.getSource()).getController()};if(a[n])a[n](t)}}}else{a={press:t=>{const n=i.getTargetView(t.getSource()).getBindingContext("internal")?.getProperty("selectedContexts");m.actionWrapper(t,e.handlerModule,e.handlerMethod,{contexts:n})}}}return W(I,{text:e.text,...a,visible:e.visible,enabled:e.enabled})}function Xe(e,t,n){const a=(e.actions?.menu).map(e=>Je(e,t,n));return W(N,{children:W(O,{text:e.text,type:"Transparent",id:e.id,visible:e.visible,enabled:e.enabled,useDefaultActionOnly:e.useDefaultActionOnly,buttonMode:e.buttonMode,menuPosition:q.BeginBottom,defaultAction:"props.defaultAction",children:{menu:W(T,{children:a})}})})}function Ye(e,t,n,a){const o=a._metaModel.createBindingContext(e.annotationPath??"");if(e.type==="ForNavigation"){return Qe(e,o,n,a)}else if(e.type==="ForAction"){return Ze(t,e,o,n,a)}else if(e.type==="Menu"){const n=e.menu?.map(e=>Ye(e,t,true,a));return W(N,{children:W(O,{text:e.text,type:"Transparent",id:e.key,visible:e.visible,enabled:e.enabled,menuPosition:q.BeginBottom,icon:e?.isAIOperation===true?ne:undefined,children:{menu:W(T,{children:n})}})})}return undefined}function Qe(e,t,n,a){let o="true";const i=t.getObject();if(e.enabled!==undefined){o=e.enabled}else if(i.RequiresContext){o="{= %{internal>numberOfSelectedContexts} >= 1}"}return et(e,{id:undefined,unittestid:"DataFieldForIntentBasedNavigationButtonAction",label:i.Label,ariaHasPopup:undefined,press:A.getPressHandlerForDataFieldForIBN(i,`\${internal>selectedContexts}`,false),enabled:o,visible:dt(t,a)},n,a,i)}function Ze(e,t,n,a,o){const i=o._metaModel.createBindingContext(t.annotationPath+"/Action");const r=o._metaModel.createBindingContext(A.getActionContext(i));const s=r?.getObject();const c=A.getPathToBoundActionOverload(i);const l=o._metaModel.createBindingContext(c).getObject();const u=n.getObject();if(!l||l.$IsBound!==true||s[`@${"Org.OData.Core.V1.OperationAvailable"}`]!==false){const i=rt(t,l,u,e,o._context);const r=oe(o._metaModel.createBindingContext(t.annotationPath));const s=ae(r);const c=re(G.getOperationAvailableMap(e.getObject(),{context:e}))||"";return et(t,{id:Q([o._blockId,oe(n)]),unittestid:"DataFieldForActionButtonAction",label:u.Label,ariaHasPopup:s,enabled:i,visible:dt(n,o)},a,o,u,c)}return undefined}function et(e,t,n,a,o,r){if(n){const n=e.command?{"jsx:command":`cmd:${e.command}|press`}:{press:t=>{const n=i.getTargetView(t.getSource());const s=n.getController();if(e.type==="ForAction"){const e={contexts:n.getBindingContext("internal")?.getProperty("selectedContexts"),invocationGrouping:o?.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated",controlId:a._blockId,operationAvailableMap:r,model:n.getModel(),label:o?.Label};s.editFlow.invokeAction(o?.Action,e)}else if(e.type==="ForNavigation"){const e={navigationContexts:n.getBindingContext("internal")?.getProperty("selectedContexts")};if(o?.Mapping){e.semanticObjectMapping=JSON.stringify(o.Mapping)}s._intentBasedNavigation.navigate(o.SemanticObject,o.Action,e)}}};return W(I,{text:t.label,...n,enabled:t.enabled,visible:t.visible})}else{return tt(e,t,a,o,r)}}function tt(e,t,n,a,o){return W(N,{children:W(_,{id:t.id,text:t.label,ariaHasPopup:t.ariaHasPopup,...nt(e,a,o,n),enabled:t.enabled,visible:t.visible,icon:e.isAIOperation===true?ne:undefined})})}function nt(e,t,n,a){let o={press:""};if(e.hasOwnProperty("noWrap")){if(e.command){o={"jsx:command":`cmd:${e.command}|press`}}else if(e.noWrap===true){o=at(e)}else if(!e.annotationPath){o=ot(e)}}else{o=e.command?{"jsx:command":`cmd:${e.command}|press`}:it(e,t,a,n)}return o}function at(e){return{press:t=>{const n=e.handlerMethod?.split(".")[1];const a={...i.getTargetView(t.getSource()).getController()};if(a[n])a[n](t)}}}function ot(e){return{press:t=>{const n=t.getSource().getBindingContext("internal")?.getProperty("selectedContexts");m.actionWrapper(t,e.handlerModule,e.handlerMethod,{contexts:n})}}}function it(e,t,n,a){return{press:o=>{const r=i.getTargetView(o.getSource());const s=r.getController();if(e.type==="ForAction"){const e={contexts:r.getBindingContext("internal")?.getProperty("selectedContexts"),invocationGrouping:t?.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated",controlId:n?._blockId,operationAvailableMap:a,model:r.getModel(),label:t?.Label};s.editFlow.invokeAction(t?.Action,e)}else if(e.type==="ForNavigation"){const e={navigationContexts:r.getBindingContext("internal")?.getProperty("selectedContexts")};if(t?.Mapping){e.semanticObjectMapping=JSON.stringify(t.Mapping)}s._intentBasedNavigation.navigate(t.SemanticObject,t.Action,e)}}}}function rt(e,t,n,a,o){return e.enabled!==undefined?e.enabled:G.isDataFieldForActionButtonEnabled(t&&t.$IsBound,n.Action,o,G.getOperationAvailableMap(a.getObject(),{context:a}),e.enableOnSelect||"")}function st(e){return W(N,{layoutInformation:{aggregationName:"end",alignment:"End"},children:W(B,{id:Q([e._blockId,"SegmentedButton","TemplateContentView"]),selectionChange:t=>{e.fireSegmentedButtonPressed?.(n(t.getParameters(),{selectedKey:t.getSource().getSelectedKey()}))},visible:le(ce("alpContentView","pageInternal"),"Table"),selectedKey:ce("alpContentView","pageInternal"),children:{items:ct()}})})}function ct(){const e=[];if(A.isDesktop()){e.push(lt("{sap.fe.i18n>M_COMMON_HYBRID_SEGMENTED_BUTTON_ITEM_TOOLTIP}","Hybrid","sap-icon://chart-table-view"))}e.push(lt("{sap.fe.i18n>M_COMMON_CHART_SEGMENTED_BUTTON_ITEM_TOOLTIP}","Chart","sap-icon://bar-chart"));e.push(lt("{sap.fe.i18n>M_COMMON_TABLE_SEGMENTED_BUTTON_ITEM_TOOLTIP}","Table","sap-icon://table-view"));return e}function lt(e,t,n){return W(k,{tooltip:e,icon:n},t)}function ut(t,n){const a=X(t);if(!a){e.error(`Missing metaPath parameter for Chart`);return`@${"com.sap.vocabularies.UI.v1.Chart"}`}if(t.targetObject?.term==="com.sap.vocabularies.UI.v1.Chart"){return a}const o=n.getEntityTypeAnnotation(a);let i=[];switch(t.targetObject?.term){case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":if(t.targetObject.PresentationVariant){i=ee(t.targetObject,a,o.converterContext,true)}break;case"com.sap.vocabularies.UI.v1.PresentationVariant":i=ee(t.targetObject,a,o.converterContext,true);break;default:break}const r=i.find(e=>e.visualization.term==="com.sap.vocabularies.UI.v1.Chart");if(r){return r.annotationPath}else{e.error(`Bad metaPath parameter for chart: ${t.targetObject?.term}`);return`@${"com.sap.vocabularies.UI.v1.Chart"}`}}function dt(e,t){const n=e.getObject();if(n[`@${"com.sap.vocabularies.UI.v1.Hidden"}`]&&n[`@${"com.sap.vocabularies.UI.v1.Hidden"}`].$Path){const a=t._metaModel.createBindingContext(e.getPath()+`/@${"com.sap.vocabularies.UI.v1.Hidden"}/$Path`,n[`@${"com.sap.vocabularies.UI.v1.Hidden"}`].$Path);return G.getHiddenPathExpressionForTableActionsAndIBN(n[`@${"com.sap.vocabularies.UI.v1.Hidden"}`].$Path,{context:a})}else if(n[`@${"com.sap.vocabularies.UI.v1.Hidden"}`]){return!n[`@${"com.sap.vocabularies.UI.v1.Hidden"}`]}else{return true}}function pt(e,a,o,i,r){let s=Object.assign({},a);delete s.resourceModel;delete s.appComponent;s=t(s);let l={};const d=J(o.contextLocation??o);const p=o.contextLocation?.targetEntitySet?.name??o.targetEntitySet?.name;if(d===a?.contextPath||d===`/${a?.entitySet}`||p===a?.entitySet){l=s.controlConfiguration}s.controlConfiguration=n(l,r||{});return c.createConverterContextForMacro(o.startingEntitySet.name,e._metaModel,i,n,o.contextLocation,new u(s))}function gt(e,t,n,a){const o=pt(e,t,n,a);const i=ut(n,o);const r=he(e,i);return pt(e,t,n,a,r)}function ft(e){if(e._applyIdToContent){e._blockId=e.id.replace(/::Chart$/,"");e._contentId=e._blockId}else{e._blockId=e.id;e._contentId=fe(e.id)}}function ht(e,t,n,a){const o=e.getMetaPathObject(e.metaPath,e._resolvedContextPath);e._metaModel=e._getOwner()?.preprocessorContext?.models.metaModel;e._metaPathContext=e._metaModel.createBindingContext(o.getPath());e._context=e._metaModel.createBindingContext(e.contextPath??o?.getContextPath());const i=gt(e,t,a,n);const r=i.getManifestWrapper()?.getViewConfiguration();const s=r?.paths?.length>1;const c=i.getManifestWrapper()?.hasMultipleVisualizations()||i.getTemplateType()===ie.AnalyticalListPage;const l=new Z(i.getEntityType(),i,true);e._chartContext=G.getUiChart(e._metaPathContext);e._chart=e._chartContext.getObject();e._blockActions=[];e._commandActions=[];ft(e);if(e._chart){e.chartDefinition=pe(e,i,a,e._chartContext.getPath());const t=e._metaModel.createBindingContext(e.chartDefinition.collection);e.navigationPath=e.chartDefinition.navigationPath;e.autoBindOnInit=e.chartDefinition.autoBindOnInit;e.vizProperties=e.chartDefinition.vizProperties;e.chartActions=e.chartDefinition.actions;e.filter=mt(e);let n;if(e.chartDefinition?.personalization!==undefined){n=e.chartDefinition.personalization}else{switch(e.personalization){case"false":n=undefined;break;case"true":n=Object.values(de).join(",");break;default:n=e.personalization}}je(n,e);e.visible=e.chartDefinition.visible;let o=e._context.getPath();o=o[o.length-1]==="/"?o.slice(0,-1):o;e.draftSupported=b.isDraftSupported(e._metaModel,o);e._chartType=G.formatChartType(e._chart.ChartType);const r=G.getOperationAvailableMap(e._chart,{context:e._chartContext});if(Object.keys(e.chartDefinition?.commandActions).length>0){Object.keys(e.chartDefinition?.commandActions).forEach(t=>{const n=e.chartDefinition?.commandActions[t];const a=be(n);const o=n.annotationPath&&e._metaModel.createBindingContext(n.annotationPath);const i=o&&o.getObject();const s=re(r);Ne(a,i,s,n,e)})}e.measures=ve(e,l);const u=A.createPresentationPathContext(e._metaPathContext);e._sortConditions=G.getSortConditions(e._metaPathContext,e._metaPathContext.getObject(),u.getPath(),e.chartDefinition.applySupported);const d=e._metaModel.createBindingContext(e._chartContext.getPath()+"/Actions",e._chart.Actions);const p=A.getTargetCollectionPath(t);const g=e._metaModel.createBindingContext(p,t);const f=a.convertedTypes.resolvePath(d.getPath())?.target;e._customData={targetCollectionPath:e.chartDefinition.collection,entitySet:typeof g.getObject()==="string"?g.getObject():g.getObject("@sapui.name"),entityType:e.chartDefinition.collection+"/",operationAvailableMap:JSON.parse(r),multiSelectDisabledActions:z.getMultiSelectDisabledActions(f)+"",segmentedButtonId:Q([e._blockId,"SegmentedButton","TemplateContentView"]),customAgg:e.chartDefinition?.customAgg,transAgg:e.chartDefinition?.transAgg,applySupported:e.chartDefinition?.applySupported,vizProperties:JSON.parse(e.vizProperties),draftSupported:e.draftSupported,multiViews:e.chartDefinition?.multiViews||!c&&s,selectionPresentationVariantPath:{data:e.chartDefinition?.selectionPresentationVariantPath},chartDimensionKeyAndRole:e.chartDefinition?.chartDimensionKeyAndRole,chartMeasureKeyAndRole:e.chartDefinition?.chartMeasureKeyAndRole};if(e.chartDefinition.isParameterizedEntitySet){e._customData.entitySet=e.chartDefinition.collection.substring(1)}}else{e.autoBindOnInit=false;e.visible="true";e.navigationPath="";e._customData={targetCollectionPath:"",entitySet:"",entityType:"",operationAvailableMap:"",multiSelectDisabledActions:"",segmentedButtonId:"",customAgg:{},transAgg:{},applySupported:{},vizProperties:{}}}}function mt(e){const t=E.getElementById(e.filterBar);if(e.filterBar&&t?.isA("sap.fe.macros.filterBar.FilterBarAPI")){return fe(e.filterBar)}else if(t?.isA("sap.fe.macros.controls.FilterBar")){return e.filterBar}else if(e.filterBar){return fe(e.filterBar)}}function bt(e){if(e.chartDelegate){e.chartDelegate.payload.selectionMode=e.chartDefinition.selectionMode?.toUpperCase()??e.chartDelegate.payload.selectionMode??"MULTIPLE"}return e.chartDelegate?e.chartDelegate:{name:"sap/fe/macros/chart/ChartDelegate",payload:{chartContextPath:e._customData.targetCollectionPath,parameters:{$$groupId:"$auto.Workers"},selectionMode:e.chartDefinition.selectionMode?.toUpperCase()??e.selectionMode?.toUpperCase()??"MULTIPLE"}}}function vt(e){return[W(j,{value:e._customData.targetCollectionPath},"targetCollectionPath"),W(j,{value:e._customData.entitySet},"entitySet"),W(j,{value:e._customData.entityType},"entityType"),W(j,{value:e._customData.operationAvailableMap},"operationAvailableMap"),W(j,{value:e._customData.multiSelectDisabledActions},"multiSelectDisabledActions"),W(j,{value:e._customData.segmentedButtonId},"segmentedButtonId"),W(j,{value:e._customData.customAgg},"customAgg"),W(j,{value:e._customData.transAgg},"transAgg"),W(j,{value:e._customData.applySupported},"applySupported"),W(j,{value:e._customData.vizProperties},"vizProperties"),W(j,{value:e._customData.draftSupported},"draftSupported"),W(j,{value:e._customData.multiViews},"multiViews"),W(j,{value:e._customData.selectionPresentationVariantPath},"selectionPresentationVariantPath"),W(j,{value:e._customData.chartDimensionKeyAndRole},"chartDimensionKeyAndRole"),W(j,{value:e._customData.chartMeasureKeyAndRole},"chartMeasureKeyAndRole")]}function Ct(e){if(e._customData.targetCollectionPath===""){return}return W(P,{illustrationSize:x.Auto,illustrationType:D.BeforeSearch,title:e.getTranslatedText("T_TABLE_AND_CHART_NO_DATA_TITLE_TEXT"),description:e.getTranslatedText("T_TABLE_AND_CHART_NO_DATA_TEXT"),enableDefaultTitleAndDescription:false,enableVerticalResponsiveness:true})}function yt(e,t,n,a){ht(e,t,n,a);e.layoutData=W(M,{growFactor:"1",shrinkFactor:"1"});return W(F,{binding:{internal:"controls/"+e._blockId},id:e._contentId,chartType:e._chartType,sortConditions:e._sortConditions,header:e.chartDefinition.header??e.header??e._chart?.Title?.toString()??"",headerVisible:e.chartDefinition.headerVisible??e.headerVisible,minHeight:V.system.phone?"80vh":"400px",height:"100%",width:"100%",headerLevel:e.headerLevel,headerStyle:e.headerStyle,p13nMode:e._personalization?.split(","),filter:e.filter,noDataText:e._customData.targetCollectionPath===""?e.getTranslatedText("M_CHART_NO_ANNOTATION_SET_TEXT"):e.noDataText,autoBindOnInit:e.autoBindOnInit,delegate:bt(e),visible:e.visible,children:{customData:vt(e),dependents:[Ve(e,e._chartContext),Fe(e)],items:He(e),actions:e.chartActions?Re(e):e._blockActions,variant:we(e),noData:Ct(e)}})}K.getMdcChartTemplate=yt;return K},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/adapter/ChartPvToStateUtils", [],function(){"use strict";const e={convertPvToStateUtilPv:(t,r,s)=>{const n=t.getChartVisualization();const i=t.getProperties();const o=r.getChartVisualization();const a=r.getProperties();let l=[];let u=[];l=e._overrideExistingSorters(i?.SortOrder??[],a?.SortOrder??[],s??[]);u=e._overrideExistingItems(n,o);return{items:u,sorters:l,supplementaryConfig:{properties:{chartType:e._getCharsAfterSlashInLowerCase(n?.Content?.ChartType)}}}},_getCharsAfterSlashInLowerCase:e=>{if(e==undefined){return undefined}return e.split("/")[1].toLowerCase()},_getPropertyNameWithPrefix:(e,t)=>{let r;for(const s of t){r=s.name;if(r?.includes(e)){break}}return r??e},_overrideExistingSorters:(t,r,s)=>{const n=[];const i=t.map(t=>{n.push(t.Property);return{descending:t.Descending,key:e._getPropertyNameWithPrefix(t.Property,s),name:e._getPropertyNameWithPrefix(t.Property,s)}});const o=r.filter(e=>!n.includes(e.Property)).map(t=>({descending:t.Descending,key:e._getPropertyNameWithPrefix(t.Property,s),name:e._getPropertyNameWithPrefix(t.Property,s),sorted:false}));return[...i,...o]},_overrideExistingItems:(t,r)=>{const s=e._overrideExistingItemsMeasures(t,r);const n=e._overrideExistingItemsDimensions(t,r);return[...s,...n]},_overrideExistingItemsMeasures:(t,r)=>{const s=[];const n=t?.Content?.MeasureAttributes.map(t=>{s.push(t.Measure);return{name:"_fe_aggregatable_"+t.Measure,role:e._getCharsAfterSlashInLowerCase(t.Role)}})??[];const i=r?.Content?.MeasureAttributes.filter(e=>!s.includes(e.Measure)).map(t=>({name:"_fe_aggregatable_"+t.Measure,role:e._getCharsAfterSlashInLowerCase(t.Role),visible:false}))??[];return[...n,...i]},_overrideExistingItemsDimensions:(t,r)=>{const s=[];const n=t?.Content?.DimensionAttributes.map(t=>{s.push(t.Dimension);return{name:"_fe_groupable_"+t.Dimension,role:e._getCharsAfterSlashInLowerCase(t.Role)}})??[];const i=r?.Content?.DimensionAttributes.filter(e=>!s.includes(e.Dimension)).map(t=>({name:"_fe_groupable_"+t.Dimension,role:e._getCharsAfterSlashInLowerCase(t.Role),visible:false}))??[];return[...n,...i]}};return{convertPvToStateUtilPv:e.convertPvToStateUtilPv}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contact/CollaborativeHeader", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/Avatar","sap/m/AvatarShape","sap/m/HBox","sap/m/Text","sap/m/Title","sap/m/VBox","sap/ui/performance/trace/FESRHelper","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,a,i,r,n,o,l,s,u,c){"use strict";var p,f,b,d,g,h,m,v,y,S,z,w,B;var T={};var C=e.property;var j=e.defineUI5Class;function P(e,t,a,i){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(i):void 0})}function x(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,O(e,t)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function N(e,t,a,i,r){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=a.slice().reverse().reduce(function(a,i){return i(e,t,a)||a},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function I(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let k=(p=j("sap.fe.macros.contact.CollaborativeHeader"),f=C({type:"string",isBindingInfo:true}),b=C({type:"string",isBindingInfo:true}),d=C({type:"string",isBindingInfo:true}),g=C({type:"string"}),h=C({type:"boolean",defaultValue:false}),p(m=(v=function(e){function t(t,a){var i;i=e.call(this,t,a)||this;P(i,"fullName",y,i);P(i,"role",S,i);P(i,"photoSrc",z,i);P(i,"mail",w,i);P(i,"isNaturalPerson",B,i);return i}T=t;x(t,e);var p=t.prototype;p.onMetadataAvailable=function e(){this.createContent()};p.addProfileStatus=async function e(t){const a=this.getAppComponent();if(a){const e=await a.getCollaborativeToolsService().getTeamContactStatus(t);const i=await a.getCollaborativeToolsService().getTeamContactOption("chat");if(e&&i){e.forEach(e=>{if(e.key==="profileStatus"){if(this.avatar){this.avatar.data("type",i.key);this.avatar.data("email",this.mail);this.avatar.setBadgeIcon(e.badgeIcon);this.avatar.setBadgeValueState(e.badgeValueState);this.avatar.setTooltip(e.badgeTooltip);this.avatar.setBadgeTooltip(e.badgeTooltip);s.setSemanticStepname(this.avatar,"press",i.fesrStepName)}}})}}};p.setMail=function e(t){this.mail=t;this.addProfileStatus(t)};p.createContent=function e(){this.avatar=u(a,{src:this.photoSrc,displaySize:"M",displayShape:this.isNaturalPerson?i.Circle:i.Square,class:"sapUiTinyMarginEnd"});const t=c(r,{children:[this.avatar,c(l,{class:"sapUiTinyMarginBegin",children:[u(o,{text:this.fullName,level:"H3",wrapping:"true"}),u(n,{text:this.role})]})]});this.content=t};return t}(t),y=N(v.prototype,"fullName",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),S=N(v.prototype,"role",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),z=N(v.prototype,"photoSrc",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),w=N(v.prototype,"mail",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),B=N(v.prototype,"isNaturalPerson",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),v))||m);T=k;return T},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contact/Contact", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/contact/ContactHelper","sap/ui/mdc/Field","sap/ui/mdc/Link","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,r,a,n,o,l,s){"use strict";var u,c,f,p,d,b,h,m,g,y,v,P,x;var w={};var z=n.getMsTeamsMail;var I=a.getRelativePaths;var O=r.generate;var j=t.property;var E=t.defineUI5Class;var C=t.association;var _=e.getExpressionFromAnnotation;var M=e.compileExpression;function D(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,B(e,t)}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function F(e,t,i,r,a){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function H(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let T=(u=E("sap.fe.macros.contact.Contact"),c=C({type:"string"}),f=j({type:"string",required:true}),p=j({type:"string"}),d=j({type:"boolean"}),b=C({type:"string"}),u(h=(m=function(e){function t(t,i){var r;r=e.call(this,t,i)||this;D(r,"idPrefix",g,r);D(r,"metaPath",y,r);D(r,"contextPath",v,r);D(r,"showEmptyIndicator",P,r);D(r,"_flexId",x,r);return r}w=t;k(t,e);var i=t.prototype;i.onMetadataAvailable=function e(){if(!this.content){const e=this.createContent();if(e){this.content=e}}};i.getEnabled=function e(){return true};i.createContent=function e(){let t;if(this._flexId){t=this._flexId}else{t=this.idPrefix?O([this.idPrefix,"Field-content"]):undefined}const i=this.getDataModelObjectForMetaPath(this.metaPath,this.contextPath);if(!i){return null}const r=!!i.targetEntityType?.annotations?.Common?.IsNaturalPerson?.valueOf();const a=_(i.targetObject?.fn,I(i));const n={name:"sap/fe/macros/contact/ContactDelegate",payload:{contact:this.metaPath,mail:z(i),isNaturalPerson:r}};return s(o,{delegate:{name:"sap/fe/macros/field/FieldBaseDelegate"},id:t,editMode:"Display",width:"100%",showEmptyIndicator:this.showEmptyIndicator,value:M(a),multipleLines:true,children:{fieldInfo:s(l,{enablePersonalization:"false",delegate:n})}})};i.getValue=function e(){return this.content?.getValue()};return t}(i),g=F(m.prototype,"idPrefix",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),y=F(m.prototype,"metaPath",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),v=F(m.prototype,"contextPath",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),P=F(m.prototype,"showEmptyIndicator",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),x=F(m.prototype,"_flexId",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||h);w=T;return w},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contact/ContactDelegate", ["sap/fe/core/CommonUtils","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/mdc/enums/LinkType","sap/ui/mdc/LinkDelegate","sap/ui/model/json/JSONModel"],function(e,t,n,o,i,a,s){"use strict";return Object.assign({},a,{_fnTemplateFragment:async function(i,a,c){const r="sap.fe.macros.contact.ContactQuickView";const d=e.getTargetView(c);const g=e.getAppComponent(d);const l={bindingContexts:{},models:{},appComponent:g};const u=a.createBindingContext(i.contact);const p=new s(i);if(i.contact&&u){l.bindingContexts={contact:u,payload:p.createBindingContext("/")};l.models={contact:a,payload:p}}const m=o.loadTemplate(r,"fragment");const f=d.getController().getOwnerComponent();const C=await n.process(m,{name:r},l);return f.runAsOwner(async()=>t.load({definition:C,controller:d.getController()}))},fetchAdditionalContent:async function(e){const t=e.getPayload();const n=t.navigationPath?.match(/{(.*?)}/);const o=e.getBindingContext()?.getBinding();const i=o?.isA("sap.ui.model.odata.v4.ODataListBinding")?o.getAggregation():undefined;const a=i!==undefined&&!i.hierarchyQualifier;let s=n&&n.length>1&&n[1]?e.getModel().bindContext(n[1],e.getBindingContext(),{$$ownRequest:true}):null;if(a&&!s){s=e.getModel().bindContext("",e.getBindingContext(),{$$ownRequest:true})}if(e.isA("sap.ui.mdc.Link")){const n=e.getModel().getMetaModel();const o=await this._fnTemplateFragment(t,n,e);if(s){o.setBindingContext(s.getBoundContext())}return[o]}return Promise.resolve([])},fetchLinkType:async function(){return Promise.resolve({initialType:{type:i.Popover,directLink:undefined},runtimeType:undefined})}})},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contact/ContactHelper", ["sap/fe/base/BindingToolkit","sap/fe/core/templating/DataModelPathHelper"],function(e,t){"use strict";var n={};var i=t.getRelativePaths;var a=e.getExpressionFromAnnotation;var r=e.compileExpression;const s=function(e,t){switch(e){case"phone":return`tel:${t}`;case"mail":return`mailto:${t}`;default:return t}};n.formatUri=s;const o=function(e,t,n,i,a){const r=[];if(e){r.push(e)}if(t&&n){r.push(`${t} ${n}`)}else{if(t){r.push(t)}if(n){r.push(n)}}if(i){r.push(i)}if(a){r.push(a)}return r.join(", ")};n.formatAddress=o;const f=function(e){if(e.includes("fax")){return"{sap.fe.i18n>POPOVER_CONTACT_SECTION_FAX}"}else if(e.includes("cell")){return"{sap.fe.i18n>POPOVER_CONTACT_SECTION_MOBILE}"}else{return"{sap.fe.i18n>POPOVER_CONTACT_SECTION_PHONE}"}};n.computePhoneLabel=f;const u=function(e){let t=e.targetObject?.email?.find(e=>e.type?.includes("Communication.ContactInformationType/preferred"));t=t||e.targetObject?.email?.find(e=>e.type?.includes("Communication.ContactInformationType/work"));if(e.targetObject?.email?.length){t??=e.targetObject.email[0]}return t?r(a(t.address,i(e))):undefined};n.getMsTeamsMail=u;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contact/Email", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/Link","sap/m/library","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,n,r,a){"use strict";var o,l,s,u,c,p,b,f,d,v,y,m,g;var h={};var k=t.property;var z=t.defineUI5Class;var E=e.constant;function j(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function M(e,t,i,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function P(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let O=(o=z("sap.fe.macros.contact.Email"),l=k({type:"any",isBindingInfo:true}),s=k({type:"any",isBindingInfo:true}),u=k({type:"boolean"}),c=k({type:"string"}),p=k({type:"string"}),o(b=(f=function(e){function t(t,i){var n;n=e.call(this,t,i)||this;j(n,"visible",d,n);j(n,"text",v,n);j(n,"linkEnabled",y,n);j(n,"mail",m,n);j(n,"emptyIndicatorMode",g,n);if(n.visible===undefined||typeof n.visible==="object"&&Object.keys(n.visible).length===0){n.visible=E(true)}if(!n.linkEnabled)n.linkEnabled=true;return n}h=t;w(t,e);var i=t.prototype;i.isTeamsConnectionActive=async function e(){const t=this.getAppComponent();if(t){return t.getCollaborativeToolsService().isContactsCollaborationSupported()}else{return false}};i.getMailPopoverFromMsTeamsIntegration=function e(t){const i=this.getAppComponent();if(i){return i.getCollaborativeToolsService().getMailPopoverFromMsTeamsIntegration(t)}else{return undefined}};i.setLinkEnabled=function e(t){this.linkEnabled=t;this.content?.setEnabled(t)};i.onMetadataAvailable=function e(){if(!this.content){if(this.visible===undefined||typeof this.visible==="object"&&Object.keys(this.visible).length===0){this.visible=E(true)}if(!this.linkEnabled)this.linkEnabled=true;this.content=this.createContent()}};i.openPopover=async function e(t){t.preventDefault();let i=false;const n=t.getSource();const a=n.getParent();if(await this.isTeamsConnectionActive()){if(a.mail){const e=await this.getMailPopoverFromMsTeamsIntegration(a.mail);if(e){e.openBy(n)}else{i=true}}}else{i=true}if(i){r.URLHelper.redirect(`mailto:${a.mail}`)}};i.getValue=function e(){return this.content?.getText()};i.setValue=function e(t){this.setProperty("text",t);this.content?.setText(t);return this};i.createContent=function e(){return a(n,{visible:this.visible,text:this.text,enabled:this.linkEnabled,emptyIndicatorMode:this.emptyIndicatorMode,class:"sapMTextRenderWhitespaceWrap",press:async e=>this.openPopover(e),ariaLabelledBy:this.ariaLabelledBy,wrapping:true})};return t}(i),d=M(f.prototype,"visible",[l],{configurable:true,enumerable:true,writable:true,initializer:function(){return E(true)}}),v=M(f.prototype,"text",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),y=M(f.prototype,"linkEnabled",[u],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),m=M(f.prototype,"mail",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),g=M(f.prototype,"emptyIndicatorMode",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return"Off"}}),f))||b);h=O;return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contact/TeamContactOptions", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/Button","sap/m/FormattedText","sap/m/Toolbar","sap/m/ToolbarSpacer","sap/ui/core/CustomData","sap/ui/core/Lib","sap/ui/performance/trace/FESRHelper","sap/fe/base/jsx-runtime/jsx"],function(t,e,i,n,a,r,o,s,c,l){"use strict";var u,p,f,b,m;var d={};var v=t.property;var h=t.defineUI5Class;function g(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function y(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,O(t,e)}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}function C(t,e,i,n,a){var r={};return Object.keys(n).forEach(function(t){r[t]=n[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(t,e,r),null):r}function T(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let B=(u=h("sap.fe.macros.contact.TeamContactOptions"),p=v({type:"string"}),u(f=(b=function(t){function e(e,i){var n;n=t.call(this,e,i)||this;g(n,"mail",m,n);n.visible=false;n.contactOptions=[];return n}d=e;y(e,t);var u=e.prototype;u.retrieveContactOptions=async function t(){const e=this.getAppComponent();if(e){this.contactOptions=await e.getCollaborativeToolsService().getTeamContactOptions()}};u.setMail=function t(e){this.mail=e;this.visible=!!e;this.setVisible(this.visible)};u.onMetadataAvailable=async function t(){if(!this.content){await this.retrieveContactOptions();this.createContent()}};u.getContactOptionButton=function t(e){const n=l(i,{icon:e.icon,class:"sapUiSmallMarginBegin",type:"Transparent",customData:[new o({key:"type",value:e.key})],press:t=>{n.data("email",this.mail);e.callBackHandler(t)}});c.setSemanticStepname(n,"press",e.fesrStepName);return n};u.createContent=function t(){if(!this.contactOptions?.length){return}const e=l(a,{width:"100%",class:"sapUiTinyMarginBottom"});const i=l(n,{textAlign:"Left"});const o=s.getResourceBundleFor("sap.fe.macros").getText("M_COMMON_MS_TEAMS_TITLE");i.setHtmlText(`<strong>${o}</strong>`);e.addContent(i);e.addContent(l(r,{}));this.contactOptions.forEach(t=>{e.addContent(this.getContactOptionButton(t))});this.setVisible(this.visible);this.content=e};return e}(e),m=C(b.prototype,"mail",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),b))||f);d=B;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contentSwitcher/ContentSwitcher", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/ui/core/Element","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,n,r,o,a){"use strict";var s,l,c,u,f,p,d,m,b,y,g,h,v;var S={};var _=t.property;var w=t.implementInterface;var C=t.event;var I=t.defineUI5Class;var k=t.defineReference;var z=t.aggregation;var B=e.bindState;function K(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function x(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,j(e,t)}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}function O(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function P(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let E=(s=I("sap.fe.macros.contentSwitcher.ContentSwitcher"),l=w("sap.fe.core.controllerextensions.viewState.IViewStateContributor"),c=z({type:"sap.fe.macros.contentSwitcher.ContentSwitcherItem",multiple:true,isDefault:true}),u=C(),f=k(),p=_({type:"string",bindToState:true}),s(d=(m=function(e){function t(t,i){var n;n=e.call(this,t,i)||this;K(n,"__implements__sap_fe_core_controllerextensions_viewState_IViewStateContributor",b,n);K(n,"items",y,n);K(n,"selectionChange",g,n);K(n,"$segmentedButton",h,n);K(n,"selectedKey",v,n);n.content=n.createContent();if(n.state.selectedKey){n.onStateChange(["selectedKey"])}else{n.state.selectedKey="key0"}return n}S=t;x(t,e);var i=t.prototype;i.retrieveState=function e(){return{selectedKey:this.$segmentedButton.current?.getSelectedKey()}};i.applyState=function e(t){if(t){this.state.selectedKey=t.selectedKey??this.items[0]?.key??"key0"}};i._getControlFromItem=function e(t){const i=t.controlToSwitch;if(i){const e=o.getElementById(i);if(e?.isA("sap.ui.core.Control")){return e}}};i.showHideControls=function e(t){const i=[];const n=[];for(const e of this.items){const r=this._getControlFromItem(e);if(r&&e.key!==t){i.push(r)}else if(r){n.push(r)}}for(const e of i){if(!n.includes(e)){e.setVisible(false)}}for(const e of n){e.setVisible(true)}};i.onStateChange=function e(t){if(t?.includes("selectedKey")){this.showHideControls(this.state.selectedKey);this.getPageController()?.getExtensionAPI().updateAppState();this.fireEvent("selectionChange")}};i.createContent=function e(){const t=this.createId("filterTypeSwitch");return a(n,{ref:this.$segmentedButton,id:t,selectedKey:B(this.state,"selectedKey"),children:{items:this.items.map((e,t)=>this.createSegmentedButtonItem(e,t))}})};i.createSegmentedButtonItem=function e(t,i){const n=this.createId(t.key);t.key??=`key${i}`;if(t.icon){return a(r,{icon:t.icon,tooltip:t.text,id:n},t.key)}return a(r,{text:t.text,id:n},t.key)};return t}(i),b=O(m.prototype,"__implements__sap_fe_core_controllerextensions_viewState_IViewStateContributor",[l],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),y=O(m.prototype,"items",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),g=O(m.prototype,"selectionChange",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),h=O(m.prototype,"$segmentedButton",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),v=O(m.prototype,"selectedKey",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||d);S=E;return S},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contentSwitcher/ContentSwitcherItem", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,t){"use strict";var r,i,n,o,a,l,u,c,s,p,f;var b={};var y=e.property;var d=e.defineUI5Class;var v=e.association;function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,w(e,t)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function z(e,t,r,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function h(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let O=(r=d("sap.fe.macros.contentSwitcher.ContentSwitcherItem"),i=y({type:"string"}),n=v({type:"string"}),o=y({type:"string"}),a=y({type:"string"}),r(l=(u=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;g(i,"text",c,i);g(i,"controlToSwitch",s,i);g(i,"icon",p,i);g(i,"key",f,i);return i}b=t;m(t,e);return t}(t),c=z(u.prototype,"text",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),s=z(u.prototype,"controlToSwitch",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),p=z(u.prototype,"icon",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),f=z(u.prototype,"key",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||l);b=O;return b},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/BuildingBlockObjectProperty", ["sap/fe/base/ClassSupport","sap/fe/base/jsx-runtime/jsx-xml","sap/ui/core/Element"],function(t,e,o){"use strict";var r,s;var i={};var n=t.defineUI5Class;function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,c(t,e)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}let f=(r=n("sap.fe.macros.controls.BuildingBlockObjectProperty"),r(s=function(t){function o(){return t.apply(this,arguments)||this}i=o;a(o,t);var r=o.prototype;r.getPropertyBag=function t(){const e={};const o=this.getMetadata().getAllProperties();const r=this.getMetadata().getAllAggregations();for(const t in o){const o=this.getProperty(t);if(typeof o!=="function"){e[t]=o}}for(const t in r){const o=this.getAggregation(t);if(Array.isArray(o)){const r=[];for(const t of o){if(t.isA("sap.fe.macros.controls.BuildingBlockObjectProperty")){r.push(t.getPropertyBag())}}e[t]=r}else if(o){if(o.isA("sap.fe.macros.controls.BuildingBlockObjectProperty")){e[t]=o.getPropertyBag()}else{e[t]=o.getId()}}}return e};r.serialize=function t(o){const r=this.getMetadata().getAllProperties();const s=this.getMetadata().getAllAggregations();const i={children:{}};for(const t in r){const e=this.getProperty(t);if(typeof e!=="function"){i[t]=e}}for(const t in s){const e=this.getAggregation(t);if(Array.isArray(e)){const o=[];for(const t of e){if(t.isA("sap.fe.macros.controls.BuildingBlockObjectProperty")){o.push(t.serialize())}}i.children[t]=o}else if(e){if(e.isA("sap.fe.macros.controls.BuildingBlockObjectProperty")){i.children[t]=e.serialize()}else{i[t]=e.getId()}}}return e(this.getMetadata().getClass(),i,undefined,{},o)};r.bindProperty=function e(o,r){const s=this.getMetadata().getProperty(o);if(s?.bindable===false&&s.group==="Data"){this[o]=r}else{t.prototype.bindProperty.call(this,o,r)}return this};return o}(o))||s);i=f;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/BuildingBlockWithTemplating", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/helpers/TypeGuards","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor"],function(t,e,o,n,i,s){"use strict";var r,a;var c={};var l=n.isContext;var p=o.xml;var g=o.parseXMLString;var f=t.defineUI5Class;function h(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,u(t,e)}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}let d=(r=f("sap.fe.macros.controls.BuildingBlockWithTemplating"),r(a=function(t){function e(){return t.apply(this,arguments)||this}c=e;h(e,t);var o=e.prototype;o.onMetadataAvailable=function t(){if(!this.content){this._createContent()}};o._createContent=function t(){const e=this._getOwner();if(e?.isA("sap.fe.core.TemplateComponent")){this.contentCreated=this.createContent(e)}};o.createProxyMethods=function t(e){var o=this;for(const t of e){this[t]=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++){n[i]=arguments[i]}return o.content?.[t]?.(...n)}}};o.setProperty=function e(o,n,i){if(!this._applyingSettings&&n!==undefined&&Object.keys(this.getMetadata().getProperties()).includes(o)){t.prototype.setProperty.call(this,o,n,true);this._createContent()}else{t.prototype.setProperty.call(this,o,n,i)}return this};o.setAggregation=function e(o,n,i){if(!this._applyingSettings&&Object.keys(this.getMetadata().getAggregations()).includes(o)){t.prototype.setAggregation.call(this,o,n,true);this._createContent()}else{t.prototype.setAggregation.call(this,o,n,i)}return this};o.removeAggregation=function e(o,n,i){let s;if(!this._applyingSettings&&n!==undefined&&Object.keys(this.getMetadata().getAggregations()).includes(o)){s=t.prototype.removeAggregation.call(this,o,n,i);this._createContent()}else{s=t.prototype.removeAggregation.call(this,o,n,i)}return s};o.addAggregation=function e(o,n,i){if(!this._applyingSettings&&Object.keys(this.getMetadata().getAggregations()).includes(o)){t.prototype.addAggregation.call(this,o,n,i);this._createContent()}else{t.prototype.addAggregation.call(this,o,n,i)}return this};o.insertAggregation=function e(o,n,i,s){if(!this._applyingSettings&&Object.keys(this.getMetadata().getAggregations()).includes(o)){t.prototype.insertAggregation.call(this,o,n,i,s);this._createContent()}else{t.prototype.insertAggregation.call(this,o,n,i,s)}return this};o.createContent=async function t(e){if(this.contentCreated){await this.contentCreated}const o=e.getPreprocessorContext()??{models:{},bindingContexts:{}};const n=this.getMetadata();const r=this.metadata.buildingBlockMetadata;if(r){const t=r.publicNamespace??r.namespace;const a=r.name;const c=`${n.getName()}`.replaceAll(".","/");const f=[];const h=[];const u=r.aggregations;for(const t in r.properties){let e=this[t];let o=e;if(o?.hasOwnProperty?.("path")&&o?.hasOwnProperty?.("model")){o=this.getModel(o.model)?.getObject(o.path)}if(r.properties[t].type==="function"){f.push(p`${t}="THIS._fireEvent($event, $controller, '${t}')"`)}else if(o?.isA&&o.isA("sap.fe.macros.controls.BuildingBlockObjectProperty")){const e=o.serialize(`feBB:${t}`);h.push(e)}else if(r.properties[t].type==="array"){u[t]=r.properties[t]}else if(e!==undefined&&e!==null&&(typeof e!=="object"||Object.keys(e).length>0)){if(l(e)){e=e.getPath()}else if(t==="id"){f.push(p`${t}="${e}-block"`)}else{f.push(p`${t}="${e}"`)}}}for(const t in u){const e=this[t];if(e){const o=[];if(Array.isArray(e)){for(const t of e){if(t.isA("sap.fe.macros.controls.BuildingBlockObjectProperty"))o.push(t.serialize())}}else if(e.isA("sap.fe.macros.controls.BuildingBlockObjectProperty")){o.push(e.serialize())}const n=`<feBB:${t}>${o.join("\n")}</feBB:${t}>`;h.push(n)}}const d=await s.process(g(p`<root><feBB:${a}
			xmlns:core="sap.ui.core"
			xmlns:feBB="${t}"
			${f.length>0?f:""}
			core:require="{THIS: '${c}'}"
			>${h.length>0?h:""}</feBB:${a}></root>`,true)[0],{models:{}},o);if(d.firstElementChild){this.content?.destroy();this.content=await e.runAsOwner(async()=>i.load({definition:d.firstElementChild,controller:e.getRootController()}))}}};return e}(e))||a);c=d;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/CollaborationHBox", ["sap/fe/base/ClassSupport","sap/m/HBox"],function(t,e){"use strict";var n,o;var r=t.defineUI5Class;function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,c(t,e)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}let i=(n=r("sap.fe.macros.controls.CollaborationHBox"),n(o=function(t){function e(){return t.apply(this,arguments)||this}s(e,t);var n=e.prototype;n.enhanceAccessibilityState=function t(e,n){const o=this.getParent();if(o&&o.enhanceAccessibilityState){o.enhanceAccessibilityState(e,n)}return n};return e}(e))||o);return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/ConditionalWrapper", ["sap/fe/base/ClassSupport","sap/ui/core/Control"],function(e,t){"use strict";var i,r,n,a,l,o,u,c,s,f,p,b,d,y,m,h,g;var _=e.property;var v=e.implementInterface;var z=e.defineUI5Class;var w=e.association;var A=e.aggregation;function C(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function B(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,L(e,t)}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}function j(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function F(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let I=(i=z("sap.fe.macros.controls.ConditionalWrapper"),r=v("sap.ui.core.IFormContent"),n=_({type:"sap.ui.core.CSSSize",defaultValue:null}),a=_({type:"boolean",defaultValue:false}),l=_({type:"boolean",defaultValue:false}),o=w({type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}),u=A({type:"sap.ui.core.Control",multiple:false,isDefault:true}),c=A({type:"sap.ui.core.Control",multiple:false}),i(s=(f=function(e){function t(t,i){var r;r=e.call(this,t,i)||this;C(r,"__implements__sap_ui_core_IFormContent",p,r);C(r,"width",b,r);C(r,"formDoNotAdjustWidth",d,r);C(r,"condition",y,r);C(r,"ariaLabelledBy",m,r);C(r,"contentTrue",h,r);C(r,"contentFalse",g,r);return r}B(t,e);var i=t.prototype;i.enhanceAccessibilityState=function e(t,i){const r=this.getParent();if(r&&r.enhanceAccessibilityState){r.enhanceAccessibilityState(this,i)}return i};i.getAccessibilityInfo=function e(){let t;if(this.condition){t=this.contentTrue}else{t=this.contentFalse}return t?.getAccessibilityInfo?t.getAccessibilityInfo():{}};i._setAriaLabelledBy=function e(t){if(t&&t.addAriaLabelledBy&&t.getAriaLabelledBy){const e=this.ariaLabelledBy;for(const i of e){const e=t.getAriaLabelledBy()||[];if(!e.includes(i)){t.addAriaLabelledBy(i)}}}};i.onBeforeRendering=function e(){this._setAriaLabelledBy(this.contentTrue);this._setAriaLabelledBy(this.contentFalse)};t.render=function e(t,i){t.openStart("div",i);t.style("width",i.width);t.style("display","inline-block");t.openEnd();if(i.condition){t.renderControl(i.contentTrue)}else{t.renderControl(i.contentFalse)}t.close("div")};return t}(t),p=j(f.prototype,"__implements__sap_ui_core_IFormContent",[r],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),b=j(f.prototype,"width",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),d=j(f.prototype,"formDoNotAdjustWidth",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),y=j(f.prototype,"condition",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),m=j(f.prototype,"ariaLabelledBy",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),h=j(f.prototype,"contentTrue",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),g=j(f.prototype,"contentFalse",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),f))||s);return I},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/CustomFilterFieldContentWrapper", ["sap/base/util/merge","sap/fe/base/ClassSupport","sap/fe/macros/filterBar/SemanticDateOperators","sap/ui/base/ManagedObjectObserver","sap/ui/core/Control","sap/ui/mdc/condition/Condition","sap/ui/mdc/enums/ConditionValidated","sap/ui/mdc/field/ConditionsType","sap/ui/model/json/JSONModel"],function(e,t,n,i,r,o,a,l,s){"use strict";var u,c,d,p,f,h,g,b,C,_,y,m,v,w,E,M,O,F,A,I;var L={};var S=t.property;var z=t.implementInterface;var j=t.event;var P=t.defineUI5Class;var V=t.aggregation;function D(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,B(e,t)}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function R(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function N(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let x=(u=P("sap.fe.macros.controls.CustomFilterFieldContentWrapper"),c=z("sap.ui.core.IFormContent"),d=S({type:"sap.ui.core.CSSSize",defaultValue:null}),p=S({type:"boolean",defaultValue:false}),f=S({type:"object[]",defaultValue:[]}),h=V({type:"sap.ui.core.Control",multiple:false,isDefault:true}),g=j(),b=j(),C=j(),u(_=(y=(I=function(t){function r(e,n){var i;i=t.call(this,e,n)||this;D(i,"__implements__sap_ui_core_IFormContent",m,i);D(i,"width",v,i);D(i,"formDoNotAdjustWidth",w,i);D(i,"conditions",E,i);D(i,"content",M,i);D(i,"conditionsChange",O,i);D(i,"change",F,i);D(i,"liveChange",A,i);return i}L=r;T(r,t);r.render=function e(t,n){t.openStart("div",n);t.style("min-height","1rem");t.style("width",n.width);t.openEnd();t.renderControl(n.getContent());t.close("div")};r._filterValuesToConditions=function e(t,i){let r={operators:[]},s=[];if(i){r={operators:[i]}}if(t===""){t=[]}else if(t&&typeof t==="object"&&t.hasOwnProperty("operator")&&t.hasOwnProperty("values")){r={operators:[t.operator]};t=t.values}else if(t!==undefined&&typeof t!=="object"&&typeof t!=="string"){throw new Error(`FilterUtils.js#_filterValuesToConditions: Unexpected type of input parameter vValues: ${typeof t}`)}const u=new l(r);const c=Array.isArray(t)?t:[t];if(typeof i==="string"&&n.getSemanticDateOperations().includes(i)){s=[o.createCondition(i,c,null,null,a.NotValidated)]}else{s=c.map(e=>{const t=e?.toString(),n=u.parseValue(t,"any");return n?.[0]}).filter(e=>e!==undefined)}return s};r._conditionsToFilterModelString=function e(t,n){const i=new l(n);return t.map(e=>i.formatValue([e],"any")||"").filter(e=>e!=="").join(",")};var u=r.prototype;u._handleFilterModelChange=function e(t){const n=this.getObjectBinding("filterValues").getPath(),i=t.getSource().getProperty(n);this.updateConditionsByFilterValues(i)};u._handleConditionsChange=function e(t){this.updateFilterModelByConditions(t)};u.init=function e(){t.prototype.init.call(this);this._wrapperObserver=new i(this._observeChanges.bind(this));this._wrapperObserver.observe(this,{properties:["conditions"],aggregations:["content"]});this._filterModel=new s;this._filterModel.attachPropertyChange(this._handleFilterModelChange,this);this.setModel(this._filterModel,r.FILTER_MODEL_ALIAS)};u.clone=function e(n,i){const e=t.prototype.clone.call(this,n,i);e.setModel(e._filterModel,r.FILTER_MODEL_ALIAS);return e};u._observeChanges=function e(t){const{name:n,current:i,child:r,mutation:o}=t;if(n==="conditions"){this._handleConditionsChange(i)}if(n==="content"&&r){this._handleContentChanged.call(this,o,r)}};u._handleContentChanged=function e(t,n){if(t==="insert"){this._attachContentHandlers.call(this,n)}};u._attachContentHandlers=function e(t){if(t.getMetadata().getAllEvents().change){t.attachEvent("change",this._handleContentEvent.bind(this,"change"),this)}if(t.getMetadata().getAllEvents().liveChange){t.attachEvent("liveChange",this._handleContentEvent.bind(this,"liveChange"),this)}};u._handleContentEvent=function t(n,i){const r=e({},i.getParameters());this.fireEvent(n,r)};u.getContent=function e(){return this.getAggregation("content")};u.getConditions=function e(){return this.getProperty("conditions")};u.setConditions=function e(t){this.setProperty("conditions",t||[]);return this};u.getFilterModelAlias=function e(){return r.FILTER_MODEL_ALIAS};u.updateConditionsByFilterValues=function e(t,n){const i=r._filterValuesToConditions(t,n);this.setConditions(i)};u.updateFilterModelByConditions=function e(t){const n=t[0]?.operator||"";const i=n!==""?{operators:[n]}:{operators:[]};if(this.getBindingContext(r.FILTER_MODEL_ALIAS)){const e=r._conditionsToFilterModelString(t,i);this._filterModel.setProperty(this.getBindingContext(r.FILTER_MODEL_ALIAS).getPath(),e)}};u.getAccessibilityInfo=function e(){const t=this.getContent();return t?.getAccessibilityInfo?.()||{}};u.getIdForLabel=function e(){const t=this.getContent();return t?.getIdForLabel()};return r}(r),I.FILTER_MODEL_ALIAS="filterValues",I),m=R(y.prototype,"__implements__sap_ui_core_IFormContent",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),v=R(y.prototype,"width",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),w=R(y.prototype,"formDoNotAdjustWidth",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),E=R(y.prototype,"conditions",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),M=R(y.prototype,"content",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),O=R(y.prototype,"conditionsChange",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),F=R(y.prototype,"change",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),A=R(y.prototype,"liveChange",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),y))||_);L=x;return L},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/FieldWrapper", ["sap/fe/base/ClassSupport","sap/ui/core/Control","sap/ui/core/Lib"],function(e,t,i){"use strict";var r,n,l,a,o,u,s,c,p,d,f,b,y,g,h,m,_,A,v,w,I;var z=e.property;var E=e.implementInterface;var D=e.defineUI5Class;var L=e.association;var B=e.aggregation;function C(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function O(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,P(e,t)}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function j(e,t,i,r,n){var l={};return Object.keys(r).forEach(function(e){l[e]=r[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},l),n&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(n):void 0,l.initializer=void 0),void 0===l.initializer?(Object.defineProperty(e,t,l),null):l}function S(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let x=(r=D("sap.fe.macros.controls.FieldWrapper"),n=E("sap.ui.core.IFormContent"),l=z({type:"sap.ui.core.TextAlign"}),a=z({type:"sap.ui.core.CSSSize",defaultValue:null}),o=z({type:"boolean",defaultValue:false}),u=z({type:"string",defaultValue:"Display"}),s=z({type:"boolean",defaultValue:false}),c=L({type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}),p=B({type:"sap.ui.core.Control",multiple:false,isDefault:true}),d=B({type:"sap.ui.core.Control",multiple:true}),r(f=(b=function(e){function t(t,r){var n;n=e.call(this,t,r)||this;C(n,"__implements__sap_ui_core_IFormContent",y,n);C(n,"textAlign",g,n);C(n,"width",h,n);C(n,"formDoNotAdjustWidth",m,n);C(n,"editMode",_,n);C(n,"required",A,n);C(n,"ariaLabelledBy",v,n);C(n,"contentDisplay",w,n);C(n,"contentEdit",I,n);n.resourceBundle=i.getResourceBundleFor("sap.fe.controls");return n}O(t,e);var r=t.prototype;r.enhanceAccessibilityState=function e(t,i){const r=this.getParent();if(r&&r.enhanceAccessibilityState){r.enhanceAccessibilityState(t,i)}return i};r.addAggregation=function t(i,r,n){if(i==="contentEdit"&&r.isA("sap.m.InputBase")){r.setPreferUserInteraction(true)}return e.prototype.addAggregation.call(this,i,r,n)};r.getAccessibilityInfo=function e(){let t;if(this.editMode==="Display"){t=this.contentDisplay}else{t=this.contentEdit.length?this.contentEdit[0]:null}return t&&t.getAccessibilityInfo?t.getAccessibilityInfo():{}};r.getIdForLabel=function e(){let t;if(this.editMode==="Display"){t=this.contentDisplay}else{t=this.contentEdit.length?this.contentEdit[0]:null}return t?.getIdForLabel()};r._setAriaLabelledBy=function e(t){if(t&&t.addAriaLabelledBy){const e=this.ariaLabelledBy;for(const i of e){const e=t.getAriaLabelledBy()||[];if(!e.includes(i)){t.addAriaLabelledBy(i)}}}};r.onBeforeRendering=function e(){this._setAriaLabelledBy(this.contentDisplay);const t=this.contentEdit;for(const e of t){this._setAriaLabelledBy(e)}};t.render=function e(t,i){t.openStart("div",i);t.style("text-align",i.textAlign);if(i.editMode==="Display"){t.style("width",i.width);if(i.getParent().hasInlineEdit){t.attr("title",i.resourceBundle.getText("M_INLINE_EDIT_TOOLTIP_DOUBLECLICK_EDIT"));t.attr("tabindex",0)}t.openEnd();t.renderControl(i.contentDisplay)}else{const e=i.contentEdit;t.style("width",i.width);t.openEnd();for(const i of e){t.renderControl(i)}}t.close("div")};return t}(t),y=j(b.prototype,"__implements__sap_ui_core_IFormContent",[n],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),g=j(b.prototype,"textAlign",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),h=j(b.prototype,"width",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),m=j(b.prototype,"formDoNotAdjustWidth",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),_=j(b.prototype,"editMode",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),A=j(b.prototype,"required",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),v=j(b.prototype,"ariaLabelledBy",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),w=j(b.prototype,"contentDisplay",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),I=j(b.prototype,"contentEdit",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),b))||f);return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/FileWrapper", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/templating/UIFormatters","sap/m/BusyDialog","./FieldWrapper"],function(e,t,i,r,a,l,n,o,s){"use strict";var u,c,p,d,f,b,y,g,h,v,m,C,w,E,_,x,P,B,I,z,S,U,T;var A=l.getResourceModel;var M=a.UI;var D=t.property;var O=t.defineUI5Class;var k=t.aggregation;var L=e.compileExpression;function j(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function R(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,V(e,t)}function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}function q(e,t,i,r,a){var l={};return Object.keys(r).forEach(function(e){l[e]=r[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},l),a&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(a):void 0,l.initializer=void 0),void 0===l.initializer?(Object.defineProperty(e,t,l),null):l}function F(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let N=(u=O("sap.fe.macros.controls.FileWrapper"),c=D({type:"sap.ui.core.URI"}),p=D({type:"string"}),d=D({type:"string"}),f=D({type:"string"}),b=k({type:"sap.m.Avatar",multiple:false}),y=k({type:"sap.ui.core.Icon",multiple:false}),g=k({type:"sap.m.Link",multiple:false}),h=k({type:"sap.m.Text",multiple:false}),v=k({type:"sap.ui.unified.FileUploader",multiple:false}),m=k({type:"sap.m.Button",multiple:false}),u(C=(w=function(e){function t(t,i){var r;r=e.call(this,t,i)||this;j(r,"uploadUrl",E,r);j(r,"propertyPath",_,r);j(r,"filename",x,r);j(r,"mediaType",P,r);j(r,"avatar",B,r);j(r,"icon",I,r);j(r,"link",z,r);j(r,"text",S,r);j(r,"fileUploader",U,r);j(r,"deleteButton",T,r);r._busy=false;r.avatarCacheBustingInitialized=false;return r}R(t,e);var a=t.prototype;a.enhanceAccessibilityState=function e(t,i){return i};a.onBeforeRendering=function e(){this._setAriaLabelledBy();this._setAriaRequired();this._addSideEffects();this._refreshAvatar()};a._setAriaLabelledBy=function e(){if(this.link){const e=this.getParent();const t={labelledby:undefined};if(e&&e.enhanceAccessibilityState){e.enhanceAccessibilityState(this.link,t)}if(t.labelledby){this.addAriaLabelledBy(t.labelledby)}}};a.getIdForLabel=function e(){const t=this.link||this.text||this.avatar;return t.getIdForLabel()};a._refreshAvatar=function e(){const t=i.getTargetView(this);const r=t.getController().collaborativeDraft;if(r.isCollaborationEnabled()){const e=this.avatar?.getBindingInfo("src").binding;if(e&&!this.avatarCacheBustingInitialized){e.attachEvent("change",()=>{this.avatar?.refreshAvatarCacheBusting()});this.avatarCacheBustingInitialized=true}}};a._setAriaRequired=function e(){const t=i.getTargetView(this),a=t.getViewData().fullContextPath,l=t.getModel().getMetaModel(),o=l.getContext(a),s=l.createBindingContext(this.propertyPath,o),u=r.getInvolvedDataModelObjects(s,o);const c=u.targetObject;this.requiredExpression=n.getRequiredExpression(c,undefined,false,false,{},u)};a._addSideEffects=function e(){const t=[],a=i.getTargetView(this),l=a.getViewData().fullContextPath,n=a.getModel().getMetaModel(),o=n.getMetaPath(l),s=n.getContext(l),u=r.getInvolvedDataModelObjects(s),c=this.data("sourcePath"),p=c.replace(`${o}`,""),d=p.replace(this.propertyPath,"");t.push({$NavigationPropertyPath:p});if(this.filename){t.push({$NavigationPropertyPath:d+this.filename})}if(this.mediaType){t.push({$NavigationPropertyPath:d+this.mediaType})}this._getSideEffectController()?.addControlSideEffects(u.targetEntityType.fullyQualifiedName,{sourceProperties:[p],targetEntities:t,sourceControlId:this.getId()})};a._getSideEffectController=function e(){const t=this._getViewController();return t?t._sideEffects:undefined};a._getViewController=function e(){const t=i.getTargetView(this);return t&&t.getController()};a.getUploadUrl=function e(){const t=this.getBindingContext();return t&&this.uploadUrl?this.uploadUrl.replace(t.getPath(),t.getCanonicalPath()):""};a.setUIBusy=function e(t){const i=this;this._busy=t;if(t){if(!this.busyDialog){this.busyDialog=new o({text:A(this).getText("M_FILEWRAPPER_BUSY_DIALOG_TITLE"),showCancelButton:false})}setTimeout(function(){if(i._busy){i.busyDialog?.open()}},1e3)}else{this.busyDialog?.close(false)}};a.getUIBusy=function e(){return this._busy};t.render=function e(t,r){let a,l;if(r.avatar){a="100%";l="3rem"}else{a=i.getIsEditable(r)?"calc(100% - 5rem)":"100%";l="4.5rem"}t.openStart("div",r);t.style("width",r.width);t.openEnd();t.openStart("div");t.style("display","flex");t.style("box-sizing","border-box");t.style("justify-content","space-between");t.style("align-items","center");t.style("flex-wrap","wrap");t.style("align-content","stretch");t.style("width","100%");t.openEnd();t.openStart("div");t.style("display","flex");t.style("align-items","center");t.style("max-width",a);t.style("min-width",l);t.openEnd();if(r.avatar){t.renderControl(r.avatar)}else{t.renderControl(r.icon);t.renderControl(r.link);if(r.requiredExpression&&r.requiredExpression===L(M.IsEditable)&&i.getIsEditable(r)){t.accessibilityState(r.link,{required:true,labelledby:r.ariaLabelledBy[0]})}else{t.accessibilityState(r.link,{labelledby:r.ariaLabelledBy[0]})}t.renderControl(r.text)}t.close("div");t.openStart("div");t.style("display","flex");t.style("align-items","center");t.openEnd();t.renderControl(r.fileUploader);t.renderControl(r.deleteButton);t.close("div");t.close("div");t.close("div")};a.destroy=function e(t){const i=this._getSideEffectController();if(i){i.removeControlSideEffects(this)}delete this.busyDialog;s.prototype.destroy.apply(this,[t])};return t}(s),E=q(w.prototype,"uploadUrl",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),_=q(w.prototype,"propertyPath",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),x=q(w.prototype,"filename",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),P=q(w.prototype,"mediaType",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),B=q(w.prototype,"avatar",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),I=q(w.prototype,"icon",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),z=q(w.prototype,"link",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),S=q(w.prototype,"text",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),U=q(w.prototype,"fileUploader",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),T=q(w.prototype,"deleteButton",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),w))||C);return N},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/FilterBar", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/macros/controls/filterbar/FilterContainer","sap/fe/macros/controls/filterbar/VisualFilterContainer","sap/ui/core/Element","sap/ui/mdc/FilterBar","sap/ui/mdc/filterbar/aligned/FilterItemLayout"],function(t,e,i,o,r,a,n){"use strict";var l,s,u,c,d,f,h;var g=e.property;var y=e.defineUI5Class;var F=e.association;function p(t,e,i,o){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(o):void 0})}function _(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,m(t,e)}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}function B(t,e,i,o,r){var a={};return Object.keys(o).forEach(function(t){a[t]=o[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,o){return o(t,e,i)||i},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(t,e,a),null):a}function b(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let L=(l=y("sap.fe.macros.controls.FilterBar"),s=g({type:"string",defaultValue:"compact"}),u=F({type:"sap.m.SegmentedButton",multiple:false}),l(c=(d=function(e){function a(t,i){var o;o=e.call(this,t,i)||this;p(o,"initialLayout",f,o);p(o,"toggleControl",h,o);o._isInitialized=false;o._initializeStatus();return o}_(a,e);var l=a.prototype;l._initializeStatus=async function t(){await this.waitForInitialization();this._isInitialized=true};l.isInitialized=function t(){return!!this._isInitialized};l.setToggleControl=function t(e){if(typeof e==="string"){this._oSegmentedButton=r.getElementById(e)}else{this._oSegmentedButton=e}if(this.toggleControl&&this._oSegmentedButton){this._oSegmentedButton.detachEvent("selectionChange",this._toggleLayout.bind(this))}if(this._oSegmentedButton){this._oSegmentedButton.attachEvent("selectionChange",this._toggleLayout.bind(this))}this.setAssociation("toggleControl",e,true)};l._toggleLayout=function e(){this.waitForInitialization().then(()=>{const t=this._oSegmentedButton?.getSelectedKey();if(t==="visual"&&this._oFilterBarLayout?.isA("sap.fe.macros.controls.filterbar.VisualFilterContainer")||t==="compact"&&!this._oFilterBarLayout?.isA("sap.fe.macros.controls.filterbar.VisualFilterContainer")){return}if(!this._oSecondaryFilterBarLayout){this._oSecondaryFilterBarLayout=new o}if(this._oSecondaryFilterBarLayout?.isA("sap.fe.macros.controls.filterbar.VisualFilterContainer")){this.setShowAdaptFiltersButton(false)}else{this.setShowAdaptFiltersButton(true)}const e=this._oFilterBarLayout;const i=this.getFilterItems();const r=e.getAllFilterFields();const a=this.getSortedFilterFields(i,r);const n=e.getAllButtons();const l=e.getAllVisualFilterFields&&e.getAllVisualFilterFields();if(this._oSecondaryFilterBarLayout?.isA("sap.fe.macros.controls.filterbar.VisualFilterContainer")){this._oSecondaryFilterBarLayout.setAllFilterFields(a,l)}this._oFilterBarLayout=this._oSecondaryFilterBarLayout;r.forEach((t,i)=>{e.removeFilterField(t);this._oFilterBarLayout.insertFilterField(t,i)});n.forEach(t=>{e.removeButton(t);this._oFilterBarLayout.addButton(t)});this._oSecondaryFilterBarLayout=e;this.setAggregation("layout",this._oFilterBarLayout,true);this._oFilterBarLayout.invalidate();return}).catch(e=>{t.error(e)})};l.getSortedFilterFields=function t(e,i){const o=[];e.forEach(function(t){o.push(t.getId())});i.sort(function(t,e){let i,r;t.getContent().forEach(function(t){if(t.isA("sap.ui.mdc.FilterField")){i=t.getId()}});e.getContent().forEach(function(t){if(t.isA("sap.ui.mdc.FilterField")){r=t.getId()}});return o.indexOf(i??"")-o.indexOf(r??"")});return i};l._createInnerLayout=function t(){this._oFilterBarLayout=new i;this._cLayoutItem=n;this._oFilterBarLayout.getInner().addStyleClass("sapUiMdcFilterBarBaseAFLayout");this._addButtons();const e=this._oFilterBarLayout.getInner();const o={onBeforeRendering:()=>{if(this.initialLayout==="visual"){this._toggleLayout()}e.removeEventDelegate(o)}};e.addEventDelegate(o);this.setAggregation("layout",this._oFilterBarLayout,true)};l.exit=function t(){e.prototype.exit.call(this);if(this._oSegmentedButton){this._oSegmentedButton.detachEvent("selectionChange",this._toggleLayout);delete this._oSegmentedButton}};l.getSegmentedButton=function t(){return this._oSegmentedButton};return a}(a),f=B(d.prototype,"initialLayout",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),h=B(d.prototype,"toggleControl",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),d))||c);return L},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/RadioButtons", ["sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/RadioButton","sap/m/RadioButtonGroup","sap/ui/core/CustomData","sap/fe/base/jsx-runtime/jsx"],function(e,t,r,i,n,o,a){"use strict";var u,l,s,c,p,d,f,b,y,g,h,m,v,B,z,x,P,w,C,I,S;var E={};var j=e.property;var O=e.defineUI5Class;function V(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,k(e,t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function D(e,t,r,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function G(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let L=(u=O("sap.fe.macros.controls.RadioButtons"),l=j({type:"string"}),s=j({type:"string[]"}),c=j({type:"string"}),p=j({type:"any"}),d=j({type:"string"}),f=j({type:"any",isBindingInfo:true}),b=j({type:"any",isBindingInfo:true}),y=j({type:"boolean"}),g=j({type:"string"}),u(h=(m=function(e){function r(t,r){var i;i=e.call(this,t,r)||this;V(i,"id",v,i);V(i,"fieldGroupIds",B,i);V(i,"requiredExpression",z,i);V(i,"value",x,i);V(i,"fixedValuesPath",P,i);V(i,"radioButtonTextProperty",w,i);V(i,"radioButtonKeyProperty",C,i);V(i,"horizontalLayout",I,i);V(i,"enabledExpression",S,i);i.content=i.createContent();return i}E=r;R(r,e);var u=r.prototype;u.onRadioButtonSelect=function e(r){const i=r.getSource();const n=r.getParameter("selectedIndex");if(n!==undefined){const e=i?.getButtons()[n].getCustomData()[0].getValue();this.setProperty("value",e);t.getTargetView(i)?.getController()?._sideEffects?.handleFieldChange(r,true)}};u.bindProperty=function t(r,i){if(r==="value"&&!i.formatter){i.targetType="raw"}return e.prototype.bindProperty.call(this,r,i)};u.setValue=function e(t){this.value=t;if(this.content){const e=this.content.getButtons();if(e.length!=0){let r=0;for(const i of e){const e=i.getCustomData()[0].getBinding("value")?.getValue();if(e===t){this.content.setSelectedIndex(r);return}r++}}this.content.setSelectedIndex(-1)}};u.createContent=function e(){const t={path:`${this.fixedValuesPath}`,parameters:{$count:true},events:{dataReceived:e=>{const t=e.getSource()?.getCount();if(t!==undefined&&this.horizontalLayout){r.setColumns(t)}if(this.value!==undefined&&r.getSelectedIndex()===-1){this.setValue(this.value)}}}};this.onRadioButtonSelect.bind(this);const r=a(n,{buttons:t,select:this.onRadioButtonSelect.bind(this),enabled:this.enabledExpression,fieldGroupIds:this.fieldGroupIds,ariaLabelledBy:this.ariaLabelledBy,children:a(i,{text:this.radioButtonTextProperty,customData:[new o({key:"key",value:this.radioButtonKeyProperty})],class:"sapUiSmallMarginEnd"})});return r};return r}(r),v=D(m.prototype,"id",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),B=D(m.prototype,"fieldGroupIds",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),z=D(m.prototype,"requiredExpression",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),x=D(m.prototype,"value",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),P=D(m.prototype,"fixedValuesPath",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),w=D(m.prototype,"radioButtonTextProperty",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),C=D(m.prototype,"radioButtonKeyProperty",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),I=D(m.prototype,"horizontalLayout",[y],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),S=D(m.prototype,"enabledExpression",[g],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),m))||h);E=L;return E},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/Section", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/base/HookSupport","sap/fe/core/CommonUtils","sap/fe/core/helpers/FPMHelper","sap/fe/macros/controls/section/mixin/SectionStateHandler","sap/ui/core/Component","sap/uxap/ObjectPageSection"],function(e,t,i,n,o,s,l,a){"use strict";var r,c,u,d,g,S,b,h,f,p,A,m;var T=t.property;var j=t.mixin;var C=t.defineUI5Class;function F(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function k(e,t,i,n,o){var s={};return Object.keys(n).forEach(function(e){s[e]=n[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer?(Object.defineProperty(e,t,s),null):s}function O(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let P=(r=C("sap.fe.macros.controls.Section",{designtime:"sap/uxap/designtime/ObjectPageSection.designtime"}),c=j(s),u=T({type:"string"}),d=T({type:"boolean"}),g=T({type:"string"}),S=T({type:"string"}),r(b=c(b=(h=function(t){function s(e,i){var n;n=t.call(this,e,i)||this;F(n,"onSectionLoaded",f,n);F(n,"useSingleTextAreaFieldAsNotes",p,n);F(n,"applyStateHandler",A,n);F(n,"retrieveStateHandler",m,n);n.registerDelegate();return n}y(s,t);var a=s.prototype;a.registerDelegate=function e(){const t={onAfterRendering:()=>{const e=n.getTargetView(this);let t=this.getSubSections();t=t.filter(e=>{const t=e.getBlocks();return t.length===0});if(t.length){t.forEach(t=>{const i={onBeforeRendering:()=>{if(this.useSingleTextAreaFieldAsNotes){this.checkAndAdjustSectionContentForTextArea()}this.checkAndAdjustForSingleContent(e);t.removeEventDelegate(i)}};t.addEventDelegate(i)})}else{if(this.useSingleTextAreaFieldAsNotes){this.checkAndAdjustSectionContentForTextArea()}this.checkAndAdjustForSingleContent(e)}}};this.addEventDelegate(t)};a.setOnSectionLoaded=function e(t){const i=t.split(".");this._sectionLoadMethodName=i?.pop();this._sectionLoadModuleName=i?.join("/");this.setProperty("onSectionLoaded",t)};a.applySettings=function e(n,o){t.prototype.applySettings.call(this,n,o);const s=l.getOwnerComponentFor(this);const a=s.getRootController();if(a){i.initControllerExtensionHookHandlers(this,a)}return this};a.updateNonTableSubSectionBackground=function e(t){if(this.hasStyleClass("sapUiTableOnObjectPageAdjustmentsForSection")){t.forEach(e=>{let{subSection:t,tablesAdjusted:i}=e;if(i){t.removeStyleClass("sapUiAdjustedSectionSubsectionWithoutTable")}else{t.addStyleClass("sapUiAdjustedSectionSubsectionWithoutTable")}})}};a.checkAndAdjustSectionContentForTextArea=function e(){const t=this.getVisibleSubSections();const i=t.reduce((e,t)=>{let i;const n=this.getSingleContent([t]);if(n){i=this.adjustForSingleContent(n).tablesAdjusted}e.push({subSection:t,tablesAdjusted:i});return e},[]);this.updateNonTableSubSectionBackground(i)};a.checkAndAdjustForSingleContent=function t(i){if(i?.getViewData()?.sectionLayout==="Page"){const t=this.getSingleContent();if(t&&(t.isA("sap.fe.macros.controls.section.ISingleSectionContributor")||this.checkIfNotesReuseComponent(t))){const{tablesAdjusted:e}=this.adjustForSingleContent(t);const i=this.getVisibleSubSections();this.updateNonTableSubSectionBackground([{subSection:i[0],tablesAdjusted:e}])}else if(this._sectionLoadModuleName&&this._sectionLoadMethodName){return o.loadModuleAndCallMethod(this._sectionLoadModuleName,this._sectionLoadMethodName,i,this)}else if(this.getSubSections().length>1){this.checkAndAdjustTitles()}else{e.debug("Section cannot be adjusted for single content : Interface 'ISingleSectionContributor' is not implemented")}}else{this.checkAndAdjustTitles()}};a.checkIfNotesReuseComponent=function e(t){if(t.isA("sap.m.VBox")&&t.getId().includes("NoteSection")){return true}return false};a.checkAndAdjustTitles=function e(){const t=this.getVisibleSubSections();if(t.length===1){const{tablesAdjusted:e}=this.adjustSectionContentWithTitle(t[0]);this.updateNonTableSubSectionBackground([{subSection:t[0],tablesAdjusted:e}])}else{const e=t.reduce((e,t)=>{let i;let n;const o=t.getBlocks();if(o.length===2&&o[1]?.isA("sap.fe.templates.ObjectPage.controls.SubSectionBlock")){i=this.adjustSectionContentWithTitle(t).tablesAdjusted}else if(o.length===1&&o[0]?.isA("sap.fe.templates.ObjectPage.controls.SubSectionBlock")){n=o[0].getAggregation("content");if(n.isA("sap.fe.macros.controls.section.ISingleSectionContributor")){i=this.adjustForSingleContent(n,{sectionFromReferenceFacet:true,SubSection:t,showTitle:this.getVisibleSubSections().length>1}).tablesAdjusted}else if(n?.isA("sap.ui.layout.DynamicSideContent")){n=n.getMainContent instanceof Function&&n?.getMainContent();if(n&&n.length===1){n=n[0];i=this.adjustForSingleContent(n,{sectionFromReferenceFacet:true,SubSection:t}).tablesAdjusted}}}e.push({subSection:t,tablesAdjusted:i});return e},[]);this.updateNonTableSubSectionBackground(e)}};a.adjustSectionContentWithTitle=function e(t){let i={};const n=t.getBlocks();let o;if(n.length===2&&n[1].isA("sap.fe.templates.ObjectPage.controls.SubSectionBlock")){o=n[1].getAggregation("content");if(o&&o.isA("sap.fe.macros.controls.section.ISingleSectionContributor")&&n[0].isA("sap.m.Title")){i=this.adjustForSingleContent(o,{sectionfromCollectionFacet:true,Title:n[0],SubSection:t,showTitle:this.getVisibleSubSections().length>1})}else if(o&&o.isA("sap.ui.layout.DynamicSideContent")){o=o.getMainContent instanceof Function&&o?.getMainContent();if(o&&o.length===1){o=o[0];i=this.adjustForSingleContent(o,{sectionfromCollectionFacet:true,Title:n[0],SubSection:t})}}}return{subSection:t,tablesAdjusted:i.tablesAdjusted}};a.getSingleContent=function e(t){const i=t??this.getVisibleSubSections();if(i.length===1){const e=i[0].getBlocks();if(e.length===1&&e[0].isA("sap.fe.templates.ObjectPage.controls.SubSectionBlock")){return e[0].getAggregation("content")}else if(e.length===2&&e[0].isA("sap.ui.core.InvisibleText")&&e[1].isA("sap.fe.templates.ObjectPage.controls.SubSectionBlock"))return e[1].getAggregation("content")}};a.getVisibleSubSections=function e(){const t=this.getSubSections();return t.reduce((e,t)=>{if(t.getVisible()){e.push(t)}return e},[])};a.getSectionTitle=function e(){let t=this.getTitle();if(this.getVisibleSubSections().length===1){t=this.getVisibleSubSections()[0].getTitle()}return t};a.adjustForSingleContent=function e(t,i){const n=new Set;const o=t;const s=o.getSectionContentRole&&o.getSectionContentRole();if(s==="provider"){const e=o.getDataFromProvider&&o.getDataFromProvider(this.useSingleTextAreaFieldAsNotes);if(e&&this.getTitle()===e.title){this.setTitle(e.title);this.setShowTitle(true);n.add("sapUiTableOnObjectPageAdjustmentsForSection")}}else if(s==="consumer"){let e=this.getSectionTitle();if(i?.sectionfromCollectionFacet){e=i?.Title?.getText();i?.Title?.setVisible(false);i?.SubSection?.setShowTitle(false)}else if(i?.sectionFromReferenceFacet){e=i?.SubSection?.getTitle();i?.SubSection?.setShowTitle(false)}if(e===""&&i?.SubSection){e=(i?.SubSection).getTitle()}if(o.sendDataToConsumer){const t=this.getSubSections();const s=!!(t?.length>1);o.sendDataToConsumer({titleLevel:this.getTitleLevel(),title:e,headerStyle:s?"H5":"H4"});this.setShowTitle(!!i?.showTitle);n.add("sapUiTableOnObjectPageAdjustmentsForSection");if(!s)t[0].setShowTitle(false)}}else if(t?.isA("sap.m.Title")){const e=t;e.setText(this.getTitle());e.setTitleStyle("H4");e.setLevel(this.getTitleLevel());this.setShowTitle(false);n.add("sapUiTableOnObjectPageAdjustmentsForSection")}else if(this.checkIfNotesReuseComponent(t)){const e=t.getItems();e.forEach(e=>{const t=e.getAggregation("headerToolbar");if(t){t?.getContent().forEach(e=>{if(e.isA("sap.m.Title")){const t=e;t.setText(this.getTitle());t.setTitleStyle("H4");t.setLevel(this.getTitleLevel())}})}});this.setShowTitle(false);n.add("sapUiTableOnObjectPageAdjustmentsForSection")}this.addStyleClass(Array.from(n).join(" "));return{tablesAdjusted:n.has("sapUiTableOnObjectPageAdjustmentsForSection")}};return s}(a),f=k(h.prototype,"onSectionLoaded",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),p=k(h.prototype,"useSingleTextAreaFieldAsNotes",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),A=k(h.prototype,"applyStateHandler",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),m=k(h.prototype,"retrieveStateHandler",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),h))||b)||b);return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/TextLink", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/templating/SemanticObjectHelper","sap/m/Link","sap/m/Text","sap/m/library","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,r,n,a,s){"use strict";var o,l,u,c,p,b,f,d,h,m,y,g,w,v,O;var j={};var x=a.LinkAccessibleRole;var z=e.property;var k=e.event;var L=e.defineUI5Class;function S(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function A(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,M(e,t)}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}function C(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function I(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let P=(o=L("sap.fe.macros.controls.TextLink"),l=z({type:"boolean",defaultValue:false}),u=z({type:"string",required:false}),c=z({type:"boolean",defaultValue:false}),p=z({type:"string",required:false}),b=z({type:"string",required:false}),f=k(),o(d=(h=function(e){function t(t,i){var r;r=e.call(this,t,i)||this;S(r,"showAsLink",m,r);S(r,"semanticObject",y,r);S(r,"wrapping",g,r);S(r,"text",w,r);S(r,"emptyIndicatorMode",v,r);S(r,"press",O,r);r.updateContent();return r}j=t;A(t,e);var a=t.prototype;a.setSemanticObject=function e(t){if(t){let e=[];this.semanticObject=t;const r=this.getModel("internal")?.getObject("/semanticObjects")??[];e=t.startsWith("[")?JSON.parse(t):[t];this.setShowAsLink(i.getReachableSemanticObjectsSettings(r,{semanticObjectsList:e,semanticObjectsExpressionList:[],qualifierMap:{}}).hasReachableStaticSemanticObject)}};a.setShowAsLink=function e(t){if(t!==this.showAsLink){this.setProperty("showAsLink",t);this.updateContent()}};a.setText=function e(t){this.setProperty("text",t);this.content?.setText(t)};a.createContent=function e(){if(this.showAsLink===true){return s(r,{text:this.text,wrapping:this.wrapping,emptyIndicatorMode:this.emptyIndicatorMode,press:e=>{this.fireEvent("press",e)},accessibleRole:x.Button})}else{return s(n,{text:this.text,wrapping:this.wrapping,emptyIndicatorMode:this.emptyIndicatorMode})}};a.updateContent=function e(){if(this.content){this.content.destroy()}this.content=this.createContent()};return t}(t),m=C(h.prototype,"showAsLink",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),y=C(h.prototype,"semanticObject",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),g=C(h.prototype,"wrapping",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),w=C(h.prototype,"text",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),v=C(h.prototype,"emptyIndicatorMode",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),O=C(h.prototype,"press",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),h))||d);j=P;return j},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/filterbar/FilterContainer", ["sap/fe/base/ClassSupport","sap/ui/mdc/filterbar/aligned/FilterContainer"],function(t,e){"use strict";var i,l;var n=t.defineUI5Class;function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}let r=(i=n("sap.fe.macros.controls.filterbar.FilterContainer"),i(l=function(t){function e(){return t.apply(this,arguments)||this}s(e,t);var i=e.prototype;i.init=function e(){this.aAllFilterFields=[];this.aAllVisualFilters={};t.prototype.init.call(this);this.oLayout.setParent(this)};i.exit=function e(){t.prototype.exit.call(this);this.aAllFilterFields.forEach(function(t){t.destroy()});Object.keys(this.aAllVisualFilters).forEach(t=>{this.aAllVisualFilters[t].destroy()})};i.insertFilterField=function e(i,l){const n={onBeforeRendering:function(){if(i._fnGetContentCopy){i.getContent=i._fnGetContentCopy}i.removeEventDelegate(n)}};i.addEventDelegate(n);i.getContent().forEach(t=>{if(t.isA("sap.ui.mdc.FilterField")){const e=t.getContent&&t.getContent();if(e&&e.isA("sap.fe.macros.visualfilters.VisualFilter")){const i=t.getId();this.aAllVisualFilters[i]=e;t.setContent(null)}}});this.aAllFilterFields.push(i);t.prototype.insertFilterField.call(this,i,l)};i.removeFilterField=function e(i){const l=this.aAllFilterFields.findIndex(function(t){return t.getId()===i.getId()});i.getContent().forEach(t=>{if(t.isA("sap.ui.mdc.FilterField")&&!t.getContent()){const e=t.getId();if(this.aAllVisualFilters[e]){t.setContent(this.aAllVisualFilters[e])}}});this.aAllFilterFields.splice(l,1);t.prototype.removeFilterField.call(this,i)};i.removeAllFilterFields=function t(){this.aAllFilterFields=[];this.aAllVisualFilters={};this.oLayout.removeAllContent()};i.getAllButtons=function t(){const e=this.oLayout.getEndContent();return e?.[0]?.getContent()?.[1]?.getContent()};i.removeButton=function t(e){this.oLayout.removeEndContent(e)};i.getAllFilterFields=function t(){return this.aAllFilterFields.filter(t=>!t.isDestroyed())};i.getAllVisualFilterFields=function t(){return this.aAllVisualFilters};i.setAllFilterFields=function t(e){this.aAllFilterFields=e};return e}(e))||l);return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/filterbar/VisualFilter", ["sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/macros/CommonHelper","sap/fe/macros/controls/filterbar/utils/VisualFilterUtils","sap/fe/macros/filter/FilterUtils","sap/fe/macros/filterBar/FilterHelper","sap/m/VBox","sap/ui/core/Lib"],function(t,e,r,n,i,a,o,s){"use strict";var c,l,u,f,g;var d=a.getFiltersConditionsFromSelectionVariant;var p=t.implementInterface;var h=t.defineUI5Class;function _(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function m(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,E(t,e)}function E(t,e){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},E(t,e)}function I(t,e,r,n,i){var a={};return Object.keys(n).forEach(function(t){a[t]=n[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(t,e,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(t,e,a),null):a}function P(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let b=(c=h("sap.fe.macros.controls.filterbar.VisualFilter"),l=p("sap.ui.core.IFormContent"),c(u=(f=function(t){function a(){var e;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}e=t.call(this,...n)||this;_(e,"__implements__sap_ui_core_IFormContent",g,e);return e}m(a,t);var o=a.prototype;o.onAfterRendering=function t(){let e;const a=this.getInteractiveChart();const o=this.data("infoPath");const c=a.getBinding("segments")||a.getBinding("bars")||a.getBinding("points");const l=a.getBindingContext("internal");const u=s.getResourceBundleFor("sap.fe.macros");const f=a.data("showOverlayInitially");const g=a.data("selectionVariantAnnotation")?a.data("selectionVariantAnnotation"):{SelectOptions:[]};const p=a.data("requiredProperties")?r.parseCustomData(a.data("requiredProperties")):[];const h=a.getModel().getMetaModel();const _=c?c.getPath():"";let m=this.getParent()?.getParent()?.getParent();if(m.getMetadata().getElementName()==="sap.ui.mdc.filterbar.p13n.AdaptationFilterBar"){m=m.getParent()?.getParent()?.getParent()}let E={};let I=[];let P;if(m.isA("sap.fe.macros.controls.FilterBar")){E=m.getConditions();I=i.getFilterPropertyInfo(m);P=m.data("entityType").split("/")[1]}const b=a.data("parameters")?a.data("parameters"):[];const v=d(_,h,g,n.getCustomConditions.bind(n));const y=n.convertFilterCondions(v);const R={};Object.keys(E).forEach(function(t){if(E[t].length){R[t]=E[t]}});Object.keys(y).forEach(function(t){if(!R[t]){R[t]=y[t]}});if(f===true){if(!Object.keys(g).length){if(p.length>1){l.setProperty(o,{showError:true,errorMessageTitle:u.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:u.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_MULTIPLEVF")})}else{e=h.getObject(`${_}/${p[0]}@com.sap.vocabularies.Common.v1.Label`)||p[0];l.setProperty(o,{showError:true,errorMessageTitle:u.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:u.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_SINGLEVF",e)})}}else{const t=[];const e=[];if(g.SelectOptions){g.SelectOptions.forEach(function(e){t.push(e.PropertyName.$PropertyPath)})}if(g.Parameters){g.Parameters.forEach(function(e){t.push(e.PropertyName.$PropertyPath)})}p.forEach(function(r){if(!t.includes(r)){e.push(r)}});const r=n.getErrorInfoForNoInitialOverlay(e,u,_,h);l.setProperty(o,r)}}if(!this._oChartBinding||this._oChartBinding!==c){if(this._oChartBinding){this.detachDataReceivedHandler(this._oChartBinding)}this.attachDataRecivedHandler(c);this._oChartBinding=c}const C=l.getProperty(o)&&l.getProperty(o).showError;const T=_!==""?_.split("/")[1].split("(")[0]:"";if(b&&b.length&&P===T){const t=i.getBindingPathForParameters(m,R,I,b);if(t){c.sPath=t}}if(c&&c.isSuspended()&&!C){c.resume()}};o.attachDataRecivedHandler=function t(e){if(e){e.attachEvent("dataReceived",{},this.onInternalDataReceived,this);this._oChartBinding=e}};o.detachDataReceivedHandler=function t(e){if(e){e.detachEvent("dataReceived",this.onInternalDataReceived,this);this._oChartBinding=undefined}};o.getInteractiveChart=function t(){return this.getItems()[1].getItems()[0]};o.onInternalDataReceived=function t(r){const i=this.getId();const a=e.getTargetView(this);const o=this.getInteractiveChart();const c=this.data("infoPath");const l=o.getBindingContext("internal");const u=s.getResourceBundleFor("sap.fe.macros");const f=o.data("uom");n.updateChartScaleFactorTitle(o,a,i,c);if(r.getParameter("error")){const t=u.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");const e=u.getText("M_VISUAL_FILTERS_ERROR_DATA_TEXT");n.applyErrorMessageAndTitle(t,e,c,a)}else if(r.getParameter("data")){const t=r.getSource().getCurrentContexts();if(t&&t.length===0){n.setNoDataMessage(c,u,a)}else{l.setProperty(c,{})}n.setMultiUOMMessage(t,o,c,u,a)}if(f&&(f["ISOCurrency"]&&f["ISOCurrency"].$Path||f["Unit"]&&f["Unit"].$Path)){const t=r.getSource().getContexts();const e=t&&t[0].getObject();n.applyUOMToTitle(o,e,a,c)}};return a}(o),g=I(f.prototype,"__implements__sap_ui_core_IFormContent",[l],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),f))||u);return b},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/filterbar/VisualFilterContainer", ["sap/fe/base/ClassSupport","sap/m/FlexBox","sap/m/HeaderContainer","sap/ui/Device","sap/ui/core/library","sap/ui/mdc/filterbar/IFilterContainer"],function(e,t,i,n,r,o){"use strict";var l,a,s,u,c;var d=e.defineUI5Class;var f=e.aggregation;function F(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,h(e,t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function m(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function v(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let y=(l=d("sap.fe.macros.controls.filterbar.VisualFilterContainer"),a=f({type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}),l(s=(u=function(e){function o(){var t;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++){n[r]=arguments[r]}t=e.call(this,...n)||this;F(t,"_layout",c,t);t.aVisualFilterFields={};return t}p(o,e);var l=o.prototype;l.init=function o(){e.prototype.init.call(this);const l=r.Orientation;const a=n.system.phone?l.Vertical:undefined;const s=n.system.phone?"ColumnReverse":"Column";this.oHeaderContainer=new i({orientation:a});this.oButtonFlexBox=new t({alignItems:"End",justifyContent:"End"});this.oLayout=new t({direction:s,items:[this.oHeaderContainer,this.oButtonFlexBox]});this.oLayout.setParent(this);this.aAllFilterFields=[];this.aVisualFilterFields={}};l.exit=function t(){e.prototype.exit.call(this);const i=this.getAllFilterFields();i.forEach(function(e){e.destroy()});this.oHeaderContainer=undefined;this.oButtonFlexBox=undefined;this.aAllFilterFields=[]};l.insertFilterField=function e(t,i){const n={onBeforeRendering:function(){if(!t._fnGetContentCopy){t._fnGetContentCopy=t.getContent}t.getContent=function(){const e=[];e.push(t._oFilterField);return e};t.removeEventDelegate(n)}};t.addEventDelegate(n);const r=this.aVisualFilterFields;t.getContent().some(e=>{const n=e.getId();if(r&&r[n]&&e.isA("sap.ui.mdc.FilterField")){e.setContent(r[n]);this.oHeaderContainer.insertContent(t,i)}})};l.removeFilterField=function e(t){this.oHeaderContainer.removeContent(t)};l.removeAllFilterFields=function e(){this.aAllFilterFields=[];this.aVisualFilterFields={};this.oHeaderContainer.removeAllContent()};l.getFilterFields=function e(){return this.oHeaderContainer.getContent()};l.addButton=function e(t){this.oButtonFlexBox.addItem(t)};l.getAllButtons=function e(){return this.oButtonFlexBox.getItems().reverse()};l.removeButton=function e(t){this.oButtonFlexBox.removeItem(t)};l.getAllFilterFields=function e(){return this.aAllFilterFields.filter(e=>!e.isDestroyed())};l.setAllFilterFields=function e(t,i){this.aAllFilterFields=t;this.aVisualFilterFields=i};return o}(o),c=m(u.prototype,"_layout",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||s);return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/filterbar/utils/VisualFilterUtils", ["sap/base/Log","sap/fe/macros/filterBar/FilterHelper","sap/ui/core/format/NumberFormat","sap/ui/mdc/condition/Condition","sap/ui/model/odata/type/DateTimeOffset"],function(e,t,r,n,o){"use strict";var a=t.getTypeCompliantValue;var s=t.getRangeProperty;const i={applyMedianScaleToChartData:function(e,t,r,n){const o=[];const a=e.data("measure");const s=t.getBindingContext("internal");const i=e.getPoints&&e.getPoints()||e.getBars&&e.getBars()||e.getSegments&&e.getSegments();for(const e of i){o.push(e.getBindingContext().getObject())}const c=this._getMedianScaleFactor(o,a);if(c&&c.iShortRefNumber&&c.scale){s.setProperty(`scalefactor/${n}`,c.scale);s.setProperty(`scalefactorNumber/${n}`,c.iShortRefNumber)}else{s.setProperty(`scalefactor/${n}`,"");s.setProperty(`scalefactorNumber/${n}`,"");const e=t.byId(`${r}::ScaleUoMTitle`);const o=t.byId(`${r}::MeasureDimensionTitle`);const a=e.getText();if(a===" | "){e.setText("");o.setTooltip(o.getText())}}},_getMedianScaleFactor:function(e,t){let n;let o;e.sort(function(e,r){if(Number(e[t])<Number(r[t])){return-1}if(Number(e[t])>Number(r[t])){return 1}return 0});if(e.length>0){const r=e.length/2,a=r%1===0?(parseFloat(e[r-1][t])+parseFloat(e[r][t]))/2:parseFloat(e[Math.floor(r)][t]),s=a;for(n=0;n<14;n++){o=Math.pow(10,n);if(Math.round(Math.abs(s)/o)<10){break}}}const a=r.getIntegerInstance({style:"short",showScale:false,shortRefNumber:o});for(n=0;n<e.length;n++){const r=e[n],s=a.format(r[t]),i=s.split(".");if(!i[1]&&parseInt(i[0],10)===0||i[1]&&parseInt(i[0],10)===0&&i[1].indexOf("0")===0||Number(s)/1e3>=1e3){o=undefined;break}}return{iShortRefNumber:o,scale:o?a.getScale():""}},getFormattedNumber:function(e,t,n,o){let a;const s=typeof e==="string"?Number(e.replace(/,/g,"")):e;if(o){const e=r.getCurrencyInstance({showMeasure:false});return e.format(s,o)}else if(t){a=r.getFloatInstance({style:"short",showScale:false,shortRefNumber:t,shortDecimals:n});return a.format(s)}else{a=r.getFloatInstance({decimals:n});return a.format(s)}},applyUOMToTitle:function(e,t,r,n){const o=e.data("uom");let a;let s;if(o&&o["ISOCurrency"]){a=o["ISOCurrency"];s=a.$Path?t[a.$Path]:a}else if(o&&o["Unit"]){a=o["Unit"]}if(a){const e=a.$Path?t[a.$Path]:a;const o=r.getBindingContext("internal");o.setProperty(`uom/${n}`,e);if(s){o.setProperty(`currency/${n}`,e)}}},updateChartScaleFactorTitle:function(e,t,n,o){if(!e.data("scalefactor")){this.applyMedianScaleToChartData(e,t,n,o)}else{const n=r.getIntegerInstance({style:"short",showScale:false,shortRefNumber:e.data("scalefactor")});const a=t.getBindingContext("internal");const s=n.getScale()?n.getScale():"";a.setProperty(`scalefactor/${o}`,s)}},applyErrorMessageAndTitle:function(e,t,r,n){const o=n.getBindingContext("internal");o.setProperty(r,{});o.setProperty(r,{errorMessageTitle:e,errorMessage:t,showError:true})},checkMulitUnit:function(e,t){const r=[];if(e&&t){for(const n of e){const e=n&&n.getObject();r.push(e[t])}}return!!r.reduce(function(e,t){return e===t?e:NaN})},setMultiUOMMessage:function(t,r,n,o,a){const s=r.data("uom");const i=s&&s["ISOCurrency"]&&s["ISOCurrency"].$Path;const c=s&&s["Unit"]&&s["Unit"].$Path;const l=i||c;let u,f;if(l){if(!this.checkMulitUnit(t,l)){if(i){u=o.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");f=o.getText("M_VISUAL_FILTERS_MULTIPLE_CURRENCY",l);this.applyErrorMessageAndTitle(u,f,n,a);e.warning(`Filter is set for multiple Currency for${l}`)}else if(c){u=o.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");f=o.getText("M_VISUAL_FILTERS_MULTIPLE_UNIT",l);this.applyErrorMessageAndTitle(u,f,n,a);e.warning(`Filter is set for multiple UOMs for${l}`)}}}},setNoDataMessage:function(e,t,r){const n=t.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");const o=t.getText("M_VISUAL_FILTER_NO_DATA_TEXT");this.applyErrorMessageAndTitle(n,o,e,r)},convertFilterCondions:function(e){const t={};Object.keys(e).forEach(function(r){const o=[];const a=e[r];for(const e of a){const t=e.value2?[e.value1,e.value2]:[e.value1];o.push(n.createCondition(e.operator,t,null,null,"Validated"))}if(o.length){t[r]=o}});return t},getCustomConditions:function(e,t,r){let n,o;if(t.$Type==="Edm.DateTimeOffset"){n=this._parseDateTime(a(this._formatDateTime(e.Low),t.$Type,e.Option));o=e.High?this._parseDateTime(a(this._formatDateTime(e.High),t.$Type,e.Option)):null}else{n=e.Low;o=e.High?e.High:null}return{operator:e.Option?s(e.Option.$EnumMember||e.Option):null,value1:n,value2:o,path:r}},_parseDateTime:function(e){return this._getDateTimeTypeInstance().parseValue(e,"string")},_formatDateTime:function(e){return this._getDateTimeTypeInstance().formatValue(e,"string")},_getDateTimeTypeInstance:function(){return new o({pattern:"yyyy-MM-ddTHH:mm:ssZ",calendarType:"Gregorian"},{V4:true})},getErrorInfoForNoInitialOverlay:function(e,t,r,n){let o;if(e.length>1){o={showError:true,errorMessageTitle:t.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:t.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_MULTIPLEVF")}}else if(e.length===1){const a=n.getObject(`${r}/${e[0]}@com.sap.vocabularies.Common.v1.Label`)||e[0];o={showError:true,errorMessageTitle:t.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:t.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_SINGLEVF",[a])}}return o}};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/section/ISingleSectionContributor", [],function(){"use strict"},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/section/SubSection", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/section/mixin/SubSectionStateHandler","sap/uxap/ObjectPageSubSection"],function(e,t,r){"use strict";var i,n,a,o,l,u,c,s;var p=e.property;var f=e.mixin;var b=e.defineUI5Class;function d(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function m(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let S=(i=b("sap.fe.macros.controls.section.SubSection",{designtime:"sap/uxap/designtime/ObjectPageSubSection.designtime"}),n=f(t),a=p({type:"string"}),o=p({type:"string"}),i(l=n(l=(u=function(e){function t(){var t;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++){i[n]=arguments[n]}t=e.call(this,...i)||this;d(t,"applyStateHandler",c,t);d(t,"retrieveStateHandler",s,t);return t}v(t,e);return t}(r),c=g(u.prototype,"applyStateHandler",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),s=g(u.prototype,"retrieveStateHandler",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||l)||l);return S},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/section/mixin/BaseStateHandler", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/viewState/IViewStateContributorMixin","sap/fe/core/helpers/LoaderUtils"],function(t,e,n,a){"use strict";var i={};var s=a.requireDependencies;function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,l(t,e)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}let o=function(n){function a(){return n.apply(this,arguments)||this}i=a;r(a,n);var l=a.prototype;l.setupMixin=function t(e){n.prototype.setupMixin.call(this,e);const a=e.prototype.init;e.prototype.init=function(){a?.call(this);this.setupStateInteractionsForLazyRendering()}};l.setupStateInteractionsForLazyRendering=function t(){};l.isBlocksAvailable=function t(){return false};l.registerSubSectionDelegate=function t(e){const n={onBeforeRendering:()=>{if(this.checkForStateInteractions()){e.removeEventDelegate(n)}}};e.addEventDelegate(n)};l.setInitialState=async function t(){};l.retrieveState=async function t(){await this._stateHandlersAvailable;if(this._retrieveHandler){const t=this.isBlocksAvailable();if(t){this._retrieveStatePending=false;const t=e.getTargetView(this);const n=t.getController().getExtensionAPI();return this._retrieveHandler.call(n,this)}else if(this._applyStatePending){this._retrieveStatePending=false;return this._stateToApply??null}else{this._retrieveStatePending=true}}return null};l.applyLegacyState=async function t(e){const n=e(this);return this.applyState(n)};l.applyState=async function t(n){await this._stateHandlersAvailable;if(this._applyHandler){const t=this.isBlocksAvailable();if(t){const t=e.getTargetView(this);const a=t.getController().getExtensionAPI();this.resetStateToApply();return this._applyHandler?.call(a,this,n)}else{this._stateToApply=n;this._applyStatePending=true}}};l.triggerStateInteractions=async function t(){await this._stateHandlersAvailable;const n=this._retrieveHandler&&this._retrieveStatePending;const a=this._applyHandler&&this._applyStatePending;if(n){if(a){this.applyState(this._stateToApply)}this._retrieveStatePending=false;const t=e.getTargetView(this);const n=t.getController().getExtensionAPI();await n.updateAppState()}else if(a){this.applyState(this._stateToApply)}};l.resetStateToApply=function t(){this._stateToApply=undefined;this._applyStatePending=false};l.checkForStateInteractions=function t(){const e=this.isBlocksAvailable();if(e){this.triggerStateInteractions();return true}return false};l.getStateHandlerInstance=async function e(n){try{if(n){const t=this.getModulePath(n);const e=await s([t]);const a=n.substring(n.lastIndexOf(".")+1);const i=e[0][a];if(i){return i}else{throw new Error("handler not found")}}}catch(e){t.warning(`'${this.getId()}' control's state handler '${n}' couldn't be resolved: ${e}`)}};l._setStateHandler=async function t(e,n){this[`_${e}Handler`]=await this.getStateHandlerInstance(n);this[`${e}StateHandler`]=n};l.setApplyStateHandler=async function t(e){this._stateHandlersAvailable=(this._stateHandlersAvailable||Promise.resolve()).then(async()=>this._setStateHandler("apply",e));return this._stateHandlersAvailable};l.setRetrieveStateHandler=async function t(e){this._stateHandlersAvailable=(this._stateHandlersAvailable||Promise.resolve()).then(async()=>this._setStateHandler("retrieve",e));return this._stateHandlersAvailable};l.getModulePath=function t(e){return e.substring(0,e.lastIndexOf(".")).replace(/\./g,"/")};return a}(n);i=o;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/section/mixin/SectionStateHandler", ["sap/fe/macros/controls/section/mixin/BaseStateHandler","sap/uxap/BlockBase"],function(t,e){"use strict";var n={};function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}let s=function(t){function o(){return t.apply(this,arguments)||this}n=o;i(o,t);var s=o.prototype;s.setupStateInteractionsForLazyRendering=function t(){if(this.isSubSectionsAvailable()){this.checkForSectionStateInteractions()}else{const t={onBeforeRendering:()=>{if(this.isSubSectionsAvailable()){this.checkForSectionStateInteractions();this.removeEventDelegate(t)}}};this.addEventDelegate(t)}};s.checkForSectionStateInteractions=function t(){if(!this.checkForStateInteractions()){const t=this.getSubSections();t.forEach(this.registerSubSectionDelegate.bind(this))}};s.isSubSectionsAvailable=function t(){return this.getSubSections().length>0};s.isBlocksAvailable=function t(){const n=this.getSubSections();return n.some(t=>{const n=t.getBlocks().filter(t=>t instanceof e);return n.length>0})};return o}(t);n=s;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/section/mixin/SubSectionStateHandler", ["sap/fe/macros/controls/section/mixin/BaseStateHandler","sap/uxap/BlockBase"],function(t,e){"use strict";var n={};function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}let i=function(t){function r(){return t.apply(this,arguments)||this}n=r;o(r,t);var i=r.prototype;i.setupStateInteractionsForLazyRendering=function t(){if(!this.checkForStateInteractions()){this.registerSubSectionDelegate(this)}};i.isBlocksAvailable=function t(){const n=this.getBlocks().filter(t=>t instanceof e);return n.length>0};return r}(t);n=i;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/coreUI/CreateDialog", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/ActionRuntime","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/FieldControlHelper","sap/fe/core/templating/PropertyHelper","sap/fe/macros/field/FieldHelper","sap/fe/macros/internal/valuehelp/ValueHelpTemplating","sap/m/Button","sap/m/Dialog","sap/m/Label","sap/ui/base/EventProvider","sap/ui/core/CustomData","sap/ui/core/Messaging","sap/ui/core/message/MessageType","sap/ui/layout/form/SimpleForm","sap/ui/mdc/Field","sap/ui/mdc/ValueHelp","sap/ui/mdc/valuehelp/Dialog","sap/ui/mdc/valuehelp/Popover","sap/ui/mdc/valuehelp/content/MTable","sap/ui/model/odata/v4/AnnotationHelper","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/Fragment","sap/fe/base/jsx-runtime/jsxs"],function(e,t,i,a,o,n,r,s,l,c,d,u,p,f,h,g,m,v,C,b,E,P,M,y,T,x,F,O,A,D){"use strict";var I,_,H,V,N;var R={};var j=p.useCaseSensitiveFilterRequests;var S=p.requiresValidation;var L=d.hasValueHelp;var w=c.isRequiredExpression;var B=l.getTargetObjectPath;var z=l.enhanceDataModelPath;var q=s.generate;var U=r.getResourceModel;var k=n.getRequiredPropertiesFromInsertRestrictions;var $=o.getInvolvedDataModelObjects;var K=t.event;var W=t.defineUI5Class;var G=e.or;var Q=e.compileExpression;function J(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function X(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Y(e,t)}function Y(e,t){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Y(e,t)}function Z(e,t,i,a,o){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function ee(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let te=(I=W("sap.fe.core.services.RoutingServiceEventing"),_=K(),I(H=(V=function(e){function t(){var t;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++){a[o]=arguments[o]}t=e.call(this,...a)||this;J(t,"exitDialog",N,t);return t}X(t,e);return t}(m),N=Z(V.prototype,"exitDialog",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),V))||H);let ie=function(){function e(e,t,i,a,o){this.actionParameterInfos=[];this.eventProvider=new te;this.contextToUpdate=e;this.fieldNames=t;this.appComponent=i;this.mode=a;this.parentControl=o;const n=e.getModel();this.metaModel=n.getMetaModel();const r=this.metaModel.getMetaPath(e.getPath());this.requiredFieldNames=k(r,this.metaModel)}R=e;var t=e.prototype;t.attachExitDialog=function e(t,i,a){this.eventProvider.attachEvent("exitDialog",t,i,a)};t.fireExitDialog=function e(t){this.eventProvider.fireEvent("exitDialog",{accept:t})};t.getEditMode=function e(t){if(t.annotations.Common?.FieldControl){const e=t.annotations.Common.FieldControl;return e.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/ReadOnly"?"Display":"Editable"}else{return"Editable"}};t.getFieldVHTypeAhead=function e(t,i,a){return O(T,{children:O(x,{id:q([t,"VH","Popover","qualifier"]),caseSensitive:j(a,a.convertedTypes.entityContainer.annotations.Capabilities?.FilterFunctions??[]),useAsValueHelp:!!i.annotations.Common?.ValueListWithFixedValues})})};t.getFieldVHDialog=function e(t){if(t.annotations.Common?.ValueListWithFixedValues?.valueOf()!==true){return O(y,{})}else{return undefined}};t.getFieldValueHelp=function e(t,i,a){if(!L(i)){return undefined}const o={name:"sap/fe/macros/valuehelp/ValueHelpDelegate",payload:{propertyPath:B(a),qualifiers:{},valueHelpQualifier:""}};return O(M,{id:q([t,"VH"]),delegate:o,validateInput:S(i),typeahead:this.getFieldVHTypeAhead(t,i,a),dialog:this.getFieldVHDialog(i)})};t.createFormElement=function e(t,i,a){const o=z(i,t);const n=o.targetObject;const r=this.metaModel.createBindingContext(`${a}/${t}`);const s=this.metaModel.createBindingContext(`${a}/${t}@com.sap.vocabularies.UI.v1.Placeholder`);const l=O(P,{delegate:{name:"sap/fe/macros/field/FieldBaseDelegate",payload:{retrieveTextFromValueList:true}},id:q(["CreateDialog",i.targetEntityType.name,t]),value:F.format(r.getObject(),{context:r}),placeholder:F.value(s.getObject(),{context:s}),width:"100%",required:Q(G(w(n),this.requiredFieldNames.includes(t))),display:u.getAPDialogDisplayFormat(r.getObject(),{context:r}),valueHelp:L(n)?q([t,"VH"]):undefined,editMode:this.getEditMode(n),dependents:this.getFieldValueHelp(t,n,o),customData:O(v,{value:t},"fieldName"),liveChange:this.handleLiveChange.bind(this),change:this.handleChange.bind(this)});this.actionParameterInfos.push({isMultiValue:false,field:l,value:l.getValue(),validationPromise:undefined,hasError:false,propertyPath:t});return D(A,{children:[O(g,{text:n.annotations.Common?.Label}),l]})};t.afterOpen=function e(){const t=this.actionParameterInfos[0].field;const i=t.getFocusInfo();i.targetInfo={silent:true};t.focus(i)};t.createDialog=function e(){const t=U(this.appComponent);const i=this.metaModel.getMetaPath(this.contextToUpdate.getPath());const a=this.metaModel.createBindingContext(i);const o=$(a);this.actionParameterInfos=[];const n=t.getText(this.mode==="Standalone"?"C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE_BUTTON_CREATE":"C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE_BUTTON_CONTINUE");const r=O(f,{text:t.getText("C_COMMON_ACTION_PARAMETER_DIALOG_CANCEL"),press:this.onCancel.bind(this)});return O(h,{id:q(["CreateDialog",i]),title:t.getText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE"),afterOpen:()=>{this.afterOpen()},resizable:true,draggable:true,initialFocus:r,children:{beginButton:O(f,{text:n,press:this.onOK.bind(this),type:"Emphasized"}),endButton:r,content:O(E,{children:this.fieldNames.map(e=>this.createFormElement(e,o,i))})}})};t.displayErrorMessages=function e(t){const i=this.metaModel.getMetaPath(this.contextToUpdate.getPath());for(const e of t){for(const t of e.getTargets()){const a=this.metaModel.getMetaPath(t);const o=this.actionParameterInfos.find(e=>`${i}/${e.propertyPath}`===a);if(o){o.hasError=true;o.field.setValueState(e.getType()||b.Error);o.field.setValueStateText(e.getMessage());const t=e.getControlIds();if(!t.includes(o.field.getId())){t.push(o.field.getId())}}}}};t.removeMessagesForActionParameter=function e(t){const i=C.getMessageModel().getData();const a=i.filter(e=>e.getControlIds().some(e=>e.includes(t)));C.removeMessages(a)};t.handleLiveChange=function e(t){const i=t.getSource().getId();this.removeMessagesForActionParameter(i)};t.handleChange=async function e(t){const i=t.getSource();const a=this.actionParameterInfos.find(e=>e.field===i);if(a!==undefined){this.removeMessagesForActionParameter(i.getId());a.validationPromise=t.getParameter("promise");try{a.value=await a.validationPromise;a.hasError=false;a.field.setValueState(b.None)}catch(e){delete a.value;a.hasError=true}}};t.onOK=async function e(){const t=U(this.appComponent);if(await i.validateProperties(this.actionParameterInfos,t)){this.fireExitDialog(true)}};t.onCancel=function e(){this.fireExitDialog(false)};t.onEscape=function e(t){t.reject();this.onCancel()};t.openDialog=function e(){if(this.dialog){throw new Error("Cannot open the Create dialog twice")}this.dialog=this.createDialog();this.dialog.setEscapeHandler(this.onEscape.bind(this));this.parentControl?.addDependent(this.dialog);this.dialog.setBindingContext(this.contextToUpdate);this.dialog.open();return this.dialog};t.closeDialog=function e(){for(const e of this.actionParameterInfos){const t=e.field.getId();this.removeMessagesForActionParameter(t)}if(this.dialog&&a.isLocked(this.dialog)){a.unlock(this.dialog)}this.dialog?.close();this.dialog?.destroy();this.dialog=undefined};t.setBusy=function e(t){if(!this.dialog){return}if(t){a.lock(this.dialog)}else{a.unlock(this.dialog)}};t.isOpen=function e(){return this.dialog?.isOpen()??false};return e}();R=ie;return R},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/coreUI/OperationParameterDialog", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/ActionRuntime","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/editFlow/editFlowConstants","sap/fe/core/controllerextensions/editFlow/operations/actionHelper","sap/fe/core/controllerextensions/editFlow/operations/facade","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/library","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/FieldControlHelper","sap/fe/core/templating/PropertyHelper","sap/fe/macros/field/FieldHelper","sap/fe/macros/internal/valuehelp/ValueHelpTemplating","sap/m/Button","sap/m/Dialog","sap/m/Label","sap/m/MessageBox","sap/m/MessageStrip","sap/ui/core/Messaging","sap/ui/core/Title","sap/ui/core/message/MessageType","sap/ui/layout/form/SimpleForm","sap/ui/mdc/Field","sap/ui/mdc/MultiValueField","sap/ui/mdc/ValueHelp","sap/ui/mdc/enums/FieldEditMode","sap/ui/mdc/field/MultiValueFieldItem","sap/ui/mdc/valuehelp/Dialog","sap/ui/mdc/valuehelp/Popover","sap/ui/mdc/valuehelp/content/MTable","sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/AnnotationHelper","sap/ui/unified/FileUploader","sap/ui/unified/FileUploaderHttpRequestMethod","../internal/helpers/Upload","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/Fragment","sap/fe/base/jsx-runtime/jsxs"],function(e,t,a,s,i,n,r,o,l,c,u,m,p,d,h,f,g,P,y,M,v,E,x,F,T,C,O,b,A,D,I,V,w,_,S,N,R,L,$,B,H,U,j,k,q){"use strict";var G={};var K=U.showTypeMismatchDialog;var z=U.showFileSizeExceedDialog;var W=U.displayMessageForFailedUpload;var X=M.useCaseSensitiveFilterRequests;var J=M.requiresValidation;var Q=P.isMultiLineText;var Y=P.hasValueHelp;var Z=g.isReadOnlyExpression;var ee=g.isDisabledExpression;var te=g.isActionParameterRequiredExpression;var ae=f.getTargetNavigationPath;var se=d.isPathAnnotationExpression;var ie=p.generate;var ne=m.getResourceModel;var re=c.hasFieldGroupTarget;var oe=l.getInvolvedDataModelObjects;var le=l.convertTypes;var ce=t.not;var ue=t.ifElse;var me=t.getExpressionFromAnnotation;var pe=t.equal;var de=t.constant;var he=t.compileExpression;let fe=function(){function t(e,t,a,s,i){this.isDialogOpen=false;this.buttonLock=false;this.actionParameterInfos=[];this.parameterModel=new L({$displayMode:{}});this.action=e;this.parameters=t;this.parameterValues=a;this.entitySetName=s;this.messageHandler=i;this.actionName=r.getActionName(this.action);this.metaModel=this.parameters.model.getMetaModel();this.resourceModel=this.parameters.view?ne(this.parameters.view):ne(this.parameters.appComponent);this.parametersValuesPromise=new Promise((e,t)=>{this.parametersValuesResolve=e;this.parametersValuesReject=t})}G=t;var l=t.prototype;l.getParameterEditMode=function e(t){const a=t.annotations,s=a.Common?.FieldControl,i=a.Core?.Immutable?.valueOf(),n=a.Core?.Computed?.valueOf();if(i||n){return de(w.ReadOnly)}else if(s){return ue(Z(t),w.ReadOnly,ue(ee(t),w.Disabled,w.Editable))}return de(w.Editable)};l.createFormElement=async function e(t){const a=this.action.isBound?`${this.metaModel.getMetaPath(this.parameters.contexts[0].getPath())}/${le(this.metaModel).namespace}.${this.action.name}`:`/${this.action.name}`;const s=this.metaModel.createBindingContext(`${a}/${t.name}`);let i;let n=t.annotations.Common?.Label?this.resourceModel.getText(t.annotations.Common.Label.toString()):t.name;let r;if(t.isCollection){i=await this.createMultiField(t,s)}else if(!t.type.startsWith("Edm.")&&this.getStreamProperty(t)){r=this.getStreamProperty(t);n=r?.annotations.Common?.Label?this.resourceModel.getText(r.annotations.Common.Label.toString()):r?.name;i=this.createFileUploader(t)}else{i=await this.createField(t,s)}return q(k,{children:[j(x,{id:ie(["APD_",t.name,r?.name,"Label"]),text:n}),i]})};l.createMultiField=async function t(a,s){let i="Value";try{i=await y.getAPDialogDisplayFormat(s.getObject(),{context:s})}catch(t){e.warning(`Parameter dialog multifield: display format couldn't be calculated for parameter '${a.name}': ${t}`)}return j(I,{id:ie(["APD_",a.name]),placeholder:a.annotations.UI?.Placeholder,items:{path:`mvfview>/${a.name}`},delegate:{name:"sap/fe/core/controls/MultiValueParameterDelegate"},display:i,editMode:this.getParameterEditMode(a),width:"100%",multipleLines:a.annotations.UI?.MultiLineText?.valueOf()===true,required:he(te(a,this.action,le(this.metaModel))),valueHelp:Y(a)?ie([this.actionName,a.name]):undefined,change:async e=>this.handleFieldChange(e,a),visible:he(ce(pe(me(a.annotations?.UI?.Hidden),true))),ariaLabelledBy:[ie(["APD_",a.name,"Label"])],dependents:this.createParameterDialogValueHelp(a,s),children:j(_,{description:"{mvfview>Desc}"},"{path: 'mvfview>Key', type:'sap.ui.model.type.String'}")})};l.createFileUploader=function e(t){let a;if(this.getStreamProperty(t)?.annotations.Core?.AcceptableMediaTypes){const e=Array.from(this.getStreamProperty(t)?.annotations.Core?.AcceptableMediaTypes).map(e=>`'${e}'`);a=`{=odata.collection([${e.join(",")}])}`}const s=function(e){const t=e.getSource();const a=e.getParameter("mimeType");const s=t.getMimeType();if(a){K(t,a,s)}};const i=y.calculateMBfromByte(this.getStreamProperty(t)?.maxLength);const n=function(e){const t=e?.getSource();z(t,t.getMaximumFileSize().toFixed(3))};const r=function(e){if(e.getParameter("status")===0||e.getParameter("status")>=400){W(e.getSource(),e.getParameter("responseRaw")||e.getParameter("response"))}};return j(B,{name:"FEV4FileUpload",buttonOnly:"false",iconOnly:"true",multiple:"false",tooltip:"{sap.fe.i18n>M_FIELD_FILEUPLOADER_UPLOAD_BUTTON_TOOLTIP}",icon:"sap-icon://upload",style:"Transparent",sendXHR:"true",useMultipart:"false",sameFilenameAllowed:"true",uploadOnChange:"false",mimeType:a,typeMissmatch:s,maximumFileSize:i,fileSizeExceed:n,httpRequestMethod:H.Put,uploadComplete:r,change:async e=>this.handleFileUploaderChange(e,t)})};l.createField=async function t(a,s){let i="Value";try{i=await y.getAPDialogDisplayFormat(s.getObject(),{context:s})}catch(t){e.warning(`Parameter dialog field: display format couldn't be calculated for parameter '${a.name}': ${t}`)}return j(D,{delegate:{name:"sap/fe/macros/field/FieldBaseDelegate",payload:{retrieveTextFromValueList:true}},id:ie(["APD_",a.name]),value:$.format(s.getObject(),{context:s}),placeholder:a.annotations.UI?.Placeholder,display:i,editMode:this.getParameterEditMode(a),width:"100%",multipleLines:Q(a),required:he(te(a,this.action,le(this.metaModel))),change:async e=>this.handleFieldChange(e,a),valueHelp:Y(a)?ie([this.actionName,a.name]):undefined,dependents:this.createParameterDialogValueHelp(a,s),visible:he(ue(a.name==="ResultIsActiveEntity",false,ce(pe(me(a.annotations?.UI?.Hidden),true)))),ariaLabelledBy:[ie(["APD_",a.name,"Label"])]})};l.createParameterDialogValueHelp=function e(t,a){if(!Y(t)){return undefined}return j(V,{id:ie([this.actionName,t.name]),delegate:{name:"sap/fe/macros/valuehelp/ValueHelpDelegate",payload:{propertyPath:this.action.isBound?`${ae(oe(a))}/${this.actionName}/${t.name}`:`/${this.action.name.substring(this.action.name.lastIndexOf(".")+1)}/${t.name}`,qualifiers:{},valueHelpQualifier:""}},validateInput:J(t),typeahead:j(N,{children:j(R,{id:ie([this.actionName,t.name,"Popover","qualifier"]),caseSensitive:this.action.isBound?X(oe(a),le(this.metaModel).entityContainer.annotations.Capabilities?.FilterFunctions??[]):false,useAsValueHelp:!!t.annotations.Common?.ValueListWithFixedValues})}),dialog:this.createFieldVHDialog(t)})};l.createFieldVHDialog=function e(t){if(t.annotations.Common?.ValueListWithFixedValues?.valueOf()!==true){return j(S,{})}else{return undefined}};l.handleFieldChange=async function e(t,s){const i=t.getParameter("promise");const n=t.getSource();const r=this.actionParameterInfos.find(e=>e.field===n);if(!r){return}r.validationPromise=i;this.removeMessagesForParameter(s);try{r.value=await i;this.parameters.parametersValues[r.parameter.name]=r.value;r.hasError=false}catch(e){delete r.value;r.hasError=true;a._addMessageForActionParameter([{actionParameterInfo:r,message:e.message}])}};l.handleFileUploaderChange=async function e(t,a){const s=t.getParameter("files");const i=t.getSource();const n=this.actionParameterInfos.find(e=>e.field===i);if(!n||!s){return}this.removeMessagesForParameter(a);n.value={};if(this.getStreamProperty(a)){n.value[this.getStreamProperty(a)?.name]=await this.getBase64File(s);n.value[this.getMimeTypePath(a).path]=s[0].type||"application/octet-stream";n.value[this.getFileNamePath(a)]=s[0].name;n.hasError=false;this.parameters.parametersValues[n.parameter.name]=n.value}};l.getFileNamePath=function e(t){return(this.getStreamProperty(t)?.annotations.Core?.ContentDisposition?.Filename).path};l.getMimeTypePath=function e(t){return me(this.getStreamProperty(t)?.annotations.Core?.MediaType)};l.getStreamProperty=function e(t){return t.typeReference.properties?.find(e=>e.type==="Edm.Stream")};l.getBase64File=async function e(t){return new Promise(e=>{const a=new FileReader;a.onload=()=>{if(!a.result){return}e(a.result.split(",")[1])};a.readAsDataURL(t.item(0))})};l.removeMessagesForParameter=function e(t){const a=C.getMessageModel().getData();const s=ie(["APD_",t.name]);const i=a.filter(e=>e.getControlIds().some(e=>s.split("-").includes(e)));C.removeMessages(i)};l.getFormElements=async function e(t){const a=await this.createFormElement(t);return{formElements:a,parameter:t}};l.getDialog=function e(){return this.dialog};l.createDialog=async function e(){let t=[];let a=[];const s=this.action.isBound?this.action.parameters.slice(1):this.action.parameters;if(this.action.annotations?.UI?.OperationParameterFacets){const e=[];this.action.annotations.UI?.OperationParameterFacets?.forEach(function(t){let a;if(t.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){a=t.Label}if(re(t)){const s=t?.Target?.$target;const i=[];s.Data.forEach(function(e){i.push(e.Value.$target)});e.push({facetTitle:a,data:i})}});const s=async e=>{const t=await Promise.all(e.data.map(this.getFormElements.bind(this)));return{facetTitle:e.facetTitle,data:t}};const i=e.map(async e=>s(e));const n=await Promise.all(i);n.forEach(e=>{t.push(j(O,{text:e.facetTitle}));return e.data.map(e=>t.push(e.formElements))});n.forEach(function(e){e.data.forEach(function(e){a.push(e)})})}else{a=await Promise.all(s.map(this.getFormElements.bind(this)));t=a.map(e=>e.formElements)}this.registerActionParameterInfo(a);const i=this.getCustomActionMessageStripText();const n=j(v,{id:ie(["fe","APD_",this.actionName,"Action","Cancel"]),text:this.resourceModel.getText("C_COMMON_ACTION_PARAMETER_DIALOG_CANCEL"),press:()=>{this.onCancel.bind(this)()}});const r=j(E,{title:this.getTitleText(this.parameters.label),id:ie(["fe","APD_",this.actionName]),escapeHandler:this.onCancel.bind(this),draggable:true,resizable:true,afterClose:this.afterClose.bind(this),beforeOpen:this.beforeOpen.bind(this),afterOpen:()=>{this.afterOpen()},initialFocus:n,children:{beginButton:j(v,{id:ie(["fe","APD_",this.actionName,"Action","Ok"]),text:this.parameters.isCreateAction===true?this.resourceModel.getText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE_BUTTON_CONTINUE"):this.getBeginButtonLabel(this.parameters.label),press:()=>{this.onApply.bind(this)()},type:"Emphasized"}),endButton:n,content:q(k,{children:[i&&j(T,{showIcon:"true",text:i}),j(A,{columnsM:"2",editable:"true",labelSpanL:"12",labelSpanM:"12",binding:"$Parameter",children:{content:t}})]})}});this.dialog=r;return r};l.getBeginButtonLabel=function e(t){const a="ACTION_PARAMETER_DIALOG_ACTION_NAME";const s="C_COMMON_DIALOG_OK";return this.getOverriddenText(a,s,t)};l.getTitleText=function e(t){const a="ACTION_PARAMETER_DIALOG_ACTION_TITLE";const s="C_OPERATIONS_ACTION_PARAMETER_DIALOG_TITLE";return this.getOverriddenText(a,s,t)};l.getCustomActionMessageStripText=function e(){const t="ACTION_PARAMETER_DIALOG_MESSAGE_TEXT";let a=this.actionName;a=a.split(".").pop()??a;const s=a&&this.entitySetName?`${this.entitySetName}|${a}`:"";if(this.resourceModel.checkIfResourceKeyExists(`${t}|${s}`)){return this.resourceModel.getText(t,undefined,s)}else if(this.resourceModel.checkIfResourceKeyExists(`${t}|${this.entitySetName}`)){return this.resourceModel.getText(t,undefined,`${this.entitySetName}`)}else if(this.resourceModel.checkIfResourceKeyExists(`${t}`)){return this.resourceModel.getText(t)}return undefined};l.getOverriddenText=function e(t,a,s){let i=this.actionName;i=i.split(".").pop()??i;const n=i&&this.entitySetName?`${this.entitySetName}|${i}`:"";if(s){if(this.resourceModel.checkIfResourceKeyExists(`${t}|${n}`)){return this.resourceModel.getText(t,undefined,n)}else if(this.resourceModel.checkIfResourceKeyExists(`${t}|${this.entitySetName}`)){return this.resourceModel.getText(t,undefined,`${this.entitySetName}`)}else if(this.resourceModel.checkIfResourceKeyExists(`${t}`)){return this.resourceModel.getText(t)}else{return s}}else{return this.resourceModel.getText(a)}};l.onApply=async function e(){if(this.buttonLock||!this.dialog){return}const t=this.dialog;const s=t.getObjectBinding()?.getParameterContext();this.buttonLock=true;i.lock(t);if(!await a.validateProperties(this.actionParameterInfos,this.resourceModel)){i.unlock(t);this.buttonLock=false;return}const r=Object.assign({},...this.actionParameterInfos.map(e=>{const a=e.parameter;let i;if(a.isCollection){i=Object.values(t.getModel("mvfview").getProperty(`/${a.name}`)??{}).map(e=>e?.Key)}else if(!a.type.startsWith("Edm.")&&this.getStreamProperty(a)){i=e.value}else{i=s?.getProperty(a.name)}return{[a.name]:i}}));const o=Object.values(r).some(e=>!!e);this.parametersValuesResolve(r);this.parameters.appComponent.getModel("ui").setProperty(n.DocumentModified,o);this.messageHandler.removeTransitionMessages()};l.resetState=function e(){this.unlockDialog();this.buttonLock=false;this.updateDialogBindingContextForError();this.parametersValuesPromise=new Promise((e,t)=>{this.parametersValuesResolve=e;this.parametersValuesReject=t})};l.updateDialogBindingContextForError=function e(){if(this.parameters.contexts.length<2){return}let t,a;const s=this.parameters.contexts.find(e=>{const s=e.getMessages();return s.some(s=>{t=!t&&s.getType()===b.Warning?e:undefined;a=!a&&s.getType()===b.Information?e:undefined;return s.getType()===b.Error})});const i=s??t??a;if(i){this.dialog?.setBindingContext(i)}};l.unlockDialog=function e(){if(this.dialog&&i.isLocked(this.dialog)){i.unlock(this.dialog)}};l.onCancel=function e(){this.parametersValuesReject(h.Constants.CancelActionDialog);this.closeDialog()};l.closeDialog=function e(){if(this.dialog){this.parameters.events?.onParameterDialogClosed?.();this.dialog.close()}this.isDialogOpen=false};l.openDialog=async function e(){if(!this.dialog){throw new Error("Error on opening the dialog")}await s.setUserDefaults(this.parameters.appComponent,this.actionParameterInfos.map(e=>e.parameter),this.parameterModel,true);this.setModels(this.dialog);this.parameters.view?.addDependent(this.dialog);await this.setOperationDefaultValues(this.dialog);this.dialog.open();this.isDialogOpen=true};l.setModels=function e(t){t.setModel(this.parameterModel,"paramsModel");t.bindElement({path:"/",model:"paramsModel"});t.setModel(this.parameters.model);t.bindElement({path:`${this.parameters.contexts.length?"":"/"}${this.actionName}(...)`});if(this.parameters.contexts.length){t.setBindingContext(this.parameters.contexts[0])}t.setModel(new L({}),"mvfview")};l.beforeOpen=function e(t){this.messageHandler.removeTransitionMessages()};l.waitForParametersValues=async function e(){return this.parametersValuesPromise};l.isOpen=function e(){return this.isDialogOpen};l.getParameterDefaultValue=async function t(a,i,n){const r=n.getObjectBinding();const o=this.parameterModel.getData();const l=a.name;const c=a.annotations.UI?.ParameterDefaultValue;if(c){if(this.parameters.contexts.length>0&&se(c)){try{const e=i&&c.path.startsWith(`${i}/`)?c.path.replace(`${i}/`,""):c.path;let t=await s.requestSingletonProperty(c.path,r.getModel());if(t===null){t=await r.getParameterContext().requestProperty(c.path)}if(this.parameters.contexts.length>1){if(this.parameters.contexts.some(a=>a.getProperty(e)!==t)){return{paramName:l,value:undefined,noPossibleValue:true}}}return{paramName:l,value:t}}catch(t){e.error("Error while reading default action parameter",l,this.action.name);return{paramName:l,value:undefined,latePropertyError:true}}}else{return{paramName:l,value:c.valueOf()}}}return{paramName:l,value:o[l]}};l.getManifestFunctionValues=async function e(){const t=this.dialog?.getBindingContext();if(!this.parameters.view||!this.parameters.defaultValuesExtensionFunction||!t){return{}}return u.loadModuleAndCallMethod(this.parameters.defaultValuesExtensionFunction.substring(0,this.parameters.defaultValuesExtensionFunction.lastIndexOf(".")||-1).replace(/\./gi,"/"),this.parameters.defaultValuesExtensionFunction.substring(this.parameters.defaultValuesExtensionFunction.lastIndexOf(".")+1,this.parameters.defaultValuesExtensionFunction.length),this.parameters.view,t,this.parameters.contexts)};l.getPreDefinedValues=async function t(a,s){const i=this.action.annotations.Common?.DefaultValuesFunction?.valueOf();let n=Promise.resolve({});let r=[];if(this.action.isBound){if(typeof i==="string"){r=this.parameters.contexts.map(async e=>o.callBoundFunction(i,e,e.getModel()))}if(this.parameters.contexts.length>0){n=this.parameters.contexts[0].requestObject()}}try{const e=await n;const t=await Promise.all([Promise.all(this.actionParameterInfos.map(async e=>this.getParameterDefaultValue(e.parameter,a,s))),Promise.all(r),this.getManifestFunctionValues()]);return{contextValues:e,defaultValues:t[0],functionValues:t[1],manifestFunctionValues:t[2]}}catch(t){e.error("Error while retrieving the parameter",t);this.messageHandler.removeTransitionMessages();return{contextValues:{},defaultValues:[],functionValues:[],manifestFunctionValues:{}}}};l.afterOpen=function e(){const t=this.actionParameterInfos.find(e=>e.field.getVisible());if(t){const e=t?.field;const a=e?.getFocusInfo();a.targetInfo={silent:true};e?.focus(a)}this.parameters.events?.onParameterDialogOpened?.()};l.registerActionParameterInfo=function e(t){t.forEach(e=>{const t=e?.parameter;const a=e?.formElements?.[1];this.actionParameterInfos.push({parameter:t,field:a,isMultiValue:t.isCollection,hasError:false})})};l.setOperationDefaultValues=async function e(t){const a=this.action.isBound?this.action.parameters[0].name:"";const{contextValues:s,defaultValues:i,functionValues:n,manifestFunctionValues:r}=await this.getPreDefinedValues(a,t);const o=t.getObjectBinding();if(a){o.setParameter(a,s)}for(const e in this.actionParameterInfos){if(this.actionParameterInfos[e].parameter.name!=="ResultIsActiveEntity"){const t=this.actionParameterInfos[e].parameter.name;const a=this.parameterValues?.find(e=>e.name===t)?.value;if(a){o.setParameter(t,a)}else if(r.hasOwnProperty(t)){o.setParameter(t,r[t])}else if(i[e]&&i[e].value!==undefined){o.setParameter(t,i[e].value)}else if(this.action.annotations.Common?.DefaultValuesFunction&&!i[e].noPossibleValue){const e=new Set(this.parameters.contexts.map((e,a)=>n[a].getObject(t)));if(e.size===1&&e.values().next().value!==undefined){o.setParameter(t,Array.from(e)[0])}}}}if(i.some(e=>e.latePropertyError)){const e=this.resourceModel.getText("C_COMMON_SAPFE_REFRESH");F.warning(ne(this.parameters.appComponent).getText("C_APP_COMPONENT_SAPFE_ETAG_LATE_PROPERTY"),{actions:[e,F.Action.OK],emphasizedAction:e,onClose:t=>{if(t===e){const e=this.parameters.view?.getController().getExtensionAPI();e.refresh()}},contentWidth:"25em"})}};l.afterClose=function e(){for(const e in this.actionParameterInfos){this.removeMessagesForParameter(this.actionParameterInfos[e].parameter)}this.dialog?.destroy();this.buttonLock=false};return t}();G=fe;return G},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/coreUI/factory", ["sap/fe/core/UIProvider","sap/fe/macros/coreUI/CreateDialog","sap/fe/macros/coreUI/OperationParameterDialog"],function(e,r,a){"use strict";var o=e.setCoreUIFactory;const t={newCreateDialog(e,a,o,t,n){return new r(e,a,o,t,n)},newOperationParameterDialog(e,r,o,t,n){return new a(e,r,o,t,n)}};o(t)},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/draftIndicator/DraftIndicator", ["sap/base/strings/formatMessage","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/BindingHelper","sap/m/Button","sap/m/ObjectMarker","sap/m/Popover","sap/m/Text","sap/m/VBox","sap/m/library","sap/ui/core/Lib","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(t,e,i,a,r,n,s,o,c,l,d,f,p,u,D){"use strict";var A,b,y,h,T,v,_,g,I,O,m,P,E,B,C;var x={};var M=f.ObjectMarkerVisibility;var U=f.ObjectMarkerType;var L=n.UI;var R=n.Entity;var N=i.property;var F=i.defineUI5Class;var w=e.pathInModel;var V=e.or;var H=e.not;var j=e.isEmpty;var z=e.ifElse;var k=e.and;function S(t,e,i,a){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function G(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,J(t,e)}function J(t,e){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},J(t,e)}function K(t,e,i,a,r){var n={};return Object.keys(a).forEach(function(t){n[t]=a[t]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(t,e,n),null):n}function X(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let W=(A=F("sap.fe.macros.draftIndicator.DraftIndicator"),b=N({type:"string"}),y=N({type:"string"}),h=N({type:"string",required:true}),T=N({type:"string"}),v=N({type:"boolean"}),_=N({type:"boolean"}),A(g=(I=function(e){function i(t,i){var a;a=e.call(this,t,i)||this;S(a,"id",O,a);S(a,"draftIndicatorType",m,a);S(a,"contextPath",P,a);S(a,"class",E,a);S(a,"usedInTable",B,a);S(a,"usedInAnalyticalTable",C,a);return a}x=i;G(i,e);var r=i.prototype;r.setDraftIndicatorType=function t(e){if([M.IconOnly,M.IconAndText].includes(e)){this.setProperty("draftIndicatorType",e)}else{throw new Error(`Allowed value ${e} does not match`)}};r.addAriaLabelledByForDraftIndicator=function t(e){const i=this.content?.getAriaLabelledBy()??[];if(!i.includes(e)){this.content?.addAriaLabelledBy(e)}};r.onMetadataAvailable=function t(){if(!this.content){this.content=this.createContent()}};i.formatDraftOwnerTextInPopover=function t(e,i,a,r,n){const s=p.getResourceBundleFor("sap.fe.macros");if(!s){return""}if(e){const t=r||i||n||a;if(!t){return s.getText("M_FIELD_RUNTIME_DRAFT_POPOVER_UNSAVED_CHANGES_BY_UNKNOWN")}else{return i?s.getText("M_FIELD_RUNTIME_DRAFT_POPOVER_LOCKED_BY_KNOWN",[t]):s.getText("M_FIELD_RUNTIME_DRAFT_POPOVER_UNSAVED_CHANGES_BY_KNOWN",[t])}}else{return s.getText("M_FIELD_RUNTIME_DRAFT_POPOVER_NO_DATA_TEXT")}};r.getDraftAdministrativeDataProperties=function t(){const e=this.getDataModelObjectPath(this.contextPath);const i=e?.targetEntityType.navigationProperties.find(t=>t.name==="DraftAdministrativeData");const a=i?.targetType.entityProperties;return a?.map(t=>t.name)};r.getPopoverTitleBindingExpression=function t(){return z(H(R.IsActive),this.isHiddenDraftEnabled?w("M_DRAFT_POPOVER_ADMIN_UNSAVED_OBJECT","sap.fe.i18n"):w("M_COMMON_DRAFT_OBJECT","sap.fe.i18n"),z(R.HasDraft,z(H(j(w("DraftAdministrativeData/InProcessByUser"))),w("M_COMMON_DRAFT_LOCKED_OBJECT","sap.fe.i18n"),w("M_DRAFT_POPOVER_ADMIN_UNSAVED_OBJECT","sap.fe.i18n")),this.draftIndicatorType===M.IconAndText?" ":w("C_DRAFT_POPOVER_ADMIN_DATA_DRAFTINFO_FLAGGED_OBJECT","sap.fe.i18n")))};r.getDraftOwnerTextBindingExpression=function t(){const e=this.getDraftAdministrativeDataProperties();const a=[{path:"HasDraftEntity",targetType:"any"},{path:"DraftAdministrativeData/InProcessByUser"},{path:"DraftAdministrativeData/LastChangedByUser"}];if(e?.includes("InProcessByUserDescription")){a.push({path:"DraftAdministrativeData/InProcessByUserDescription"})}if(e?.includes("LastChangedByUserDescription")){a.push({path:"DraftAdministrativeData/LastChangedByUserDescription"})}return{parts:a,formatter:i.formatDraftOwnerTextInPopover}};r.createPopover=function e(i){const r=k(H(R.IsActive),j(w("DraftAdministrativeData/LastChangeDateTime")));const n=this.draftIndicatorType===M.IconAndText?w("M_DRAFT_POPOVER_ADMIN_GENERIC_LOCKED_OBJECT_POPOVER_TEXT","sap.fe.i18n"):w("C_DRAFT_POPOVER_ADMIN_DATA_DRAFTINFO_POPOVER_NO_DATA_TEXT","sap.fe.i18n");const o=k(H(R.IsActive),H(j(w("DraftAdministrativeData/LastChangeDateTime"))));const f={parts:[{path:"M_DRAFT_POPOVER_ADMIN_LAST_CHANGE_TEXT",model:"sap.fe.i18n"},{path:"DraftAdministrativeData/LastChangeDateTime"}],formatter:t};const p=k(R.IsActive,H(j(w("DraftAdministrativeData/LastChangeDateTime"))));const A={...f};const b=u(c,{title:this.getPopoverTitleBindingExpression(),showHeader:true,verticalScrolling:false,class:"sapUiContentPadding",placement:"Auto",endButton:u(s,{icon:"sap-icon://decline",press:()=>{this.draftPopover?.close()}}),children:D(d,{class:"sapUiContentPadding",children:[u(d,{visible:r,children:u(l,{text:n})}),u(d,{visible:o,children:u(l,{text:f})}),D(d,{visible:p,children:[u(l,{text:this.getDraftOwnerTextBindingExpression()}),u(l,{class:"sapUiSmallMarginTop",text:A})]})]})});a.getTargetView(i).addDependent(b);return b};r.onObjectMarkerPressed=function t(e){const i=e.getSource();const a=i.getBindingContext();this.draftPopover??=this.createPopover(i);this.draftPopover.setBindingContext(a);this.draftPopover.openBy(i,false)};r.getIconAndTextAdditionalInfoBindingExpression=function t(){const e=this.getDraftAdministrativeDataProperties();const i=[];if(e?.includes("InProcessByUserDescription")){i.push(w("DraftAdministrativeData/InProcessByUserDescription"))}i.push(w("DraftAdministrativeData/InProcessByUser"));if(e?.includes("LastChangedByUserDescription")){i.push(w("DraftAdministrativeData/LastChangedByUserDescription"))}i.push(w("DraftAdministrativeData/LastChangedByUser"));return z(R.HasDraft,V(...i),"")};r.getIconAndTextContent=function t(){this.isHiddenDraftEnabled=this.getAppComponent()?.getEnvironmentCapabilities().getCapabilities().HiddenDraft?.enabled;const e=this.isHiddenDraftEnabled?U.Unsaved:U.Draft;const i=z(H(R.IsActive),e,z(R.HasDraft,z(w("DraftAdministrativeData/InProcessByUser"),U.LockedBy,z(w("DraftAdministrativeData/LastChangedByUser"),U.UnsavedBy,U.Unsaved)),U.Flagged));const a=z(H(R.HasDraft),M.TextOnly,M.IconAndText);return u(o,{type:i,press:this.onObjectMarkerPressed.bind(this),visibility:a,additionalInfo:this.getIconAndTextAdditionalInfoBindingExpression(),ariaLabelledBy:this.ariaLabelledBy?this.ariaLabelledBy:[],class:this.class})};r.getIconOnlyContent=function t(){const e=z(H(R.IsActive),U.Draft,z(R.HasDraft,z(!!this.usedInAnalyticalTable,U.Locked,z(w("DraftAdministrativeData/InProcessByUser"),U.Locked,U.Unsaved)),U.Flagged));let i;if(this.usedInTable===true){i=V(H(R.IsActive),k(R.IsActive,R.HasDraft))}else{i=k(H(j(R.HasDraft)),H(L.IsEditable),R.HasDraft,H(w("DraftAdministrativeData/DraftIsCreatedByMe")))}return u(o,{type:e,press:!this.usedInAnalyticalTable?this.onObjectMarkerPressed.bind(this):undefined,visibility:M.IconOnly,visible:i,ariaLabelledBy:this.ariaLabelledBy?this.ariaLabelledBy:[],class:this.class})};r.createContent=function t(){if(this.draftIndicatorType===M.IconAndText){return this.getIconAndTextContent()}else{return this.getIconOnlyContent()}};return i}(r),O=K(I.prototype,"id",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),m=K(I.prototype,"draftIndicatorType",[y],{configurable:true,enumerable:true,writable:true,initializer:function(){return M.IconAndText}}),P=K(I.prototype,"contextPath",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),E=K(I.prototype,"class",[T],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),B=K(I.prototype,"usedInTable",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),C=K(I.prototype,"usedInAnalyticalTable",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),I))||g);x=W;return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/fcl/FlexibleColumnLayoutActions.block", ["sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase"],function(e,t,o){"use strict";var n,i;var r={};var l=t.xml;var c=e.defineBuildingBlock;function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}let p=(n=c({name:"FlexibleColumnLayoutActions",namespace:"sap.fe.macros.fcl",publicNamespace:"sap.fe.macros",returnTypes:["sap.m.OverflowToolbarButton"]}),n(i=function(e){function t(){return e.apply(this,arguments)||this}r=t;s(t,e);var o=t.prototype;o.getTemplate=function e(){return l`
            <m:OverflowToolbarButton
                id="fe::FCLStandardAction::FullScreen"
                type="Transparent"
                icon="{fclhelper>/actionButtonsInfo/switchIcon}"
                visible="{fclhelper>/actionButtonsInfo/switchVisible}"
                press="._routing.switchFullScreen()"
            />
            <m:OverflowToolbarButton
                id="fe::FCLStandardAction::Close"
                type="Transparent"
                icon="sap-icon://decline"
                tooltip="{sap.fe.i18n>C_COMMON_SAPFE_CLOSE}"
                visible="{fclhelper>/actionButtonsInfo/closeVisible}"
                press="._routing.closeColumn()"
            />`};return t}(o))||i);r=p;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/Field", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/macros/Field"],function(e,t,r){"use strict";var s,o;var n={};var a=t.defineUI5Class;function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}let p=(s=a("sap.fe.macros.field.Field"),s(o=function(t){function r(r,s){e.warning("You've consumed deprecated Field class. Use sap.fe.macros.field.Field instead");return t.call(this,r,s)||this}n=r;i(r,t);return r}(r))||o);n=p;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/FieldBaseDelegate", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/ui/core/Element","sap/ui/mdc/field/FieldBaseDelegate","sap/ui/mdc/odata/v4/TypeMap","sap/ui/mdc/p13n/StateUtil","sap/ui/model/Filter","../CommonHelper"],function(e,t,n,r,a,o,i,s,l){"use strict";var u=n.getInvolvedDataModelObjects;return Object.assign({},a,{apiVersion:2,initializeTypeFromBinding:function(e,t,n){const r={};if(t&&t.isA(["sap.ui.model.odata.type.Unit","sap.ui.model.odata.type.Currency"])&&Array.isArray(n)&&n.length>2&&n[2]!==undefined){t.formatValue(n,"string");r.bTypeInitialized=true;r.mCustomUnits=n[2]}return r},initializeInternalUnitType:function(e,t,n){if(n?.mCustomUnits!==undefined){t.formatValue([null,null,n.mCustomUnits],"string")}},enhanceValueForUnit:function(e,t,n){if(n?.bTypeInitialized===true&&t.length===2){t.push(n.mCustomUnits);return t}return undefined},getDefaultValueHelpDelegate:function(e){return{name:"sap/ui/mdc/odata/v4/ValueHelpDelegate",payload:{}}},getTypeMap:function(e){return o},_getValueListParameter:function(e,t){return e.Parameters.filter(function(e){if(e.LocalDataProperty){return e.LocalDataProperty.$PropertyPath===t}else{return false}})},_getFilter:function(e,t,n,a,o,i,l,u){let c=[];const p=e.Parameters.filter(function(e){return e.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterIn"||e.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||e.LocalDataProperty?.$PropertyPath===t&&e.ValueListProperty===n});for(const e of p){let n;if(e.LocalDataProperty?.$PropertyPath===t){n=a}else if(o?.isActionParameterDialog===true){const t=`APD_::${e.LocalDataProperty?.$PropertyPath}`;const a=r.getElementById(t);n=a?.getValue()}else if(i!==undefined){const t=e.ValueListProperty;const r=i?.[0];n=t&&r?.[t]}else if(l){const t=e.LocalDataProperty?.$PropertyPath;n=l.getObject(t)}if(!n&&u){const t=u?.[e.ValueListProperty];if(t?.length===1&&t[0]?.operator==="EQ"){n=t[0]?.values[0]}}if(n!==null&&n!==undefined){c.push(new s({path:e.ValueListProperty,operator:"EQ",value1:n}))}}if(i?.[0]){c=c.concat(this._getRemainingKeyValueFilters(i[0],e))}return c},_getRemainingKeyValueFilters(e,t){const{$model:n,CollectionPath:r,Parameters:a}=t;const o=n.getMetaModel().getMetaContext(`/${r}`);const i=u(o).targetEntityType;const c=a.reduce((e,t)=>{if(t.LocalDataProperty?.$PropertyPath){e.push(t.LocalDataProperty.$PropertyPath)}return e},[]);const p=i.keys.reduce((t,n)=>{let{name:r}=n;if(!c.includes(r)&&e.hasOwnProperty(r)){t.push(r)}return t},[]);if(p.length>0){return p.reduce((t,a)=>{const o=n.getMetaModel().getMetaContext(`/${r}/${a}`);if(l.isPropertyFilterable(o,undefined,true)){t.push(new s({path:a,operator:"EQ",value1:e[a]}))}return t},[])}return[]},getItemForValue:function(e,t,n){if(n.value===""){return}if(n.checkDescription){const e=t.getPayload();const r=e.valueHelpDescriptionPath;const a=e?.maxLength;const o=n.value!==null&&n.value!==undefined?n.value.toString().length:0;if(r===""){n.checkDescription=false}else if(a!==undefined&&o>a){return}}return a.getItemForValue(e,t,n)},_getFilterBar:function(e){let t;if(e?.isA("sap.ui.mdc.FilterField")){while(e){if(e?.isA("sap.fe.macros.filterBar.FilterBarAPI")){t=e;break}e=e?.getParent()}if(t?.getContent()?.isA("sap.fe.macros.controls.FilterBar")){return t.getContent()}}return undefined},getDescription:async function(n,r,a,o,l,u,c,p,f,d,g){let m=n?.getPayload();if(!m&&d?.getDisplay().includes("Description")){m={retrieveTextFromValueList:true}}if(m?.retrieveTextFromValueList===true||m?.isFilterField===true){const o=r.getModel();const l=o?o.getMetaModel():t.getAppComponent(r).getModel().getMetaModel();const c=r.getPayload();const p=f?.[c.valueHelpQualifier];const d=c.propertyPath;const g=c?.propertyDescriptionPath;let m;try{const o=await l.requestValueListInfo(d,true,u);const f=this._getFilterBar(n);let P;if(f){const e=await i.retrieveExternalState(f);P=e.filter}const h=l.getObject(`${d}@sapui.name`);const y=o[Object.keys(o)[0]];const $=this._getValueListParameter(y,h);const v=$?.[0]?.ValueListProperty;if(!v){throw Error(`Inconsistent value help annotation for ${h}`)}const C=y.$model;const b=C.getMetaModel().getObject(`/${y.CollectionPath}/${v}@com.sap.vocabularies.Common.v1.Text`);if(b&&b.$Path){m=b.$Path;const e=this._getFilter(y,h,v,a,c,p,u,P);const t=C.bindList(`/${y.CollectionPath}`,undefined,undefined,e,{$select:m});const n=await t.requestContexts(0,2);return n.length?n[0].getObject(m):undefined}else if(u!==undefined&&g){const n=g.lastIndexOf("/");const a=n>0?g.substring(0,n):g;const o=t.getAppComponent(r).getSideEffectsService();await o.requestSideEffects([a],u);e.warning(`RequestSideEffects is triggered because the text annotation for ${v} is not defined at the CollectionPath of the value help`);return undefined}else{const t=l?.getObject(`${c.propertyPath}@com.sap.vocabularies.Common.v1.ExternalID`)?.$Path;if(t){const e=c.propertyPath.replace(h,t);const n=l.getObject(`${e}@sapui.name`);const r=l?.getObject(`${e}@com.sap.vocabularies.Common.v1.Text`)?.$Path;const o=[];o.push(new s({path:n,operator:"EQ",value1:a}));const i=C.bindList(`/${y.CollectionPath}`,undefined,undefined,o,{$select:`${n},${r}`});const u=await i.requestContexts(0,2);if(u.length){return u[0].getObject(r)}}e.error(`Text Annotation for ${v} is not defined`);return undefined}}catch(t){const n=t?t.status:undefined;const r=t instanceof Error?t.message:String(t);const a=n===404?`Metadata not found (${n}) for value help of property ${d}`:r;e.error(a)}}return undefined}})},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/FieldFormatOptions", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,t){"use strict";var r,i,l,a,n,o,u,p,b,y,s,c,f,m,g,d,w,z,h,v,x,D,M,O,A,P,I,E,L,T,S,C,j,B,U,R,k,F,G,K,N,V,_,H,q,J,Q,W,X,Y,Z,$,ee,te,re,ie,le,ae,ne,oe,ue,pe,be,ye,se;var ce={};var fe=e.property;var me=e.defineUI5Class;function ge(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function de(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,we(e,t)}function we(e,t){return we=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},we(e,t)}function ze(e,t,r,i,l){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),l&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(l):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function he(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let ve=(r=me("sap.fe.macros.field.FieldFormatOptions"),i=fe({type:"string"}),l=fe({type:"string"}),a=fe({type:"int"}),n=fe({type:"int"}),o=fe({type:"int"}),u=fe({type:"string"}),p=fe({type:"int"}),b=fe({type:"boolean"}),y=fe({type:"boolean"}),s=fe({type:"boolean"}),c=fe({type:"string",allowedValues:["RadioButtons"]}),f=fe({type:"boolean"}),m=fe({type:"string",allowedValues:["short","medium","long","full"]}),g=fe({type:"string"}),d=fe({type:"string"}),w=fe({type:"boolean"}),z=fe({type:"boolean"}),h=fe({type:"boolean"}),v=fe({type:"boolean"}),x=fe({type:"boolean"}),D=fe({type:"boolean"}),M=fe({type:"string"}),O=fe({type:"string"}),A=fe({type:"boolean"}),P=fe({type:"boolean"}),I=fe({type:"string"}),E=fe({type:"string"}),L=fe({type:"string"}),T=fe({type:"string"}),S=fe({type:"boolean"}),C=fe({type:"boolean"}),r(j=(B=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;ge(i,"displayMode",U,i);ge(i,"measureDisplayMode",R,i);ge(i,"textLinesEdit",k,i);ge(i,"textMaxLines",F,i);ge(i,"textMaxCharactersDisplay",G,i);ge(i,"textExpandBehaviorDisplay",K,i);ge(i,"textMaxLength",N,i);ge(i,"showDate",V,i);ge(i,"showTime",_,i);ge(i,"showTimezone",H,i);ge(i,"fieldEditStyle",q,i);ge(i,"radioButtonsHorizontalLayout",J,i);ge(i,"dateTimeStyle",Q,i);ge(i,"dateTimePattern",W,i);ge(i,"fieldMode",X,i);ge(i,"hasDraftIndicator",Y,i);ge(i,"isAnalytics",Z,i);ge(i,"forInlineCreationRows",$,i);ge(i,"ignoreNavigationAvailable",ee,i);ge(i,"isCurrencyOrUnitAligned",te,i);ge(i,"retrieveTextFromValueList",re,i);ge(i,"semantickeys",ie,i);ge(i,"semanticKeyStyle",le,i);ge(i,"showEmptyIndicator",ae,i);ge(i,"showIconUrl",ne,i);ge(i,"textAlignMode",oe,i);ge(i,"compactSemanticKey",ue,i);ge(i,"fieldGroupDraftIndicatorPropertyPath",pe,i);ge(i,"fieldGroupName",be,i);ge(i,"isAnalyticalAggregatedRow",ye,i);ge(i,"showOnlyUnitDecimals",se,i);return i}ce=t;de(t,e);return t}(t),U=ze(B.prototype,"displayMode",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),R=ze(B.prototype,"measureDisplayMode",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),k=ze(B.prototype,"textLinesEdit",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),F=ze(B.prototype,"textMaxLines",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),G=ze(B.prototype,"textMaxCharactersDisplay",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),K=ze(B.prototype,"textExpandBehaviorDisplay",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),N=ze(B.prototype,"textMaxLength",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),V=ze(B.prototype,"showDate",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),_=ze(B.prototype,"showTime",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),H=ze(B.prototype,"showTimezone",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),q=ze(B.prototype,"fieldEditStyle",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),J=ze(B.prototype,"radioButtonsHorizontalLayout",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),Q=ze(B.prototype,"dateTimeStyle",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),W=ze(B.prototype,"dateTimePattern",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),X=ze(B.prototype,"fieldMode",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),Y=ze(B.prototype,"hasDraftIndicator",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),Z=ze(B.prototype,"isAnalytics",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),$=ze(B.prototype,"forInlineCreationRows",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),ee=ze(B.prototype,"ignoreNavigationAvailable",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),te=ze(B.prototype,"isCurrencyOrUnitAligned",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),re=ze(B.prototype,"retrieveTextFromValueList",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),ie=ze(B.prototype,"semantickeys",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),le=ze(B.prototype,"semanticKeyStyle",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),ae=ze(B.prototype,"showEmptyIndicator",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),ne=ze(B.prototype,"showIconUrl",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),oe=ze(B.prototype,"textAlignMode",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),ue=ze(B.prototype,"compactSemanticKey",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),pe=ze(B.prototype,"fieldGroupDraftIndicatorPropertyPath",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),be=ze(B.prototype,"fieldGroupName",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),ye=ze(B.prototype,"isAnalyticalAggregatedRow",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),se=ze(B.prototype,"showOnlyUnitDecimals",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),B))||j);ce=ve;return ce},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/FieldHelper", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/FieldControlHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/CommonHelper","sap/fe/macros/internal/valuehelp/ValueListHelper","sap/ui/model/odata/v4/AnnotationHelper"],function(e,t,n,a,r,i,o,s,l,c,u,f,m,p){"use strict";var g=u.getAlignmentExpression;var d=c.hasValueListForValidation;var y=l.isRequiredExpression;var v=s.generate;var P=i.UI;var h=r.KeyHelper;var $=a.getInvolvedDataModelObjects;var b=t.pathInModel;var F=t.or;var D=t.ifElse;var T=t.getExpressionFromAnnotation;var O=t.formatResult;var I=t.equal;var A=t.constant;var V=t.compileExpression;const x="@Org.OData.Measures.V1.ISOCurrency",E="@Org.OData.Measures.V1.Unit";const C={getActionParameterVisibility:function(e,t){if(typeof e==="object"){const n=e;if(n&&n.$If&&n.$If.length===3){const e={$If:[]};e.$If[0]=n.$If[0];e.$If[1]=n.$If[2];e.$If[2]=n.$If[1];return p.value(e,t)}else{return"{= !%{"+e.$Path+"} }"}}else if(typeof e==="boolean"){return p.value(!e,t)}else{return undefined}},propertyName:function(e,t){let n;if(typeof e==="string"){if(t.context.getPath().includes("$Path")||t.context.getPath().includes("$PropertyPath")){n=e}}else if(e.$Path||e.$PropertyPath){const a=e.$Path?"/$Path":"/$PropertyPath";const r=t.context.getPath();n=t.context.getObject(`${r+a}/$@sapui.name`)}else if(e.Value&&e.Value.$Path){n=e.Value.$Path}else{n=t.context.getObject("@sapui.name")}return n},fieldControl:function(e,t){const n=t&&t.context.getModel();const a=t&&t.context.getPath();const r=n&&n.createBindingContext(`${a}@com.sap.vocabularies.Common.v1.FieldControl`);const i=r&&r.getProperty();if(i){if(i.hasOwnProperty("$EnumMember")){return i.$EnumMember}else if(i.hasOwnProperty("$Path")){return p.value(i,{context:r})}}else{return undefined}},valueHelpProperty:function(e,t){const n=e.getPath();const a=e.getObject()||{};let r=a.$Path?`${n}/$Path`:n;const i=`${r}@`;const o=e.getObject(i);let s;if(o){s=o.hasOwnProperty(x)&&x||o.hasOwnProperty(E)&&E;if(s&&!t){const t=`${r+s}/$Path`;if(e.getObject(t)){r=t}}}return r},valueHelpPropertyForFilterField:function(e){return C.valueHelpProperty(e,true)},getIDForFieldValueHelp:function(e,t,n,a){if(e){return e}let r=a;if(n!==a){r=`${n}::${a}`}return v([t,r])},getValueHelpPropertyForFilterField:function(e,t,a,r,i,o,s,l,c){const u=C.propertyName(t,{context:e}),m=c==="true"||c===true;const p=e.getModel(),g=e.getPath(),d=f.getLocationForPropertyPath(p,g),y=n.getFilterRestrictionsByPath(d,p);if((a==="Edm.DateTimeOffset"||a==="Edm.Date"||a==="Edm.TimeOfDay")&&m&&y&&y.FilterAllowedExpressions&&y.FilterAllowedExpressions[u]&&(y.FilterAllowedExpressions[u].includes("SingleRange")||y.FilterAllowedExpressions[u].includes("SingleValue"))||a==="Edm.Boolean"&&!l){return undefined}return C.getIDForFieldValueHelp(null,r||"FilterFieldValueHelp",o,s)},computeFieldBaseDelegate:function(e,t){if(t){return{name:e,payload:{retrieveTextFromValueList:t}}}return{name:e}},_getPrimaryIntents:async function(t,n){const a=[];const r=t.getShellServices();n.forEach(function(e){a.push(r.getPrimaryIntent(e))});return Promise.all(a).then(function(e){return e}).catch(function(t){e.error("Error fetching primary intents",t);return[]})},findPrimaryActionWithinIntents:function(e,t){const n=e.findIndex(e=>!!e);const a=e[n];const r=t.semanticObjects[n];return{semanticObjectWithPrimaryAction:r,primaryIntentFound:a}},_checkIfSemanticObjectsHasPrimaryAction:function(e,t,n){const a=function(e,t,n){for(const a in e.semanticObjectUnavailableActions[n].actions){if(t.intent.split("-")[1].indexOf(e.semanticObjectUnavailableActions[n].actions[a])===0){return false}}return true};e.semanticPrimaryActions=t;const{semanticObjectWithPrimaryAction:r,primaryIntentFound:i}=this.findPrimaryActionWithinIntents(t,e);const o=n.getShellServices().getHash();if(!!i&&i.intent.split("?")[0]!==o){for(let t=0;t<e.semanticObjectUnavailableActions.length;t++){if(e.semanticObjectUnavailableActions[t].semanticObject===r){return a(e,i,t)}}return true}return false},checkPrimaryActions:async function(t,n,a){return this._getPrimaryIntents(a,t&&t.semanticObjects).then(e=>n?{titleLink:e,hasTitleLink:this._checkIfSemanticObjectsHasPrimaryAction(t,e,a),payload:t}:this._checkIfSemanticObjectsHasPrimaryAction(t,e,a)).catch(function(t){e.error("Error in checkPrimaryActions",t)})},_getTitleLinkWithParameters:function(e,t){if(e&&e.titleLink){return e.titleLink}else{return t}},getPrimaryAction:function(e){const t=e.semanticPrimaryActions?.find(e=>!!e);return C._getTitleLinkWithParameters(e,t?.intent)},operators:function(e,t,a,r,i){if(!t||!i){return undefined}let s;const l=C.propertyName(t,{context:e});const c=e.getModel(),u=e.getPath(),m=f.getLocationForPropertyPath(c,u),p=t.$Type;if(p==="Edm.Guid"){return n.getOperatorsForGuidProperty()}i=i.slice(0,-1);const g=i.lastIndexOf("/")>0;const d=g&&i!==m||!g&&m.lastIndexOf("/")>0;const y=d&&m.substring(m.indexOf(i)+i.length+1)||"";const v=d&&y+"/"+l||l;if(!g){if(!d){s=f.getOperatorsForProperty(l,m,c,p,a,r)}else{s=f.getOperatorsForProperty(v,i,c,p,a,r);if(s.length===0){s=f.getOperatorsForProperty(l,m,c,p,a,r)}}}else if(!d){s=f.getOperatorsForProperty(v,i,c,p,a,r);if(s.length===0){s=f.getOperatorsForProperty(l,o.getEntitySetPath(i),c,p,a,r)}return s?.length>0?s.toString():undefined}else{s=f.getOperatorsForProperty(v,i,c,p,a,r);if(s.length===0){s=f.getOperatorsForProperty(v,o.getEntitySetPath(i),c,p,a,r)}}if((!s||s.length===0)&&(p==="Edm.Date"||p==="Edm.DateTimeOffset")){s=f.getOperatorsForDateProperty(p)}return s.length>0?s.toString():undefined},getDataFieldDefault:function(e){const t=e.getModel().getObject(`${e.getPath()}@com.sap.vocabularies.UI.v1.DataFieldDefault`);return t?`${e.getPath()}@com.sap.vocabularies.UI.v1.DataFieldDefault`:e.getPath()},isDataFieldActionButtonVisible:function(e,t,n){return e.annotations?.UI?.Hidden?.valueOf()!==true&&(t!==true||n!==false)},getPressEventForDataFieldActionButton:function(e,t){if(!t){return""}let n="Isolated";if(t.InvocationGrouping&&t.InvocationGrouping.$EnumMember==="com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet"){n="ChangeSet"}let a=e.navigateAfterAction;a=a==="false"?false:true;const r=e?.contextPath?.getPath().split("/");const i=r[r.length-1];const o={contexts:"${$source>/}.getBindingContext()",invocationGrouping:f.addSingleQuotes(n),model:"${$source>/}.getModel()",label:typeof t?.Label==="string"?f.addSingleQuotes(t.Label,true):"",isNavigable:a,entitySetName:f.addSingleQuotes(i),feFrameworkCall:true};return f.generateFunction(".editFlow.invokeAction",f.addSingleQuotes(t.Action),f.objectToString(o))},isNumericDataType:function(e){const t=e;if(t!==undefined){const e=["Edm.Int16","Edm.Int32","Edm.Int64","Edm.Byte","Edm.SByte","Edm.Single","Edm.Decimal","Edm.Double"];return!e.includes(t)?false:true}else{return false}},isDateOrTimeDataType:function(e){if(e!==undefined){const t=["Edm.DateTimeOffset","Edm.DateTime","Edm.Date","Edm.TimeOfDay","Edm.Time"];return t.includes(e)}else{return false}},isDateTimeDataType:function(e){if(e!==undefined){const t=["Edm.DateTimeOffset","Edm.DateTime"];return t.includes(e)}else{return false}},isDateDataType:function(e){return e==="Edm.Date"},isTimeDataType:function(e){if(e!==undefined){const t=["Edm.TimeOfDay","Edm.Time"];return t.includes(e)}else{return false}},getDataTypeForVisualization:function(e,t){const n="@com.sap.vocabularies.Common.v1.Text",a="@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement";return e?.[a]?.$EnumMember!=="com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate"&&e?.[n]?.$Path?"Edm.String":t},getColumnAlignment:function(e,t){const n=t.collection.getPath(),a=t.collection.getModel();if((e["$Type"]==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e["$Type"]==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&e.Inline&&e.IconUrl){return"Center"}const r=a.getObject(`${n}/@com.sap.vocabularies.Common.v1.SemanticKey`);if(e["$Type"]==="com.sap.vocabularies.UI.v1.DataField"){const t=e.Value.$Path;const n=r&&!r.every(function(e){return e.$PropertyPath!==t});if(n){return"Begin"}}return C.getDataFieldAlignment(e,a,n)},getPropertyAlignment:function(e,t,n){let a="Begin";const r=t?t.textAlignMode:"";if(r==="Form"){if(this.isNumericDataType(e)){a="Begin";if(n){a=g(n,"Begin","End")}}}else if(this.isNumericDataType(e)||this.isDateOrTimeDataType(e)){a="Right"}return a},getDataFieldAlignment:function(e,t,n,a,r){let i,o="Begin",s,l;if(e?.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){i=e.Target?.$AnnotationPath;if(i&&i.includes("com.sap.vocabularies.UI.v1.FieldGroup")){const e=t.getObject(`${n}/${i}`);for(let c=0;c<e.Data.length;c++){s=t.getObject(`${n}/${i}/Data/${c.toString()}/Value/$Path/$Type`);l=t.getObject(`${n}/${i}/Data/${c.toString()}/Value/$Path@`);s=this.getDataTypeForVisualization(l,s);o=this.getPropertyAlignment(s,a,r);if(o==="Begin"){break}}return o}else if(i&&i.includes("com.sap.vocabularies.UI.v1.DataPoint")&&(t.getObject(`${n}/${i}/Visualization/$EnumMember`)==="com.sap.vocabularies.UI.v1.VisualizationType/Rating"||t.getObject(`${n}/${i}/Visualization/$EnumMember`)==="com.sap.vocabularies.UI.v1.VisualizationType/Progress")){return o}else{s=t.getObject(`${n}/${i}/$Type`);if(s==="com.sap.vocabularies.UI.v1.DataPointType"){s=t.getObject(`${n}/${i}/Value/$Path/$Type`);l=t.getObject(`${n}/${i}/Value/$Path@`);s=this.getDataTypeForVisualization(l,s)}o=this.getPropertyAlignment(s,a,r)}}else{i=e.Value?.$Path;s=t.getObject(`${n}/${i}/$Type`);l=t.getObject(`${n}/${i}@`);s=this.getDataTypeForVisualization(l,s);const c=t.getObject(`${n}/`)["$Key"];if(c&&c.indexOf(i)!==0){o=this.getPropertyAlignment(s,a,r)}}return o},isDataFieldActionButtonEnabled:function(e,t,n,a){if(t!==true){return"true"}return(n===null?"{= !${#"+e.Action+"} ? false : true }":n)?a:"true"},computeLabelText:function(e,t){const n=t.context.getModel();let a=t.context.getPath();if(a.endsWith("/")){a=a.slice(0,a.lastIndexOf("/"))}const r=n.getObject(`${a}/Label`);if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){return undefined}if(r){return r}else if(r===""){return""}let i;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(e?.Target?.$AnnotationPath.includes("@com.sap.vocabularies.UI.v1.DataPoint")||e?.Target?.$AnnotationPath.includes("@com.sap.vocabularies.UI.v1.Chart")){i=n.getObject(`${a}/Target/$AnnotationPath@/Title`)}if(e?.Target?.$AnnotationPath.includes("@com.sap.vocabularies.Communication.v1.Contact")){i=n.getObject(`${a}/Target/$AnnotationPath@/fn/$Path@com.sap.vocabularies.Common.v1.Label`)}}if(i){return i}let o;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){o=n.getObject(`${a}/Target/$AnnotationPath@/Label`)}if(o){return o}const s=n.getObject(`${a}/Value/$Path@com.sap.vocabularies.Common.v1.Label`);if(s){return s}let l;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){l=n.getObject(`${a}/Target/$AnnotationPath/Value/$Path@com.sap.vocabularies.Common.v1.Label`)}if(l){return l}return""},buildExpressionForAlignItems:function(e){const t=A(e);const n=A("com.sap.vocabularies.UI.v1.VisualizationType/Progress");const a=A("com.sap.vocabularies.UI.v1.VisualizationType/Rating");return V(D(F(I(t,n),I(t,a)),A("Center"),D(P.IsEditable,A("Center"),A("Stretch"))))},hasValueHelpAnnotation:function(e){if(e){return!!(e["@com.sap.vocabularies.Common.v1.ValueListReferences"]||e["@com.sap.vocabularies.Common.v1.ValueListMapping"]||e["@com.sap.vocabularies.Common.v1.ValueList"])}return false},getAPDialogDisplayFormat:async function(e,t){let a;const r=t.context.getModel();const i=t.context.getPath();const o=e.$Name||t.context.getProperty(`${i}@sapui.name`);const s=r.getObject(`${i}@`);const l=s["@com.sap.vocabularies.Common.v1.ValueList"]||s["@com.sap.vocabularies.Common.v1.ValueListMapping"]||s["@com.sap.vocabularies.Common.v1.ValueListReferences"];const c=function(e){const t=e.Parameters.find(function(e){return e.LocalDataProperty&&e.LocalDataProperty.$PropertyPath===o});return t&&t.ValueListProperty};let u;if(s["@com.sap.vocabularies.Common.v1.TextArrangement"]||s["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"]){return n.computeDisplayMode(s,undefined)}else if(l){if(l.CollectionPath){u=c(l);if(!u){return"Value"}a=r.getObject(`/${l.CollectionPath}/${u}@`);return a&&a["@com.sap.vocabularies.Common.v1.Text"]?n.computeDisplayMode(a,undefined):"Value"}else{return r.requestValueListInfo(i,true).then(function(e){const t=C.getValueListQuliferForParameterDisplayFormat(r,i,e);u=c(e[t]);if(!u){return"Value"}a=e[t].$model.getMetaModel().getObject(`/${e[t]["CollectionPath"]}/${u}@`);return a&&a["@com.sap.vocabularies.Common.v1.Text"]?n.computeDisplayMode(a,undefined):"Value"})}}else{return"Value"}},getValueListQuliferForParameterDisplayFormat:function(t,n,a){const r=m.putDefaultQualifierFirst(Object.keys(a));let i=r[0];try{const e=t.createBindingContext(`${n}`);const a=$(e).targetObject;const r=d(a);i=r?V(T(a.annotations?.Common?.ValueListForValidation))??"":i}catch(t){e.warning(`Couldn't finding qualifer for value list of action parameter ${n}`)}return i},getActionParameterDialogValueHelp:function(e,t,n){return this.hasValueHelpAnnotation(e)?v([t,n]):undefined},getValueHelpDelegate:function(e,t,n,a){const r={name:f.addSingleQuotes("sap/fe/macros/valuehelp/ValueHelpDelegate"),payload:{propertyPath:f.addSingleQuotes(m.getPropertyPath({UnboundAction:!e,EntityTypePath:t,Action:n,Property:a})),qualifiers:{},valueHelpQualifier:f.addSingleQuotes(""),isActionParameterDialog:true}};return f.objectToString(r)},getValueHelpDelegateForNonComputedVisibleKeyField:function(e){const t={name:f.addSingleQuotes("sap/fe/macros/valuehelp/ValueHelpDelegate"),payload:{propertyPath:f.addSingleQuotes(e),qualifiers:{},valueHelpQualifier:f.addSingleQuotes("")}};return f.objectToString(t)},_getEntitySetFromMultiLevel:function(e,t,n,a,r){let i=t.split("/").filter(Boolean);i=i.filter(function(e){return e!=="$NavigationPropertyBinding"});if(i.length>0){for(let t=a;t<i.length-r;t++){n="/"+e.getObject(`${n}/$NavigationPropertyBinding/${i[t]}`)}}return n},getPathForIconSource:function(e){return V(O([b(`${e}@odata.mediaContentType`)],"sap.fe.core.formatters.ValueFormatter#getIconForMimeType"))},getFilenameExpr:function(e,t){if(e){if(e.indexOf("{")===0){return"{= $"+e+" ? $"+e+" : $"+t+"}"}return e}return t},calculateMBfromByte:function(e){return e?(e/(1024*1024)).toFixed(6):undefined},getDownloadUrl:function(e){return e+"{= ${internal>/stickySessionToken} ? ('?SAP-ContextId=' + ${internal>/stickySessionToken}) : '' }"},getMarginClass:function(e){return e==="true"||e===true?"sapMTableContentMargin":undefined},getRequired:function(e,t,n){let a=A(false);if(t!==null){a=y(t?.targetObject)}return V(F(a,n.includes(e)))},isFieldPartOfForm:function(e,t){const n=h.generateKeyFromDataField(t.targetObject);const a=e.find(e=>e.key===n);return a?true:false}};C.fieldControl.requiresIContext=true;C.getAPDialogDisplayFormat.requiresIContext=true;C.computeLabelText.requiresIContext=true;C.getActionParameterVisibility.requiresIContext=true;return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/FieldRuntime", ["sap/base/Log","sap/base/util/ObjectPath","sap/fe/core/CommonUtils","sap/fe/core/helpers/FPMHelper","sap/fe/macros/CommonHelper","sap/m/HBox","sap/m/table/Util","sap/ui/core/Lib","sap/ui/model/Filter","sap/ui/model/Sorter","./FieldRuntimeHelper"],function(e,t,n,o,s,r,a,i,c,l,u){"use strict";const p={uploadPromises:{},creatingInactiveRow:false,isDraftIndicatorVisible:function(e,t,n,o,s){if(o!==undefined&&n!==undefined&&(!o||n)&&!s){return e===t}else{return false}},onValidateFieldGroup:function(e){const t=e.getSource();const o=n.getTargetView(t),s=o.getController();const r=u.getExtensionController(s);r._sideEffects.handleFieldGroupChange(e)},_fnFixHashQueryString:function(e){if(e?.includes("?")){e=e.split("?")[0]}return e},retrieveTextFromValueList:async function(t,n,o){let r;let a;let l;if(t){a=s.getMetaModel();l=a.getObject(`${n}@sapui.name`);return a.requestValueListInfo(n,true).then(function(e){const n=e[e[""]?"":Object.keys(e)[0]];const s=n.$model;const a=s.getMetaModel();const i=n.Parameters.find(function(e){return e.LocalDataProperty&&e.LocalDataProperty.$PropertyPath===l});if(i&&!i.ValueListProperty){throw new Error(`Inconsistent value help annotation for ${l}`)}const u=a.getObject(`/${n.CollectionPath}/${i.ValueListProperty}@com.sap.vocabularies.Common.v1.Text`);if(u&&u.$Path){r=u.$Path;const e=new c({path:i.ValueListProperty,operator:"EQ",value1:t});const o=s.bindList(`/${n.CollectionPath}`,undefined,undefined,e,{$select:r});return o.requestContexts(0,2)}else{o="Value";return t}}).then(function(e){const n=r?e[0]?.getObject()[r]:"";switch(o){case"Description":return n;case"DescriptionValue":return i.getResourceBundleFor("sap.fe.core").getText("C_FORMAT_FOR_TEXT_ARRANGEMENT",[n,t]);case"ValueDescription":return i.getResourceBundleFor("sap.fe.core").getText("C_FORMAT_FOR_TEXT_ARRANGEMENT",[t,n]);default:return t}}).catch(function(t){const o=t;const s=o.status&&o.status===404?`Metadata not found (${o.status}) for value help of property ${n}`:o.message;e.error(s)})}return t},displayAggregateDetails:async function(e,t){if(!t){return}const n=e.getSource();const s=o.getMdcTable(n);const i=n.getBindingContext();const c=i.getBinding();const u=i.getObject();const p=[];const d=i.getFilter();if(d){p.push(d)}const f=p.concat(c.getFilters("Application"),c.getFilters("Control"));const g=c.getAggregation();const m=g.aggregate[t].unit;const h={};h[m]={};const P={};P[t]={grandTotal:false,subtotals:false,unit:m};const T=n.getDependents()[0].clone();const C=new r({renderType:"Bare",justifyContent:"End",items:[T]});const F={group:h,aggregate:P};if(g.search){F.search=g.search}const y={path:c.getResolvedPath(),filters:f,parameters:{$$aggregation:F},sorter:new l(m,false)};const $=u["@$ui5.node.level"]===0;const b=await a.createOrUpdateMultiUnitPopover(`${s.getId()}-multiUnitPopover`,{control:s,grandTotal:$,itemsBindingInfo:y,listItemContentTemplate:C});s.addDependent(b);const v=()=>{s.removeDependent(b);b.detachEvent("afterClose",v);b.destroy()};b.attachEvent("afterClose",v);b.openBy(n)}};t.set("sap.fe.macros.field.FieldRuntime",p);return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/FieldRuntimeHelper", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/m/IllustratedMessage","sap/m/IllustratedMessageSize","sap/m/IllustratedMessageType","sap/m/Label","sap/m/MessageBox","sap/m/ResponsivePopover","sap/m/library","sap/ui/Device","sap/ui/core/Element","sap/ui/core/IconPool","sap/ui/util/openWindow","../controls/FieldWrapper","../internal/helpers/Upload"],function(e,t,n,o,a,i,s,r,l,c,g,d,p,f,u,m,h,C,P,v){"use strict";var y=v.showTypeMismatchDialog;var S=v.showFileSizeExceedDialog;var F=v.setHeaderFields;var x=v.displayMessageForFailedUpload;var E=s.getResourceModel;var T=n.getActivityKeyFromPath;var D=n.Activity;const B={uploadPromises:{},creatingInactiveRow:false,fetchRecommendations:function(e,n){const o=t.getTargetView(e);const a=e.getBindingContext();let s;const r=a?.getBinding();if(r.isA("sap.ui.model.odata.v4.ODataListBinding")){s=a}else{s=o.getBindingContext()}const l=B.getExtensionController(n);const c=e.isA("sap.ui.mdc.Field")&&e.getValueHelp();const g=i.getMetaPathForContext(e.getBindingContext());const d=e.data("sourcePath").replace(g,"");const p=`${e.getBindingContext()?.getPath()}${d}`;const f=e.isA("sap.ui.mdc.Field")&&e.getValue();l.recommendations.updateTelemetryDataBasedOnUserSelection(p,f);if(c&&c.includes("::TableValueHelp::")){const t=c.substring(0,c.indexOf("::TableValueHelp::"));const n=o.byId(t);const a=n?.getParent()?.getIdentifierColumn();l.recommendations.fetchAndApplyRecommendationsOnFieldChange(e,{context:s,contextIdentifier:a})}else{l.recommendations.fetchAndApplyRecommendationsOnFieldChange(e,{context:s})}},getExtensionController:function(e){return e.isA("sap.fe.core.ExtensionAPI")?e._controller:e},getFieldStateOnChange:function(e){let t=e.getSource(),n;const o=function(e){return e&&e.getDataState()?e.getDataState().getInvalidValue()===undefined:true};if(t.isA("sap.fe.macros.field.Field")){t=t.getContent()}if(t.isA("sap.fe.macros.Field")){t=t.getContent()}if(t.isA(P.getMetadata().getName())&&t.getEditMode()==="Editable"){t=t.getContentEdit()[0]}if(t.isA("sap.ui.mdc.Field")){let a=e.getParameter("valid")||e.getParameter("isValid");if(a===undefined){if(t.getMaxConditions()===1){const e=t.getBindingInfo("value");a=o(e&&e.binding)}if(t.getValue()===""&&!t.getProperty("required")){a=true}}n={fieldValue:t.getValue(),validity:!!a}}else{const e=t.getBinding("uploadUrl")||t.getBinding("value")||t.getBinding("selected");n={fieldValue:e&&e.getValue(),validity:o(e)}}return{field:t,state:n}},pressLink:async function(e){const t=e.getSource();let n=t.isA("sap.m.ObjectIdentifier")?t.findElements(false,e=>e.isA("sap.m.Link"))[0]:t;if(t?.isA("sap.fe.macros.controls.TextLink")){n=t.getContent()}if(t.getDependents()&&t.getDependents().length>0&&n.getProperty("text")!==""){const e=t.getDependents()[0];if(e&&e.isA("sap.ui.mdc.Link")){await B.openLink(e,n)}}return n},openLink:async function(n,o){try{const i=await n.getTriggerHref();if(!i){try{await n._useDelegateItems();const e=await n.retrieveLinkItems();if(e?.length===0&&n.getPayload().hasQuickViewFacets==="false"){const e=B.createPopoverWithNoTargets(n);n.addDependent(e);e.openBy(o)}else{await n.open(o)}}catch(t){e.error(`Cannot retrieve the QuickView Popover dialog: ${t}`)}}else{const n=t.getTargetView(o);const s=t.getAppComponent(n);const r=s.getShellServices();const l=r.parseShellHash(i);const c={target:{semanticObject:l.semanticObject,action:l.action},params:l.params};a.storeControlRefreshStrategyForHash(n,l);if(t.isStickyEditMode(o)!==true){await r.navigate(c,s)}else{try{const e=await r.hrefForExternal(c,s);C(e)}catch(t){e.error(`Error while retireving hrefForExternal : ${t}`)}}}}catch(t){e.error(`Error triggering link Href: ${t}`)}},createPopoverWithNoTargets:function(e){const t=e.getId();const n={title:E(e).getText("M_ILLUSTRATEDMESSAGE_TITLE"),description:E(e).getText("M_ILLUSTRATEDMESSAGE_DESCRIPTION"),enableFormattedText:true,illustrationSize:l.ExtraSmall,illustrationType:c.NoData};const o=new r(`${t}-illustratedmessage`,n);const a={horizontalScrolling:false,showHeader:u.system.phone,placement:f.PlacementType.Auto,content:[o],afterClose:function(e){if(e.getSource()){e.getSource().destroy()}}};return new p(`${t}-popover`,a)},handleTypeMissmatch:function(e){const t=e.getSource();const n=e.getParameter("mimeType");const o=t.getMimeType();if(n){y(t,n,o)}},handleFileSizeExceed:function(e){const t=e.getSource();S(t,t.getMaximumFileSize().toFixed(3))},handleUploadComplete:function(e,n,o,a){const i=Number(e.getParameter("status")),s=e.getSource(),r=s.getParent(),l=r.getParent();r.setUIBusy(false);const c=s.getBindingContext();if(i===0||i>=400){const t=e.getParameter("responseRaw")||e.getParameter("response");x(s,t);B.uploadPromises[s.getId()].reject()}else{const t=e.getParameter("headers")?.etag;if(t){c?.setProperty("@odata.etag",t,null)}if(n?.path){c?.setProperty(n.path,s.getValue())}r.avatar?.refreshAvatarCacheBusting();B._callSideEffectsForStream(e,r,a);this.uploadPromises[s.getId()].resolve();l?.fireEvent("change",e)}delete this.uploadPromises[s.getId()];const g=a.collaborativeDraft?.isConnected();if(!g||!c){return}const d=[`${c.getPath()}/${o}`];if(n?.path){d.push(`${c.getPath()}/${n.path}`)}let p=c.getBinding();if(!p.isA("sap.ui.model.odata.v4.ODataListBinding")){const e=t.getTargetView(s);p=e.getBindingContext().getBinding()}if(p.hasPendingChanges()){p.attachEventOnce("patchCompleted",()=>{a.collaborativeDraft.send({action:D.Change,content:d});a.collaborativeDraft.send({action:D.Unlock,content:d})})}else{a.collaborativeDraft.send({action:D.Change,content:d});a.collaborativeDraft.send({action:D.Unlock,content:d})}},removeStream:function(e,n,o,a){const i=e.getSource();const s=i.getParent();const r=s.getBindingContext();const l=s.getParent();r.setProperty(o,null);r.setProperty(o,undefined,null);B._callSideEffectsForStream(e,s,a);const c=a.collaborativeDraft?.isConnected();if(c){let e=r.getBinding();if(!e.isA("sap.ui.model.odata.v4.ODataListBinding")){const n=t.getTargetView(i);e=n.getBindingContext().getBinding()}const s=[`${r.getPath()}/${o}`];if(n?.path){s.push(`${r.getPath()}/${n.path}`)}a.collaborativeDraft.send({action:D.Lock,content:s});e.attachEventOnce("patchCompleted",function(){a.collaborativeDraft.send({action:D.Change,content:s});a.collaborativeDraft.send({action:D.Unlock,content:s})})}l?.fireEvent("change",e)},_callSideEffectsForStream:function(e,t,n){const o=B.getExtensionController(n);if(t&&t.getBindingContext().isTransient()){return}if(t){e.oSource=t}o._sideEffects.handleFieldChange(e,B.getFieldStateOnChange(e).state["validity"])},uploadStream:function(e,t){const n=t.getSource(),o=B.getExtensionController(e),a=n.getParent(),i=a.getUploadUrl();if(i!==""){a.setUIBusy(true);n.setUploadUrl(i);const e=t.getParameter("files");const s=e&&e[0].type;F(n,s);const r=new Promise((e,t)=>{this.uploadPromises=this.uploadPromises||{};this.uploadPromises[n.getId()]={resolve:e,reject:t};n.upload()});o.editFlow.syncTask(r)}else{d.error(E(e).getText("M_FIELD_FILEUPLOADER_ABORTED_TEXT"))}},handleOpenUploader:function(e){const t=e.getSource();B._sendCollaborationMessageForFileUploader(t,D.Lock)},_sendCollaborationMessageForFileUploader(e,n){const o=t.getTargetView(e);const a=o.getController().collaborativeDraft;if(a.isConnected()){const t=e.getParent()?.getProperty("propertyPath");const o=`${e.getBindingContext()?.getPath()}/${t}`;a.send({action:n,content:o})}},handleCloseUploader:function(e){const t=e.getSource();B._sendCollaborationMessageForFileUploader(t,D.Unlock)},openExternalLink:function(e){const t=e.getSource();if(t.data("url")&&t.getProperty("text")!==""){C(t.data("url"),"_self")}},getIconForMimeType:function(e){return h.getIconForMimeType(e)},onDataFieldWithNavigationPath:async function(n,a,s){if(a._routing){const e=n.getBindingContext();const r=t.getTargetView(n),l=e.getModel().getMetaModel();const c=r.getViewData();const g=i.getDraftRootPath(e)??e.getPath();let d=await a._routing.getHashForNavigation(e,s);const p=()=>{a.getAppComponent().getRouterProxy().navToHash(d,true,false,false,!i.isStickySessionSupported(e.getModel().getMetaModel()))};if(!d?.startsWith("/")){d=`/${d}`}const f=d.startsWith(g);if(c.converterType==="ObjectPage"&&!i.isStickySessionSupported(l)&&!f){o.processDataLossOrDraftDiscardConfirmation(p,Function.prototype,e,r.getController(),true,o.NavigationType.ForwardNavigation)}else{p()}}else{e.error("FieldRuntime: No routing listener controller extension found. Internal navigation aborted.","sap.fe.macros.field.FieldRuntime","onDataFieldWithNavigationPath")}},showCollaborationEditUser:function(e,t){const n=s.getResourceModel(t);let o=m.getElementById(`manageCollaborationDraft--editUser`);if(!o){o=new p("manageCollaborationDraft--editUser",{showHeader:false,placement:"Bottom"});o.addStyleClass("sapUiContentPadding");t.addDependent(o)}const a=e.getBinding("initials")?.getBindings().find(e=>e?.getPath()?.startsWith("/collaboration/activities")).getPath();const i=e.getBindingContext("internal")?.getObject(a);let r;if(i&&i.length>0){r=i.find(t=>t.key===T(e.getBindingContext().getPath()))}o.destroyContent();o.addContent(new g({text:n.getText("C_COLLABORATIONAVATAR_USER_EDIT_FIELD",[`${r?.name}`])}));o.openBy(e)}};return B},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/FieldTemplating", ["sap/fe/base/BindingToolkit","sap/fe/core/converters/annotations/DataField","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/CommonFormatters","sap/fe/core/templating/DataFieldFormatters","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/SemanticObjectHelper","sap/fe/core/templating/UIFormatters","sap/m/AvatarShape","sap/ui/model/json/JSONModel","./FieldHelper"],function(e,t,a,n,i,o,r,s,l,c,u,f,m){"use strict";var d={};var p=s.hasStaticPercentUnit;var g=r.getRelativePaths;var v=r.getContextRelativeTargetObjectPath;var y=r.getContextPropertyRestriction;var I=r.enhanceDataModelPath;var b=o.generateVisibleExpression;var h=n.isProperty;var O=n.isPathAnnotationExpression;var T=n.isNavigationProperty;var D=n.isAnnotationOfType;var U=n.isAnnotationOfTerm;var F=t.isDataFieldForAnnotation;var P=e.transformRecursively;var x=e.pathInModel;var M=e.or;var j=e.isPathInModelExpression;var E=e.isComplexTypeExpression;var S=e.ifElse;var k=e.getExpressionFromAnnotation;var V=e.formatWithTypeInformation;var C=e.formatResult;var $=e.constant;var A=e.compileExpression;const B=function(e,t){return P(e,"PathInModel",e=>{let a=e;if(e.modelName===undefined){const n=I(t,e.path);a=i.getBindingWithTextArrangement(n,e)}return a})};d.addTextArrangementToBindingExpression=B;const N=function(e,t){return P(e,"PathInModel",e=>{let a=e;if(e.modelName===undefined){const n=I(t,e.path);if(n.targetObject){a=V(n.targetObject,e)}}return a})};d.formatValueRecursively=N;const W=function(e,t){return R(e,t,true)};d.getTextBindingExpression=W;const R=function(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let n=arguments.length>3?arguments[3]:undefined;if(D(e.targetObject,["com.sap.vocabularies.UI.v1.DataField","com.sap.vocabularies.UI.v1.DataPointType","com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath","com.sap.vocabularies.UI.v1.DataFieldWithUrl","com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation","com.sap.vocabularies.UI.v1.DataFieldWithAction"])){const t=k(e.targetObject.Value)??"";return A(t)}if(O(e.targetObject)&&e.targetObject.$target){e=I(e,e.targetObject.path)}if(typeof e.targetObject==="string"){return e.targetObject}const o=x(v(e));let r;const s=e;const l=s.targetObject;if(l?.annotations?.UI?.InputMask){r=V(l,o);r.type="sap.fe.core.type.InputMask";r.formatOptions={mask:l.annotations?.UI?.InputMask?.Mask.toString(),placeholderSymbol:l.annotations?.UI?.InputMask?.PlaceholderSymbol.toString(),maskRule:te(l.annotations?.UI?.InputMask?.Rules)}}else if(l?.annotations?.Common?.Masked?.valueOf()){r=V(l,o);r.formatOptions={editStyle:"Masked"}}else if(l?.annotations?.Measures?.Unit||l?.annotations?.Measures?.ISOCurrency){r=c.getBindingWithUnitOrCurrency(s,o,undefined,{},true,t.showOnlyUnitDecimals);if(t?.measureDisplayMode==="Hidden"&&E(r)){r.formatOptions={...r.formatOptions,showMeasure:false}}}else if(l?.annotations?.Common?.Timezone&&l.type=="Edm.DateTimeOffset"){r=c.getBindingWithTimezone(s,o,false,true,t)}else if(l?.annotations?.Common?.IsTimezone){r=c.getBindingForTimezone(s,o)}else if(l?.annotations?.UI?.DateTimeStyle||t?.dateTimePattern||t?.dateTimeStyle){r=c.getBindingForDateFormat(s,o,t)}else{r=i.getBindingWithTextArrangement(s,o,t,n)}if(a){return r}return A(r)};d.getTextBinding=R;const w=function(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let i=arguments.length>4?arguments[4]:undefined;let o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let r=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;let s=arguments.length>7?arguments[7]:undefined;let l=arguments.length>8&&arguments[8]!==undefined?arguments[8]:false;let u=arguments.length>9&&arguments[9]!==undefined?arguments[9]:false;if(O(e.targetObject)&&e.targetObject.$target){const t=e.targetEntityType.resolvePath(e.targetObject.path,true);e.targetObject=t.target;t.visitedObjects.forEach(t=>{if(T(t)){e.navigationProperties.push(t)}})}const f=e.targetObject;if(h(f)){let m=x(v(e));if(j(m)){if(f.annotations?.Communication?.IsEmailAddress){m=V(f,m);m.type="sap.fe.core.type.Email"}else if(f.annotations?.UI?.InputMask){m=V(f,m);m.type="sap.fe.core.type.InputMask";m.formatOptions={...m.formatOptions,mask:f.annotations.UI.InputMask.Mask,placeholderSymbol:f.annotations.UI.InputMask.PlaceholderSymbol,maskRule:te(f.annotations.UI.InputMask.Rules)}}else if(f.annotations?.Common?.Masked?.valueOf()){m=V(f,m);m.formatOptions={...m.formatOptions,style:"password"}}else if(!a&&(f.annotations?.Measures?.ISOCurrency||f.annotations?.Measures?.Unit)){const a={};if(!r){a["showMeasure"]=false}if(String(t.isCurrencyOrUnitAligned)==="true"){a["decimalPadding"]=s}m=c.getBindingWithUnitOrCurrency(e,m,true,r?undefined:a,l,t.showOnlyUnitDecimals)}else if(f?.annotations?.Common?.IsTimezone){m=c.getBindingForTimezone(e,m)}else if(f?.annotations?.UI?.DateTimeStyle||t?.dateTimePattern||t?.dateTimeStyle){m=c.getBindingForDateFormat(e,m,t)}else if(f?.annotations?.Common?.Timezone&&f.type==="Edm.DateTimeOffset"){m=c.getBindingWithTimezone(e,m,true)}else{m=V(f,m);if(f.annotations.Common?.ExternalID){m.path+="@$ui5.fe.@Common/ExternalID"}}if(j(m)){if(n){delete m.formatOptions;delete m.constraints;delete m.type}if(i){m.parameters=i}if(o){m.targetType="any"}}if(u){return m}return A(m)}else{return""}}else if(f?.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||f?.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){return A(k(f.Value))}else{return""}};d.getValueBinding=w;const H=function(e,t){const a=s.getAssociatedTextPropertyPath(e.targetObject);if(a){const n=I(e,a);let i=false;const o=e.targetObject?.annotations?.Common?.ValueList?.Parameters.map(e=>{if(!e){return""}return e?.LocalDataProperty?.$target?.fullyQualifiedName??""})||[];if(n?.targetObject?.fullyQualifiedName&&o.includes(n.targetObject.fullyQualifiedName)){i=true}const r=i?undefined:{$$noPatch:true};return w(n,t,true,false,r,false,false,undefined,true)}return undefined};d.getAssociatedTextBinding=H;const z=function(e,t){const a=e?.targetEntityType?.navigationProperties||[];const n=e?.targetEntityType?.annotations?.Common?.SemanticKey||[];let i=false;a.forEach(e=>{if(e.referentialConstraint&&e.referentialConstraint.length){e.referentialConstraint.forEach(a=>{if(a?.sourceProperty===t.name){if(e?.targetType?.annotations?.UI?.QuickViewFacets){i=true}}})}});if(e.contextLocation?.targetEntitySet!==e.targetEntitySet){const a=n.some(function(e){return e?.$target?.name===t.name});if((a||t.isKey)&&e?.targetEntityType?.annotations?.UI?.QuickViewFacets){i=true}}return i};d.isUsedInNavigationWithQuickViewFacets=z;const Q=function(e,t){const a=O(e)&&e.$target||e;if(!a.annotations?.Common?.Text&&!a.annotations?.Measures&&s.hasValueHelp(a)&&t.textAlignMode==="Form"){return true}return false};d.isRetrieveTextFromValueListEnabled=Q;const L=function(e,t,a){let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let i=e.targetObject?.Value?.$target.type||e.targetObject?.Target?.$target?.Value.$target.type;if(s.isKey(e.targetObject?.Value?.$target||e.targetObject?.Target?.$target?.Value?.$target)){return"Begin"}if(n&&t.displayMode&&["Description","DescriptionValue","ValueDescription"].includes(t.displayMode)){const t=e.targetObject?.Value?.$target.annotations?.Common?.Text;const a=t?.annotations?.UI?.TextArrangement.valueOf();if(t&&a!=="UI.TextArrangementType/TextSeparate"){i=t.$target.type}}return m.getPropertyAlignment(i,t,a)};d.getTextAlignment=L;const G=function(e,t){return A(b(e,t))};d.getVisibleExpression=G;const K=function(e){const t=e.targetObject;const a=A(b(e));const n=[];if(typeof a==="string"&&a.includes("{=")){return a}if(t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&t.Target.$target?.$Type==="com.sap.vocabularies.UI.v1.ConnectedFieldsType"){const i=Object.values(t.Target.$target.Data).filter(e=>e?.hasOwnProperty("Value"));i.forEach(t=>{e.targetObject=t;const a=b(e);if(a!==undefined){n.push(a)}});return n.length?A(M(...n)):a}return a};d.visibleExpressionsForConnectedFieldsFormElement=K;const q=function(e){if(!e.targetObject){return""}if(typeof e.targetObject==="string"){return e.targetObject}return R(e,{})};d.getQuickViewBinding=q;const J=function(e){const t=e.targetObject;if(D(t,"com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&t?.Url){return"link"}if(!h(t)&&t?.Value.$target?.annotations?.Communication?.IsEmailAddress||h(t)&&t?.annotations?.Communication?.IsEmailAddress){return"email"}if(!h(t)&&t?.Value.$target?.annotations?.Communication?.IsPhoneNumber||h(t)&&t?.annotations?.Communication?.IsPhoneNumber){return"phone"}return"text"};d.getQuickViewType=J;const Z=function(e){if(e.length>0){let t="";let a="";const n=[];for(const i of e){t=i.key;a=A(k(i.value));n.push({key:t,value:a})}const i=new f(n);i.$$valueAsPromise=true;return i.createBindingContext("/")}else{return new f([]).createBindingContext("/")}};d.getSemanticObjects=Z;const X=function(e,t){if(e.wrap===false){return false}return t};d.getMultipleLinesForDataField=X;const Y=function(e,t){const a=s.getAssociatedUnitProperty(e);const n=s.getAssociatedCurrencyProperty(e);return s.hasValueHelp(e)&&e.type!=="Edm.Boolean"||t!=="Hidden"&&(a&&s.hasValueHelp(a)||n&&s.hasValueHelp(n))};const _=function(t,n,i){const o=t?.Validation?.[n]?.$Date;const r=t?.Validation?.[n];if(o){return C([$(o)],a.provideDateInstance)}else if(r){return e.getExpressionFromAnnotation(t?.Validation?.[n],i)}return undefined};d.getMinMaxDateExpression=_;const ee=function(e,t,a,n){const i=a.targetObject;if(!h(i)||["com.sap.vocabularies.UI.v1.DataFieldForAction","com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath","com.sap.vocabularies.UI.v1.DataFieldForActionGroup","com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"].includes(t.$Type)){e.editStyle=null;return}if(!n){if(i?.annotations?.Validation?.Maximum?.$Date||i?.annotations?.Validation?.Minimum?.$Date){const t=x(v(a));e.valueBindingExpression=c.getBindingForDatePicker(a,t)}else{e.valueBindingExpression=e.value?e.value:w(a,e.formatOptions)}const n=t.annotations?.UI?.Placeholder||t?.Value?.$target?.annotations?.UI?.Placeholder;if(n){e.editStylePlaceholder=A(k(n))}}const o=F(t)?t.Target?.$target:t;if(o?.Visualization==="UI.VisualizationType/Rating"){e.editStyle="RatingIndicator";if(o.annotations?.Common?.QuickInfo){e.ratingIndicatorTooltip=A(k(o.annotations?.Common?.QuickInfo))}e.ratingIndicatorTargetValue=A(k(o.TargetValue));return}if(Y(i,e.formatOptions?.measureDisplayMode)||e.formatOptions?.measureDisplayMode!=="Hidden"&&(i.annotations?.Measures?.ISOCurrency||i.annotations?.Measures?.Unit&&!p(i))){if(!n){const t=i.annotations?.Common?.ExternalID?H(e.dataModelPathExternalID,e.formatOptions):H(a,e.formatOptions);const n=!!e.value&&/{\w+>.+}/.test(e.value);if(n){if(e.description){e.textBindingExpression=e.description}else{e.textBindingExpression=undefined;e.formatOptions.displayMode="Value"}}else{e.textBindingExpression=t}if(e.formatOptions?.measureDisplayMode!=="Hidden"){e.valueBindingExpression=e.value?e.value:w(a,e.formatOptions,false,false,undefined,false,true)}}e.editStyle="InputWithValueHelp";return}switch(i.type){case"Edm.Date":e.editStyle="DatePicker";const t=g(a);if(i?.annotations?.Validation?.Maximum){e.maxDateExpression=_(i?.annotations,"Maximum",t)}if(i?.annotations?.Validation?.Minimum){e.minDateExpression=_(i?.annotations,"Minimum",t)}return;case"Edm.Time":case"Edm.TimeOfDay":e.editStyle="TimePicker";return;case"Edm.DateTime":case"Edm.DateTimeOffset":e.editStyle="DateTimePicker";if(!i.annotations?.Common?.Timezone){e.showTimezone=undefined}else{e.showTimezone=true}return;case"Edm.Boolean":e.editStyle="CheckBox";return;case"Edm.Stream":e.editStyle="File";return;case"Edm.String":if(i.annotations?.UI?.MultiLineText?.valueOf()){e.editStyle="TextArea";return}if(i.annotations?.UI?.InputMask?.valueOf()){e.editStyle="InputMask";e.mask={mask:i.annotations?.UI?.InputMask?.Mask.toString(),placeholderSymbol:i.annotations?.UI?.InputMask?.PlaceholderSymbol.toString(),maskRule:te(i.annotations?.UI?.InputMask?.Rules)};return}if(i.annotations?.Common?.Masked?.valueOf()){e.editStyle="Masked";return}break;default:if(p(i)){e.staticDescription="%"}e.editStyle="Input"}e.editStyle="Input"};d.setEditStyleProperties=ee;const te=e=>{if(!e||e.length===0){return[{symbol:"*",regex:"[a-zA-Z0-9]"}]}return e.map(e=>({symbol:e.MaskSymbol.toString(),regex:e.RegExp.toString()}))};const ae=e=>{const t=e.targetObject;if(l.hasSemanticObject(t)){return true}const a=e?.navigationProperties?.length?e?.navigationProperties[e?.navigationProperties?.length-1]:null;if(!a||e.contextLocation?.navigationProperties?.find(e=>e.name===a.name)){return false}return l.hasSemanticObject(a)};d.hasSemanticObjectInNavigationOrProperty=ae;const ne=e=>{if(!e.targetObject){return undefined}let t="";if(U(e,"com.sap.vocabularies.UI.v1.DataPoint")){e.targetObject.$Type=e.targetObject.$Type||"com.sap.vocabularies.UI.v1.DataPointType"}switch(e.targetObject.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataPointType":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":if(typeof e.targetObject.Value==="object"){t=e.targetObject.Value.path}break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(e.targetObject.Target.$target){if(D(e.targetObject.Target.$target,["com.sap.vocabularies.UI.v1.DataPointType","com.sap.vocabularies.UI.v1.DataField"])){if(e.targetObject.Target.value.indexOf("/")>0){t=e.targetObject.Target.value.replace(/\/@.*/,`/${e.targetObject.Target.$target.Value?.path}`)}else{t=e.targetObject.Target.$target.Value?.path}}else{t=e.targetObject.Target?.path}}break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForActionGroup":case"com.sap.vocabularies.UI.v1.DataFieldWithActionGroup":break}if(t&&t.length>0){return I(e,t)}else{return undefined}};d.getDataModelObjectPathForValue=ne;const ie=e=>{const t=y(e,e=>e?.InsertRestrictions?.NonInsertableProperties);return t.some(t=>t?.$target?.fullyQualifiedName===e.targetObject?.fullyQualifiedName)};d.hasPropertyInsertRestrictions=ie;const oe=e=>e?A(C([$(e),x("semanticKeyHasDraftIndicator","internal"),x("HasDraftEntity"),x("IsActiveEntity"),x("hideDraftInfo","pageInternal")],"sap.fe.macros.field.FieldRuntime.isDraftIndicatorVisible")):"false";d.getDraftIndicatorVisibleBinding=oe;const re=e=>{const t=e.targetObject?.annotations?.UI?.IsImageURL?.annotations?.Common?.IsNaturalPerson||e.targetObject?.annotations?.UI?.IsImage?.annotations?.Common?.IsNaturalPerson;const a=e.targetEntityType.annotations?.Common?.IsNaturalPerson;let n;if(t){n=k(t)}else if(a){n=k(a)}else n=false;return A(S(n,u.Circle,u.Square))};d.getAvatarShape=re;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/TextAreaEx", ["sap/fe/base/ClassSupport","sap/fe/core/helpers/ResourceModelHelper","sap/m/TextArea","sap/ui/core/library"],function(e,t,r,a){"use strict";var n,s;var o={};var i=a.ValueState;var u=t.getResourceModel;var l=e.defineUI5Class;function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}let f=(n=l("sap.fe.macros.field.TextAreaEx"),n(s=function(e){function t(){return e.apply(this,arguments)||this}o=t;p(t,e);var r=t.prototype;r.fireLiveChange=function t(r){e.prototype.fireLiveChange.call(this,r);this._validateTextLength(r?.value);return this};r.setValue=function t(r){e.prototype.setValue.call(this,r??"");this._validateTextLength(r);return this};r._validateTextLength=function e(t){const r=this.getMaxLength();if(!r||t===undefined||t===null){return}if(t.length>r){const e=u(this).getText("M_FIELD_TEXTAREA_TEXT_TOO_LONG");this.setValueState(i.Error);this.setValueStateText(e)}else{this.setValueState(i.None)}};return t}(r))||s);o=f;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filter/FilterFieldHelper", ["sap/base/util/JSTokenizer","sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyFormatters","sap/fe/core/type/FiscalDate","sap/fe/macros/CommonHelper","sap/ui/model/odata/v4/AnnotationHelper"],function(e,t,n,o,i,r,s,a){"use strict";var l={};var c=i.getProperty;var p=o.getContextRelativeTargetObjectPath;var f=t.pathInModel;var u=t.getFiscalType;var g=t.EDM_TYPE_MAPPING;var m=t.compileExpression;function d(e,t){const o=t.context.getModel();const i=t.context.getPath();const r=s.getLocationForPropertyPath(o,i);let a;let l=o.getObject(`${r}/@com.sap.vocabularies.Common.v1.ResultContext`);if(!l){if(typeof e==="string"){a=e}else{a=o.getObject(`${i}@sapui.name`)}const t=n.getFilterRestrictionsByPath(r,o);l=t?.RequiredProperties?.includes(a)}return l}l.isRequiredInFilter=d;function y(e,t){const o=t.context.getModel();const i=t.context.getPath();const r=s.getLocationForPropertyPath(o,i);let a;let l=-1;if(o.getObject(`${r}/@com.sap.vocabularies.Common.v1.ResultContext`)===true){return 1}if(typeof e==="string"){a=e}else{a=o.getObject(`${i}@sapui.name`)}const c=n.getFilterRestrictionsByPath(r,o);let p=o.getObject(`${r}/${a}`);if(!p){p=o.getObject(i)}if(p.$Type==="Edm.Boolean"){l=1}else if(c?.FilterAllowedExpressions?.[a]){const e=n.getSpecificAllowedExpression(c.FilterAllowedExpressions[a]);if(e==="SingleValue"||e==="SingleRange"){l=1}}return l}l.maxConditions=y;function P(e){const t=p(e,false,true);return m(f(`/conditions/${t}`,"$filters"))}l.getConditionsBinding=P;function b(t,n){const o=a.format(t,n)||"";const i=o.match(/constraints:.*?({.*?})/);const r=e.parseJS(i?.[1]||"{}");if(o.includes("sap.ui.model.odata.type.DateTimeOffset")){r.V4=true}if(r.nullable===false){delete r.nullable}return Object.keys(r).length===0?undefined:JSON.stringify(r).replaceAll('"',"'")}l.constraints=b;function h(e,t){if(e.$Type==="Edm.String"){if(!e.hasOwnProperty("$Nullable")||e.$Nullable===true){t.arguments=[null,{parseKeepsEmptyString:false}]}const n=u(c(e,t));if(n){if(!t.arguments){t.arguments=[null,{}]}t.arguments[1].fiscalType=n}}const n=a.format(e,t)||"";return n.match(/formatOptions:.*?({.*?})/)?.[1]||undefined}l.formatOptions=h;function v(e){if(e.type==="Edm.String"){const t=u(e);if(t){return"sap.fe.core.type.FiscalDate"}}const t=g[e.type];return t?t.type:e.type}l.getDataType=v;function O(e){if(e.type==="Edm.String"){const t=u(e);if(t){return new r({fiscalType:t},{}).getPattern()}}return undefined}l.getPlaceholder=O;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filter/FilterFieldTemplating", ["sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/core/converters/MetaModelConverter"],function(t,e,n){"use strict";var r={};var o=e.getDisplayMode;var a=t.hasValueHelp;const s=function(t,e){return a(e)?o(t):"Value"};r.getDisplayProperty=s;const c=async function(t,e,n){const r=e?.annotations?.Common?.Text;if(r){return s(t,e)}const c=a(e);if(c){const e=t?.targetEntityType?.annotations?.UI?.TextArrangement;return e?o(t):i(n,t)}return"Value"};r.getFilterFieldDisplayFormat=c;async function i(t,e){const r=t.context;const a=t.context.getModel();return a.requestValueListInfo(r.getPath(),true,r).then(function(t){const r=Object.keys(t)[0];const s=t[r];const c=s.Parameters?.find(t=>t.LocalDataProperty?.$PropertyPath===e?.targetObject?.name);const i=c?.ValueListProperty;const l=n.getInvolvedDataModelObjects(a.createBindingContext("/"+s.CollectionPath+"/"+i));return o(l)})}r._getDisplayModeFromValueHelp=i;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filter/FilterOperatorUtils", ["sap/base/Log","sap/fe/core/helpers/LoaderUtils","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/Operator","sap/ui/mdc/enums/OperatorValueType"],function(e,r,t,o,s){"use strict";var a=r.requireDependencies;const n={async processCustomFilterOperators(e){const r=e.getManifestEntry("sap.fe");const{customFilterOperators:t}=r?.macros?.filter||{};if(t){await n.registerCustomOperators(t)}},async registerCustomOperators(r){const o=r.map(e=>e.name);const s=o.map(e=>e.substring(0,e.lastIndexOf(".")).replace(/\./g,"/"));const i=await a(s);const l=r.reduce((r,t,o)=>{const a=i?.[o];const{name:l,multiValue:u}=t;if(a){const e=n.createSingleCustomOperator(l,a,u??false);if(e){r.push(e)}}else{e.error(`Failed to load custom operator module: ${s[o]}`)}return r},[]);t.addOperators(l);return l},createSingleCustomOperator(r,t,a){const i=r.substring(r.lastIndexOf(".")+1);if(t?.[i]){return new o({filterOperator:"",tokenFormat:"",name:r,valueTypes:[s.Self],tokenParse:"^(.*)$",format:e=>n.formatConditionValues(e.values,a),parse:function(e,t,s,a){if(typeof e==="object"){if(e.operator!==r){throw Error("not matching operator")}return e.values}return o.prototype.parse.apply(this,[e,t,s,a])},getModelFilter:e=>{const r=n.getValuesForModelFilter(e.values,a);return t[i].call(t,r)}})}else{e.error(`Failed to create custom operator: model filter function ${r} not found`)}},getValuesForModelFilter(e,r){if(r){const r=e[0];return(typeof r==="string"?r.split(","):r)||[]}return Array.isArray(e)&&e.length?e[0]:e},formatConditionValues(e){let r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(e&&Array.isArray(e)&&e.length>0){return r?e:e[0]}return e}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filter/FilterUtils", ["sap/base/Log","sap/base/util/merge","sap/fe/core/CommonUtils","sap/fe/core/converters/ConverterContext","sap/fe/core/converters/ManifestWrapper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/templating/DisplayModeFormatter","sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/fe/macros/filterBar/SemanticDateOperators","sap/ui/core/Element","sap/ui/mdc/condition/Condition","sap/ui/mdc/condition/ConditionConverter","sap/ui/mdc/enums/ConditionValidated","sap/ui/mdc/odata/v4/TypeMap","sap/ui/mdc/p13n/StateUtil","sap/ui/mdc/util/FilterUtil","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/odata/v4/ODataUtils","../filterBar/DraftEditState"],function(e,t,n,i,r,a,o,s,l,c,f,d,u,p,g,y,h,m,F,C,P,S,b,v){"use strict";var T=c.ODATA_TYPE_MAPPING;var I=s.getAllCustomAggregates;var E=function(e){e["hiddenFilter"]="hiddenFilter";e["required"]="required";e["path"]="path";e["tooltip"]="tooltip";e["visible"]="visible";e["maxConditions"]="maxConditions";e["formatOptions"]="formatOptions";e["constraints"]="constraints";e["group"]="group";e["groupLabel"]="groupLabel";e["caseSensitive"]="caseSensitive";return e}(E||{});const M={getFilter:function(e){const t=M.getFilterInfo(e).filters;return t?.length?new P(t,false):undefined},getFilterField:function(e,t,n){return o.getFilterField(e,t,n)},buildProperyInfo:function(e,t){let n;const i={};const r=t.getConverterContextFor(e.annotationPath);const a=r.getDataModelObjectPath().targetObject;const s=o.fetchTypeConfig(a);n=o.fetchPropertyInfo(t,e,s);i[e.key]=s;n=o.assignDataTypeToPropertyInfo(n,t,[],i);return n},createConverterContext:function(e,o,s,l){const c=d.getCustomData(e,"entityType"),f=o||c;const u=e.isA?n.getTargetView(e):null;const p=s||e.getModel().getMetaModel();const g=l||u&&n.getAppComponent(u);const y=a.getInvolvedDataModelObjects(p.createBindingContext(f));let h;if(e.isA&&!e.isA("sap.ui.mdc.valuehelp.FilterBar")){h=u&&u.getViewData()||{}}return i.createConverterContextForMacro(y.startingEntitySet.name,p,g?.getDiagnostics(),t,y.contextLocation,new r(h??{}))},getConvertedFilterFields:function(e,t,n,i,r,a,o){const s=this._getFilterMetaModel(e,i);const l=d.getCustomData(e,"entityType");const c=d.getCustomData(e,"annotationPath"),f=t||l;const u=this._getFieldsForTable(e,t);const p=this.createConverterContext(e,t,i,r);return this._getSelectionFields(e,t,l,f,u,s,p,n,a,o,c)},getBindingPathForParameters:function(e,n,i,r){const a=[];i=M.setTypeConfigToProperties(i);for(const o of r){if(n[o]&&n[o].length>0){const r=t({},n[o][0]);const s=C.getPropertyByKey(i,o);const l=s.typeConfig||m.getTypeConfig(s.dataType,s.formatOptions,s.constraints);const c=y.toType(r,l,e.getTypeMap());const f=T[l.className];a.push(`${o}=${encodeURIComponent(b.formatLiteral(c.values[0],f))}`)}}const o=e.data("entityType");const s=o.substring(0,o.length-1);const l=s.slice(0,s.lastIndexOf("/"));const c=s.substring(s.lastIndexOf("/")+1);return`${l}(${a.toString()})/${c}`},getEditStateIsHideDraft:function(e){let t=false;if(e&&e.$editState){const n=e.$editState.find(function(e){return e.operator==="DRAFT_EDIT_STATE"});if(n&&(n.values.includes("ALL_HIDING_DRAFTS")||n.values.includes("SAVED_ONLY"))){t=true}}return t},getFilterInfo:function(e,t,n){let i=t&&t.ignoredProperties||[];const r=t&&t.targetControl,a=r?r.data("entityType"):undefined;const o={};let s=e,l,c=[],f,d=t&&t.propertiesMetadata;if(typeof e==="string"){s=p.getElementById(e)}if(s){l=this._getSearchField(s,i);const e=this._getFilterConditions(t,n,s);let r;if(s.isA("sap.ui.mdc.FilterBar")){r=this.getFilterPropertyInfo(s)}else{r=s.getPropertyInfoSet?s.getPropertyInfoSet():null}r=this._getFilterPropertiesMetadata(r,s);if(t&&t.targetControl&&t.targetControl.isA("sap.ui.mdc.Chart")){Object.keys(e).forEach(function(t){if(t==="$editState"){delete e["$editState"]}})}let u=s.data("parameters")||[];u=typeof u==="string"?JSON.parse(u):u;if(u&&u.length>0){f=M.getBindingPathForParameters(s,e,r,u);if(Object.keys(e).length){Object.keys(e).forEach(t=>{u.forEach(n=>{if(t===n){const i=e[t][0].values;o[n]=i[0]}})})}}if(e){if(a&&s.data("entityType")&&s.data("entityType")!==a){const e=s.getModel().getMetaModel();const t=s.getControlDelegate?.().fetchPropertiesForEntity(a,e,s);d=t;const n=this._getIgnoredProperties(r,t);if(n.length>0){i=i.concat(n)}}else if(!d&&r){d=r}c=this.getEditStateAndFilter({oIFilter:s,mConditions:e,aPropertiesMetadata:d,aIgnoreProperties:i,aParameters:u})}}return{parameters:o,filters:c,search:l||undefined,bindingPath:f}},getEditStateAndFilter:function(e){let{oIFilter:t,mConditions:n,aPropertiesMetadata:i,aIgnoreProperties:r,aParameters:a}=e;const o=C.getFilterInfo(t,n,M.setTypeConfigToProperties(i),r.concat(a)).filters;const s=t?.getCurrentState?.();const l=s?.items?.some(e=>e?.key==="$editState");const c=Array.isArray(i)&&i?.some(e=>e?.key==="$editState");let f;if(!r.includes("$editState")&&l===true&&c){if(n.hasOwnProperty("$editState")){const e=n["$editState"];f=v.getFilterForEditState(e?.[0]?.values?.[0])}else{f=v.getFilterForEditState("")}}let d=o?[o]:[];if(f){const e=this.hasEditStateFilterRecursively(d);if(e){d=this.exchangeEditStateFilterRecursively(f,d)}else{d.push(f)}}return d},hasEditStateFilterRecursively:function(e){return e.some(e=>{if(e.getPath()==="$editState"){return true}else if(e.getFilters()!==undefined){return this.hasEditStateFilterRecursively(e.getFilters())}else{return false}})},exchangeEditStateFilterRecursively:function(e,t){return t.map(t=>{if(t.getPath()==="$editState"){return e}else if(t.getFilters()!==undefined){t=new P({filters:this.exchangeEditStateFilterRecursively(e,t.getFilters()),and:t.isAnd()});return t}return t})},setTypeConfigToProperties:function(e){if(e&&e.length){e.forEach(function(e){if(e.typeConfig&&e.typeConfig.typeInstance&&e.typeConfig.typeInstance.getConstraints instanceof Function){return}if(e.path==="$editState"){e.typeConfig=m.getTypeConfig("sap.ui.model.odata.type.String",{},{})}else if(e.path==="$search"){e.typeConfig=m.getTypeConfig("sap.ui.model.odata.type.String",{},{})}else if(e.dataType||e.typeConfig&&e.typeConfig.className){e.typeConfig=m.getTypeConfig(e.dataType||e.typeConfig?.className,e.formatOptions,e.constraints)}})}return e},getNotApplicableFilters:function(e,t){const n=t.data("entityType"),i=e.data("entityType"),r=e.getModel().getMetaModel(),a=r.getObject(i),o=[],s=e.getConditions(),l=n===i,c=t.isA("sap.ui.mdc.Chart"),u=!c&&t.getParent().getTableDefinition().enableAnalytics,p=!c&&t.getParent().getTableDefinition().control.type==="TreeTable",g=c?f.parseCustomData(d.getCustomData(t,"applySupported")).enableSearch:!(u||p)||t.getParent().getTableDefinition().enableBasicSearch;if(s&&(!l||u||c||p)){const i=l?[]:e.getControlDelegate().fetchPropertiesForEntity(n,r,e),f=i.reduce(function(e,t){e[t.name]=t;return e},{}),d={};const g=t.getModel().getMetaModel().getObject(t.data("targetCollectionPath")+"/");if(t.isA("sap.ui.mdc.Chart")){const e=t.getModel().getMetaModel().getObject(`${t.data("targetCollectionPath")}@`),n=I(e);Object.keys(n).forEach(function(e){if(!d[e]){const t=n[e];d[e]=t}})}for(const e in s){const t=s[e];let n=true;if(g[e]&&a[e]){n=g[e]["$Type"]===a[e]["$Type"]}if(Array.isArray(t)&&t.length>0&&((!f[e]||f[e].isCustomFilter&&f[e].annotationPath==undefined||f[e]&&!n)&&(!l||e==="$editState"&&(c||p||u))||d[e])){o.push(e.replace(/[+|*]/g,""))}}}if(!g&&e.getSearch()){o.push("$search")}return o},async _getValueListInfo(e,t){const n=e.getModel()?.getMetaModel();if(!n){return undefined}const i=e.data("entityType")??"";const r=await n.requestValueListInfo(i+t,true).catch(()=>null);return r?.[""]},getFilterPropertyInfo(e){let t=e.data("feFilterInfo");if(typeof t==="string"){t=JSON.parse(t)}return t||[]},_getConditionValidated:async function(t,n,i){if(!t){return h.NotValidated}try{const e=t.Parameters.filter(e=>["com.sap.vocabularies.Common.v1.ValueListParameterInOut".valueOf(),"com.sap.vocabularies.Common.v1.ValueListParameterOut".valueOf()].includes(e.$Type)).filter(e=>e.LocalDataProperty?.$PropertyPath===n).map(e=>e.ValueListProperty);const r=e[0]??n;const a=new P({path:r,operator:S.EQ,value1:i});const o=t.$model.bindList(`/${t.CollectionPath}`,undefined,undefined,a,{$select:r});const s=(await o.requestContexts()).length>0;if(s){return h.Validated}else{return h.NotValidated}}catch(t){e.error("FilterUtils: Error while retrieving ConditionValidated",t);return h.NotValidated}},async _clearFilterValue(e,t){const n=await F.retrieveExternalState(e);if(n.filter[t]){n.filter[t].forEach(e=>{e.filtered=false});await F.applyExternalState(e,{filter:{[t]:n.filter[t]}})}},setFilterValues:async function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++){i[r-2]=arguments[r]}await this._setFilterValues(e,false,t,...i)},addFilterValues:async function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++){i[r-2]=arguments[r]}await this._setFilterValues(e,true,t,...i)},_setFilterValues:async function(t,n,i){for(var r=arguments.length,a=new Array(r>3?r-3:0),o=3;o<r;o++){a[o-3]=arguments[o]}let s=a?.[0];let l=a?.[1];if(!t){return}if(a.length===2&&(l===undefined||l===null||l==="")&&s&&Object.keys(S).includes(s)){e.warning(`An empty filter value cannot be applied with the ${s} operator`);return}if(l===undefined&&!u.getSemanticDateOperations().includes(s||"")){l=s??[];s=undefined}if(!s){s=S.EQ}const c=["string","number","boolean"];if(l!==undefined&&(!Array.isArray(l)&&!c.includes(typeof l)||Array.isArray(l)&&l.length>0&&!c.includes(typeof l[0]))){throw new Error("FilterUtils.js#_setFilterValues: Filter value not supported; only primitive values or an array thereof can be used.")}let f;if(l!==undefined){f=Array.isArray(l)?l:[l]}const d=await this._getValueListInfo(t,i);const p={};if(i){if(f&&f.length){if(s===S.BT){p[i]=[g.createCondition(s,f,null,null,h.NotValidated)]}else{p[i]=await Promise.all(f.map(async e=>{const t=s===S.EQ?await this._getConditionValidated(d,i,e):h.NotValidated;return g.createCondition(s,[e],null,null,t)}))}}else if(u.getSemanticDateOperations().includes(s||"")){p[i]=[g.createCondition(s,[],null,null,h.NotValidated)]}}if(!n){await this._clearFilterValue(t,i)}if(p[i]){await F.applyExternalState(t,{filter:p})}},conditionToModelPath:function(e){return e.replace(/\//g,"\\")},_getFilterMetaModel:function(e,t){return t||e.getModel().getMetaModel()},_getEntitySetPath:function(e){return e&&l.getEntitySetPath(e)},_getFieldsForTable:function(e,t){const i=[];if(t){const t=n.getTargetView(e);const r=t&&t.getController()&&t.getController()._getControls&&t.getController()._getControls("table");if(r){r.forEach(function(e){i.push(e.getParent().getTableDefinition())})}return i}return[]},_getSelectionFields:function(e,t,n,i,r,s,l,c,f,d,u){const p=o.getSelectionFields(l,r,u,c,d);let g=p.selectionFields;const y=e.data?this.getFilterPropertyInfo(e):JSON.parse(p.sPropertyInfo.replace(/\\\{/g,"{").replace(/\\\}/g,"}"));if((f?f.getControlType(e)==="sap.ui.mdc.FilterBar":e.isA("sap.ui.mdc.FilterBar"))&&t!==n){const e=a.getInvolvedDataModelObjects(s.createBindingContext(i));const t=l.getConverterContextFor(n);const r=t.getEntityTypeAnnotation("@com.sap.vocabularies.UI.v1.SelectionFields").annotation||[];const c={};g.forEach(function(e){c[e.conditionPath]=true});r.forEach(function(t){const n=t.value;if(!c[n]){const t=o.getFilterField(n,l,e.startingEntitySet.entityType);if(t){g.push(t)}}})}if(g){const e=[];g.forEach(function(t){e.push(t.key)});g=this._getSelectionFieldsFromPropertyInfos(e,g,y)}return g},_getSelectionFieldsFromPropertyInfos:function(e,t,n){n.forEach(function(n){if(n.name==="$search"||n.name==="$editState"||n.key===undefined){return}const i=t[e.indexOf(n.key)];if(e.includes(n.key)&&i.annotationPath){n.group=i.group;n.groupLabel=i.groupLabel;n.settings=i.settings;n.visualFilter=i.visualFilter;n.label=n.label?n.label:i.label;n.annotationPath=n.annotationPath??i.annotationPath;t[e.indexOf(n.key)]=n}if(!e.includes(n.key)&&!n.annotationPath){t.push(n)}});return t},_getSearchField:function(e,t){return e.getSearch&&!t.includes("search")?e.getSearch():null},_getFilterConditions:function(e,t,n){const i=t||n.getConditions();if(e&&e.targetControl&&e.targetControl.isA("sap.ui.mdc.Chart")){Object.keys(i).forEach(function(e){if(e==="$editState"){delete i["$editState"]}})}return i},_getFilterPropertiesMetadata:function(e,t){if(!(e&&e.length)){if(t.getPropertyInfo){e=t.getPropertyInfo()}else{e=null}}return e},_getIgnoredProperties:function(e,t){const n=[];e.forEach(function(e){const i=e.name;const r=t.find(e=>e.name===i);if(r&&(!e.isCustomFilter&&e.dataType!==r.dataType||e.isCustomFilter&&r.annotationPath===undefined)){n.push(i)}});return n},getFilters:function(e){if(!e||typeof e.isInitialized!=="function"||!e.isInitialized()){return}const{parameters:t,filters:n,search:i}=this.getFilterInfo(e);return{parameters:t,filters:n,search:i}},formatPropertyInfo:function(e){if(typeof e==="string"){let t=e.replace(/\\\{/g,"{");t=t.replace(/\\\}/g,"}");let n=JSON.parse(t);n=this._formatPropertyInfo(n);let i=JSON.stringify(n);i=i.replace(/\{/g,"\\{");i=i.replace(/\}/g,"\\}");return i}else{return this._formatPropertyInfo(e)}},_formatPropertyInfo:function(e){return e.map(e=>{const t={key:e.key||e.name,dataType:"",label:""};for(const n in E){if(e.hasOwnProperty(n)){switch(n){case"hiddenFilter":t.hiddenFilter=e.hiddenFilter;break;case"required":t.required=e.required;break;case"path":t.path=e.path;break;case"tooltip":t.tooltip=e.tooltip;break;case"visible":t.visible=e.visible;break;case"maxConditions":t.maxConditions=e.maxConditions;break;case"formatOptions":t.formatOptions=e.formatOptions;break;case"constraints":t.constraints=e.constraints;break;case"group":t.group=e.group;break;case"groupLabel":t.groupLabel=e.groupLabel;break;case"caseSensitive":t.caseSensitive=e.caseSensitive}}}if(e.dataType){t.dataType=e.dataType}else{throw new Error(`Missing mandatory property dataType for filter-bar filter field: ${e}`)}if(e.label){t.label=e.label}return t})}};return M},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filter/type/MultiValue", ["sap/fe/base/ClassSupport","sap/fe/macros/filter/type/Value"],function(t,e){"use strict";var r,o;var a={};var n=t.defineUI5Class;function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,p(t,e)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}let u=(r=n("sap.fe.macros.filter.type.MultiValue"),r(o=function(t){function e(){return t.apply(this,arguments)||this}a=e;i(e,t);var r=e.prototype;r.getOperatorConfig=function t(e){return{name:e,multiValue:true}};r.formatValue=function e(r,o){let a=r;if(typeof a==="string"){a=a.split(",")}if(Array.isArray(a)){a=a.map(e=>t.prototype.formatValue.call(this,e,this.getElementTypeName(o))).filter(t=>t!==undefined)}return a||[]};r.parseValue=function e(r,o){if(!r){r=[]}const a=t.prototype.externalToString.call(this,r,o);if(t.prototype.hasCustomOperator.call(this)){return{operator:this.operator.name,values:[a],validated:undefined}}return r.map(t=>{if(t===undefined){t=[]}else if(!Array.isArray(t)){t=[t]}return this.operator.format({values:t})})};return e}(e))||o);a=u;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filter/type/Range", ["sap/fe/base/ClassSupport","sap/fe/macros/filter/type/Value"],function(t,e){"use strict";var r,o;var n={};var a=t.defineUI5Class;function u(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}let p=(r=a("sap.fe.macros.filter.type.Range"),r(o=function(t){function e(){return t.apply(this,arguments)||this}n=e;u(e,t);var r=e.prototype;r.getDefaultOperatorName=function t(){return"BT"};r.formatConditionValues=function t(e){return e};r.formatValue=function e(r,o){let n=t.prototype.formatValue.call(this,r,o);if(!n){const t=this.oFormatOptions.min||Number.MIN_SAFE_INTEGER,e=this.oFormatOptions.max||Number.MAX_SAFE_INTEGER;n=[t,e]}return n};return e}(e))||o);n=p;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filter/type/Value", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/macros/filter/FilterOperatorUtils","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/enums/FieldDisplay","sap/ui/model/SimpleType","sap/ui/model/type/Boolean","sap/ui/model/type/Date","sap/ui/model/type/Float","sap/ui/model/type/Integer","sap/ui/model/type/String"],function(e,t,r,n,a,o,i,s,u,p,l){"use strict";var c,f,m;var y={};var d=t.defineUI5Class;function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_(e,t)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}let g=(c=d("sap.fe.macros.filter.type.Value"),c(f=(m=function(t){function o(e,r){var a;a=t.call(this,e,r)||this;const o=e?.operator||a.getDefaultOperatorName();const i=n.getOperator(o);a.operator=i;if(a.operator===undefined&&o.includes(".")){const e=a.getOperatorConfig(o);a.registerCustomOperator(e)}return a}y=o;T(o,t);var c=o.prototype;c.getOperatorConfig=function e(t){return{name:t}};c.registerCustomOperator=function t(n){r.registerCustomOperators([n]).then(t=>{if(t[0]){this.operator=t[0]}else{e.error(`Failed to register operator: ${n.name}`)}return}).catch(t=>{e.error(`Failed to register operator: ${n.name}`,t)})};c._isMultiValueOperator=function e(t){return t.valueTypes.filter(function(e){return!!e&&e!==o.OPERATOR_VALUE_TYPE_STATIC}).length>1};c.hasCustomOperator=function e(){return this.operator.name.includes(".")};c._stringToExternal=function e(t,r){let n;const a=this._getTypeInstance(r);if(r&&o._isArrayType(r)){if(!Array.isArray(t)){t=[t]}n=t.map(e=>a?a.parseValue(e,o.INTERNAL_VALUE_TYPE):e)}else{n=a?a.parseValue(t,o.INTERNAL_VALUE_TYPE):t}return n};o._isArrayType=function e(t){if(!t){return false}return t==="array"||t.endsWith("[]")};c.externalToString=function e(t,r){let n;const a=this._getTypeInstance(r);if(r&&o._isArrayType(r)){if(!Array.isArray(t)){t=[t]}n=t.map(e=>a?a.formatValue(e,o.INTERNAL_VALUE_TYPE):e)}else{n=a?a.formatValue(t,o.INTERNAL_VALUE_TYPE):t}return n};c._getTypeInstance=function t(r){r=this.getElementTypeName(r)||r;switch(r){case"string":return new l;case"number":case"int":case"integer":return new p;case"float":return new u;case"date":return new s;case"boolean":return new i;default:e.error("Unexpected filter type");throw new Error("Unexpected filter type")}};c.getDefaultOperatorName=function e(){return n.getEQOperator().name};c.getElementTypeName=function e(t){if(t?.endsWith("[]")){return t.substring(0,t.length-2)}return undefined};c.formatValue=function e(t,r){if(!t){return undefined}const n=this._isMultiValueOperator(this.operator),i=this._getTypeInstance(o.INTERNAL_VALUE_TYPE);const s=this.operator.parse(t||"",i,a.Value,false);const u=!n&&Array.isArray(s)?s[0]:s;return this._stringToExternal(u,r)};c.parseValue=function e(t,r){if(!t){return undefined}const n=this._isMultiValueOperator(this.operator),a=this._getTypeInstance(r);const o=this.externalToString(t,r);const i=n?o:[o];if(this.hasCustomOperator()){return{operator:this.operator.name,values:[this.operator.format({values:i},a)],validated:undefined}}return this.operator.format({values:i},a)};c.validateValue=function e(t){};return o}(o),m.INTERNAL_VALUE_TYPE="string",m.OPERATOR_VALUE_TYPE_STATIC="static",m))||f);y=g;return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/DefaultSemanticDateOperators", ["sap/ui/core/date/UniversalDateUtils","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/Operator","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/ValidateException"],function(e,t,a,o,r,T){"use strict";var s={};const n="DYNAMIC.DATE";s.DYNAMIC_DATE_CATEGORY=n;const E="FIXED.DATE";const A="DYNAMIC.DATE.INT";const y="DYNAMIC.DATERANGE";const c="DYNAMIC.MONTH";const l="FIXED.WEEK";const i="FIXED.MONTH";const R="FIXED.QUARTER";const u="FIXED.YEAR";const g="DYNAMIC.WEEK.INT";const D="DYNAMIC.MONTH.INT";const O="DYNAMIC.QUARTER.INT";const S="DYNAMIC.YEAR.INT";const p="DYNAMIC.MINUTE.INT";const f="DYNAMIC.HOUR.INT";const M={EQ:{key:"EQ",category:n},BT:{key:"BT",category:y}};const d={YESTERDAY:{key:"YESTERDAY",category:E,fnRanges:e.ranges.yesterday},TODAY:{key:"TODAY",category:E,fnRanges:e.ranges.today},TOMORROW:{key:"TOMORROW",category:E,fnRanges:e.ranges.tomorrow}};const N={FIRSTDAYWEEK:{key:"FIRSTDAYWEEK",category:E,fnRanges:e.ranges.firstDayOfWeek},LASTDAYWEEK:{key:"LASTDAYWEEK",category:E,fnRanges:e.ranges.lastDayOfWeek},FIRSTDAYMONTH:{key:"FIRSTDAYMONTH",category:E,fnRanges:e.ranges.firstDayOfMonth},LASTDAYMONTH:{key:"LASTDAYMONTH",category:E,fnRanges:e.ranges.lastDayOfMonth},FIRSTDAYQUARTER:{key:"FIRSTDAYQUARTER",category:E,fnRanges:e.ranges.firstDayOfQuarter},LASTDAYQUARTER:{key:"LASTDAYQUARTER",category:E,fnRanges:e.ranges.lastDayOfQuarter},FIRSTDAYYEAR:{key:"FIRSTDAYYEAR",category:E,fnRanges:e.ranges.firstDayOfYear},LASTDAYYEAR:{key:"LASTDAYYEAR",category:E,fnRanges:e.ranges.lastDayOfYear}};const Y={...d,DATE:{key:"DATE",category:n},FROM:{key:"FROM",category:n},TO:{key:"TO",category:n},DATERANGE:{key:"DATERANGE",category:y},SPECIFICMONTH:{key:"SPECIFICMONTH",category:c},TODAYFROMTO:{key:"TODAYFROMTO",category:A},LASTDAYS:{key:"LASTDAYS",category:A},NEXTDAYS:{key:"NEXTDAYS",category:A},THISWEEK:{key:"THISWEEK",category:l},LASTWEEK:{key:"LASTWEEK",category:l},LASTWEEKS:{key:"LASTWEEKS",category:g},NEXTWEEK:{key:"NEXTWEEK",category:l},NEXTWEEKS:{key:"NEXTWEEKS",category:g},THISMONTH:{key:"THISMONTH",category:i},LASTMONTH:{key:"LASTMONTH",category:i},LASTMONTHS:{key:"LASTMONTHS",category:D},NEXTMONTH:{key:"NEXTMONTH",category:i},NEXTMONTHS:{key:"NEXTMONTHS",category:D},THISQUARTER:{key:"THISQUARTER",category:R},LASTQUARTER:{key:"LASTQUARTER",category:R},LASTQUARTERS:{key:"LASTQUARTERS",category:O},NEXTQUARTER:{key:"NEXTQUARTER",category:R},NEXTQUARTERS:{key:"NEXTQUARTERS",category:O},QUARTER1:{key:"QUARTER1",category:R},QUARTER2:{key:"QUARTER2",category:R},QUARTER3:{key:"QUARTER3",category:R},QUARTER4:{key:"QUARTER4",category:R},THISYEAR:{key:"THISYEAR",category:u},LASTYEAR:{key:"LASTYEAR",category:u},LASTYEARS:{key:"LASTYEARS",category:S},NEXTYEAR:{key:"NEXTYEAR",category:u},NEXTYEARS:{key:"NEXTYEARS",category:S},LASTMINUTES:{key:"LASTMINUTES",category:p},NEXTMINUTES:{key:"NEXTMINUTES",category:p},LASTHOURS:{key:"LASTHOURS",category:f},NEXTHOURS:{key:"NEXTHOURS",category:f},YEARTODATE:{key:"YEARTODATE",category:u},DATETOYEAR:{key:"DATETOYEAR",category:u}};function k(){return new a({name:"DATERANGE",filterOperator:r.BT,alias:{Date:"DATERANGE",DateTime:"DATERANGE"},valueTypes:[{name:"sap.ui.model.odata.type.Date"},{name:"sap.ui.model.odata.type.Date"}],getModelFilter:function(e,t,a){return h(e,t,a,this)},validate:function(e,t){if(e.length<2){throw new T("Date Range must have two values")}else{const t=new Date(e[0]);const a=new Date(e[1]);if(t.getTime()>a.getTime()){throw new T("From Date Should Be Less Than To Date")}}a.prototype.validate?.apply(this,[e,t])}})}function I(){return new a({name:"DATE",alias:{Date:"DATE",DateTime:"DATE"},filterOperator:r.EQ,valueTypes:[{name:"sap.ui.model.odata.type.Date"}],getModelFilter:function(e,t,a){return H(e,t,a,this)}})}function m(){return new a({name:"FROM",alias:{Date:"FROM",DateTime:"FROM"},filterOperator:r.GE,valueTypes:[{name:"sap.ui.model.odata.type.Date"}],getModelFilter:function(e,t,a){return X(e,t,a,this)}})}function F(){return new a({name:"TO",alias:{Date:"TO",DateTime:"TO"},filterOperator:r.LE,valueTypes:[{name:"sap.ui.model.odata.type.Date"}],getModelFilter:function(e,t,a){return Q(e,t,a,this)}})}function L(e){return e==="Edm.DateTimeOffset"?Object.assign({},Y,M):Y}s.getOperatorsInfo=L;function U(){t.addOperator(k());t.addOperator(I());t.addOperator(m());t.addOperator(F())}s.addSemanticDateOperators=U;function v(e){const t=L(e);return Object.keys(t)}s.getSemanticDateOperations=v;function H(e,t,a,T){if(a.isA("sap.ui.model.odata.type.DateTimeOffset")){const s=T._createLocalType(T.valueTypes[0]);let n=e.values[0];const E=s.getModelFormat();const A=E.parse(n,false);n=a.getModelValue(A);A.setHours(23);A.setMinutes(59);A.setSeconds(59);A.setMilliseconds(999);const y=a.getModelValue(A);return new o({path:t,operator:r.BT,value1:n,value2:y})}else{return new o({path:t,operator:T.filterOperator,value1:e.values[0]})}}s.getModelFilterForDate=H;function Q(e,t,a,T){if(a.isA("sap.ui.model.odata.type.DateTimeOffset")){const s=T._createLocalType(T.valueTypes[0]);const n=e.values[0];const E=s.getModelFormat();const A=E.parse(n,false);A.setHours(23);A.setMinutes(59);A.setSeconds(59);A.setMilliseconds(999);const y=a.getModelValue(A);return new o({path:t,operator:r.LE,value1:y})}else{return new o({path:t,operator:T.filterOperator,value1:e.values[0]})}}s.getModelFilterForTo=Q;function X(e,t,a,T){if(a.isA("sap.ui.model.odata.type.DateTimeOffset")){const s=T._createLocalType(T.valueTypes[0]);const n=e.values[0];const E=s.getModelFormat();const A=E.parse(n,false);A.setHours(0);A.setMinutes(0);A.setSeconds(0);A.setMilliseconds(0);const y=a.getModelValue(A);return new o({path:t,operator:r.GE,value1:y})}else{return new o({path:t,operator:T.filterOperator,value1:e.values[0]})}}s.getModelFilterForFrom=X;function h(e,t,a,T){if(a.isA("sap.ui.model.odata.type.DateTimeOffset")){let s=T._createLocalType(T.valueTypes[0]);let n=e.values[0];let E=s.getModelFormat();let A=E.parse(n,false);n=a.getModelValue(A);s=T._createLocalType(T.valueTypes[1]);E=s.getModelFormat();let y=e.values[1];A=E.parse(y,false);A.setHours(23);A.setMinutes(59);A.setSeconds(59);A.setMilliseconds(999);y=a.getModelValue(A);return new o({path:t,operator:r.BT,value1:n,value2:y})}else{return new o({path:t,operator:T.filterOperator,value1:e.values[0],value2:e.values[1]})}}s.getModelFilterForDateRange=h;function w(){const e=W();const t=Y.DATE.key;return[...Object.keys(e),t]}s.getSingleValueDateOperations=w;function W(){return{...d,...N}}s.getFixedDateSingleValueOperations=W;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/DraftEditState", ["sap/ui/core/Lib","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel"],function(t,e,r,i){"use strict";const a=t.getResourceBundleFor("sap.fe.core");const n={ALL:{id:"",display:a.getText("C_DRAFT_EDIT_STATE_DRAFT_ALL_FILTER")},UNCHANGED:{id:"UNCHANGED",display:a.getText("C_DRAFT_EDIT_STATE_DRAFT_UNCHANGED_FILTER")},OWN_DRAFT:{id:"OWN_DRAFT",display:a.getText("C_DRAFT_EDIT_STATE_DRAFT_OWN_DRAFT_FILTER")},LOCKED:{id:"LOCKED",display:a.getText("C_DRAFT_EDIT_STATE_DRAFT_LOCKED_FILTER")},UNSAVED_CHANGES:{id:"UNSAVED_CHANGES",display:a.getText("C_DRAFT_EDIT_STATE_DRAFT_UNSAVED_CHANGES_FILTER")},ALL_HIDING_DRAFTS:{id:"ALL_HIDING_DRAFTS",display:a.getText("C_DRAFT_EDIT_STATE_DRAFT_ALL_HIDING_DRAFTS_FILTER")},SAVED_ONLY:{id:"SAVED_ONLY",display:a.getText("C_DRAFT_EDIT_STATE_DRAFT_SAVED_ONLY_FILTER")},MY_DRAFTS:{id:"MY_DRAFTS",display:a.getText("C_DRAFT_EDIT_STATE_DRAFT_MY_DRAFTS_FILTER")},getEditStates:function(t){if(t){return[this.ALL,this.MY_DRAFTS,this.SAVED_ONLY]}else{return[this.ALL,this.ALL_HIDING_DRAFTS,this.UNCHANGED,this.OWN_DRAFT,this.LOCKED,this.UNSAVED_CHANGES]}},getEditStatesContext:function(t){let e;if(t.getProperty("isDraftCollaborative")){e=[n.ALL,n.MY_DRAFTS,n.SAVED_ONLY]}else{e=[n.ALL,n.ALL_HIDING_DRAFTS,n.UNCHANGED,n.OWN_DRAFT,n.LOCKED,n.UNSAVED_CHANGES]}return new i(e).bindContext("/").getBoundContext()},getCurrentUserID:function(){const t=sap.ui.require("sap/ushell/Container");return t?.getUser()?.getId()??window.adt?.userID},getFilterForEditState:function(t){switch(t){case n.UNCHANGED.id:return new e({filters:[new e({path:"IsActiveEntity",operator:r.EQ,value1:true}),new e({path:"HasDraftEntity",operator:r.EQ,value1:false})],and:true});case n.OWN_DRAFT.id:return new e({path:"IsActiveEntity",operator:r.EQ,value1:false});case n.LOCKED.id:return new e({filters:[new e({path:"IsActiveEntity",operator:r.EQ,value1:true}),new e({path:"SiblingEntity/IsActiveEntity",operator:r.EQ,value1:null}),new e({path:"DraftAdministrativeData/InProcessByUser",operator:r.NE,value1:""}),new e({path:"DraftAdministrativeData/InProcessByUser",operator:r.NE,value1:null})],and:true});case n.UNSAVED_CHANGES.id:return new e({filters:[new e({path:"IsActiveEntity",operator:r.EQ,value1:true}),new e({path:"SiblingEntity/IsActiveEntity",operator:r.EQ,value1:null}),new e({path:"DraftAdministrativeData/InProcessByUser",operator:r.EQ,value1:""})],and:true});case n.ALL_HIDING_DRAFTS.id:case n.SAVED_ONLY.id:return new e({path:"IsActiveEntity",operator:r.EQ,value1:true});case n.MY_DRAFTS.id:const t=this.getCurrentUserID();return t?new e({filters:[new e({path:"IsActiveEntity",operator:r.EQ,value1:false}),new e({path:"DraftAdministrativeData/DraftAdministrativeUser",operator:r.Any,variable:"user",condition:new e({path:"user/UserID",operator:r.EQ,value1:this.getCurrentUserID()})})],and:true}):new e({path:"IsActiveEntity",operator:r.EQ,value1:false});default:return new e({filters:[new e({path:"IsActiveEntity",operator:r.EQ,value1:false}),new e({path:"SiblingEntity/IsActiveEntity",operator:r.EQ,value1:null})],and:false})}}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/ExtendedSemanticDateOperators", ["sap/fe/macros/filterBar/DefaultSemanticDateOperators","sap/ui/core/Lib","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/RangeOperator","sap/ui/mdc/enums/OperatorValueType","sap/ui/model/FilterOperator"],function(e,t,r,n,o,a){"use strict";var i=e.getFixedDateSingleValueOperations;var s=e.DYNAMIC_DATE_CATEGORY;const c=i();const u=Object.keys(c);const p="FROM";const O="TO";const d=u.reduce((e,t)=>{e[`${p}${t}`]={key:`${p}${t}`,category:s,primitiveOperator:t};return e},{});const l=u.reduce((e,t)=>{e[`${O}${t}`]={key:`${O}${t}`,category:s,primitiveOperator:t};return e},{});const g={...d,...l};const E=Object.keys(g);function T(e){return Object.keys(d).includes(e)}function f(e){return Object.keys(l).includes(e)}function m(e,t){const{primitiveOperator:r}=g[e];const n=R.getFilterOperator(e);const a=`M_EXTENDED_OPERATOR_${e}_TOKEN_TEXT`;return R.createRangeOperator({name:e,longText:t.getText(a,[]),tokenText:`${t.getText(a,[])} ({0})`,valueTypes:[o.Static],filterOperator:n,group:{id:3,text:t.getText(`M_EXTENDED_OPERATOR_GRP_TEXT`,[])},calcRange:function(){const[t,n]=c[r].fnRanges();return[T(e)?t:n]}})}const R={createRangeOperator(e){return new n({...e})},getOperatorsInfo(){return g},getSemanticDateOperations(){return[...E]},getCorrespondingSingleDateOperator(e){const{primitiveOperator:t}=g[e];return t},isExtendedOperator(e){return E.includes(e)},getFilterOperator(e){let t=a.EQ;if(T(e)){t=a.GE}else if(f(e)){t=a.LE}return t},addExtendedFilterOperators(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:E;const n=t.getResourceBundleFor("sap.fe.macros");const o=e.reduce((e,t)=>{if(!r.getOperator(t)&&R.isExtendedOperator(t)){const r=m(t,n);e.push(r)}return e},[]);r.addOperators(o)}};return R},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/FilterBar.block", ["sap/base/Log","sap/fe/base/jsx-runtime/jsx","sap/fe/core/CommonUtils","sap/fe/core/TemplateModel","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/macros/CommonHelper","sap/fe/macros/field/FieldHelper","sap/fe/macros/filter/FilterFieldHelper","sap/fe/macros/filter/FilterUtils","sap/fe/macros/filterBar/DraftEditState","sap/fe/macros/filterBar/FilterHelper","sap/fe/macros/fpm/CustomFragment.block","sap/fe/macros/internal/FilterField.block","sap/m/Select","sap/ui/core/CustomData","sap/ui/core/ListItem","sap/ui/core/fieldhelp/FieldHelpCustomData","sap/ui/mdc/FilterField","sap/ui/mdc/p13n/PersistenceProvider","../ValueHelp","../controls/CustomFilterFieldContentWrapper","../controls/FilterBar","../table/SlotColumn","./FilterBarAPI","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,r,a,n,l,o,s,u,c,p,d,f,h,b,g,m,y,F,P,v,C,S,B,w,I,D,_,x,z,A,E){"use strict";var T,k,M,R,H,O,$,j,V,L,N,q,U,K,W,J,G,X,Q,Y,Z,ee,te,ie,re,ae,ne,le,oe,se,ue,ce,pe,de,fe,he,be,ge,me,ye,Fe,Pe,ve,Ce,Se,Be,we,Ie,De,_e,xe,ze,Ae,Ee,Te,ke,Me,Re,He,Oe,$e,je,Ve,Le,Ne;var qe={};var Ue=y.getFilterConditions;var Ke=b.maxConditions;var We=d.generate;var Je=c.getSearchRestrictions;var Ge=u.getSelectionFields;var Xe=s.getSelectionVariant;var Qe=o.getInvolvedDataModelObjects;var Ye=n.storeObjectValue;var Ze=a.defineBuildingBlock;var et=a.blockEvent;var tt=a.blockAttribute;var it=a.blockAggregation;function rt(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,lt(e,t)}function lt(e,t){return lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lt(e,t)}function ot(e,t,i,r,a){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function st(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}const ut=function(e,t){t.slotName=t.key;t.key=t.key.replace("InlineXML_","");t.property=e.getAttribute("property");t.label=e.getAttribute("label");t.required=e.getAttribute("required")==="true";t.template=e.getAttribute("template");return t};let ct=(T=Ze({name:"FilterBar",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros",returnTypes:["sap.fe.macros.filterBar.FilterBarAPI"]}),k=tt({type:"string",isPublic:true}),M=tt({type:"boolean",isPublic:true}),R=tt({type:"sap.ui.model.Context"}),H=tt({type:"string"}),O=tt({type:"sap.ui.model.Context",isPublic:true}),$=tt({type:"sap.ui.model.Context",isPublic:true}),j=tt({type:"boolean",isPublic:true}),V=tt({type:"string"}),L=tt({type:"boolean"}),N=tt({type:"boolean"}),q=tt({type:"boolean"}),U=tt({type:"string[]"}),K=tt({type:"string"}),W=tt({type:"boolean"}),J=tt({type:"string[]"}),G=tt({type:"boolean",isPublic:true}),X=tt({type:"string",required:false}),Q=tt({type:"boolean"}),Y=tt({type:"boolean"}),Z=tt({type:"string"}),ee=tt({type:"string"}),te=tt({type:"boolean",isPublic:true}),ie=tt({type:"boolean"}),re=tt({type:"boolean"}),ae=et(),ne=et(),le=et(),oe=et(),se=et(),ue=it({type:"sap.fe.macros.filterBar.FilterField",isPublic:true,hasVirtualNode:true,processAggregations:ut}),ce=tt({type:"boolean",isPublic:true}),T(pe=(de=function(a){function n(i,n,l){var o;o=a.call(this,i,n,l)||this;rt(o,"id",fe,o);rt(o,"visible",he,o);rt(o,"selectionFields",be,o);rt(o,"filterBarDelegate",ge,o);rt(o,"metaPath",me,o);rt(o,"contextPath",ye,o);rt(o,"showMessages",Fe,o);rt(o,"variantBackreference",Pe,o);rt(o,"hideBasicSearch",ve,o);rt(o,"enableFallback",Ce,o);rt(o,"showAdaptFiltersButton",Se,o);rt(o,"p13nMode",Be,o);rt(o,"propertyInfo",we,o);rt(o,"useSemanticDateRange",Ie,o);rt(o,"navigationProperties",De,o);rt(o,"liveMode",_e,o);rt(o,"filterConditions",xe,o);rt(o,"suspendSelection",ze,o);rt(o,"isDraftCollaborative",Ae,o);rt(o,"toggleControlId",Ee,o);rt(o,"initialLayout",Te,o);rt(o,"showClearButton",ke,o);rt(o,"_applyIdToContent",Me,o);rt(o,"disableDraftEditStateFilter",Re,o);rt(o,"search",He,o);rt(o,"filterChanged",Oe,o);rt(o,"internalFilterChanged",$e,o);rt(o,"internalSearch",je,o);rt(o,"afterClear",Ve,o);rt(o,"filterFields",Le,o);o.showDraftEditState=false;rt(o,"ignorePersonalizationChanges",Ne,o);o.checkIfEditingFilterIsDisabled=e=>{if(e.annotations?.Capabilities?.NavigationRestrictions?.RestrictedProperties?.some(e=>e.NavigationProperty?.value==="DraftAdministrativeData"&&e.FilterRestrictions?.Filterable===false)===true){o.showDraftEditState=false}};o.checkIfCollaborationDraftSupported=e=>{if(p.isCollaborationDraftSupported(e)){o.isDraftCollaborative=true}};o.getEntityTypePath=e=>e[0].endsWith("/")?e[0]:e[0]+"/";o.getSearch=()=>{if(!o.hideBasicSearch){return E(w,{id:We([o.id,"BasicSearchField"]),placeholder:"{sap.fe.i18n>M_FILTERBAR_SEARCH}",propertyKey:"$search",conditions:"{$filters>/conditions/$search}",dataType:"sap.ui.model.odata.type.String",maxConditions:"1",dataTypeConstraints:"{'maxLength':1000}"})}return""};o.processSelectionFields=()=>{let e="";if(o.showDraftEditState){const t=m.getEditStates(o.isDraftCollaborative);const i=o.getTranslatedText("FILTERBAR_EDITING_STATUS");e=E(w,{label:i,conditions:"{$filters>/conditions/$editState}",maxConditions:"1",id:We([o.id,"FilterField","DraftEditingStatus"]),operators:"EQ",dataType:"sap.ui.model.odata.type.String",propertyKey:"$editState",display:"Description",children:{contentEdit:E(v,{id:We([o.id,"FilterField","DraftEditingStatusSelect"]),width:"100%",forceSelection:"true",selectedKey:"{path: '$field>/conditions', type: 'sap.ui.mdc.field.ConditionsType'}",children:{items:t.map(e=>E(S,{text:e.display},e.id))}})}})}o._valueHelps=[];o._filterFields=[];o._filterFields?.push(e);if(!Array.isArray(o.selectionFields)){o.selectionFields=o.selectionFields.getObject()}o.selectionFields?.forEach(e=>{if(e.availability==="Default"){o.setFilterFieldsAndValueHelps(e)}});o._filterFields=o._filterFields?.length>0?o._filterFields:"";o._valueHelps=o._valueHelps?.length>0?o._valueHelps:""};o.setFilterFieldsAndValueHelps=e=>{if(e.template===undefined&&e.type!=="Slot"){o.pushFilterFieldsAndValueHelps(e)}else if(Array.isArray(o._filterFields)){const t=e.annotationPath;const i=o.metaPath.getModel().createBindingContext(t);const r=i?.getObject();let a;if(e.type==="Slot"){a=E(z,{templateId:e.template,children:E("slot",{name:e.slotName})})}else if(e.template){a=E(F,{fragmentName:e.template,id:We([o.id,"CustomFilterField",e.key]),contextPath:"{contextPath>}"})}let n=-1;if(i){n=Ke(e.annotationPath,{context:i})??-1}o._filterFields?.push(E(w,{id:We([o.id,"CustomFilterField",e.key]),delegate:{name:"sap/fe/macros/field/FieldBaseDelegate"},propertyKey:e.conditionPath,label:e.label,dataType:"Edm.String",maxConditions:n,conditions:`{$filters>/conditions/${e.conditionPath}}`,operators:h.operators(i,r,o.useSemanticDateRange,e.settings,o.contextPath.getPath()),dataTypeConstraints:e.constraints,dataTypeFormatOptions:e.formatOptions,valueHelp:"undefined",required:e.required,children:{content:E(_,{"core:require":"{handler: 'sap/fe/macros/filter/FilterUtils'}",id:We([o.id,"FilterFieldContentWrapper",e.key]),binding:`{filterValues>/'${g.conditionToModelPath(e.conditionPath)}}`,conditions:"{path: '$field>/conditions'}",children:{content:a}}),customData:[E(C,{value:e.type==="Slot"},"isSlot"),E(B,{value:`{parts: [{value: 'asArray'}, {value: '${e.documentRefText}'}], formatter: 'sap.fe.core.formatters.StandardFormatter'}`},"sap-ui-DocumentationRef")]}}))}};o.pushFilterFieldsAndValueHelps=e=>{if(Array.isArray(o._filterFields)){o._filterFields?.push(E(P,{idPrefix:We([o.id,"FilterField",f.getNavigationPath(e.annotationPath)]),vhIdPrefix:We([o.id,"FilterFieldValueHelp"]),property:e.annotationPath,contextPath:o._getContextPathForFilterField(e,o._internalContextPath),useSemanticDateRange:o.useSemanticDateRange,settings:f.stringifyCustomData(e.settings),visualFilter:e.visualFilter!==undefined?Ye(e.visualFilter):undefined,editMode:`{internal>/${o.id}/filterFields/${e.conditionPath}/editMode}`}))}if(Array.isArray(o._valueHelps)){o._valueHelps?.push(E(D,{idPrefix:We([o.id,"FilterFieldValueHelp"]),conditionModel:"$filters",metaPath:e.annotationPath,contextPath:o._getContextPathForFilterField(e,o._internalContextPath),filterFieldValueHelp:true,useSemanticDateRange:o.useSemanticDateRange}))}};if(!o.metaPath){e.error("Context Path not available for FilterBar Macro.");return at(o)}const s=o.metaPath.getPath();let u="";const c=s?.split("/@com.sap.vocabularies.UI.v1.SelectionFields")||[];if(c.length>0){u=o.getEntityTypePath(c)}const d=p.getEntitySetPath(u);const b=o.contextPath?.getModel();o._internalContextPath=b?.createBindingContext(u);const y="@com.sap.vocabularies.UI.v1.SelectionFields"+(c.length&&c[1]||"");const I=l?.fullContextPath;let x=y;if(I!==""&&o._internalContextPath.getPath()?.startsWith(I)){x=s.replace(I,"")}o._annotationPath=y;const A={};if(o.filterFields){A[x]={filterFields:o.filterFields}}const T=Qe(o._internalContextPath);const k=o.getConverterContext(T,undefined,l,A);if(!o.propertyInfo){o.propertyInfo=Ge(k,[],y).sPropertyInfo}const M=Qe(o.metaPath,o.contextPath).targetEntitySet;if(M?.annotations?.Common?.DraftRoot&&!o.disableDraftEditStateFilter){o.showDraftEditState=true;o.checkIfEditingFilterIsDisabled(M);o.checkIfCollaborationDraftSupported(b)}if(!o.selectionFields){const e=Ge(k,[],y).selectionFields;o.selectionFields=new r(e,b).createBindingContext("/");const t=l?.models?.viewData?.getData();const i=k.getEntityType(),a=Xe(i,k),n=b.getContext(d),s=Ue(n,{selectionVariant:a},n.getObject(),t,o.showDraftEditState);o.filterConditions=s}o._processPropertyInfos(o.propertyInfo,b);if(o._applyIdToContent){o._apiId=o.id+"::FilterBar";o._contentId=o.id}else{o._apiId=o.id;o._contentId=o.getContentId(o.id+"")}if(o.hideBasicSearch!==true){const e=Je(d,b);o.hideBasicSearch=Boolean(e&&!e.Searchable)}t.renderAsXML(()=>o.processSelectionFields());o.designtime=o.getDesigntime();return o}qe=n;nt(n,a);var l=n.prototype;l._processPropertyInfos=function e(t,r){const a=[];if(t){const e=t.replace(/\\{/g,"{").replace(/\\}/g,"}");const n=JSON.parse(e);const l=this.getTranslatedText("FILTERBAR_EDITING_STATUS");n.forEach(function(e){e.key=e.name;if(e.isParameter){a.push(e.name)}if(e.path==="$editState"){e.label=l}if(e.key?.includes("/")){const t=e.annotationPath;const a=f.getLocationForPropertyPath(r,t);const n=t.replace(`${a}/`,"");e.required=i.getFilterRestrictionsByPath(a,r)?.RequiredProperties?.includes(n)}});this.propertyInfo=JSON.stringify(n).replace(/\{/g,"\\{").replace(/\}/g,"\\}")}this._parameters=JSON.stringify(a)};l.getPersistenceProvider=function e(t){if(this.ignorePersonalizationChanges){return E(I,{id:We([t,"PersistenceProvider"]),for:t,mode:"Transient"})}return undefined};l._getContextPathForFilterField=function e(t,i){let r=i?.getPath();if(t.isParameter){const e=t.annotationPath;r=e.substring(0,e.lastIndexOf("/")+1)}return r};l.getDesigntime=function e(){return"sap/fe/macros/filterBar/designtime/FilterBar.designtime"};l.getTemplate=function e(){const t=this._internalContextPath?.getPath();let i="";if(this.filterBarDelegate){i=this.filterBarDelegate}else{i="{name:'sap/fe/macros/filterBar/FilterBarDelegate', payload: {entityTypePath: '"+t+"'}}"}const r=g.formatPropertyInfo(this.propertyInfo);return E(A,{id:this._apiId,metaPath:this.metaPath.getPath(),search:this.search,filterChanged:this.filterChanged,afterClear:this.afterClear,internalSearch:this.internalSearch,internalFilterChanged:this.internalFilterChanged,children:{content:E(x,{"core:require":"{API: 'sap/fe/macros/filterBar/FilterBarAPI'}",id:this._contentId,liveMode:this.liveMode,delegate:i,variantBackreference:this.liveMode?undefined:this.variantBackreference,showAdaptFiltersButton:this.showAdaptFiltersButton,showClearButton:this.showClearButton,p13nMode:this.p13nMode,search:"API.handleSearch($event)",filtersChanged:"API.handleFilterChanged($event)",filterConditions:this.filterConditions,suspendSelection:this.suspendSelection,showMessages:this.showMessages,toggleControl:this.toggleControlId,initialLayout:this.initialLayout,propertyInfo:r,visible:this.visible,"dt:designtime":this.designtime,"customData:entityType":t,children:{customData:[E(C,{value:this.id},"localId"),E(C,{value:this.hideBasicSearch},"hideBasicSearch"),E(C,{value:this.showDraftEditState},"showDraftEditState"),E(C,{value:this.useSemanticDateRange},"useSemanticDateRange"),E(C,{value:this._parameters},"parameters"),E(C,{value:this.propertyInfo},"feFilterInfo"),E(C,{value:this._annotationPath},"annotationPath")],dependents:[this._valueHelps,this.getPersistenceProvider(this._contentId)],basicSearchField:this.getSearch(),filterItems:this._filterFields}})}})};return n}(l),fe=ot(de.prototype,"id",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),he=ot(de.prototype,"visible",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),be=ot(de.prototype,"selectionFields",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),ge=ot(de.prototype,"filterBarDelegate",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),me=ot(de.prototype,"metaPath",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),ye=ot(de.prototype,"contextPath",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),Fe=ot(de.prototype,"showMessages",[j],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),Pe=ot(de.prototype,"variantBackreference",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),ve=ot(de.prototype,"hideBasicSearch",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),Ce=ot(de.prototype,"enableFallback",[N],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),Se=ot(de.prototype,"showAdaptFiltersButton",[q],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),Be=ot(de.prototype,"p13nMode",[U],{configurable:true,enumerable:true,writable:true,initializer:function(){return"Item,Value"}}),we=ot(de.prototype,"propertyInfo",[K],{configurable:true,enumerable:true,writable:true,initializer:null}),Ie=ot(de.prototype,"useSemanticDateRange",[W],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),De=ot(de.prototype,"navigationProperties",[J],{configurable:true,enumerable:true,writable:true,initializer:null}),_e=ot(de.prototype,"liveMode",[G],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),xe=ot(de.prototype,"filterConditions",[X],{configurable:true,enumerable:true,writable:true,initializer:null}),ze=ot(de.prototype,"suspendSelection",[Q],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),Ae=ot(de.prototype,"isDraftCollaborative",[Y],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),Ee=ot(de.prototype,"toggleControlId",[Z],{configurable:true,enumerable:true,writable:true,initializer:null}),Te=ot(de.prototype,"initialLayout",[ee],{configurable:true,enumerable:true,writable:true,initializer:function(){return"compact"}}),ke=ot(de.prototype,"showClearButton",[te],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),Me=ot(de.prototype,"_applyIdToContent",[ie],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),Re=ot(de.prototype,"disableDraftEditStateFilter",[re],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),He=ot(de.prototype,"search",[ae],{configurable:true,enumerable:true,writable:true,initializer:null}),Oe=ot(de.prototype,"filterChanged",[ne],{configurable:true,enumerable:true,writable:true,initializer:null}),$e=ot(de.prototype,"internalFilterChanged",[le],{configurable:true,enumerable:true,writable:true,initializer:null}),je=ot(de.prototype,"internalSearch",[oe],{configurable:true,enumerable:true,writable:true,initializer:null}),Ve=ot(de.prototype,"afterClear",[se],{configurable:true,enumerable:true,writable:true,initializer:null}),Le=ot(de.prototype,"filterFields",[ue],{configurable:true,enumerable:true,writable:true,initializer:null}),Ne=ot(de.prototype,"ignorePersonalizationChanges",[ce],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),de))||pe);qe=ct;return qe},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/FilterBar", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/macros/controls/BuildingBlockWithTemplating","sap/fe/macros/filterBar/FilterBar.block"],function(e,t,r,i){"use strict";var n,a,l,o;var c={};var s=t.convertBuildingBlockMetadata;var u=e.xmlEventHandler;var p=e.defineUI5Class;function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,d(e,t)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}let b=(n=p("sap.fe.macros.filterBar.FilterBar",s(i)),a=u(),n(l=(o=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;i.createProxyMethods(["setFilterValues","getActiveFiltersText","getFilters","triggerSearch","getSelectionVariant","setFilterFieldVisible","getFilterFieldVisible","getCurrentVariantKey","setCurrentVariantKey","setFilterFieldEnabled","getFilterFieldEnabled","setSelectionVariant"]);return i}c=t;f(t,e);var r=t.prototype;r._fireEvent=function e(t,r,i){this.fireEvent(i,t.getParameters())};return t}(r),v(o.prototype,"_fireEvent",[a],Object.getOwnPropertyDescriptor(o.prototype,"_fireEvent"),o.prototype),o))||l);c=b;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/FilterBarAPI", ["sap/base/Log","sap/base/util/merge","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/PromiseKeeper","sap/fe/core/library","sap/fe/macros/MacroAPI","sap/fe/macros/filter/FilterUtils","sap/fe/macros/filterBar/SemanticDateOperators","sap/fe/macros/mdc/adapter/StateHelper","sap/fe/navigation/SelectionVariant","sap/fe/navigation/library","sap/ui/core/Element","sap/ui/fl/apply/api/ControlVariantApplyAPI","sap/ui/mdc/enums/FieldEditMode","sap/ui/mdc/p13n/StateUtil","./mixin/FilterBarAPIStateHandler","sap/ui/thirdparty/jquery"],function(t,e,n,r,a,i,o,l,s,c,u,f,g,d,p,h,y,m,jQuery){"use strict";var V,b,S,F,C,v,P,w,I,_,E,A,M,B,O,D,T,x,z,k,K,j,N,R,H,L,$,U,q,J,W,G;var Q=g.NavType;var X=o.InitialLoadMode;var Y=a.getInvolvedDataModelObjects;var Z=n.xmlEventHandler;var tt=n.property;var et=n.mixin;var nt=n.event;var rt=n.defineUI5Class;var at=n.aggregation;function it(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ot(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,lt(t,e)}function lt(t,e){return lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lt(t,e)}function st(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(t,e,i),null):i}function ct(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let ut=function(){function t(t){this.countFilterActions=0;this.countVariantFilters=0;this.filterBarAPI=t}var e=t.prototype;e.onFiltersChanged=function t(e){if(e==="Variant"){this.countVariantFilters++}else{this.countFilterActions++}};e.onSearch=function t(e,n){const r=this.getFilterNamesFromConditions(n);this.filterBarAPI.getPageController()?.telemetry.storeAction({type:"FE.FilterBarSearch",parameters:{countFilterActions:this.countFilterActions,countFilters:Object.keys(n).length,countVariantFilters:this.countVariantFilters,variantLayer:this.filterBarAPI.getVariant()?.layer??"None",autoLoad:e.reason==="Variant",searchUsed:n.$search?!!Object.keys(n.$search).length:false,filterNames:r}});this.countFilterActions=0;this.countVariantFilters=0};e.getFilterNamesFromConditions=function t(e){let n="";Object.keys(e).forEach(t=>{if(t!="$search"){n+=t+";"}});return n};return t}();var ft=function(t){t["Control"]="Control";t["Page"]="Page";t["None"]="None";return t}(ft||{});const gt="DisplayCurrency";const dt="P_DisplayCurrency";let pt=(V=rt("sap.fe.macros.filterBar.FilterBarAPI",{returnTypes:["sap.ui.core.Control"]}),b=et(m),S=tt({type:"string"}),F=tt({type:"string",expectedAnnotations:["com.sap.vocabularies.UI.v1.SelectionFields"],expectedTypes:["EntitySet","EntityType"]}),C=tt({type:"string",expectedTypes:["EntitySet","EntityType","NavigationProperty"]}),v=tt({type:"boolean",defaultValue:false}),P=tt({type:"boolean",defaultValue:true}),w=tt({type:"boolean",defaultValue:true}),I=tt({type:"boolean",defaultValue:false}),_=at({type:"sap.fe.macros.filterBar.FilterField",multiple:true}),E=nt(),A=nt(),M=nt(),B=nt(),O=nt(),D=Z(),T=Z(),V(x=b(x=(z=function(n){function a(t,e){var r;r=n.call(this,t,e)||this;r.initialControlState={};r._initialStatePromise=new i;r._bSearchTriggered=false;it(r,"id",k,r);it(r,"metaPath",K,r);it(r,"contextPath",j,r);it(r,"liveMode",N,r);it(r,"visible",R,r);it(r,"showMessages",H,r);it(r,"showClearButton",L,r);it(r,"filterFields",$,r);it(r,"search",U,r);it(r,"internalSearch",q,r);it(r,"filterChanged",J,r);it(r,"afterClear",W,r);it(r,"internalFilterChanged",G,r);r.telemetry=new ut(r);r.attachStateChangeHandler();return r}ot(a,n);var o=a.prototype;o.waitForInitialState=async function t(){return this._initialStatePromise.promise};o.getControlState=function t(e){const n=this.initialControlState;if(e){return{fullState:e,initialState:n}}return e};o.isSearchTriggeredByInitialLoad=function t(e){const n=this.getPageController(),r=n.getView(),a=r.getViewData();let t=false,i;if(a.variantManagement===ft.Control){i=n._getFilterBarVariantControl()}else{i=r.byId("fe::PageVariantManagement")}const o=i?.getCurrentVariantKey();if(e===Q.xAppState){return true}else if(i&&a.initialLoad!==X.Enabled){if(n._shouldAutoTriggerSearch(this._getFilterBarVM(r))){t=true}}else if(i&&a.initialLoad===X.Enabled&&n._getApplyAutomaticallyOnVariant(i,o)){t=true}return t};o._applySelectionVariant=async function t(e,n,r){const a=this.getContent();const{selectionVariant:i,selectionVariantDefaults:o,requiresStandardVariant:l=false}=n;if(!a||!i){return Promise.resolve()}const s=this._getFilterBarVM(e);const c=await this._activateVariantAndDetermineApplyAppState(s,l,r);if(c){this._addDefaultDisplayCurrencyToSV(e,i,o);const t=o?o.getSelectOptionsPropertyNames().length>0:false;const n=s&&s.getDefaultVariantKey()===s.getStandardVariantKey();const l=t&&(n||!s);const c=a.getParent();let u=i;if(r||l){u=await this._getAdjustedSV(i,l)}return c.setSelectionVariant(u,true)}};o._enableFilterBar=function t(e,n){const r=e.getParent();const a=()=>{this._bSearchTriggered=!n};if(e.getSuspendSelection()){r.attachEventOnce("search",a);e.setSuspendSelection(false)}else{a()}};o._getAdjustedSV=async function t(e,n){let r=new f(e.toJSONObject());const a=await this.getSelectionVariant();const i=a?.getSelectOptionsPropertyNames()||[];if(i.length>0){r=i.reduce((t,e)=>{const r=t.getSelectOption(e);if(n&&!r?.length||!n){const n=a.getSelectOption(e);t.massAddSelectOption(e,n||[])}return t},r)}return r};o._preventInitialSearch=function t(e){if(!e){return true}const n=e.getVariants();const r=n.find(function(t){return t.getKey()===e.getCurrentVariantKey()});return!r.executeOnSelect};o._addDefaultDisplayCurrencyToSV=function t(e,n,r){if(!r||r?.isEmpty()){return}const a=e.getViewData(),i=e.getModel()?.getMetaModel(),o=a.contextPath||`/${a.entitySet}`,l=i.getMetaContext(o),s=Y(l);const c=this.getDisplayCurrencyPropertyName(s);const u=this._checkIfDisplayCurrencyIsRequired(s);if(!u){return}const f=n.getSelectOption(c)||[],g=r.getSelectOption(c)||[],d=g.length>0,p=f.length===0;if(p&&d){const t=g[0],e=t["Sign"],r=t["Option"],a=t["Low"],i=t["High"];n.addSelectOption(c,e,r,a,i)}};o.isParameterized=function t(e){return!!e.startingEntitySet.entityType?.annotations?.Common?.ResultContext};o.getDisplayCurrencyPropertyName=function t(e){return this.isParameterized(e)?dt:gt};o._checkIfDisplayCurrencyIsRequired=function t(e){let n=false;if(this.isParameterized(e)){n=e.startingEntitySet.entityType.entityProperties.some(t=>t.name===dt)}else{const t=e.startingEntitySet._type==="EntitySet"?e.startingEntitySet:undefined,r=t?.annotations.Capabilities?.FilterRestrictions?.RequiredProperties??[];n=r.some(t=>t.value===gt)}return n};o._activateVariantAndDetermineApplyAppState=async function t(e,n,r){if(e&&!r){let t=n?e.getStandardVariantKey():e.getDefaultVariantKey();if(t===null){t=e.getId()}await p.activateVariant({element:e,variantReference:t});return n||e.getDefaultVariantKey()===e.getStandardVariantKey()}return true};o._getFilterBarVM=function t(e){let n;const r=e.getViewData();switch(r.variantManagement){case ft.Page:n=e.byId("fe::PageVariantManagement");break;case ft.Control:n=e.getController()._getFilterBarVariantControl();break;case ft.None:default:break}return n};o.handleVariantIdPassedViaURLParams=async function t(e){const n=e["sap-ui-fe-variant-id"],r=e["sap-ui-fe-filterbar-variant-id"],a=e["sap-ui-fe-table-variant-id"],i=e["sap-ui-fe-chart-variant-id"];let o;if(n||r||a||i){o={sPageVariantId:n&&n[0],sFilterBarVariantId:r&&r[0],sTableVariantId:a&&a[0],sChartVariantId:i&&i[0]}}return this._handleControlVariantId(o)};o._handleControlVariantId=async function t(e){let n;const r=this.getPageController()?.getView(),a=[];const i=r.getViewData().variantManagement;if(e&&e.sPageVariantId&&i==="Page"){n=r.byId("fe::PageVariantManagement");this._handlePageVariantId(e,n,a)}else if(e&&i==="Control"){if(e.sFilterBarVariantId){n=r.getController()._getFilterBarVariantControl();this._handleFilterBarVariantControlId(e,n,a)}}return Promise.all(a)};o._handlePageVariantId=function t(e,n,r){n.getVariants()?.forEach(t=>{this._findAndPushVariantToPromise(t,e.sPageVariantId,n,r,true)})};o._handleFilterBarVariantControlId=function t(e,n,r){if(n){n.getVariants().forEach(t=>{this._findAndPushVariantToPromise(t,e.sFilterBarVariantId,n,r,true)})}};o._findAndPushVariantToPromise=function t(e,n,r,a,i){if(e.key===n){a.push(this._applyControlVariant(r,n,i))}};o._applyControlVariant=async function t(e,n){let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const a=this._checkIfVariantIdIsAvailable(e,n)?n:e.getStandardVariantKey();const i=p.activateVariant({element:e,variantReference:a});return i.then(function(){return r})};o._checkIfVariantIdIsAvailable=function t(e,n){const r=e.getVariants();let a=false;r.forEach(function(t){if(t.getKey()===n){a=true}});return a};o.attachStateChangeHandler=function t(){y.detachStateChange(this.stateChangeHandler);y.attachStateChange(this.stateChangeHandler)};o.stateChangeHandler=function t(e){const n=e.getParameter("control");if(n.isA("sap.ui.mdc.FilterBar")){const t=n.getParent();if(t?.handleStateChange){t.handleStateChange()}}};o.handleSearch=function t(n){const r=n.getSource();const a=n.getParameters();if(r){const t=r.getFilterConditions()??{};const n=this._prepareEventParameters(r);this.telemetry?.onSearch(a,t);this.fireEvent("internalSearch",e({conditions:t},a));this.fireEvent("search",e({reason:a.reason},n))}};o.handleFilterChanged=function t(n){const r=n.getSource();const a=n.getParameters();if(r){const t=r.getFilterConditions();const n=this._prepareEventParameters(r);this.telemetry?.onFiltersChanged(this._getFilterBarReason(r));this.fireEvent("internalFilterChanged",e({conditions:t},a));this.fireEvent("filterChanged",n)}};o._getFilterBarReason=function t(e){return e?._sReason??""};o._prepareEventParameters=function t(e){const{parameters:n,filters:r,search:a}=s.getFilters(e)||{};return{parameters:n,filters:r,search:a}};o.setFilterValues=async function t(e,n,r){if(arguments.length===2){r=n;return s.setFilterValues(this.content,e,r)}return s.setFilterValues(this.content,e,n,r)};o.getActiveFiltersText=function t(){return this.content?.getAssignedFiltersText()?.filtersText||""};o.getFilters=function t(){return s.getFilters(this.content)||{}};o.triggerSearch=async function e(){const n=this.content;try{if(n){await n.waitForInitialization();return await n.triggerSearch()}}catch(e){const n=e instanceof Error?e.message:String(e);t.error(`FE : Buildingblock : FilterBar : ${n}`);throw Error(n)}};o.isSemanticDateFilterApplied=function t(){return c.hasSemanticDateOperations(this.content.getConditions(),false)};o.getSelectionVariant=async function t(){const e=await u.getSelectionVariant(this.getContent());const n=this.getPageController();if(n!==undefined){const t=n?.getView(),a=r.getAppComponent(t),i=a?.getNavigationService(),o=this.getDataModelObjectForMetaPath(this.metaPath);if(o?.targetEntitySet?.name){const n=o?.targetEntitySet?.name&&i?.constructContextUrl(o?.targetEntitySet?.name,t.getModel());e.setFilterContextUrl(n)}}return e};o.getMandatoryFilterPropertyNames=function t(){return this.content.getPropertyInfoSet().filter(function(t){return t.required}).map(function(t){return t.conditionPath})};o.getParameters=function t(){const e=this.content;const n=e.data("parameters");if(n){return Array.isArray(n)?n:JSON.parse(n)}return[]};o.getVariant=function e(){let n;try{const t=this.getModel("$FlexVariants");const e=this.content.getVariantBackreference();if(t&&e){n=t.getVariant(t.getCurrentVariantReference(e))}}catch(e){t.debug("Couldn't fetch variant ",e)}return n};o.setFilterFieldVisible=async function t(e,n){await y.applyExternalState(this.content,{items:[{name:e,visible:n}]})};o.getFilterFieldVisible=async function t(e){const n=await y.retrieveExternalState(this.content);return!!n.items.find(t=>t.name===e)};o.getVariantManagement=function t(){const e=this.content.getVariantBackreference();if(e){return d.getElementById(e)}else{throw new Error(`Variant back reference not defined on the filter bar ${this.id}`)}};o.setVariantBackReference=function t(e){const n=this.getContent();const r=n?.getLiveMode?.();if(!r){this.content.setVariantBackreference(e)}};o.getCurrentVariantKey=function t(){return this.getVariantManagement().getCurrentVariantKey()};o.setCurrentVariantKey=function t(e){const n=this.getVariantManagement();n.setCurrentVariantKey(e)};o.setFilterFieldEnabled=function t(e,n){this.getModel("internal").setData({[this.content.data("localId")]:{filterFields:{[e]:{editMode:n?h.Editable:h.Disabled}}}},true)};o.getFilterFieldEnabled=function t(e){return this.getModel("internal").getProperty(`/${this.content.data("localId")}/filterFields/${e}/editMode`)===h.Disabled?false:true};o.convertSelectionVariantToStateFilters=async function t(e,n){return u.convertSelectionVariantToStateFilters(this.content,e,n,this.content?.getModel())};o._clearFilterValuesWithOptions=async function t(e,n){await u._clearFilterValuesWithOptions(e,n)};o.setSelectionVariant=async function e(n){let r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const a=this.getContent();const i=a&&a?.getLiveMode?.();if(i){a.setSuspendSelection(true)}let o;try{o=await u.setSelectionVariantToMdcControl(this.getContent(),n,r);return o}catch(e){const n=e instanceof Error?e.message:String(e);t.error(`FE : Buildingblock : FilterBar : ${n}`);throw Error(n)}finally{if(i){a.setSuspendSelection(false)}}};o.handleStateChange=function t(){this.getPageController()?.getExtensionAPI().updateAppState()};o.showFilterField=async function t(e){const n=await y.retrieveExternalState(this.content);const r=!!n.items.find(t=>t.name===e);if(!r){n.items.push({name:e})}await y.applyExternalState(this.content,n)};o.openValueHelpForFilterField=function t(e,n,r){const a=this.content.getFilterItems().find(t=>t.getPropertyKey()===e);if(a){const t=d.getElementById(a.getValueHelp());if(t){let e=[];const n=t=>{e=t.getParameter("conditions")};t.attachClosed(()=>{t.detachSelect(n,this);r?.(e)});t.attachSelect(n,this)}a._oFocusInfo={targetInfo:{silent:true}};a.onfocusin?.(new jQuery.Event("focusin"));setTimeout(()=>{a.getAggregation("_content")[0].fireValueHelpRequest({fromKeyboard:true,_userInputValue:n})},200)}};o.getCollapsedFiltersText=function t(){return this.content?.getAssignedFiltersText()?.filtersText};return a}(l),k=st(z.prototype,"id",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),K=st(z.prototype,"metaPath",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),j=st(z.prototype,"contextPath",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),N=st(z.prototype,"liveMode",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),R=st(z.prototype,"visible",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),H=st(z.prototype,"showMessages",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),L=st(z.prototype,"showClearButton",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),$=st(z.prototype,"filterFields",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),U=st(z.prototype,"search",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),q=st(z.prototype,"internalSearch",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),J=st(z.prototype,"filterChanged",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),W=st(z.prototype,"afterClear",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),G=st(z.prototype,"internalFilterChanged",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),st(z.prototype,"handleSearch",[D],Object.getOwnPropertyDescriptor(z.prototype,"handleSearch"),z.prototype),st(z.prototype,"handleFilterChanged",[T],Object.getOwnPropertyDescriptor(z.prototype,"handleFilterChanged"),z.prototype),z))||x)||x);return pt},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/FilterBarDelegate", ["sap/base/Log","sap/base/util/merge","sap/fe/base/jsx-runtime/jsx","sap/fe/core/CommonUtils","sap/fe/core/TemplateModel","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/PropertyFormatters","sap/fe/core/type/EDM","sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/fe/macros/field/FieldHelper","sap/fe/macros/filter/FilterUtils","sap/fe/macros/internal/valuehelp/ValueHelpTemplating","sap/fe/macros/mdc/adapter/StateHelper","sap/ui/mdc/FilterBarDelegate","sap/ui/mdc/odata/v4/TypeMap","sap/ui/model/json/JSONModel"],function(e,t,n,o,i,r,a,s,l,c,f,d,u,p,g,m,h,y,P,v,C,F,x){"use strict";var M=P.getValueHelpTemplate;var b=p.getModelType;var I=u.hasValueHelp;var w=d.generate;var A=f.getResourceModel;var D=f.getLocalizedText;var S=l.isPropertyFilterable;var T=s.KeyHelper;var E=a.sortPropertyInfosByGroupLabel;var $=a.processSelectionFields;var B=r.getInvolvedDataModelObjects;const L=Object.assign({},C);L.apiVersion=2;const V="$editState",_="$search",O="FilterFieldValueHelp",H="sap_fe_FilterBarDelegate_propertyInfoMap",N=/[+*]/g;async function U(e,t,n){const o=new x({id:e,isDraftCollaborative:c.isCollaborationDraftSupported(t)}),i={bindingContexts:{this:o.createBindingContext("/")},models:{this:o}};return m.templateControlFragment("sap.fe.macros.filterBar.DraftEditState",i,undefined,n).finally(function(){o.destroy()})}L._templateCustomFilter=async function(e,t,n,r,a){const s=await m.getCustomDataWithModifier(e,"entityType",a);if(n.annotationPath!==undefined){const e=r.getContext(n.annotationPath),t=B(e),o=t.targetObject?.annotations.Common?.DocumentationRef?.toString();n.documentRefText=o}const l=new x({id:t}),c=new i(n,r),f={bindingContexts:{contextPath:r.createBindingContext(s),this:l.createBindingContext("/"),item:c.createBindingContext("/")},models:{contextPath:r,this:l,item:c}},d=o.getTargetView(e),u=d?d.getController():undefined,p={controller:u?u:undefined,view:d};return m.templateControlFragment("sap.fe.macros.filter.CustomFilter",f,p,a).finally(function(){l.destroy();c.destroy()})};function j(e){return e.replace(N,"")}L._findSelectionField=function(e,t){return e.find(function(e){return(e.conditionPath===t||e.conditionPath.replaceAll(/\*/g,"")===t)&&e.availability!=="Hidden"})};function R(e,t,n){return n?w([e,t,n]):w([e,t])}async function k(o,i){const r={idPrefix:i.sVhIdPrefix,conditionModel:"$filters",navigationPrefix:i.sNavigationPrefix?`/${i.sNavigationPrefix}`:"",filterFieldValueHelp:true,useSemanticDateRange:i.bUseSemanticDateRange,metaPath:o.bindingContexts.metaPath,contextPath:o.bindingContexts.contextPath,useMultiValueField:false,requiresValidation:false,collaborationEnabled:false,requestGroupId:undefined};const a=new x(r);const s=t({},o,{bindingContexts:{this:a.createBindingContext("/")},models:{this:r}});const l=h.valueHelpPropertyForFilterField(o.bindingContexts.metaPath);if(o.isXML){let t=n.renderAsXML(()=>M(o.bindingContexts.metaPath.getModel().createBindingContext(l),r));if(t){if(o.isXML){t=`<root>${t}</root>`}const n=(new DOMParser).parseFromString(t,"text/xml");return Promise.resolve(m.templateControlFragment(n.firstElementChild,s,{isXML:o.isXML})).then(async function(e){if(e){const t="dependents";if(Array.isArray(e)){e.forEach(function(e){if(i.oModifier){i.oModifier.insertAggregation(i.oControl,t,e,0)}else{i.oControl.insertAggregation(t,e,0,false)}})}else if(i.oModifier){return i.oModifier.insertAggregation(i.oControl,t,e,0,i.view)}else{i.oControl.insertAggregation(t,e,0,false);return}}return}).catch(function(t){e.error("Error while evaluating DelegateUtil.isValueHelpRequired",t)}).finally(function(){a.destroy()})}}else{const e=M(o.bindingContexts.metaPath.getModel().createBindingContext(l),r);if(e){const t="dependents";if(Array.isArray(e)){e.forEach(function(e){if(i.oModifier){i.oModifier.insertAggregation(i.oControl,t,e,0)}else{i.oControl.insertAggregation(t,e,0,false)}})}else if(i.oModifier){i.oModifier.insertAggregation(i.oControl,t,e,0)}else{i.oControl.insertAggregation(t,e,0,false)}}}}async function X(t,n,o){try{const e=await Promise.resolve(n.getAggregation(t,"dependents"));let i;if(e&&e.length>1){for(i=0;i<=e.length;i++){const t=e[i];if(t&&t.isA("sap.ui.mdc.FilterField")){const e=t.getPropertyKey(),n=t.getId();if(o===e&&n.indexOf("CustomFilterField")){return t}}}}}catch(t){e.error("Filter Cannot be added",t)}}async function W(e,n,o,r){const a=new x({idPrefix:n.sIdPrefix,vhIdPrefix:n.sVhIdPrefix,propertyPath:n.sPropertyName,navigationPrefix:n.sNavigationPrefix?`/${n.sNavigationPrefix}`:"",useSemanticDateRange:n.bUseSemanticDateRange,settings:n.oSettings,visualFilter:n.visualFilter,editMode:`{internal>/${o}/filterFields/${n.sPropertyName}/editMode}`});try{const o=n.oMetaModel;const s=new i(n.visualFilter,o);const l=t({},e,{bindingContexts:{this:a.createBindingContext("/"),visualFilter:s.createBindingContext("/")},models:{this:a,visualFilter:s,metaModel:o,converterContext:r}});return await m.templateControlFragment("sap.fe.macros.internal.filterField.FilterFieldTemplate",l,{isXML:!!e.isXML})}finally{a.destroy()}}async function K(t,n,o,i){try{const e=T.getSelectionFieldKeyFromPath(i);i=i.replace("*","");if(n&&!n.modifier){throw"FilterBar Delegate method called without modifier."}const r=await n.modifier.getProperty(t,"delegate");const a=await n.modifier.getProperty(t,"propertyInfo");if(a){const s=a.some(function(t){return t.key===e||t.name===e});if(!s){const e=r.payload.entityTypePath;const s=y.createConverterContext(t,e,o,n.appComponent);const l=s.getEntityType();const c=y.getFilterField(i,s,l);const f=y.buildProperyInfo(c,s);await q(a,n,f,t)}}}catch(n){e.warning(`${t.getId()} : ${n}`)}}async function q(e,t,n,o){let i=await m.getCustomDataWithModifier(o,"feFilterInfo",t.modifier);if(i&&i.length>0){const e=JSON.parse(i);e.push(n);i=JSON.stringify(e);i=i.replace(/\{/g,"\\{");i=i.replace(/\}/g,"\\}");const r=await m.retrieveCustomDataNode(o,"feFilterInfo",t.modifier);r[0].setAttribute("value",i);t.modifier.insertAggregation(o,"customData",r[0],0)}e.push(n);const r=y.formatPropertyInfo(e);t.modifier.setProperty(o,"propertyInfo",r)}L.addItem=async function(e,t,n){if(!n){return L._addP13nItem(t,e)}const o=n.modifier;const i=n&&n.appComponent&&n.appComponent.getModel();const r=i&&i.getMetaModel();if(!r){return Promise.resolve(null)}const a=o&&o.targets==="xmlTree";if(a){await K(e,n,r,t)}return L._addFlexItem(t,e,r,o,n.appComponent,n.view)};L.removeItem=async function(e,t,n){let o=true;const i=n.modifier;const r=i&&i.targets==="xmlTree";if(r){const o=n&&n.appComponent&&n.appComponent.getModel();const i=o&&o.getMetaModel();if(!i){return Promise.resolve(null)}const r=await n.modifier.getProperty(t,"propertyKey");await K(e,n,i,r)}if(typeof t!=="string"&&t.isA&&t.isA("sap.ui.mdc.FilterField")){if(t.data("isSlot")==="true"&&n){i.insertAggregation(e,"dependents",t);o=false}}return Promise.resolve(o)};L.addCondition=async function(e,t,n){const o=n.modifier;const i=o&&o.targets==="xmlTree";if(i){const o=n&&n.appComponent&&n.appComponent.getModel();const i=o&&o.getMetaModel();if(!i){return Promise.resolve(null)}await K(e,n,i,t)}return Promise.resolve()};L.removeCondition=async function(e,t,n){const o=n.modifier;const i=o&&o.targets==="xmlTree";if(i){const i=await m.getCustomDataWithModifier(e,"sap_fe_FilterBarDelegate_propertyInfoMap",o);if(!i){const o=n&&n.appComponent&&n.appComponent.getModel();const i=o&&o.getMetaModel();if(!i){return Promise.resolve(null)}await K(e,n,i,t)}}return Promise.resolve()};L.clearFilters=async function(e){const t=e.getParent();return v.clearFilterValues(t)};L._addP13nItem=async function(t,n){return m.fetchModel(n).then(async function(e){return L._addFlexItem(t,n,e.getMetaModel(),undefined)}).catch(function(t){e.error("Model could not be resolved",t);return null})};L.fetchPropertiesForEntity=function(e,t,n){const i=t.getObject(e);const r=n.isA("sap.ui.mdc.valuehelp.FilterBar")?true:undefined;if(!n||!i){return[]}const a=y.createConverterContext(n,e);const s=c.getEntitySetPath(e);const l=y.getConvertedFilterFields(n,e,r);let f=[];l.forEach(function(e){const n=e.annotationPath;if(n){const o=a.getConvertedTypes().resolvePath(n).target;const i=g.getLocationForPropertyPath(t,n);const r=n.replace(`${i}/`,"");const s=a.getEntityType();const l=s.annotations?.UI?.SelectionFields;const c=s.annotations?.UI?.FilterFacets;if(o&&L._isFilterAdaptable(e,o,l,c)&&S(t,i,j(r),true)){f.push(e)}}else{f.push(e)}});const d=[];const u=$(f,a);const p=[];u.forEach(function(e){if(e.key){p.push(e.key)}});f=f.filter(function(e){return p.includes(e.key)});const h=o.getFilterRestrictionsByPath(s,t),P=h.FilterAllowedExpressions;u.forEach(function(e,n){const i=f[n];if(!i||!i.conditionPath){return}const r=j(i.conditionPath);e=Object.assign(e,{group:i.group,groupLabel:i.groupLabel,path:i.conditionPath,tooltip:null,removeFromAppState:false,hasValueHelp:false});if(i.annotationPath){const n=i.annotationPath;const o=t.getObject(n),r=t.getObject(`${n}@`),a=t.createBindingContext(n);const s=r["@com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive"]||r["@com.sap.vocabularies.UI.v1.ExcludeFromNavigationContext"]||r["@com.sap.vocabularies.Analytics.v1.Measure"];const l=g.getLocationForPropertyPath(t,i.annotationPath);const c=n.replace(`${l}/`,"");let f;let d;if(a&&S(t,l,j(c),true)){f=r["@com.sap.vocabularies.Common.v1.FilterDefaultValue"];if(f){d=f[`$${b(o.$Type)}`]}e=Object.assign(e,{tooltip:r["@com.sap.vocabularies.Common.v1.QuickInfo"]||undefined,removeFromAppState:s,hasValueHelp:I(a.getObject(),{context:a}),defaultFilterConditions:d?[{fieldPath:i.conditionPath,operator:"EQ",values:[d]}]:undefined})}}if(e){if(P[r]&&P[r].length>0){e.filterExpression=o.getSpecificAllowedExpression(P[r])}else{e.filterExpression="auto"}e=Object.assign(e,{visible:i.availability==="Default"})}u[n]=e});u.forEach(function(e){e.key=e.name;if(e.path==="$editState"){e.label=A(n).getText("FILTERBAR_EDITING_STATUS")}e.typeConfig=F.getTypeConfig(e.dataType,e.formatOptions,e.constraints);e.label=D(e.label,n)||"";if(e.isParameter){d.push(e.name)}});f=u;m.setCustomData(n,"parameters",d);return f};function G(e,t){if(e.isA("sap.fe.macros.table.TableAPI")){const n=e.getMetaPath().split("#")[0].split("/");switch(n[n.length-1]){case`@${"com.sap.vocabularies.UI.v1.SelectionPresentationVariant"}`:case`@${"com.sap.vocabularies.UI.v1.PresentationVariant"}`:return t.getObject(e.getMetaPath()).Visualizations?.find(e=>e.$AnnotationPath.includes(`@${"com.sap.vocabularies.UI.v1.LineItem"}`)).$AnnotationPath;case`@${"com.sap.vocabularies.UI.v1.LineItem"}`:const n=e.getMetaPath().split("/");return n[n.length-1]}}return undefined}L._isFilterAdaptable=function(e,t,n,o){let i;const r=n?L._isFilterInSelectionFields(n,e):false;if(o){i=o.some(function(t){const n=t.Target?.$target;return n?.Data.some(function(t){if(t.Value.path===e.key){return true}return false})})}else{i=false}return r||i||!t.annotations?.UI?.AdaptationHidden};L._isFilterInSelectionFields=function(e,t){const n=t.key?.indexOf("::")>0?t.key?.replace("::","/"):t.key;return e.some(function(e){if(e.value===n){return true}return false})};L._addFlexItem=async function(e,t,n,i,r,a){const s=i?i.getId(t):t.getId(),l=i?"":"Adaptation",f=y.getConvertedFilterFields(t,undefined,undefined,n,r,i,i?undefined:G(t.getParent(),n)),d=L._findSelectionField(f,e),u=j(e),p=!!i&&i.targets==="xmlTree";if(e===V){return U(R(s,`${l}FilterField`),n,i)}else if(e===_){return Promise.resolve(null)}else if(d?.template){return L._templateCustomFilter(t,R(s,`${l}`),d,n,i)}if(d?.type==="Slot"&&i){return X(t,i,u)}const h=g.getNavigationPath(u);let P;let v;let C;let F;let x;return Promise.resolve().then(async function(){if(d?.isParameter){const e=d.annotationPath;return e.substring(0,e.lastIndexOf("/")+1)}return m.getCustomDataWithModifier(t,"entityType",i)}).then(async function(e){P=e;return m.getCustomDataWithModifier(t,"useSemanticDateRange",i)}).then(async function(e){v=e;const o=n.createBindingContext(P+u);let r=i?i.getId(t):t.getId();if(r.endsWith("-content")){r=r.substring(0,r.lastIndexOf("-content"))}C={bindingContexts:{contextPath:n.createBindingContext(P),property:o},models:{contextPath:n,property:n},isXML:p};F=`/${c.getEntitySetPath(P).split("/").filter(c.filterOutNavPropBinding).join("/")}`;x={metaPath:o.getPath(),sPropertyName:u,sBindingPath:F,sValueHelpType:l+O,oControl:t,oMetaModel:n,oModifier:i,sIdPrefix:R(r,`${l}FilterField`,h),sVhIdPrefix:R(r,l+O),sNavigationPrefix:h,bUseSemanticDateRange:v,oSettings:d?.settings??{},visualFilter:d?.visualFilter,view:a};return m.doesValueHelpExist(x)}).then(async function(e){if(!e){return k({bindingContexts:{contextPath:n.createBindingContext(P),metaPath:C.bindingContexts.property},models:{contextPath:n,metaPath:n},isXML:p},x)}return}).then(async function(){return m.getCustomDataWithModifier(t,"localId",i)}).then(async function(e){let n;if(x.visualFilter){n=o.getTargetView(t).getController()._getPageModel()}return W(C,x,e,n)})};function J(e){if(e instanceof window.Element){return null}return m.getCustomData(e,H)}function z(e,t){if(e instanceof window.Element){return}m.setCustomData(e,H,t)}function Q(e,t,n){let o=J(n);let i;if(!o){o=L.fetchPropertiesForEntity(e,t,n);o.forEach(function(e){i=null;if(e.groupLabel){i=D(e.groupLabel,n);e.groupLabel=i===null?e.groupLabel:i}});E(o);z(n,o)}return o}L.fetchProperties=async function(e){const t=await L.fetchFilterProperties(e);m.setCustomData(e,"feFilterInfo",t);if(t.length>0){return y.formatPropertyInfo(t)}else{return[]}};L.fetchFilterProperties=async function(e){const t=m.getCustomData(e,"entityType");return m.fetchModel(e).then(function(n){if(!n){return[]}return Q(t,n.getMetaModel(),e)})};L.getTypeMap=function(){return F};return L},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/FilterBarSummary", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/Text","sap/ui/base/ManagedObject","sap/fe/base/jsx-runtime/jsx"],function(e,t,r,i,n){"use strict";var a,o,l,s,c;var u={};var f=i.bindingParser;var b=e.defineUI5Class;var p=e.association;function d(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,h(e,t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function m(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let y=(a=b("sap.fe.macros.filterBar.FilterBarSummary"),o=p({type:"sap.fe.macros.filterBar.FilterBarAPI",multiple:false}),a(l=(s=function(e){function i(t,r){var i;i=e.call(this,t,r)||this;d(i,"filterBar",c,i);return i}u=i;v(i,e);var a=i.prototype;a.onMetadataAvailable=function e(){this.content=this.createContent();t.observeBuildingBlock(this.filterBar,{onAvailable:e=>{e?.attachEvent("filterChanged",this.onFilterChange.bind(this))}})};a.createContent=function e(){return n(r,{})};a.onFilterChange=function e(t){const r=t.getSource();const i=r.getCollapsedFiltersText();const n=f(i);if(n){this.content?.bindText(n)}else{this.content?.setText(i)}};return i}(t),c=g(s.prototype,"filterBar",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||l);u=y;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/FilterField", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,l,a,n,o,u,p,c,s,b,f,y,g,m,d,v,z,w,h,O;var j={};var P=e.property;var k=e.defineUI5Class;var _=e.aggregation;function B(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function C(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,q(e,r)}function q(e,r){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},q(e,r)}function D(e,r,t,i,l){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),l&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(l):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function E(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let F=(t=k("sap.fe.macros.filterBar.FilterField"),i=P({type:"string"}),l=P({type:"string"}),a=P({type:"string"}),n=P({type:"string"}),o=P({type:"string"}),u=P({type:"boolean"}),p=P({type:"boolean"}),c=P({type:"string"}),s=_({type:"sap.ui.core.Control",multiple:false,isDefault:true}),t(b=(f=function(e){function r(){var r;for(var t=arguments.length,i=new Array(t),l=0;l<t;l++){i[l]=arguments[l]}r=e.call(this,...i)||this;B(r,"key",y,r);B(r,"label",g,r);B(r,"anchor",m,r);B(r,"placement",d,r);B(r,"property",v,r);B(r,"showMessages",z,r);B(r,"required",w,r);B(r,"slotName",h,r);B(r,"template",O,r);return r}j=r;C(r,e);return r}(r),y=D(f.prototype,"key",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),g=D(f.prototype,"label",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),m=D(f.prototype,"anchor",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),d=D(f.prototype,"placement",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),v=D(f.prototype,"property",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),z=D(f.prototype,"showMessages",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),w=D(f.prototype,"required",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),h=D(f.prototype,"slotName",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),O=D(f.prototype,"template",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),f))||b);j=F;return j},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/FilterHelper", ["sap/base/Log","sap/fe/core/converters/MetaModelConverter","sap/fe/core/templating/PropertyHelper","sap/fe/core/type/EDM","sap/fe/macros/field/FieldHelper","sap/ui/mdc/condition/Condition","sap/ui/mdc/enums/ConditionValidated","../CommonHelper","./SemanticDateOperators"],function(e,t,n,o,r,i,a,s,c){"use strict";var d={};var l=o.isTypeFilterable;var u=n.hasValueHelp;var f=t.getInvolvedDataModelObjects;const p={Contains:"NotContains",StartsWith:"NotStartsWith",EndsWith:"NotEndsWith",Empty:"NotEmpty",NotEmpty:"Empty",LE:"NOTLE",GE:"NOTGE",LT:"NOTLT",GT:"NOTGT",BT:"NOTBT",NE:"EQ",EQ:"NE"};function g(e){let t;if(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})\+(\d{1,2}):(\d{1,2})/)){t=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})\+(\d{1,2}):(\d{1,2})/)[0]}else if(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2}).(\d{1,7})[+-](\d{1,2}):(\d{1,2})/)){t=e}else if(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})/)){t=`${e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})/)[0]}+0000`}else if(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)){t=`${e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)[0]}T00:00:00+0000`}else if(e.indexOf("Z")===e.length-1){t=`${e.split("Z")[0]}+0100`}else{t=undefined}return t}d._getDateTimeOffsetCompliantValue=g;function m(e){return e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)?e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)[0]:e.match(/^(\d{8})/)&&e.match(/^(\d{8})/)[0]}d._getDateCompliantValue=m;function h(e,t,n){if(!l(t)||!n){return undefined}if(e===undefined||e===null){return e}let o=e;switch(t){case"Edm.Boolean":if(typeof e==="boolean"){o=e}else{o=e==="true"||(e==="false"?false:undefined)}break;case"Edm.Double":case"Edm.Single":if(e===""&&n==="EQ"){break}const t=Number(e);o=isNaN(t)?undefined:parseFloat(e.toString());break;case"Edm.Byte":case"Edm.Int16":case"Edm.Int32":case"Edm.SByte":if(o===""&&n==="EQ"){break}const r=Number(e);o=isNaN(r)?undefined:parseInt(e.toString(),10);break;case"Edm.Date":o=m(e.toString());break;case"Edm.DateTimeOffset":o=g(e.toString());break;case"Edm.TimeOfDay":o=e.toString().match(/(\d{1,2}):(\d{1,2}):(\d{1,2})/)?e.toString().match(/(\d{1,2}):(\d{1,2}):(\d{1,2})/)?.[0]:undefined;break;default:}return o===null?undefined:o}d.getTypeCompliantValue=h;function E(t,n,o,r){let i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:[];let a=n,s,c;if(n===undefined||n===null){return undefined}switch(t){case"CP":c="Contains";if(a){const t=a.indexOf("*");const n=a.lastIndexOf("*");if(t>-1){if(t===0&&n!==a.length-1){c="EndsWith";a=a.substring(1,a.length)}else if(t!==0&&n===a.length-1){c="StartsWith";a=a.substring(0,a.length-1)}else{a=a.substring(1,a.length-1)}}else{e.warning("Contains Option cannot be used without '*'.");return undefined}}break;case"EQ":c=t;if(i.length===0||i.includes("Empty")){c=n===""?"Empty":t}break;case"NE":c=n===""?"NotEmpty":t;break;case"BT":if(o===undefined||o===null){return}s=o;c=t;break;case"LE":case"GE":case"GT":case"LT":c=t;break;default:e.warning(`Selection Option is not supported : '${t}'`);return undefined}if(r==="E"){c=p[c]}const d={values:[],isEmpty:null,operator:c};if(c!=="Empty"){d.values.push(a);if(s){d.values.push(s)}}return d}d.resolveConditionValues=E;function y(e){return e.indexOf("/")>0?e.split("/")[1]:e}d.getRangeProperty=y;function b(e,t,n,o){const r=[];const i=u(t);e?.forEach(e=>{const a=o?o(e,t,n):N(e,t.type,i);if(a){r.push(a)}});return r}function v(e,t,n){const o=t.getMetaContext(`${n}/${e}`),r=f(o);return r.targetObject}function C(e,t,n,o){const r=e.PropertyName,i={},a=r.value||r?.$PropertyPath,s=e.Ranges??[];const c=v(a,t,n);if(c){const e=b(s,c,a,o);if(e.length){i[a]=(i[a]||[]).concat(e)}}return i}function O(e,t,n,o){let r={};if(!n){return r}const i=n.SelectOptions,s=n.Parameters;i?.forEach(n=>{const i=n.PropertyName;const a=i.value||i.$PropertyPath;if(Object.keys(r).includes(a)){r[a]=r[a].concat(C(n,t,e,o)[a])}else{r={...r,...C(n,t,e,o)}}});s?.forEach(e=>{const t=e.PropertyName.value||e.PropertyName.$PropertyPath;const n=o?{operator:"EQ",value1:e.PropertyValue,value2:null,path:t,isParameter:true}:{operator:"EQ",values:[e.PropertyValue],isEmpty:null,validated:a.Validated,isParameter:true};r[t]=[n]});return r}d.getFiltersConditionsFromSelectionVariant=O;function N(t,n,o){let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];let s;try{const e=y(t.Sign);const c=y(t.Option);const d=h(t.Low,n,c);const l=t.High?h(t.High,n,c):undefined;const u=E(c,d,l,e,r);if(u){const e=o&&u.operator==="EQ"?a.Validated:a.NotValidated;s=i.createCondition(u.operator,u.values,null,null,e)}}catch(t){const n=t instanceof Error?t.message:String(t);e.error(`FE : Core : FilterHelper : getConditions : ${n}`)}return s}d.getConditions=N;const T=function(e,t){const n={};const o=e.getInterface(1).getPath(),r=e.getInterface(1).getModel();if(t){for(const e in t){const t=r.getObject(`${o}/${e}@com.sap.vocabularies.Common.v1.FilterDefaultValue`);if(t!==undefined){const o=e;n[o]=[i.createCondition("EQ",[t],null,null,a.Validated)]}}}return n};const S=function(e,t){const n={};const o=e.getInterface(1);const r=o.getModel();const a=o.getPath();for(const e in t){if(t[e][0]){const o=e.split("::");let s="";const c=o.length;const d=o.slice(0,o.length-1).join("/");const l=o[c-1];if(d){const e=r.getObject(a+"/"+d);if(e.$kind==="NavigationProperty"&&e.$isCollection){s+=`${d}*/`}else if(e.$kind==="NavigationProperty"){s+=`${d}/`}}s+=l;const u="values"in t[e][0]?t[e][0].values:[];n[s]=[i.createCondition(t[e][0].operator,u,null,null,null)]}}return n};function $(){const e={};e["$editState"]=[i.createCondition("DRAFT_EDIT_STATE",["ALL"],null,null,a.Validated)];return e}d.getEditStatusFilter=$;function P(e,t,n,o){let r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;let i;const a=e.getInterface(1).getPath(),s=e.getInterface(1).getModel(),c=s?.getObject(`${a}@`),d=s?.getObject(`${a}/`);if(c&&(c["@com.sap.vocabularies.Common.v1.DraftRoot"]||c["@com.sap.vocabularies.Common.v1.DraftNode"])&&r){i=$()}const l=t?.selectionVariant;const u=t?.defaultSemanticDates||{};const f=T(e,d);const p=S(e,u);let g={};if(l){g=O(a,s,l)}else if(f){g=f}if(p){g={...g,...p}}if(i){g={...g,...i}}const m=o?.controlConfiguration?.["@com.sap.vocabularies.UI.v1.SelectionFields"]??{};g=D(e.getInterface(1),g,m);return Object.keys(g).length>0?JSON.stringify(g).replace(/([{}])/g,"\\$1"):undefined}d.getFilterConditions=P;P.requiresIContext=true;function D(t,n,o){const i=t.getModel();const{filterFields:a={},useSemanticDateRange:c=true}=o;for(const o in n){try{const e=i.createBindingContext(`${t.getPath()}/${o}`);const d=e?.getObject();const l=a[o]?.settings;if(e){const i=r.operators(e,d,c,s.stringifyCustomData(l),t.getPath()||"");const a=i?i.split(","):[];n[o]=F(a,n[o],o)}}catch(t){const n=t instanceof Error?t.message:String(t);e.error(`FE : FilterBar : Error determining conditions for supported operators of property ${o} : ${n}`)}}return n}d.getConditionsOfSupportedOperators=D;function F(t,n,o){let r=n;const i=c.getSemanticDateOperations();if(t.length>0){r=n.filter(n=>{const r=n.operator;if(i.includes(r)&&!t.includes(r)){e.warning(`FE : FilterBar : ${r} not supported for property ${o}. Hence, not applied to FilterBar.`);return false}return true},[])}return r}return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/SemanticDateOperators", ["sap/fe/core/templating/DisplayModeFormatter","sap/fe/macros/filterBar/DefaultSemanticDateOperators","sap/fe/macros/filterBar/ExtendedSemanticDateOperators","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,n,r,a){"use strict";var o=e.ODATA_TYPE_MAPPING;const s=["TODAY","TOMORROW","YESTERDAY"];const i=["DATE","FROM","TO","DATERANGE"];function c(e,t){if(!t){return true}t=Array.isArray(t)?t:[t];const r=e["key"];const a=n.isExtendedOperator(r);let o;const s=t.some(function(t){let n;if(!t.path){return false}const r=e[t.path];const s=t.exclude??a??false;let i;if(t.contains&&r){i=t.contains.split(",");for(n=0;n<i.length;n++){if(s&&r.includes(i[n])){o=false;return true}else if(!s&&r.includes(i[n])){o=true;return true}}}if(t.equals&&r){i=t.equals.split(",");for(n=0;n<i.length;n++){if(s&&r===i[n]){o=false;return true}else if(!s&&r===i[n]){o=true;return true}}}return false});return s?o:!a}function l(e){return{...t.getOperatorsInfo(e),...n.getOperatorsInfo()}}const f={getBasicSemanticDateOperations:function(){return[...i]},getSemanticDateOperations:function(e){return[...t.getSemanticDateOperations(e),...n.getSemanticDateOperations()]},removeSemanticDateOperators:function(){},getFilterOperations:function(e,t){const n=[];const r=l(t);for(const t in r){const a=r[t];if(c(a,e)){n.push(a)}}return n.map(function(e){return e.key})},hasSemanticDateOperations:function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;const n=this.getSemanticDateOperations();for(const r in e){const a=e[r];const o=a.find(function(e){return n.includes(e.operator)});if(o){if(t){return true}else{return!i.includes(o.operator)}}}return false},getSemanticOpsFilterProperties:function(e){const t=[];for(const[n,r]of Object.entries(e)){const e=r[0].SemanticDates;if(e&&!i.includes(e.operator)){t.push({filterName:n,filterSemanticInfo:e,filterType:""})}}return t},getSemanticDateFiltersWithFlpPlaceholders(e,t){const i=[];const c={};e.forEach(e=>{let{filterName:l,filterSemanticInfo:f,filterType:u}=e;const p=t.find(e=>e.key===l);if(p&&p.typeConfig?.className){u=o[p.typeConfig?.className]}const d=f.operator;const m=f.high;const O=f.low;if(d){let e;const t=n.isExtendedOperator(d);const o=t?n.getCorrespondingSingleDateOperator(d):d;if((t||s.includes(d))&&u!=="Edm.DateTimeOffset"){const a=`${l}placeholder`;const s=t?n.getFilterOperator(d):"EQ";e=new r({path:l,operator:s,value1:a});c[a]=`{${u}%%DynamicDate.${o}%%}`}else{const s=[o,m,O].filter(e=>e!==undefined&&e!==null).join(".");const i=`${l}placeholderStart`;const f=`${l}placeholderEnd`;const p=`${u}%%DynamicDate.${s}`;const D=new r({path:l,operator:"GE",value1:i});const g=new r({path:l,operator:"LE",value1:f});if(t){const t=n.getFilterOperator(d);e=t===a.GE?D:g}else{e=new r({filters:[D,g],and:true})}c[i]=`{${p}.start%%}`;c[f]=`{${p}.end%%}`}i.push(e)}});return[c,i]},addSemanticDateOperators(){t.addSemanticDateOperators();n.addExtendedFilterOperators()}};return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/designtime/FilterBar.designtime.helper", ["sap/fe/macros/mdc/adapter/StateHelper"],function(e){"use strict";var t={};function n(){return"controlConfiguration/@com.sap.vocabularies.UI.v1.SelectionFields"}t.getPropertyPath=n;function o(){const e={id:"showClearButton",name:"RTA_CONFIGURATION_FILTERBAR_SHOWCLEARBUTTON_NAME",description:"RTA_CONFIGURATION_FILTERBAR_SHOWCLEARBUTTON_DESC",type:"boolean",value:false,keyUser:true};const t={id:"useSemanticDateRange",name:"RTA_CONFIGURATION_FILTERBAR_USESEMANTICDATERANGE_NAME",description:"RTA_CONFIGURATION_FILTERBAR_USESEMANTICDATERANGE_DESC",type:"boolean",value:true,keyUser:true};const n={id:"navigationProperties",name:"RTA_CONFIGURATION_FILTERBAR_NAVIGATIONPROPS_NAME",description:"RTA_CONFIGURATION_FILTERBAR_NAVIGATIONPROPS_DESC",type:"string[]",value:[]};return[e,t,n]}t.getDesigntimeSettings=o;function a(t,n,o){const a=e._getControlInfoForConversion(n);const i={showClearButton:false,useSemanticDateRange:false,navigationProperties:[]};t.forEach(function(e){switch(e.id){case"showClearButton":i.showClearButton=o.getContent()?.getProperty("showClearButton")||false;break;case"useSemanticDateRange":i.useSemanticDateRange=a.useSemanticDateRange||a.selectionFieldsConfigs?.useSemanticDateRange;break;case"navigationProperties":i.navigationProperties=a.selectionFieldsConfigs?.navigationProperties||[];break}});return i}t.getAdapationProperties=a;function i(e,t){const n=[];o().forEach(function(e){const o={label:e.name,tooltip:e.description,control:[],keyUser:e.keyUser};const a={type:e.type,enum:e.enums,value:t[e.id],id:e.id};o.control.push(a);n.push(o)});return n}t.getSettings=i;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/mixin/FilterBarAPIStateHandler", ["sap/base/Log","sap/fe/core/controllerextensions/viewState/IViewStateContributorMixin","sap/fe/core/library","sap/fe/navigation/library","sap/ui/Device","sap/ui/mdc/p13n/StateUtil"],function(t,e,a,n,i,r){"use strict";var o={};var s=n.NavType;var l=a.InitialLoadMode;function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,p(t,e)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}let f=function(e){function a(){return e.apply(this,arguments)||this}o=a;c(a,e);var n=a.prototype;n.applyLegacyState=async function t(e,a,n,i){const r=this.content;const o=e(r);const s={};if(o){s.innerState={...o,fullState:{...s.innerState?.fullState,...o.fullState},initialState:{...s.innerState?.initialState,...o.initialState}}}if(s&&Object.keys(s).length>0){await this.applyState(s,a,n,i)}};n.applyState=async function e(a,n,i,o){try{if(a&&n){const t=n.navigationType;if(t===s.hybrid&&a.innerState?.fullState!==undefined){const t=await this.convertSelectionVariantToStateFilters(n.selectionVariant,true);const e={...a.innerState?.fullState,filter:{...a.innerState?.fullState.filter,...t}};await this._clearFilterValuesWithOptions(this.content,{clearEditFilter:true});return await r.applyExternalState(this.content,e)}if(i){const t=await r.diffState(this.content,a.innerState?.initialState,a.innerState?.fullState);return await r.applyExternalState(this.content,t)}else if(o){await this._clearFilterValuesWithOptions(this.content,{clearEditFilter:true})}return await r.applyExternalState(this.content,a?.innerState?.fullState??a)}}catch(e){t.error(e)}finally{this._initialStatePromise.resolve()}};n.retrieveState=async function t(){const e={};e.innerState=this.getControlState(await r.retrieveExternalState(this.content));const a=this.content.getPropertyInfoSet();const n=e.innerState?.filter||{};a.filter(function(t){return Object.keys(n).length>0&&t.path&&n[t.path]&&(t.removeFromAppState||n[t.path].length===0)}).forEach(function(t){if(t.path){delete n[t.path]}});return e};n.setInitialState=async function e(){try{const t=await r.retrieveExternalState(this.content);this.initialControlState=t}catch(e){t.error(e)}};n.applyNavigationParameters=async function e(a){return new Promise(async e=>{try{const n=this.getPageController()?.getView();const r=this.getPageController();const o=r.getAppComponent();const c=o.getComponentData();const p=c&&c.startupParameters||{};const f=await this.handleVariantIdPassedViaURLParams(p);let u=false;if(f&&f?.length>0){if(f[0]===true||f[1]===true){u=true}}const h=this.getContent();const{selectionVariant:S,requiresStandardVariant:y=false}=a;if(!h||!S){e()}await this._applySelectionVariant(n,a,u);let g=false;const d=this._getFilterBarVM(n);if(h){if(a.navigationType!==s.initial&&y||!d&&n.getViewData().initialLoad===l.Enabled||r._shouldAutoTriggerSearch(d)){const t=h.getParent();t.triggerSearch()}else{g=this._preventInitialSearch(d)}if(!i.system.desktop){const t=n.getBindingContext("internal");const e=this.isSearchTriggeredByInitialLoad(a.navigationType);t.setProperty("searchTriggeredByInitialLoad",e)}this._enableFilterBar(h,g)}else{t.warning("Did not finish applying navigation parameters - Filter bar not found.")}e()}catch{e();t.warning("Could not apply navigation parameters.")}})};return a}(e);o=f;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/CustomFormElement", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/macros/Field"],function(e,t,r){"use strict";var i,n,o,a,l,u,s,c,f,p,d;var m={};var b=e.property;var h=e.implementInterface;var g=e.defineUI5Class;function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function F(e,t,r,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function E(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let P=(i=g("sap.fe.macros.form.CustomFormElement"),n=h("sap.ui.core.IFormContent"),o=b({type:"string",required:true}),a=b({type:"string"}),l=b({type:"string",required:true}),i(u=(s=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;y(i,"__implements__sap_ui_core_IFormContent",c,i);y(i,"metaPath",f,i);y(i,"contextPath",p,i);y(i,"formElementKey",d,i);return i}m=t;_(t,e);var i=t.prototype;i.getFormDoNotAdjustWidth=function e(){return this.content?.getFormDoNotAdjustWidth?.()??false};i.onMetadataAvailable=function e(){this.setUpSidesEffectHandlingForContent()};i.setUpSidesEffectHandlingForContent=function e(){if(!this.content||!this.metaPath){return}const t=this.getAppComponent();const r=this.getDataModelObjectForMetaPath(this.metaPath,this.contextPath);if(!t||!r){return}const i=t.getSideEffectsService();this.fieldGroupIds=i.computeFieldGroupIds(r.targetEntityType?.fullyQualifiedName??"",r.targetObject?.fullyQualifiedName??"");if(this.fieldGroupIds.length===0){return}this.fieldGroupIds.push(`fe_sideEffectHandling_${this.formElementKey}`);const n=this.content?.findAggregatedObjects(true,e=>e.isA("sap.ui.core.Control"))??[];for(const e of n){this.setUpSidesEffectHandlingForControl(e)}};i.setUpSidesEffectHandlingForControl=function e(t){if(t.getFieldGroupIds()?.length){return}t.setFieldGroupIds(this.fieldGroupIds);t.attachValidateFieldGroup(e=>{r.onValidateFieldGroup(e)})};return t}(t),c=F(s.prototype,"__implements__sap_ui_core_IFormContent",[n],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),f=F(s.prototype,"metaPath",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),p=F(s.prototype,"contextPath",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),d=F(s.prototype,"formElementKey",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||u);m=P;return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/Form.block", ["sap/fe/base/BindingToolkit","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/Form","sap/fe/core/converters/helpers/ID","sap/fe/core/helpers/BindingHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/form/FormHelper","sap/ui/core/library","sap/ui/model/odata/v4/AnnotationHelper"],function(e,t,a,i,n,r,o,l,s,u,c,p,m){"use strict";var f,b,h,d,y,g,v,P,C,$,L,F,x,T,S,I,w,M,A,z,E,B,O,k,j,D,U,_,N,X,V;var R={};var G=p.TitleLevel;var H=u.getContextRelativeTargetObjectPath;var q=s.UI;var Q=l.getFormContainerID;var W=o.createFormDefinition;var J=r.hasIdentificationTarget;var K=r.hasFieldGroupTarget;var Y=n.getInvolvedDataModelObjects;var Z=a.xml;var ee=t.defineBuildingBlock;var te=t.blockEvent;var ae=t.blockAttribute;var ie=t.blockAggregation;var ne=e.resolveBindingString;var re=e.ifElse;var oe=e.getExpressionFromAnnotation;var le=e.equal;var se=e.compileExpression;function ue(e,t,a,i){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(i):void 0})}function ce(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,pe(e,t)}function pe(e,t){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pe(e,t)}function me(e,t,a,i,n){var r={};return Object.keys(i).forEach(function(e){r[e]=i[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=a.slice().reverse().reduce(function(a,i){return i(e,t,a)||a},r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(e,t,r),null):r}function fe(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let be=(f=ee({name:"Form",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros",returnTypes:["sap.fe.macros.form.FormAPI"]}),b=ae({type:"string",isPublic:true,required:true}),h=ae({type:"sap.ui.model.Context",required:true,isPublic:true,expectedTypes:["EntitySet","NavigationProperty","Singleton","EntityType"]}),d=ae({type:"sap.ui.model.Context",isPublic:true,required:true,expectedAnnotationTypes:["com.sap.vocabularies.UI.v1.FieldGroupType","com.sap.vocabularies.UI.v1.CollectionFacet","com.sap.vocabularies.UI.v1.ReferenceFacet"],expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"]}),y=ae({type:"array"}),g=ae({type:"boolean"}),v=ae({type:"boolean"}),P=ae({type:"string",isPublic:true}),C=ae({type:"sap.ui.core.TitleLevel",isPublic:true}),$=ae({type:"string"}),L=ae({type:"string"}),F=ae({type:"string"}),x=te(),T=ie({type:"sap.fe.macros.form.FormElement",isPublic:true,slot:"formElements",isDefault:true}),S=ae({type:"object",isPublic:true}),f(I=(w=function(e){function t(t,a,i){var n;n=e.call(this,t,a,i)||this;ue(n,"id",M,n);ue(n,"contextPath",A,n);ue(n,"metaPath",z,n);ue(n,"formContainers",E,n);ue(n,"useFormContainerLabels",B,n);ue(n,"partOfPreview",O,n);ue(n,"title",k,n);ue(n,"titleLevel",j,n);ue(n,"ariaLabelledBy",D,n);ue(n,"displayMode",U,n);ue(n,"isVisible",_,n);ue(n,"onChange",N,n);ue(n,"formElements",X,n);ue(n,"layout",V,n);if(n.metaPath&&n.contextPath&&(n.formContainers===undefined||n.formContainers===null)){const e=Y(n.metaPath,n.contextPath);const t={};let a=e.targetObject;let r=false;if(a&&a.$Type==="com.sap.vocabularies.UI.v1.FieldGroupType"){r=true;a={$Type:"com.sap.vocabularies.UI.v1.ReferenceFacet",Label:a.Label,Target:{$target:a,fullyQualifiedName:a.fullyQualifiedName,path:"",term:"",type:"AnnotationPath",value:H(e)},annotations:{},fullyQualifiedName:a.fullyQualifiedName};t[a.Target.value]={fields:n.formElements}}const o=n.getConverterContext(e,undefined,i,t);const l=W(a,n.isVisible,o);if(r){l.formContainers[0].annotationPath=n.metaPath.getPath()}n.formContainers=l.formContainers;n.useFormContainerLabels=l.useFormContainerLabels;n.facetType=a&&a.$Type}else{n.facetType=n.metaPath.getObject()?.$Type}if(!n.isPublic){n._apiId=n.createId("Form");n._contentId=n.id}else{n._apiId=n.id;n._contentId=`${n.id}-content`}if(n.displayMode!==undefined){n._editable=se(re(le(ne(n.displayMode,"boolean"),false),true,false))}else{n._editable=se(q.IsEditable)}return n}R=t;ce(t,e);var a=t.prototype;a.getDataFieldCollection=function e(t,a){const i=Y(a).targetObject;let n;let r;if(i.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){n=m.getNavigationPath(i.Target.value);r=i}else{const e=this.contextPath.getPath();let t=a.getPath();if(t.startsWith(e)){t=t.substring(e.length);if(t.charAt(0)==="/"){t=t.slice(1)}}n=m.getNavigationPath(t);r=t}const o=c.getFormContainerTitleLevel(this.title,this.titleLevel);const l=this.useFormContainerLabels&&i.Label?oe(i.Label):"";const s=this.id?Q(r):undefined;return Z`
					<macro:FormContainer
					xmlns:macro="sap.fe.macros"
					${this.attr("id",s)}
					title="${l}"
					titleLevel="${o}"
					contextPath="${n?t.entitySet:this.contextPath}"
					metaPath="${a}"
					dataFieldCollection="${t.formElements}"
					navigationPath="${n}"
					visible="${t.isVisible}"
					displayMode="${this.displayMode}"
					onChange="${this.onChange}"
					actions="${t.actions}"
					useSingleTextAreaFieldAsNotes="${t.useSingleTextAreaFieldAsNotes}"
					hasUiHiddenAnnotation="${t.annotationHidden}"
				>
				<macro:formElements>
					<slot name="formElements" />
				</macro:formElements>
			</macro:FormContainer>`};a.getFormContainers=function e(){if(this.formContainers.length===0){return""}if(this.facetType?.includes("com.sap.vocabularies.UI.v1.CollectionFacet")){return this.formContainers.map((e,t)=>{if(e.isVisible){const a=this.contextPath.getModel().createBindingContext(e.annotationPath,this.contextPath);const i=a.getObject();if(i.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&c.isReferenceFacetPartOfPreview(i,this.partOfPreview)){if(i.Target.$AnnotationPath.$Type==="com.sap.vocabularies.Communication.v1.AddressType"){return Z`<template:with path="formContainers>${t}" var="formContainer">
											<template:with path="formContainers>${t}/annotationPath" var="facet">
												<core:Fragment fragmentName="sap.fe.macros.form.AddressSection" type="XML" />
											</template:with>
										</template:with>`}return this.getDataFieldCollection(e,a)}}return""})}else if(this.facetType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){return this.formContainers.map(e=>{if(e.isVisible){const t=this.contextPath.getModel().createBindingContext(e.annotationPath,this.contextPath);return this.getDataFieldCollection(e,t)}else{return""}})}return""};a.checkIfTextAreaIsAlone=function e(){if(this.formContainers.length===1){if(this.formContainers[0].formElements.length===1){const e=Y(this.contextPath.getModel().createBindingContext(this.formContainers[0].annotationPath,this.contextPath)).targetObject;let t;let a;if(e.$Type==="com.sap.vocabularies.UI.v1.FieldGroupType"){t=e}else if(K(e)){t=e?.Target?.$target}else if(J(e)){a=e?.Target?.$target}if(t?.Data.length===1){return t.Data[0]?.Value?.$target?.annotations?.UI?.MultiLineText?.valueOf()===true}if(a?.length===1){return a[0]?.Value?.$target?.annotations?.UI?.MultiLineText?.valueOf()===true}}}return false};a.getLayoutInformation=function e(t){switch(this.layout.type){case"ResponsiveGridLayout":return Z`<f:ResponsiveGridLayout adjustLabelSpan="${this.layout.adjustLabelSpan}"
													breakpointL="${this.layout.breakpointL}"
													breakpointM="${this.layout.breakpointM}"
													breakpointXL="${this.layout.breakpointXL}"
													columnsL="${t?1:this.layout.columnsL}"
													columnsM="${t?1:this.layout.columnsM}"
													columnsXL="${t?1:this.layout.columnsXL}"
													emptySpanL="${this.layout.emptySpanL}"
													emptySpanM="${this.layout.emptySpanM}"
													emptySpanS="${this.layout.emptySpanS}"
													emptySpanXL="${this.layout.emptySpanXL}"
													labelSpanL="${this.layout.labelSpanL}"
													labelSpanM="${this.layout.labelSpanM}"
													labelSpanS="${this.layout.labelSpanS}"
													labelSpanXL="${this.layout.labelSpanXL}"
													singleContainerFullSize="${this.layout.singleContainerFullSize}" />`;case"ColumnLayout":default:return Z`<f:ColumnLayout
								columnsM="${t?1:this.layout.columnsM}"
								columnsL="${t?1:this.layout.columnsL}"
								columnsXL="${t?1:this.layout.columnsXL}"
								labelCellsLarge="${this.layout.labelCellsLarge}"
								emptyCellsLarge="${this.layout.emptyCellsLarge}" />`}};a.getTemplate=function e(){const t=this.onChange&&this.onChange.replace("{","\\{").replace("}","\\}")||"";const a=this.metaPath.getPath();const i=this.contextPath.getPath();const n=Y(this.metaPath,this.contextPath);const r=n.contextLocation?.targetEntitySet?._type==="EntitySet"?"{contextPath>@sapui.name}":undefined;const o=this.checkIfTextAreaIsAlone();if(!this.isVisible){return""}else{return Z`<macro:FormAPI xmlns:macro="sap.fe.macros.form"
					xmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
					xmlns:f="sap.ui.layout.form"
					xmlns:fl="sap.ui.fl"
					xmlns:dt="sap.ui.dt"
					xmlns:coreControls="sap.fe.core.controls"
					id="${this._apiId}"
					metaPath="${a}"
					contextPath="${i}">
				<f:Form
					fl:delegate='{
						"name": "sap/fe/macros/form/FormDelegate",
						"delegateType": "complete"
					}'
					dt:designtime="sap/fe/macros/form/Form.designtime"
					id="${this._contentId}"
					editable="${this._editable}"
					macrodata:entitySet="${r}"
					visible="${this.isVisible}"
					class="sapUxAPObjectPageSubSectionAlignContent"
					macrodata:navigationPath="${i}"
					macrodata:onChange="${t}"
					ariaLabelledBy="${this.ariaLabelledBy}"
				>
					${this.addConditionally(this.title!==undefined,Z`<f:title>
							<core:Title level="${this.titleLevel}" text="${this.title}" />
						</f:title>`)}
					<f:layout>
					${this.getLayoutInformation(o)}

					</f:layout>
					<f:formContainers>
						${this.getFormContainers()}
					</f:formContainers>
					<f:dependents>
						<coreControls:HideFormGroupAutomatically />
					</f:dependents>
				</f:Form>
			</macro:FormAPI>`}};return t}(i),M=me(w.prototype,"id",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),A=me(w.prototype,"contextPath",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),z=me(w.prototype,"metaPath",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),E=me(w.prototype,"formContainers",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),B=me(w.prototype,"useFormContainerLabels",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),O=me(w.prototype,"partOfPreview",[v],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),k=me(w.prototype,"title",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),j=me(w.prototype,"titleLevel",[C],{configurable:true,enumerable:true,writable:true,initializer:function(){return G.Auto}}),D=me(w.prototype,"ariaLabelledBy",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),U=me(w.prototype,"displayMode",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),_=me(w.prototype,"isVisible",[F],{configurable:true,enumerable:true,writable:true,initializer:function(){return"true"}}),N=me(w.prototype,"onChange",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),X=me(w.prototype,"formElements",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),V=me(w.prototype,"layout",[S],{configurable:true,enumerable:true,writable:true,initializer:function(){return{type:"ColumnLayout",columnsM:3,columnsXL:6,columnsL:4,labelCellsLarge:12}}}),w))||I);R=be;return R},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/FormAPI", ["sap/fe/base/ClassSupport","sap/m/Title","../MacroAPI","./FormContainerAPI"],function(e,t,r,i){"use strict";var n,o,a,l,c,u,s,f,p,b,g;var m=e.property;var v=e.implementInterface;var y=e.defineUI5Class;function d(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,h(e,t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function T(e,t,r,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function z(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let P=(n=y("sap.fe.macros.form.FormAPI"),o=v("sap.fe.macros.controls.section.ISingleSectionContributor"),a=m({type:"string"}),l=m({type:"string",expectedAnnotations:["@com.sap.vocabularies.UI.v1.FieldGroup","@com.sap.vocabularies.UI.v1.CollectionFacet","@com.sap.vocabularies.UI.v1.ReferenceFacet"],expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"]}),c=m({type:"string"}),n(u=(s=function(e){function r(){var t;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++){i[n]=arguments[n]}t=e.call(this,...i)||this;d(t,"__implements__sap_fe_macros_controls_section_ISingleSectionContributor",f,t);d(t,"id",p,t);d(t,"metaPath",b,t);d(t,"title",g,t);return t}_(r,e);var n=r.prototype;n.getSectionContentRole=function e(){return"provider"};n.getDataFromProvider=function e(r){const n=this.content;const o=n.getFormContainers();if(r&&o.length){o.forEach(e=>{i.setTextAreaLabelVisibility(e)})}let a="";if(o.length===1){const e=n.getTitle()?.getText();if(e){a=e;n.setTitle("");return{title:a}}const r=o[0]?.getTitle()?.getText();if(r&&r!==""){a=r}let i;o[0].getAggregation("toolbar")?.getContent().forEach(function(e){if(e.isA("sap.m.Title")){i=e;const t=e.getText();if(t&&t!=""){a=e.getText()}}});if(a&&a!==""){o[0]?.setTitle("");i?.setTitle(new t(""));return{title:a}}}return{title:a}};return r}(r),f=T(s.prototype,"__implements__sap_fe_macros_controls_section_ISingleSectionContributor",[o],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),p=T(s.prototype,"id",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),b=T(s.prototype,"metaPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),g=T(s.prototype,"title",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||u);return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/FormContainer.block", ["sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/Common/Form","sap/fe/core/templating/DataModelPathHelper"],function(e,t,r,i,n){"use strict";var a,l,o,u,c,p,s,b,f,m,g,y,d,v,h,z,P,w,C,x,E,F,O,j,k,A,S,T,B,N,M,L,D,Q,_;var H={};var U=n.getContextRelativeTargetObjectPath;var q=i.createFormDefinition;var I=r.getInvolvedDataModelObjects;var R=e.defineBuildingBlock;var $=e.blockEvent;var G=e.blockAttribute;var J=e.blockAggregation;function K(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function V(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,W(e,t)}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}function X(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function Y(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let Z=(a=R({name:"FormContainer",namespace:"sap.fe.macros",fragment:"sap.fe.macros.form.FormContainer"}),l=G({type:"string"}),o=G({type:"sap.ui.model.Context",required:true,isPublic:true,expectedTypes:["EntitySet","NavigationProperty","EntityType","Singleton"]}),u=G({type:"sap.ui.model.Context"}),c=G({type:"sap.ui.model.Context",isPublic:true,required:true}),p=G({type:"array"}),s=G({type:"boolean"}),b=G({type:"string"}),f=G({type:"sap.ui.core.TitleLevel",isPublic:true}),m=G({type:"string"}),g=G({type:"string"}),y=G({type:"boolean"}),d=G({type:"string"}),v=G({type:"array"}),h=G({type:"boolean"}),z=J({type:"sap.fe.macros.form.FormElement"}),P=$(),a(w=(C=function(e){function t(t,r,i){var n;n=e.call(this,t)||this;K(n,"id",x,n);K(n,"contextPath",E,n);K(n,"entitySet",F,n);K(n,"metaPath",O,n);K(n,"dataFieldCollection",j,n);K(n,"displayMode",k,n);K(n,"title",A,n);K(n,"titleLevel",S,n);K(n,"navigationPath",T,n);K(n,"visible",B,n);K(n,"hasUiHiddenAnnotation",N,n);K(n,"designtimeSettings",M,n);K(n,"actions",L,n);K(n,"useSingleTextAreaFieldAsNotes",D,n);K(n,"formElements",Q,n);K(n,"onChange",_,n);n.entitySet=n.contextPath;if(n.formElements&&Object.keys(n.formElements).length>0){const e=I(n.metaPath,n.contextPath);const t={};let r=e.targetObject;r={$Type:"com.sap.vocabularies.UI.v1.ReferenceFacet",Label:r?.Label,Target:{$target:r,fullyQualifiedName:r?.fullyQualifiedName,path:"",term:"",type:"AnnotationPath",value:U(e)},annotations:{},fullyQualifiedName:r?.fullyQualifiedName};t[r.Target.value]={fields:n.formElements};const a=n.getConverterContext(e,undefined,i,t);const l=q(r,"true",a);n.dataFieldCollection=l.formContainers[0].formElements}return n}H=t;V(t,e);return t}(t),x=X(C.prototype,"id",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),E=X(C.prototype,"contextPath",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),F=X(C.prototype,"entitySet",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),O=X(C.prototype,"metaPath",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),j=X(C.prototype,"dataFieldCollection",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),k=X(C.prototype,"displayMode",[s],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),A=X(C.prototype,"title",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),S=X(C.prototype,"titleLevel",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return"Auto"}}),T=X(C.prototype,"navigationPath",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),B=X(C.prototype,"visible",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),N=X(C.prototype,"hasUiHiddenAnnotation",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),M=X(C.prototype,"designtimeSettings",[d],{configurable:true,enumerable:true,writable:true,initializer:function(){return"sap/fe/macros/form/FormContainer.designtime"}}),L=X(C.prototype,"actions",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),D=X(C.prototype,"useSingleTextAreaFieldAsNotes",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),Q=X(C.prototype,"formElements",[z],{configurable:true,enumerable:true,writable:true,initializer:function(){return{}}}),_=X(C.prototype,"onChange",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),C))||w);H=Z;return H},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/FormContainerAPI", ["sap/fe/base/ClassSupport","sap/fe/core/helpers/StableIdHelper","sap/fe/macros/Field","sap/m/Label","sap/ui/core/InvisibleText","sap/ui/layout/form/ColumnElementData","../MacroAPI"],function(e,t,i,r,n,o,a){"use strict";var l,s,c,u,f,b,p,d,g;var m=t.generate;var v=e.xmlEventHandler;var y=e.property;var h=e.defineUI5Class;function I(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function x(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,D(e,t)}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function T(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function C(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let E=(l=h("sap.fe.macros.form.FormContainerAPI"),s=y({type:"string"}),c=y({type:"boolean"}),u=v(),l(f=(b=(g=function(e){function t(t){var i;i=e.call(this,t)||this;I(i,"formContainerId",p,i);I(i,"showDetails",d,i);i.setParentBindingContext("internal",`controls/${i.formContainerId}`);return i}x(t,e);var a=t.prototype;a.onMetadataAvailable=function e(t){const i=t.getRootController()?.getView();if(!i){return}let r=i.byId(this.formContainerId);if(r){this.setFormElementsInvisibleTextsToStatic(r)}else{i.attachEventOnce("afterRendering",function(){r=i.byId(this.formContainerId);if(r){this.setFormElementsInvisibleTextsToStatic(r)}}.bind(this))}};a.setFormElementsInvisibleTextsToStatic=function e(t){const i=t.getFormElements();i.forEach(e=>{const t=e.getDependents();t.forEach(e=>{if(e.isA("sap.ui.core.InvisibleText")){e.toStatic()}})})};t.setInvisibleTextWhereTextAreaLabelIsHidden=function e(t,i){t.addDependent(new n(m([i.getId(),"FormElementAriaText"]),{text:t.getLabel()}));t.setLabel(new r(m([i.getId(),"FormElementLabel"]),{text:t.getLabel(),visible:false,layoutData:new o({cellsLarge:12})}));i.addAriaLabelledBy(m([i.getId(),"FormElementAriaText"]))};t.setTextAreaLabelVisibility=function e(t){const r=t.getFormElements();const n=r.filter(e=>e.getVisible());if(n.length===1){const e=n[0].getFields();if(e.length===1){const t=i.getControlInFieldWrapper(e[0].getContent());const r=t?.isA("sap.fe.macros.field.TextAreaEx");const o=e[0].getRequired()===true;const a=(t?.getParent()).editMode;if(r&&o&&a!=="Display"){n[0].getLabelControl().setVisible(true)}if(a==="Display"){n[0].getLabelControl().setVisible(false)}const l=n[0].getLabelControl().getVisible();const s=n[0].getDependents();const c=s.find(e=>e.isA("sap.ui.core.InvisibleText"));if(!l&&!c){this.setInvisibleTextWhereTextAreaLabelIsHidden(n[0],e[0])}}}};a.toggleDetails=function e(){this.showDetails=!this.showDetails};return t}(a),g.isDependentBound=true,g),p=T(b.prototype,"formContainerId",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),d=T(b.prototype,"showDetails",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),T(b.prototype,"toggleDetails",[u],Object.getOwnPropertyDescriptor(b.prototype,"toggleDetails"),b.prototype),b))||f);return E},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/FormDelegate", ["sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/ui/model/ListBinding","sap/ui/model/json/JSONModel"],function(e,t,o,a){"use strict";const n={createLayout:async function(o){const n=o.modifier,i=o.appComponent?.getMetaModel(),r=o.element;let s=await t.getCustomDataWithModifier(r,"entitySet",n);if(!s){s=await t.getCustomDataWithModifier(r,"navigationPath",n)}const c=s.startsWith("/")?`${s}`:`/${s}`;const d=o.parentSelector?o.modifier.bySelector(o.parentSelector,o.appComponent,o.view):undefined;const l=d?await t.getCustomDataWithModifier(d,"navigationPath",n):"";const m=l?`${c}/${l}`:c;const p=i?.getMetaContext(m);const u=i?.createBindingContext(`${m}/${o.bindingPath}`);async function f(s,c,d){const l=await t.getCustomDataWithModifier(r,"onChange",n);const m=await t.getCustomDataWithModifier(r,"displayMode",n);const f=new a({_flexId:o.fieldSelector?.id,onChange:e.removeEscapeCharacters(l),displayMode:e.removeEscapeCharacters(m),navigationPath:d});const g={bindingContexts:{entitySet:p,dataField:u,this:f.createBindingContext("/")},models:{this:f,entitySet:i,metaModel:i,dataField:i},appComponent:o.appComponent};return t.templateControlFragment(s,g,{view:c},n)}const g=await f("sap.fe.macros.form.FormElementFlexibility",o.view,l);return{control:g}},getPropertyInfo:async function(e){function t(e){if(e&&e.$Type){if(e.$Type.toLowerCase().indexOf("edm")!==0){return true}}return false}function a(e,t){return t.some(function(t){return e.startsWith(t)})}function n(e,n,i,r,s,c,d){const l={name:e,bindingPath:e,entityType:r};const m=i["@com.sap.vocabularies.UI.v1.DataFieldDefault"];const p=m&&m.Label||i["@com.sap.vocabularies.Common.v1.Label"];l.label=p||"[LABEL_MISSING: "+e+"]";const u=i["@com.sap.vocabularies.UI.v1.Hidden"];l.hideFromReveal=u;if(u&&u.$Path){l.hideFromReveal=s.getBindingContext()?.getProperty(u.$Path)}if(!l.hideFromReveal){l.hideFromReveal=i["@com.sap.vocabularies.UI.v1.AdaptationHidden"]}let f;if(!l.hideFromReveal){f=i["@com.sap.vocabularies.Common.v1.FieldControl"];if(f){l.hideFromReveal=f.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Hidden"}}f=i["@com.sap.vocabularies.Common.v1.FieldControl"];const g=f&&f.$Path;if(g&&!l.hideFromReveal){const e=s.getBinding(c)instanceof o;if(!e){const e=s.getBindingContext()?.getProperty(g);l.hideFromReveal=e===0}}if(m&&(m.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||m.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||m.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction"||m.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation")){l.unsupported=true}if(a(e,d)||t(n)){l.unsupported=true}return l}function i(e,t,o,a,i){const r=[];let s="";const c=[];let d;for(s in e){d=e[s];if(d.$kind==="NavigationProperty"){c.push(s)}}for(s in e){d=e[s];if(d.$kind==="Property"){const e=o.getObject("/"+t+"/"+s+"@");const l=n(s,d,e,t,a,i,c);r.push(l)}}return r}function r(e,t){if(t.path){return t.path}const o=e.getBindingContext();if(o){if(e.data("navigationPath")){return o.getPath()+"/"+e.data("navigationPath")}return o.getPath()}}async function s(e,t,o){const a=e.getModel(o.modelName);if(a){if(a.isA("sap.ui.model.odata.v4.ODataModel")){const n=a.getMetaModel();const s=r(e,o);if(s){const o=n.getMetaContext(s);const a=o.getObject();const r=o.getObject(a.$Type);return i(r,a.$Type,n,e,t)}}}return Promise.resolve([])}return Promise.resolve().then(async function(){return s(e.element,e.aggregationName,e.payload)})}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/FormElement.block", ["sap/base/Log","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/fe/core/converters/MetaModelConverter"],function(e,t,i,r,a){"use strict";var l,n,o,u,c,s,b,p,d,f,m,v,g,h,y,P,F,z,k;var B={};var I=a.getInvolvedDataModelObjects;var x=i.xml;var w=t.defineBuildingBlock;var D=t.blockEvent;var E=t.blockAttribute;var O=t.blockAggregation;function j(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function U(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$(e,t)}function $(e,t){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$(e,t)}function T(e,t,i,r,a){var l={};return Object.keys(r).forEach(function(e){l[e]=r[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},l),a&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(a):void 0,l.initializer=void 0),void 0===l.initializer?(Object.defineProperty(e,t,l),null):l}function A(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let N=(l=w({name:"FormElement",publicNamespace:"sap.fe.macros",returnTypes:["sap.ui.layout.form.FormElement"]}),n=E({type:"string",isPublic:true,required:true}),o=E({type:"sap.ui.model.Context",isPublic:true,required:true,expectedTypes:["EntitySet","NavigationProperty","Singleton","EntityType"]}),u=E({type:"sap.ui.model.Context",isPublic:true,required:true,expectedTypes:["Property"],expectedAnnotationTypes:["com.sap.vocabularies.UI.v1.DataField","com.sap.vocabularies.UI.v1.DataFieldWithUrl","com.sap.vocabularies.UI.v1.DataFieldForAnnotation","com.sap.vocabularies.UI.v1.DataFieldForAction","com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation","com.sap.vocabularies.UI.v1.DataFieldWithAction","com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation","com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath","com.sap.vocabularies.UI.v1.DataPointType"]}),c=E({type:"string",isPublic:true}),s=E({type:"boolean",isPublic:true}),b=E({type:"string",isPublic:true}),p=O({type:"sap.ui.core.Control",slot:"fields",isPublic:true,isDefault:true}),d=D(),l(f=(m=function(t){function i(i,r,a){var l;l=t.call(this,i,r,a)||this;j(l,"id",v,l);j(l,"contextPath",g,l);j(l,"metaPath",h,l);j(l,"label",y,l);j(l,"visible",P,l);j(l,"key",F,l);j(l,"fields",z,l);j(l,"change",k,l);const n=I(l.metaPath,l.contextPath);if(!n.targetObject){e.error(`No target object found for the given path ${l.metaPath.getPath()} on the FormElement`)}if(l.label===undefined){l.label=n.targetObject?.annotations.Common?.Label?.toString()??""}return l}B=i;U(i,t);var r=i.prototype;r.getFields=function e(){if(this.fields){return x`<slot name="fields" />`}else{return x`<macros:Field
						metaPath="${this.metaPath?.getPath()}"
						contextPath="${this.contextPath?.getPath()}"
						vhIdPrefix="FieldValueHelp"
						change="${this.change}"
						id="${this.createId("FormElementField")}" />`}};r.getTemplate=function e(){return x`<f:FormElement xmlns:f="sap.ui.layout.form" id="${this.id}"
			key="${this.key}"
			label="${this.label}"
			visible="${this.visible}">
			<f:fields>
				${this.getFields()}
			</f:fields>
		</f:FormElement>`};return i}(r),v=T(m.prototype,"id",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),g=T(m.prototype,"contextPath",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),h=T(m.prototype,"metaPath",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),y=T(m.prototype,"label",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),P=T(m.prototype,"visible",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),F=T(m.prototype,"key",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),z=T(m.prototype,"fields",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),k=T(m.prototype,"change",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||f);B=N;return B},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/FormHelper", ["sap/fe/core/helpers/ModelHelper","sap/ui/core/library"],function(e,t){"use strict";var n=t.TitleLevel;const r={isReferenceFacetPartOfPreview:function(e,t){t=t.toString();if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){const n=e["@com.sap.vocabularies.UI.v1.PartOfPreview"];return t==="true"&&n!==false||t==="false"&&n===false}return false},create$Select:function(e,t){let n="";n=(e||[]).map(e=>e.value).join(",");if(n){n+=t?.length?","+t.join(","):""}else{n=t?.length?t.join(","):n}return n},generateBindingExpression:function(t,n){const a=n?.targetEntityType?.annotations?.Common?.SemanticKey;const i=e.getAlternateAndSecondaryKeys(n?.targetEntityType,n?.targetEntitySet);if(!t){return undefined}const s={path:t||""};if(a||i?.length){s.parameters={$select:r.create$Select(a,i)}}return JSON.stringify(s)},getFormContainerTitleLevel:function(e,t){if(!e){return t}switch(t){case n.H1:return n.H2;case n.H2:return n.H3;case n.H3:return n.H4;case n.H4:return n.H5;case n.H5:case n.H6:return n.H6;default:return n.Auto}}};return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/formatters/TableFormatter", ["sap/base/Log","sap/base/util/ObjectPath","sap/fe/core/CommonUtils","sap/fe/core/helpers/SizeHelper","sap/fe/macros/DelegateUtil","sap/fe/macros/table/TableSizeHelper","sap/ui/core/message/MessageType","sap/ui/mdc/enums/FieldEditMode"],function(e,t,n,r,a,i,s,o){"use strict";const l=function(e){switch(e){case"Error":return 4;case"Warning":return 3;case"Information":return 2;case"None":return 1;default:return-1}};const f=function(e){if(!e){return false}const t=Object.keys(e);return t.length>0&&t.every(function(t){return e[t]["validity"]})};f.__functionName="sap.fe.macros.formatters.TableFormatter#validateCreationRowFields";const u=function(e,t,n,r){let a=false;if(t&&t.length>0&&(r||n===e)){const e=this.getBindingContext()?this.getBindingContext()?.getPath():undefined;t.forEach(t=>{if(t.getType()==="Error"&&e&&t.getTargets()[0].indexOf(e)===0){a=true;return a}})}return a};u.__functionName="sap.fe.macros.formatters.TableFormatter#getErrorStatusTextVisibilityFormatter";const c=function(t,n,r,a,i,o,f){let u=-1;if(n&&n.length>0){const e=this.getBindingContext()?.getPath();n.forEach(n=>{if(e&&n.getTargets()[0].indexOf(e)===0&&u<l(n.getType())){u=l(n.getType());t=n.getType()}})}if(typeof t!=="string"){switch(t){case 1:t=s.Error;break;case 2:t=s.Warning;break;case 3:t=s.Success;break;case 5:t=s.Information;break;default:t=s.None}}if(!Object.values(s).includes(t)){e.error(`'${t}' isn't a valid value for a row highlight.`);return s.None}if(t!==s.None){return t}const c=!r&&!a&&!f;return i==="true"&&c?s.Information:s.None};c.__functionName="sap.fe.macros.formatters.TableFormatter#rowHighlighting";const g=function(e){const t=this.getBindingContext()?.getPath();if(t&&e){return e.indexOf(t)===0}else{return false}};g.__functionName="sap.fe.macros.formatters.TableFormatter#navigatedRow";const m=function(e,t,n){let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;let l=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;let f=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let u=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;if(!t){return null}const c=this.getParent();let g;if(c?.getParent()?.isA("sap.ui.mdc.valuehelp.content.MDCTable")){g=a.getCachedProperties(this.getParent())}else{g=c.getParent().getEnhancedFetchedPropertyInfos()}if(!g)return null;const m=g.find(e=>e.key===n);if(!m)return null;let d=i.getMDCColumnWidthFromProperty(m,g,l,f,u);const p=m.exportSettings?.unit||m.exportSettings?.timezone;d+=p?r.getButtonWidth(p):0;if(e===o.Editable){switch(m.typeConfig?.baseType){case"Date":case"Time":case"DateTime":d+=2.8;break;default:}}if(s){return d+"rem"}return d};m.__functionName="sap.fe.macros.formatters.TableFormatter#getColumnWidth";const d=function(e,t,r){let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const i=n.isSmallDevice();const s=!i;return i&&r||!i&&!r?C.getColumnWidth.call(this,o.Display,e,t,s,a):null};d.__functionName="sap.fe.macros.formatters.TableFormatter#getColumnWidthForValueHelpTable";function p(e){if(e.isA("sap.fe.macros.controls.FieldWrapper")){const t=Array.isArray(e.getContentDisplay())?e.getContentDisplay()[0]:e.getContentDisplay();if(t&&t.isA("sap.m.RatingIndicator")){return true}}return false}function h(e,t){const n=Array.isArray(e.getContentDisplay())?e.getContentDisplay()[0]:e.getContentDisplay();const r=Array.isArray(e.getContentEdit())?e.getContentEdit()[0]:e.getContentEdit();if(t){n.addStyleClass("sapUiNoMarginBottom");n.addStyleClass("sapUiNoMarginTop");r.removeStyleClass("sapUiTinyMarginBottom")}else{n.addStyleClass("sapUiNoMarginBottom");n.removeStyleClass("sapUiNoMarginTop");r.addStyleClass("sapUiTinyMarginBottom")}}function y(){const e=this.getItems();let t=false;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++){r[a]=arguments[a]}for(let n=e.length-1;n>=0;n--){if(!t){if(r[n]!==true){t=true;if(p(e[n])){h(e[n],true)}else{e[n].removeStyleClass("sapUiTinyMarginBottom")}}}else if(p(e[n])){h(e[n],false)}else{e[n].addStyleClass("sapUiTinyMarginBottom")}}return true}y.__functionName="sap.fe.macros.formatters.TableFormatter#getVBoxVisibility";const C=function(e){if(C.hasOwnProperty(e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++){n[r-1]=arguments[r]}return C[e].apply(this,n)}else{return""}};C.validateCreationRowFields=f;C.rowHighlighting=c;C.navigatedRow=g;C.getErrorStatusTextVisibilityFormatter=u;C.getVBoxVisibility=y;C.isRatingIndicator=p;C.getColumnWidth=m;C.getColumnWidthForValueHelpTable=d;t.set("sap.fe.macros.formatters.TableFormatter",C);return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/fpm/CustomFragment.block", ["sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase"],function(e,t,r){"use strict";var i,n,a,o,l,u,c,s,m,p,f;var g={};var b=t.xml;var d=e.defineBuildingBlock;var h=e.blockAttribute;var y=e.blockAggregation;function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function C(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,k(e,t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function z(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function B(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let x=(i=d({name:"CustomFragment",namespace:"sap.fe.macros.fpm"}),n=h({type:"string",required:true}),a=h({type:"sap.ui.model.Context",required:false}),o=h({type:"string",required:true}),l=y({type:"sap.ui.core.CustomData",slot:"childCustomData"}),i(u=(c=function(e){function t(t,r,i){var n;n=e.call(this,t,r,i)||this;v(n,"id",s,n);v(n,"contextPath",m,n);v(n,"fragmentName",p,n);v(n,"childCustomData",f,n);return n}g=t;C(t,e);var r=t.prototype;r.getTemplate=function e(){const t=this.fragmentName+"-JS".replace(/\//g,".");const r=this.childCustomData;const i={};let n=r?.firstElementChild;while(n){const e=n.getAttribute("key");if(e!==null){i[e]=n.getAttribute("value")}n=n.nextElementSibling}return b`<macros:CustomFragmentFragment
			xmlns:compo="http://schemas.sap.com/sapui5/extension/sap.ui.core.xmlcomposite/1"
			xmlns:macros="sap.fe.macros.fpm"
			fragmentName="${t}"
			${this.attr("childCustomData",Object.keys(i).length?JSON.stringify(i):undefined)}
			id="${this.id}"
			type="CUSTOM"
			contextPath="${this.contextPath?.getPath()}"
		>
			<compo:fragmentContent>
				<core:FragmentDefinition>
					<core:Fragment fragmentName="${this.fragmentName}" type="XML"/>
				</core:FragmentDefinition>
			</compo:fragmentContent>
		</macros:CustomFragmentFragment>`};return t}(r),s=z(c.prototype,"id",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),m=z(c.prototype,"contextPath",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),p=z(c.prototype,"fragmentName",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),f=z(c.prototype,"childCustomData",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||u);g=x;return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/fpm/CustomFragmentFragment", ["sap/fe/base/ClassSupport","sap/ui/core/Fragment"],function(e,r){"use strict";var t,i,n,a,o,l,u;var c={};var s=e.property;var f=e.defineUI5Class;function p(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function b(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,d(e,r)}function d(e,r){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},d(e,r)}function m(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function v(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let y=(t=f("sap.fe.macros.fpm.CustomFragmentFragment"),i=s({type:"string"}),n=s({type:"string"}),t(a=(o=function(e){function r(){var r;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}r=e.call(this,...i)||this;p(r,"childCustomData",l,r);p(r,"contextPath",u,r);return r}c=r;b(r,e);return r}(r),l=m(o.prototype,"childCustomData",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),u=m(o.prototype,"contextPath",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),o))||a);c=y;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/header/HeaderAvatar", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/TitleHelper","sap/m/Avatar","sap/m/AvatarImageFitType","sap/m/AvatarSize","sap/m/LightBox","sap/m/LightBoxItem","../field/FieldTemplating","./HeaderHelper","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,r,a,n,l,o,s,c,u){"use strict";var p,f,b,d,g,y,h,m,v,z,w;var x={};var S=s.getTextBindingExpression;var I=i.getTitleBindingExpression;var O=e.property;var j=e.defineUI5Class;function B(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function C(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,k(e,t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function E(e,t,i,r,a){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function P(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let T=(p=j("sap.fe.macros.header.HeaderAvatar"),f=O({type:"string",isBindingInfo:true}),b=O({type:"string"}),d=O({type:"string"}),g=O({type:"string"}),p(y=(h=function(e){function t(t,i){var r;r=e.call(this,t,i)||this;B(r,"src",m,r);B(r,"initials",v,r);B(r,"fallbackIcon",z,r);B(r,"displayShape",w,r);r.content=r.createContent();return r}x=t;C(t,e);var i=t.prototype;i.createContent=function e(){if(!this.src){return}const t=this._getOwner();const i=this.getDataModelObjectPath(t?.preprocessorContext?.fullContextPath);const s=i?.targetEntityType?.annotations?.UI?.HeaderInfo;const p=u(r,{src:this.src,initials:this.initials,fallbackIcon:this.fallbackIcon,displayShape:this.displayShape,displaySize:n.S,imageFitType:a.Cover,children:{detailBox:u(l,{children:u(o,{imageSrc:this.src,title:I(i,S,undefined,s,t?.getRootController()?.getView().getViewData()||{}),subtitle:c.getDescriptionExpression(i,s)})})}});p.addStyleClass("sapUiSmallMarginEnd");return p};return t}(t),m=E(h.prototype,"src",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),v=E(h.prototype,"initials",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),z=E(h.prototype,"fallbackIcon",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),w=E(h.prototype,"displayShape",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),h))||y);x=T;return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/header/HeaderHelper", ["sap/fe/base/BindingToolkit","../field/FieldTemplating"],function(e,n){"use strict";var i=n.formatValueRecursively;var t=n.addTextArrangementToBindingExpression;var o=e.getExpressionFromAnnotation;var r=e.compileExpression;const a={getDescriptionExpression(e,n){let a=o(n?.Description?.Value);if(n?.Description?.Value?.$target?.annotations?.Common?.Text?.annotations?.UI?.TextArrangement){a=t(a,e)}const s=r(i(a,e));return s==="undefined"?"":s}};return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/header/HeaderTitleDescription", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/converters/helpers/DataFieldHelper","sap/fe/core/helpers/TitleHelper","sap/m/FlexItemData","sap/m/Label","sap/m/Title","sap/m/VBox","sap/m/library","sap/ui/core/library","../field/FieldTemplating","./HeaderHelper","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,r,i,n,a,o,l,s,c,p,u,f,d){"use strict";var b,g,v,y,h;var m={};var x=p.getTextBindingExpression;var T=c.TitleLevel;var D=s.FlexRendertype;var j=i.getTitleBindingExpression;var w=r.isReferencePropertyStaticallyHidden;var O=e.property;var z=e.defineUI5Class;function B(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function C(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,H(e,t)}function H(e,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H(e,t)}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function E(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let V=(b=z("sap.fe.macros.header.HeaderTitleDescription"),g=O({type:"string"}),b(v=(y=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;B(i,"VBoxType",h,i);return i}m=t;C(t,e);var r=t.prototype;r.onMetadataAvailable=function e(){if(!this.content){this.content=this.createContent()}};r.getTitleControl=function e(t,r,i){if(r.Title&&!w(r.Title)){return f(o,{text:j(t,x,undefined,r,i?.getRootController()?.getView().getViewData()||{}),wrapping:true,level:T.H2,layoutData:f(n,{minWidth:"0"})})}};r.getDescription=function e(t,r){if(r.Description&&!w(r.Description)){return f(a,{text:u.getDescriptionExpression(t,r),wrapping:true})}};r.createContent=function e(){const t=this._getOwner();const r=this.getDataModelObjectPath(t?.preprocessorContext?.fullContextPath);const i=r?.targetEntityType?.annotations?.UI?.HeaderInfo;if(i&&(i.Title||i.Description)){return d(l,{renderType:this.VBoxType,layoutData:f(n,{minWidth:"0"}),children:[this.getTitleControl(r,i,t),this.getDescription(r,i)]})}};return t}(t),h=P(y.prototype,"VBoxType",[g],{configurable:true,enumerable:true,writable:true,initializer:function(){return D.Div}}),y))||v);m=V;return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/inlineEdit/InlineEdit", ["sap/fe/base/HookSupport","sap/fe/controls/inlineEdit/InlineEditIndicator","sap/fe/core/controls/CommandExecution","sap/ui/core/Popup","sap/ui/dom/findTabbable"],function(t,i,e,n,o){"use strict";var s,d;var l={};var r=t.controllerExtensionHandler;function a(t,i,e,n,o){var s={};return Object.keys(n).forEach(function(t){s[t]=n[t]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=e.slice().reverse().reduce(function(e,n){return n(t,i,e)||e},s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer?(Object.defineProperty(t,i,s),null):s}var c=function(t){t["Add"]="Add";t["Remove"]="Remove";return t}(c||{});let u=(s=r("inlineEditFlow","inlineEditStart"),d=function(){function t(){this.inlineEditState="Closed";this._isInlineEditSource=false}l=t;var s=t.prototype;s.setupMixin=function t(o){const s=o.prototype.onBeforeRendering;const d=o.prototype.onMetadataAvailable;const l=o.prototype.destroy;o.prototype.onBeforeRendering=function(){s?.call(this);if(this.inlineEditEnabled){this.addAriaAttributes()}};o.prototype.onMetadataAvailable=function(){d?.call(this);if(this.inlineEditEnabled){const t=this.getPageController()?.inlineEditFlow.isPropertyConsideredForInlineEdit(this.getInlineEditPropertyName()??"");if(!t){this.hasInlineEdit=undefined;return}this._inlineEditIndicator=new i({visible:true,pressEdit:this.triggerInlineEdit.bind(this)});this._inlineEditFieldGroupId="InlineEdit";this._inlineEditIndicator.attachEvent("mouseout",t=>{this.closeInlineEditPopupMouseEvent(t.getParameter("relatedTarget"))});this._inlineEditIndicator.editButton.attachBrowserEvent("blur",t=>{if(!this.getDomRef()?.contains(t.relatedTarget)){this.closeInlineEditPopupNoEditMode()}});this._inlineEditIndicator.attachEvent("pressTab",()=>{this.pressTabKey()});this._inlineEditIndicator.attachEvent("pressShiftTab",()=>{this.pressShiftAndTabKey(this.getContent().getContentEdit()[0])});this._inlineEditIndicatorPopup=new n(this._inlineEditIndicator,false,false,false);const o=this.triggerInlineEditSave.bind(this);const s=this.triggerInlineEditDiscard.bind(this);this._inlineEditIndicator.addDependent(new e({execute:o,enabled:true,visible:true,command:"Save"}));this._inlineEditIndicator.addDependent(new e({execute:s,enabled:true,visible:true,command:"Cancel"}));this._inlineEditIndicatorPopup.setFollowOf(()=>{this.popupBehaviour()});this.attachBrowserEvent("dblclick",this.triggerInlineEdit.bind(this));this.attachBrowserEvent("mouseover",this.openInlineEditPopup.bind(this));this.attachBrowserEvent("mouseout",t=>{this.closeInlineEditPopupMouseEvent(t.relatedTarget)});this.attachBrowserEvent("focus",t=>{this.focusEvent(t,this.getContent().contentDisplay?.getDomRef())});this.attachBrowserEvent("keydown",t=>{this.keydownEvent(t,this.getContent().contentDisplay?.getDomRef())});this.attachEvent("validateFieldGroup",t=>{const i=t.getParameter("fieldGroupIds");i?.forEach(t=>{if(t==="InlineEdit"){this.getPageController()?.inlineEditFlow.delayedCallToSave()}})});this.attachBrowserEvent("focusin",t=>{if(this.inlineEditState==="Editable"&&!this._inlineEditIndicatorPopup.isOpen()){this.openInlineEditPopupForFocus(t);this.setInlineEditFocus()}})}};o.prototype.onDestroy=function(){this._inlineEditIndicator?.destroy();this._inlineEditIndicatorPopup?.destroy();l?.call(this)}};s.addAriaAttributes=function t(){if(this._inlineEditIndicator){this._inlineEditIndicator.removeAllEditButtonAriaDescribedBy();this.getLabelControls().forEach(t=>{this._inlineEditIndicator?.addEditButtonAriaDescribedBy(t)});this._inlineEditIndicator.addEditButtonAriaDescribedBy(this.getIdForLabel())}};s.getDomRefOfField=function t(){const i=this.getContent();if(i?.contentEdit?.length>0&&i?.contentEdit[0]?.getDomRef()){return i.contentEdit[0].getDomRef()}else if(i?.contentDisplay&&i.contentDisplay.getDomRef()){return i.contentDisplay.getDomRef()}else if(i?.isA("sap.fe.macros.controls.FileWrapper")){return i.fileUploader.getDomRef()}return null};s.popupBehaviour=function t(){const i=this.getDomRefOfField();if(i){const t=this.getOverlappingElement(i);if(t!==i&&!i.contains(t)){this._inlineEditIndicatorPopup?.close();if(this.inlineEditState==="Editable"){const t=setInterval(()=>{this.popupIntervallHandler(i,t)},200)}}else{this._inlineEditIndicatorPopup?.setPosition(n.Dock.EndTop,n.Dock.EndBottom,this._source,"0 -4")}}};s.getOverlappingElement=function t(i){return document.elementFromPoint(i.getBoundingClientRect().x+i.getBoundingClientRect().width/2,i.getBoundingClientRect().y+.66*i.getBoundingClientRect().height)};s.popupIntervallHandler=function t(i,e){const o=this.getOverlappingElement(i);if(o===i||i.contains(o)){this._inlineEditIndicatorPopup?.open(0,n.Dock.EndTop,n.Dock.EndBottom,this);clearInterval(e)}};s.focusHandlingInlineEdit=function t(i,e){const n=o(this.getDomRef(),{skipChild:true,forward:e});n?.element.focus();this._inlineEditIndicatorPopup?.close();if(i){if(this._isInlineEditSource){this.triggerInlineEditSave()}}};s.focusMeasureField=function t(){const i=o(this.getDomRef(),{skipChild:false,forward:true});const e=o(i.element,{skipChild:true,forward:true});e?.element?.focus()};s.focusHandlingMeasureField=function t(i){const e=o(document.activeElement,{skipChild:true,forward:i});if(this.getDomRef()?.contains(e.element)){e.element?.focus()}else if(i){this._inlineEditIndicator?.getSaveButton().focus()}else{e.element?.focus()}};s.inlineEditKeydown=function t(i,e){if(i.key==="Escape"){i.preventDefault();this.triggerInlineEditDiscard()}else if(i.key==="Tab"&&!i.shiftKey){i.preventDefault();this.pressTabKeyOnField(e,i)}else if(i.key==="Tab"&&i.shiftKey){i.preventDefault();this.pressShiftTabKeyOnField(e)}else if(i.key==="Enter"){i.preventDefault();this.triggerInlineEditSave()}};s.pressTabKey=function t(){if(this._inlineEditIndicator){switch(document.activeElement){case document.getElementById(this._inlineEditIndicator?.getEditButton().getId()):this.focusHandlingInlineEdit(false,true);break;case document.getElementById(this._inlineEditIndicator?.getSaveButton().getId()):this._inlineEditIndicator?.getDiscardButton().focus();break;case document.getElementById(this._inlineEditIndicator?.getDiscardButton().getId()):this.focusHandlingInlineEdit(true,true);break;default:}}};s.pressShiftAndTabKey=function t(i){if(this._inlineEditIndicator){switch(document.activeElement){case document.getElementById(this._inlineEditIndicator?.getEditButton().getId()):this.focusHandlingInlineEdit(false,false);break;case document.getElementById(this._inlineEditIndicator?.getSaveButton().getId()):if(this.checkForMeasureField()){this.focusMeasureField()}else{i.focus()}break;case document.getElementById(this._inlineEditIndicator?.getDiscardButton().getId()):this._inlineEditIndicator?.getSaveButton().focus();break;default:}}};s.pressTabKeyOnField=function t(i,e){if(document.activeElement===i){this.openInlineEditPopup(e);this._inlineEditIndicator?.getEditButton().focus()}else if(!this.checkForMeasureField()){this._inlineEditIndicator?.getSaveButton().focus()}else{this.focusHandlingMeasureField(true)}};s.pressShiftTabKeyOnField=function t(i){if(document.activeElement===i){this.focusHandlingInlineEdit(true,false)}else if(!this.checkForMeasureField()){this.focusHandlingInlineEdit(true,false)}else{this.focusHandlingMeasureField(false)}};s.focusEvent=function t(i,e){if(this.hasInlineEdit){i.preventDefault();if(this.checkForSemanticObject()){e.focus()}else{this.openInlineEditPopup(i);this._inlineEditIndicator?.getEditButton().focus()}}};s.keydownEvent=function t(i,e){if((this.inlineEditState==="Editable"||document.activeElement===e&&this.checkForSemanticObject())&&this.hasInlineEdit){this.inlineEditKeydown(i,e)}};s.toggleInlineEditFieldGroupId=function t(i){const e=i===c.Add;const n=new Set(this.getFieldGroupIds());if(e){n.add("InlineEdit")}else{n.delete("InlineEdit")}this.setFieldGroupIds(Array.from(n));const o=this.content?.findAggregatedObjects(true,t=>t.isA("sap.ui.core.Control"))??[];for(const t of o){const i=new Set(t.getFieldGroupIds());if(e){i.add("InlineEdit")}else{i.delete("InlineEdit")}t.setFieldGroupIds(Array.from(i))}};s.openInlineEditPopup=function t(i){if(this.hasInlineEdit&&this.inlineEditState!=="Editable"&&this.editMode==="Display"&&!this.readOnly){this._inlineEditIndicatorPopup?.open(0,n.Dock.EndTop,n.Dock.EndBottom,i.currentTarget);this._source=i.currentTarget;this._inlineEditIndicator?.setWidth(i.currentTarget?.getBoundingClientRect().width)}};s.closeInlineEditPopupMouseEvent=function t(i){if(i&&!this._inlineEditIndicator?.getDomRef()?.contains(i)&&!this.getDomRef()?.contains(i)){this.closeInlineEditPopupNoEditMode()}};s.checkForMeasureField=function t(){const i=this.getInlineEditProperty();return!!i?.annotations.Measures};s.checkForSemanticObject=function t(){const i=this.getInlineEditProperty();return!!i?.annotations.Common?.SemanticObject};s.closeInlineEditPopupNoEditMode=function t(){if(!this._inlineEditIndicator?.getEditMode()){this._inlineEditIndicatorPopup?.close()}};s.closeInlineEditPopupEditMode=function t(){if(this._inlineEditIndicator?.getEditMode()){this._inlineEditIndicatorPopup?.close();this._isInlineEditSource=false}};s.openInlineEditPopupForFocus=function t(i){this._inlineEditIndicator?.setEditMode(true);this._inlineEditIndicatorPopup?.open(0,n.Dock.EndTop,n.Dock.EndBottom,i.currentTarget||this._source,"0 -4");this._isInlineEditSource=true};s.setInlineEditFocus=function t(){this.getPageController()?.inlineEditFlow.focusHandling(this)};s.triggerInlineEdit=function t(){if(!this.inlineEditEnabled||this.editMode!=="Display"||this.readOnly){return}this._isInlineEditSource=true;this._inlineEditIndicator?.setEditMode(true);this._inlineEditIndicatorPopup?.setPosition(n.Dock.EndTop,n.Dock.EndBottom,this._source,"0 -4");const i=this.getBindingContext()?.getCanonicalPath()??"";const e=this.getInlineEditPropertyName();if(e){this.getPageController()?.inlineEditFlow.startInlineEdit(e,i,this)}};s.triggerInlineEditDiscard=function t(){this.getPageController()?.inlineEditFlow.inlineEditDiscard()};s.triggerInlineEditSave=function t(){return this.getPageController()?.inlineEditFlow.inlineEditSave()};s.inlineEditStart=function t(i,e,n){if(this.hasInlineEdit){const t=this.getBindingContext()?.getCanonicalPath()??"";const o=this.getInlineEditPropertyName()??"";if(!e.includes(o)||n!==t){return}this.toggleInlineEditFieldGroupId(c.Add);const s=this.getModel("ui");const d=`/${this.getId()}`;s.setProperty(d,{isEditable:true});this.bindElement({path:d,model:"ui"});if(this._isInlineEditSource){setTimeout(()=>{this.getContent()?.getContentEdit()[0]?.focus();this.invalidate()},200)}if(e.includes(o)){this.inlineEditState="Editable"}if(!i.includes(this)){i.push(this)}}};s.resetIndicatorPopup=function t(){this._inlineEditIndicatorPopup?.close();this._inlineEditIndicator?.setEditMode(false);this._isInlineEditSource=false};s.inlineEditEnd=function t(i){if(this.hasInlineEdit&&this.inlineEditState==="Editable"){if(i){this.refreshDescriptionIfNeeded()}this.toggleInlineEditFieldGroupId(c.Remove);this.unbindElement("ui");this.inlineEditState="Closed";this.resetIndicatorPopup()}};s.refreshDescriptionIfNeeded=function t(){if(this.isA("sap.fe.macros.Field")){const t=this.content?.isA("sap.fe.macros.controls.FieldWrapper")?this.content.getContentEdit()[0]:null;if(t&&t.isA("sap.ui.mdc.Field")){const i=t.getBinding("additionalValue")?.getPath();if(i){this.getBindingContext()?.requestSideEffects([i],"$auto")}}}};return t}(),a(d.prototype,"inlineEditStart",[s],Object.getOwnPropertyDescriptor(d.prototype,"inlineEditStart"),d.prototype),d);l=u;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/insights/AnalyticalInsightsHelper", ["sap/fe/macros/field/FieldTemplating","sap/fe/macros/insights/CommonInsightsHelper"],function(e,t){"use strict";var a={};var r=t.createInsightsParams;var n=e.getTextBinding;function s(e){return e.getMeasures().map(e=>({name:e.getLabel(),value:"{"+e.getName()+"}"}))}a.getMeasures=s;function i(e,t){return e.getDimensions().filter(function(t){return e.getVisibleDimensions().includes(t.getName())}).map(e=>{const a=t.getPropertyDataModel(e.getName());const r=a?n(a,{},false,"extension.formatters.sapfe.formatWithBrackets"):undefined;return{name:e.getLabel(),value:`{${e.getName()}}`,displayValue:r}})}a.getDimensions=i;function o(e){const t=e.getAggregation("_vizFrame").getFeeds();const a=t.map(t=>t.getProperty("values").map(a=>{const r=l(e,a.getProperty("name"),a.getProperty("type"));const n={type:t.getProperty("type"),uid:t.getProperty("uid"),values:[r]};return n}));return a.flat()}a.getFeeds=o;function g(e,t){const a=e.plotArea?.dataPointStyle?.rules??[];a.forEach(e=>{e.dataContext={};if(t){e.dataContext[t]=e.displayName||""}return e});return e}function l(e,t,a){if(a==="Dimension"){const a=e.getDimensions();return a.filter(e=>e.getName()===t)[0].getLabel()||t}else{const a=e.getMeasures();return a.filter(e=>e.getName()===t)[0].getLabel()||t}}async function c(e){const t=e.content;const a=t.getControlDelegate()?.getInnerChart(t);if(!a){throw new Error("Cannot access chart.")}const n=await r("Analytical",e,t.getFilter());if(!n){return}n.entitySetPath=t.data("targetCollectionPath");n.requestParameters.queryUrl=a.getBinding("data").getDownloadUrl()??"";const l=i(a,e);const c={cardTitle:t.getHeader(),legendVisible:false,chartType:t.getChartType(),measures:s(a),dimensions:l,feeds:o(a),allowedChartTypes:a.getAvailableChartTypes().available,chartProperties:g(a.getAggregation("_vizFrame").getVizProperties(),l[0]?.name)};return{...n,content:c}}a.createChartCardParams=c;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/insights/CommonInsightsHelper", ["sap/base/util/deepClone","sap/fe/core/CommonUtils","sap/fe/core/helpers/ResourceModelHelper","sap/m/MessageBox","sap/ui/core/Element","sap/ui/mdc/p13n/StateUtil","../mdc/adapter/StateFilterToSelectionVariant"],function(t,e,n,o,r,a,s){"use strict";var i={};var c=n.getResourceModel;const l={"sap.ui.model.odata.type.String":"string","sap.ui.model.odata.type.Int":"integer","sap.ui.model.odata.type.Int32":"integer","sap.ui.model.odata.type.Int64":"integer","sap.ui.model.odata.type.Boolean":"boolean","sap.ui.model.odata.type.Decimal":"number","sap.ui.model.odata.type.Double":"number","sap.ui.model.odata.type.Date":"date","sap.ui.model.odata.type.DateTimeOffset":"datetime"};function p(t,e){if(e&&e.length===0){return false}const n=r.getElementById(t);if(n?.isA("sap.fe.macros.controls.FilterBar")){const t=n.getParent().isSemanticDateFilterApplied();return!t}return true}i.isInsightsCardCreationPossible=p;function g(t,e){if(t==="Table"){const t=`<strong>\n\t\t${e.getText("M_CARD_RETRY_MESSAGE")}\n\t\t</strong>`;const n=`<ul><li>\n\t\t\t${e.getText("M_CARD_FAILURE_REASON_DATE_RANGE_FILTERS")}\n\t\t\t</li><li>\n\t\t\t${e.getText("M_CARD_FAILURE_TABLE_REASON_UNSUPPORTED_COLUMNS")}\n\t\t\t</li></ul>`;const r=t+n;o.error(e.getText("M_CARD_CREATION_FAILURE"),{onClose:function(){throw new Error("Insights is not supported")},details:r})}else{const t=e.getText("M_CARD_CREATION_FAILURE_CHART_REASON_DATE_RANGE_FILTERS");o.error(t,{onClose:function(){throw new Error("Insights is not supported")}})}}function u(t){const e=t.getShellServices();const n=t.getNavigationService();const o=e.getHash();const r=e.parseShellHash(o);return{iAppStateKey:n.getIAppStateKey(),appVariantId:r.params?.["sap-appvar-id"]?.[0],intent:{semanticObject:r.semanticObject,action:r.action}}}function d(t,e,n,o){const r={};const a=s.mergeSelectionVariants(e,o);const i=a.getSelectOptionsPropertyNames();if(i.length){for(const e of i){const o=m(e,n);if(e!=="$editState"&&!t.includes(e)&&!e.includes("$Parameter.")&&o){const t={id:a.getID(),Parameters:[],SelectOptions:[{PropertyName:e,Ranges:a.getSelectOption(e)}]};r[e]={value:JSON.stringify(t),type:o}}}}return r}function f(t,e,n){const o={};const r=e.getSelectOptionsPropertyNames();if(r.length){for(const a of t){const t=m(a,n);if(r.includes(a)&&t){o[a]={value:e.getSelectOption(a)?.[0].Low,type:t}}}}return o}function m(t,e){let n;e.forEach(e=>{if(e.name===t){n=l[e.dataType]}});return n}async function S(n,o,i,l){const m=p(i,l);if(!m){g(n,c(o));return}if(!o.content){throw new Error("Control API content is null or undefined")}const S=e.getAppComponent(o.content);const A=r.getElementById(i);const E=o.content;const y=await a.retrieveExternalState(E);const R=s.getSelectionVariantFromConditions(y.filter,E.getPropertyHelper());let _,I,h=[];if(A?.isA("sap.fe.macros.controls.FilterBar")){const t=A.getParent();const e=t.getParameters();const n=await t.getSelectionVariant();const o=A.getPropertyInfoSet();h=t.getMandatoryFilterPropertyNames();_=d(e,n,o,R);I=f(e,n,o)}const T=t(S.getManifest(),20);const C=T["sap.app"];if(C["crossNavigation"]){delete C.crossNavigation}const P={navigation:u(S),type:n,requestParameters:{serviceUrl:o.content.getModel().getServiceUrl(),queryUrl:"",sortQuery:""},content:{cardTitle:""},parentAppManifest:T,parameters:{mandatoryFilters:h,filters:_,oDataParameters:I},entitySetPath:""};return P}i.createInsightsParams=S;function A(t){const e=n.getResourceModel(t);o.error(e.getText("M_CARD_FAILURE_GENERIC"))}i.showGenericErrorMessage=A;function E(t,e,n){if(!p(e,n)){return false}let o=false;for(const e of t){const t=e.getAction();const n=t.getId().includes("StandardAction::Insights");o=n&&t.getVisible()&&t.getEnabled();if(o){break}}return o}i.hasInsightActionEnabled=E;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/insights/InsightsService", ["sap/ui/VersionInfo","sap/ui/core/Lib"],function(e,t){"use strict";function a(e){return new Promise((t,a)=>{sap.ui.require([e],a=>{if(!(a&&a.__esModule)){a=a===null||!(typeof a==="object"&&e.endsWith("/library"))?{default:a}:a;Object.defineProperty(a,"__esModule",{value:true})}t(a)},e=>{a(e)})})}var r={};const n=15;const s="{{destinations.service}}";function i(e,t){return e==="Analytical"}function o(e){let{type:t,requestParameters:a}=e;let r=a.queryUrl;if(a.queryUrl.includes(a.serviceUrl)){r=a.queryUrl.split(a.serviceUrl)[1]}if(t==="Table"){r=`${r}&$top=${n}`}return{request:{url:`${s}${a.serviceUrl}$batch`,method:"POST",headers:{"X-CSRF-Token":"{{csrfTokens.token1}}"},batch:{response:{method:"GET",url:r,headers:{Accept:"application/json"}}}}}}function u(e){const t={title:e.content.cardTitle,actions:[{type:"Navigation",parameters:"{= extension.formatters.getNavigationContext(${parameters>/state/value})}"}]};if(e.type==="Table"){t.status={text:"{/response/@odata.count}"}}return t}function p(e){let t={sensitiveProps:[],nhHybridIAppStateKey:e.iAppStateKey};if(e.appVariantId){t={...t,...{"sap-appvar-id":e.appVariantId}}}const a={parameters:{ibnTarget:e.intent,ibnParams:t}};return JSON.stringify(a)}function c(e,t,a,r,s,i,o,u){const c={state:{value:p(a)},_relevantODataFilters:{value:[]},_relevantODataParameters:{value:[]},_mandatoryODataFilters:{value:e},_mandatoryODataParameters:{value:[]},sensitiveProps:[],_entitySet:{value:r},_contentDataUrl:{value:i},_HeaderDataUrl:{value:i},_contentTopQuery:{value:u==="Table"?`$top=${n}`:""},_headerTopQuery:{value:u==="Table"?`$top=${n}`:""},_contentSkipQuery:{value:u==="Table"?"$skip=0":""},_headerSkipQuery:{value:u==="Table"?"$skip=0":""},_contentSortQuery:{value:o===""?"":`$orderby=${o}`},_headerSortQuery:{value:o===""?"":`$orderby=${o}`}};for(const e in t){c._relevantODataFilters.value.push(e);c[e]={value:t[e].value,type:t[e].type}}for(const e in s){c._relevantODataParameters.value.push(e);c._mandatoryODataParameters.value.push(e);c[e]={value:s[e].value,type:s[e].type}}return c}function l(e){const t={};const a=e.requestParameters.serviceUrl;t.destinations={service:{name:"(default)",defaultUrl:"/"}};t.csrfTokens={token1:{data:{request:{url:`${s}${a}`,method:"HEAD",headers:{"X-CSRF-Token":"Fetch"}}}}};t.parameters=c(e.parameters.mandatoryFilters??[],e.parameters.filters??{},e.navigation,e.entitySetPath,e.parameters.oDataParameters??{},e.requestParameters.queryUrl,e.requestParameters.sortQuery,e.type);return t}function d(e){const t={type:e.type};t.configuration=l(e);t.header=u(e);t.data=o(e);if(i(e.type,e.content)){t.content=v(e.content)}else{t.content=y(e)}t.extension="module:sap/fe/core/InsightsFormattersExtension";return t}function y(e){let{requestParameters:t,content:a,parameters:r}=e;const s={data:{path:"/response/value"},maxItems:n,row:{highlight:a.rowCriticality?a.rowCriticality:undefined,columns:a.insightsRelevantColumns}};if(t.groupBy){const e=t.groupBy.property;const a=t.groupBy.descending;s.group={title:"{"+e+"}",order:{path:e,dir:a===true?"DESC":"ASC"}}}if(r.isNavigationEnabled===true){s.row.actions=[{type:"Navigation",parameters:"{= extension.formatters.getNavigationContext(${parameters>/state/value}, ${})}"}]}return s}function v(e){return{chartType:e.chartType,chartProperties:e.chartProperties,data:{path:"/response/value"},dimensions:e.dimensions,measures:e.measures,feeds:e.feeds,actions:[{type:"Navigation",parameters:"{= extension.formatters.getNavigationContext(${parameters>/state/value}, ${})}"}],actionableArea:"Chart"}}r.getAnalyticalCardContent=v;async function f(t){let{parentAppManifest:a,entitySetPath:r,type:n,content:s}=t;const o=await e.load();const u={parentAppId:a["sap.app"].id,cardType:"RT",versions:{ui5:o.version+"-"+o.buildTimestamp},filterEntitySet:r};if(i(n,s)){u.allowedChartTypes=s.allowedChartTypes}return u}async function m(e){const t={...e.parentAppManifest["sap.app"]};const a={...e.parentAppManifest["sap.ui5"]};const r=a.models[""];const n=r.dataSource?r.dataSource:"";const s={};t.id=`user.${t.id}.${Date.now()}`;t.type="card";t.dataSources.filterService={...t.dataSources[n]};s["sap.app"]=t;s["sap.card"]=d(e);s["sap.insights"]=await f(e);s["sap.ui5"]={contentDensities:a.contentDensities,dependencies:{libs:{"sap.insights":{lazy:false}}},componentName:s["sap.app"].id};return s}r.createCardManifest=m;async function h(e,t){const{default:r}=await a("sap/insights/CardHelper");const n=await r.getServiceAsync("UIService");const s=await m(e);await n.showCardPreview(s,true,t)}r.showInsightsCardPreview=h;async function g(e,r){const{default:n}=await a("sap/insights/CardHelper");const s=await n.getServiceAsync("UIService");const i=t.getResourceBundleFor("sap.fe.macros")?.getText("C_SEND_TO_COLLABORATION_MANAGER");await s.showCardPreview(e,true,{type:"None"},i,e=>{const t=e.getParameter("manifest")??e.getSource().getManifest();r.publishCard(t)})}r.showCollaborationManagerCardPreview=g;async function C(e){return m(e)}r.getCardManifest=C;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/insights/TableInsightsHelper", ["sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/TitleHelper","sap/fe/core/templating/CriticalityFormatters","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldTemplating","sap/ui/mdc/p13n/StateUtil","./CommonInsightsHelper"],function(t,e,n,a,r,o,i,s,c,l,u,p,g){"use strict";var f={};var d=g.createInsightsParams;var m=u.getTextBinding;var v=l.getDisplayMode;var h=c.isSemanticKey;var y=c.isImageURL;var C=s.getRelativePaths;var P=s.getContextRelativeTargetObjectPath;var T=i.criticalityIconExpressionForIntegrationCards;var I=i.criticalityExpressionForIntegrationCards;var x=o.getTitleBindingExpression;var w=a.isDataFieldTypes;var b=n.getInvolvedDataModelObjects;var M=n.convertTypes;var D=t.pathInModel;var E=t.getExpressionFromAnnotation;var F=t.formatWithTypeInformation;var S=t.formatResult;var R=t.concat;var O=t.compileExpression;function V(t,e){const n=t?.annotations.Measures?.ISOCurrency||t?.annotations.Measures?.Unit;if(!n){return}else{const t=D(e);return O(R(t," ",E(n)))}}function U(t){return"annotationPath"in t}function B(t,e,n){return e.columns.reduce(function(e,a){if(a.name in t&&U(a)){let r;const o=n.resolvePath(a.annotationPath).target;if(w(o)){r=o.Value.$target}else{r=n.resolvePath(a.annotationPath).target}if(!(r&&y(r))&&!a.isMultiValue){e.push({...t[a.name],annotationPath:a.annotationPath,formatOptions:a.typeConfig?.formatOptions})}}return e},[])}function j(t,e){let n=D(P(e));const a=e.targetObject;const o=a?.annotations.Common?.Text;if(o===undefined||a===undefined){return undefined}n=F(a,n);switch(t){case"ValueDescription":const t=C(e);return O(E(o,t));case"DescriptionValue":return O(S([n],r.formatToKeepWhitespace));default:return undefined}}f.getAdditionalText=j;function H(t){return t.getTableDefinition().annotation.row?.rowCriticalityForInsights}f.getRowCriticality=H;function q(t){const n=t.getContent();const a=n.getModel()?.getMetaModel();const r=n.data("metaPath");const o={};n.getColumns().forEach(t=>{const e=t.getPropertyKey();const n=a.getContext(r+"/"+e);const i=b(n);const s=t.getProperty("header");o[e]={property:e,context:n,objectPath:i,title:s}});const i=B(o,t.getTableDefinition(),M(a));return i.map(function(n){const o=b(n.context);const i=o.targetObject;const s=V(i,n.property);const c=s??m(o,{},false,"extension.formatters.sapfe.formatWithBrackets");const l={visible:false,value:c,title:n.title};if(h(i,o)){const n=v(o);l.value=x(o,u.getTextBindingExpression,{displayMode:n,splitTitleOnTwoLines:true},undefined,e.getTargetView(t).getViewData(),"extension.formatters.sapfe.formatTitle");l.additionalText=j(n,o);l.identifier=true}if(n.annotationPath){const t=W(n.annotationPath,r,a);if(t){l.state=t.state;l.showStateIcon=t.showStateIcon;l.customStateIcon=t.customStateIcon}}return l})}f.getInsightsRelevantColumns=q;function W(t,e,n){const a=b(n.getContext(t),n.getContext(e)),r=a.targetObject;if(r.Criticality){const t=r.CriticalityRepresentation!=="UI.CriticalityRepresentationType/WithoutIcon";return{state:I(r.Criticality),showStateIcon:t,customStateIcon:t?T(r):""}}return undefined}async function K(t,e,n){const a=t.getContent();const r=await d("Table",t,a.getFilter(),e);if(!r){return}try{const t=await p.retrieveExternalState(a);const e=t.groupLevels?.[0]?.name.split("::").pop();if(e){r.requestParameters.groupBy={property:e}}}catch{throw Error("Error retrieving control states")}r.parameters.isNavigationEnabled=L(t);r.entitySetPath=a.data("metaPath");r.requestParameters.sortQuery=n;r.requestParameters.queryUrl=a.getRowBinding().getDownloadUrl()??"";const o={cardTitle:a.getHeader(),insightsRelevantColumns:e,rowCriticality:H(t)??undefined};return{...r,content:o}}f.createTableCardParams=K;function L(t){const n=t.getContent(),a=e.getTargetView(t).getViewData(),r=n.data("metaPath"),o=a.navigation?.[r]?a.navigation[r]:a.navigation?.[r.replace("/","")];return!(o?.detail?.outbound||o?.display?.target)}return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/ActionCommand.block", ["sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/fe/macros/ActionCommand"],function(e,t,i){"use strict";var r,n,l,a,o,u,c,b,s,p,f,d,m,E,g,y,v,z,B,h,w,x,A;var k={};var I=i.getCommandExecutionForAction;var N=e.defineBuildingBlock;var O=e.blockEvent;var j=e.blockAttribute;function P(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function M(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_(e,t)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function C(e,t,i,r,n){var l={};return Object.keys(r).forEach(function(e){l[e]=r[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},l),n&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(n):void 0,l.initializer=void 0),void 0===l.initializer?(Object.defineProperty(e,t,l),null):l}function q(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let T=(r=N({name:"ActionCommand",namespace:"sap.fe.macros.internal"}),n=j({type:"string",required:true}),l=j({type:"object",required:true}),a=j({type:"boolean"}),o=j({type:"boolean"}),u=j({type:"boolean"}),c=j({type:"boolean"}),b=j({type:"string"}),s=O(),p=O(),f=O(),r(d=(m=function(e){function t(t,i,r){var n;n=e.call(this,t,i,r)||this;P(n,"id",E,n);P(n,"action",g,n);P(n,"isActionEnabled",y,n);P(n,"isIBNEnabled",v,n);P(n,"isEnabled",z,n);P(n,"visible",B,n);P(n,"command",h,n);P(n,"onExecuteAction",w,n);P(n,"onExecuteIBN",x,n);P(n,"onExecuteManifest",A,n);return n}k=t;M(t,e);var i=t.prototype;i.getTemplate=function e(){return I(this.command,this.action,{visible:this.visible,onExecuteAction:this.onExecuteAction,onExecuteIBN:this.onExecuteIBN,onExecuteManifest:this.onExecuteManifest,isActionEnabled:this.isActionEnabled,isIBNEnabled:this.isIBNEnabled,isEnabled:this.isEnabled})};return t}(t),E=C(m.prototype,"id",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),g=C(m.prototype,"action",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),y=C(m.prototype,"isActionEnabled",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),v=C(m.prototype,"isIBNEnabled",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),z=C(m.prototype,"isEnabled",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),B=C(m.prototype,"visible",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),h=C(m.prototype,"command",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),w=C(m.prototype,"onExecuteAction",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),x=C(m.prototype,"onExecuteIBN",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),A=C(m.prototype,"onExecuteManifest",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||d);k=T;return k},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/DataPoint", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/CriticalityFormatters","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/SemanticObjectHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldTemplating","sap/fe/macros/internal/helpers/DataPointTemplating","sap/fe/macros/quickView/QuickView","sap/m/ObjectNumber","sap/m/ObjectStatus","sap/m/ProgressIndicator","sap/m/RatingIndicator","../field/FieldRuntimeHelper","./DataPointFormatOptions","sap/fe/base/jsx-runtime/jsx"],function(t,e,i,a,r,n,s,o,l,u,c,d,p,h,f,g,b,m,O,P,v){"use strict";var y,j,V,M,x,I,D,z,w,F,S,T,k;var B={};var E=p.getValueFormatted;var N=p.buildFieldBindingExpression;var C=p.buildExpressionForProgressIndicatorPercentValue;var A=p.buildExpressionForProgressIndicatorDisplayValue;var L=d.isUsedInNavigationWithQuickViewFacets;var Q=d.getVisibleExpression;var R=u.getPropertyWithSemanticObject;var U=l.hasUnit;var H=l.hasCurrency;var _=o.getRelativePaths;var W=o.enhanceDataModelPath;var q=s.buildExpressionForCriticalityIcon;var G=s.buildExpressionForCriticalityColor;var $=n.isProperty;var J=r.generate;var K=i.property;var X=i.defineUI5Class;var Y=i.association;var Z=i.aggregation;var tt=e.getExpressionFromAnnotation;var et=e.compileExpression;function it(t,e,i,a){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function at(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,rt(t,e)}function rt(t,e){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rt(t,e)}function nt(t,e,i,a,r){var n={};return Object.keys(a).forEach(function(t){n[t]=a[t]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(t,e,n),null):n}function st(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let ot=(y=X("sap.fe.macros.internal.DataPoint"),j=Y({type:"string"}),V=K({type:"string",required:true}),M=K({type:"string"}),x=Z({type:"sap.fe.macros.internal.DataPointFormatOptions",multiple:false,defaultClass:P}),I=K({type:"string",isBindingInfo:true}),y(D=(z=function(e){function i(t,i){var a;a=e.call(this,t,i)||this;it(a,"idPrefix",w,a);it(a,"metaPath",F,a);it(a,"contextPath",S,a);it(a,"formatOptions",T,a);it(a,"value",k,a);a.hasQuickView=false;return a}B=i;at(i,e);var a=i.prototype;a.onMetadataAvailable=function t(){this.getTemplatingObjects();this.content=this.createContent()};a.getTemplatingObjects=function t(){const e=this.getDataModelObjectForMetaPath(this.metaPath,this.contextPath);if(!e){return}let i;this.visible=Q(e);if(e?.targetObject?.Value?.path){i=W(e,e.targetObject.Value.path)}this.dataModelPath=e;this.valueDataModelPath=i};a.getDataPointVisualization=function t(e){if(e.targetObject?.Visualization==="UI.VisualizationType/Rating"){this.visualization="Rating";return}if(e.targetObject?.Visualization==="UI.VisualizationType/Progress"){this.visualization="Progress";return}const i=this.valueDataModelPath&&this.valueDataModelPath.targetObject;this.hasQuickView=(i&&L(e,i))??false;if(this.valueDataModelPath&&R(this.valueDataModelPath)){this.hasQuickView=true}if(this.hasQuickView!==true){if($(i)&&(U(i)||H(i))){this.visualization="ObjectNumber";return}}this.visualization="ObjectStatus"};a.getEnabled=function t(){if(this.content?.isA("sap.m.ObjectStatus")){return this.content.getActive()}else{return true}};a.setEnabled=function t(e){if(this.content?.isA("sap.m.ObjectStatus")){this.content.setProperty("active",e)}else{throw"setEnabled isn't implemented for this field type"}return this};a.createRatingIndicator=function t(e){const i=e.targetObject;const a=this.getTargetValueBinding(e);const r=i?.Value||"";const n=r?.$target?.type;let s;if(n==="Edm.Decimal"&&i?.ValueFormat){if(i.ValueFormat.NumberOfFractionalDigits){s=i.ValueFormat.NumberOfFractionalDigits}}const o=E(this.valueDataModelPath,r,n,s);return v(m,{id:this.idPrefix?J([this.idPrefix,"RatingIndicator-Field-display"]):undefined,maxValue:a,value:this.value??et(o),tooltip:this.getTooltipValue(e),iconSize:this.formatOptions?.iconSize,class:this.formatOptions?.showLabels??false?"sapUiTinyMarginTopBottom":undefined,editable:"false",ariaLabelledBy:this.ariaLabelledBy})};a.createProgressIndicator=function t(e){const i=e.targetObject?G(e.targetObject,e):undefined;const a=A(e);const r=C(e);return v(b,{id:this.idPrefix?J([this.idPrefix,"ProgressIndicator-Field-display"]):undefined,displayValue:a,percentValue:r,state:i,tooltip:this.getTooltipValue(e),ariaLabelledBy:this.ariaLabelledBy})};a.createObjectNumber=function t(e){const i=e.targetObject?G(e.targetObject,e):undefined;const a=this.formatOptions?.showEmptyIndicator??false?"On":undefined;const r=N(e,this.formatOptions,true);const n=this.getManifestWrapper()?.getSapFeManifestConfiguration()?.app?.showOnlyUnitDecimals===true;const s=this.formatOptions?.measureDisplayMode==="Hidden"?undefined:et(c.getBindingForUnitOrCurrency(this.valueDataModelPath,true,n));return v(f,{id:this.idPrefix?J([this.idPrefix,"ObjectNumber-Field-display"]):undefined,state:i,number:this.value??r,unit:s,visible:this.visible,emphasized:"false",class:this.formatOptions?.dataPointStyle==="large"?"sapMObjectNumberLarge":undefined,tooltip:this.getTooltipValue(e),emptyIndicatorMode:a})};a.createDependents=function t(){if(this.hasQuickView){return new h(this.valueDataModelPath,this.metaPath,this.contextPath??"").createContent()}return undefined};a.createObjectStatus=function t(e){let i=e.targetObject?G(e.targetObject,e):undefined;if(i==="None"&&this.valueDataModelPath){i=this.hasQuickView?"Information":"None"}const a=this.formatOptions?.showEmptyIndicator??false?"On":undefined;const r=N(e,this.formatOptions,false);const n=this.formatOptions?.dataPointStyle==="large"||!e.targetObject?undefined:q(e.targetObject,e);return v(g,{id:this.idPrefix?J([this.idPrefix,"ObjectStatus-Field-display"]):undefined,class:this.formatOptions?.dataPointStyle==="large"?"sapMObjectStatusLarge sapMObjectStatusLongText":undefined,icon:n,tooltip:this.getTooltipValue(e),state:i,text:this.value??r,emptyIndicatorMode:a,active:this.hasQuickView,press:O.pressLink,ariaLabelledBy:this.ariaLabelledBy,children:{dependents:this.createDependents()}})};a.getTooltipValue=function t(e){return e.targetObject?.annotations?.Common?.QuickInfo?tt(e.targetObject?.annotations?.Common?.QuickInfo,_(e)):undefined};a.getTargetValueBinding=function t(e){return e.targetObject?.TargetValue?tt(e.targetObject?.TargetValue,_(e)):undefined};a.createContent=function t(){if(!this.dataModelPath){return undefined}this.getDataPointVisualization(this.dataModelPath);switch(this.visualization){case"Rating":{return this.createRatingIndicator(this.dataModelPath)}case"Progress":{return this.createProgressIndicator(this.dataModelPath)}case"ObjectNumber":{return this.createObjectNumber(this.dataModelPath)}default:{return this.createObjectStatus(this.dataModelPath)}}};a.getValue=function t(){if(this.content?.isA("sap.m.ObjectStatus")){return this.content.getText()}else if(this.content?.isA("sap.m.ObjectNumber")){return this.content.getNumber()}else if(this.content?.isA("sap.m.ProgressIndicator")){return this.content.getDisplayValue()}else if(this.content?.isA("sap.m.RatingIndicator")){return this.content.getValue().toString()}else{this.getProperty("value")}};a.setValue=function e(i){this.setProperty("value",i);if(this.content?.isA("sap.m.ObjectStatus")){this.content.setText(i)}else if(this.content?.isA("sap.m.ObjectNumber")){this.content.setNumber(i)}else if(this.content?.isA("sap.m.ProgressIndicator")){t.error("setValue isn't implemented for this field type yet")}else if(this.content?.isA("sap.m.RatingIndicator")){this.content.setValue(i)}return this};return i}(a),w=nt(z.prototype,"idPrefix",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),F=nt(z.prototype,"metaPath",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),S=nt(z.prototype,"contextPath",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),T=nt(z.prototype,"formatOptions",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),k=nt(z.prototype,"value",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),z))||D);B=ot;return B},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/DataPointFormatOptions", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,a,o,l,u,s,c,p,b,f,y,d,m;var g={};var z=e.property;var v=e.defineUI5Class;function w(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function h(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,O(e,r)}function O(e,r){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},O(e,r)}function P(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function j(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let S=(t=v("sap.fe.macros.internal.DataPointFormatOptions"),i=z({type:"string"}),n=z({type:"string"}),a=z({type:"string"}),o=z({type:"string"}),l=z({type:"boolean"}),u=z({type:"boolean"}),t(s=(c=function(e){function r(r,t){var i;i=e.call(this,r,t)||this;w(i,"dataPointStyle",p,i);w(i,"displayMode",b,i);w(i,"iconSize",f,i);w(i,"measureDisplayMode",y,i);w(i,"showEmptyIndicator",d,i);w(i,"showLabels",m,i);return i}g=r;h(r,e);return r}(r),p=P(c.prototype,"dataPointStyle",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),b=P(c.prototype,"displayMode",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),f=P(c.prototype,"iconSize",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),y=P(c.prototype,"measureDisplayMode",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),d=P(c.prototype,"showEmptyIndicator",[l],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),m=P(c.prototype,"showLabels",[u],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),c))||s);g=S;return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/FilterField.block", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/ListReport/FilterField","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyFormatters","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/CommonHelper","sap/fe/macros/field/FieldHelper","sap/fe/macros/filter/FilterFieldHelper","sap/fe/macros/filter/FilterFieldTemplating","sap/fe/macros/filterBar/ExtendedSemanticDateOperators"],function(e,t,r,i,a,n,o,l,s,u,p,c,d,f,m,y,g){"use strict";var b,h,v,P,F,x,$,C,O,T,I,B,D,E,M,w,V,z,R;var j={};var H=y.getFilterFieldDisplayFormat;var S=m.isRequiredInFilter;var k=m.getPlaceholder;var A=m.getDataType;var q=m.getConditionsBinding;var L=m.formatOptions;var _=m.constraints;var W=c.getDisplayMode;var K=p.getAssociatedExternalIdPropertyPath;var U=u.getRelativePropertyPath;var N=s.getTargetObjectPath;var X=s.getContextRelativeTargetObjectPath;var G=l.generate;var J=o.getMaxConditions;var Q=i.xml;var Y=i.SAP_UI_MODEL_CONTEXT;var Z=r.defineBuildingBlock;var ee=r.blockAttribute;var te=t.formatResult;var re=t.constant;var ie=t.compileExpression;function ae(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ne(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,oe(e,t)}function oe(e,t){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oe(e,t)}function le(e,t,r,i,a){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function se(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let ue=(b=Z({name:"FilterField",namespace:"sap.fe.macros.internal"}),h=ee({type:"sap.ui.model.Context",required:true,isPublic:true}),v=ee({type:"sap.ui.model.Context",required:true,isPublic:true}),P=ee({type:"sap.ui.model.Context",isPublic:true}),F=ee({type:"string",isPublic:true}),x=ee({type:"string",isPublic:true}),$=ee({type:"boolean",isPublic:true}),C=ee({type:"string",isPublic:true}),O=ee({type:"string",isPublic:false}),b(T=(I=function(t){function r(e,r,i){var a;a=t.call(this,e,r,i)||this;ae(a,"property",B,a);ae(a,"contextPath",D,a);ae(a,"visualFilter",E,a);ae(a,"idPrefix",M,a);ae(a,"vhIdPrefix",w,a);ae(a,"useSemanticDateRange",V,a);ae(a,"settings",z,a);ae(a,"editMode",R,a);const o=n.convertMetaModelContext(a.property);const l=K(o);if(l){a.propertyExternalId=a.property.getModel().createBindingContext(a.property.getPath().replace(o.name,l),a.property)}const s=a.propertyExternalId?n.convertMetaModelContext(a.propertyExternalId):undefined;const u=n.getInvolvedDataModelObjects(a.property,a.contextPath);const p=o.name,c=o.name,m=!!s?.annotations?.Common?.ValueListWithFixedValues||!!o.annotations?.Common?.ValueListWithFixedValues;a.controlId=a.idPrefix&&G([a.idPrefix,c]);a.sourcePath=N(u);a.documentRefText=u.targetObject?.annotations.Common?.DocumentationRef?.toString();a.dataType=A(s||o);const y=o?.annotations?.Common?.Label;const b=y?.toString()??re(p);a.label=ie(b)||p;a.conditionsBinding=q(u)||"";a.placeholder=k(o);a.propertyKey=X(u,false,true)||p;a.vfEnabled=!!a.visualFilter&&!(a.idPrefix&&a.idPrefix.includes("Adaptation"));a.vfId=a.vfEnabled?G([a.idPrefix,p,"VisualFilter"]):undefined;a.vfRuntimeId=a.vfEnabled?G([a.idPrefix,p,"VisualFilterContainer"]):undefined;const h=a.property,v=h.getModel(),P=f.valueHelpPropertyForFilterField(h),F=d.isPropertyFilterable(h),x=h.getObject(),$={context:h};a.display=H(u,o,$);a.isFilterable=!(F===false||F==="false");a.maxConditions=J(u);a.dataTypeConstraints=_(x,$);a.dataTypeFormatOptions=L(x,$);a.required=S(x,$);a.operators=f.operators(h,x,a.useSemanticDateRange,a.settings||"",a.contextPath.getPath());if(a.operators){g.addExtendedFilterOperators(a.operators.split(","))}const C=v.createBindingContext(P);const O=C.getObject(),T={context:C},I=U(O,T),j=U(x,$);a.valueHelpProperty=f.getValueHelpPropertyForFilterField(h,x,x.$Type,a.vhIdPrefix,u.targetEntityType.name,j,I,m,a.useSemanticDateRange);return a}j=r;ne(r,t);var i=r.prototype;i.getVisualFilterContent=function e(){let t=this.visualFilter,r="";if(!this.vfEnabled||!t){return r}if(t?.isA?.(Y)){t=t.getObject()}const{contextPath:i,presentationAnnotation:a,outParameter:n,inParameters:o,valuelistProperty:l,selectionVariantAnnotation:s,multipleSelectionAllowed:u,required:p,requiredProperties:c=[],showOverlayInitially:f,renderLineChart:m,isValueListWithFixedValues:y}=t;r=Q`
				<visualFilter:VisualFilter
				    xmlns:visualFilter= "sap.fe.macros.visualfilters"
					id="${this.vfRuntimeId}"
					_contentId="${this.vfId}"
					contextPath="${i}"
					metaPath="${a}"
					outParameter="${n}"
					inParameters="${d.stringifyCustomData(o)}"
					valuelistProperty="${l}"
					selectionVariantAnnotation="${s}"
					multipleSelectionAllowed="${u}"
					required="${p}"
					requiredProperties="${d.stringifyCustomData(c)}"
					showOverlayInitially="${f}"
					renderLineChart="${m}"
					isValueListWithFixedValues="${y}"
					filterBarEntityType="${i}"
				/>
			`;return r};i.getTemplate=async function t(){let r=``;if(this.isFilterable){let t;const i=this.documentRefText===undefined||null?false:true;const a=ie(te([this.documentRefText],"sap.fe.core.formatters.StandardFormatter#asArray"));try{const e=this.propertyExternalId&&n.getInvolvedDataModelObjects(this.propertyExternalId,this.contextPath);t=e?W(e):await this.display}catch(t){e.error(`FE : FilterField BuildingBlock : Error fetching display property for ${this.sourcePath} : ${t}`)}r=Q`
				<mdc:FilterField
					xmlns:mdc="sap.ui.mdc"
					xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"
					xmlns:macro="sap.fe.macros"
					xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
					xmlns:fieldhelp="sap.ui.core.fieldhelp"
					customData:sourcePath="${this.sourcePath}"
					id="${this.controlId}"
					delegate="{name: 'sap/fe/macros/field/FieldBaseDelegate', payload:{isFilterField:true}}"
					propertyKey="${this.propertyKey}"
					label="${this.label}"
					dataType="${this.dataType}"
					display="${t}"
					maxConditions="${this.maxConditions}"
					valueHelp="${this.valueHelpProperty}"
					conditions="${this.conditionsBinding}"
					dataTypeConstraints="${this.dataTypeConstraints}"
					dataTypeFormatOptions="${this.dataTypeFormatOptions}"
					required="${this.required}"
					operators="${this.operators}"
					placeholder="${this.placeholder}"
					${this.attr("editMode",this.editMode)}
				>
					${i?Q`
						<mdc:customData>
							<fieldhelp:FieldHelpCustomData
								${this.attr("value",a)}
							/>
						</mdc:customData>
					`:""}
					${this.vfEnabled?this.getVisualFilterContent():""}
				</mdc:FilterField>
			`}return r};return r}(a),B=le(I.prototype,"property",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),D=le(I.prototype,"contextPath",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),E=le(I.prototype,"visualFilter",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),M=le(I.prototype,"idPrefix",[F],{configurable:true,enumerable:true,writable:true,initializer:function(){return"FilterField"}}),w=le(I.prototype,"vhIdPrefix",[x],{configurable:true,enumerable:true,writable:true,initializer:function(){return"FilterFieldValueHelp"}}),V=le(I.prototype,"useSemanticDateRange",[$],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),z=le(I.prototype,"settings",[C],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),R=le(I.prototype,"editMode",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),I))||T);j=ue;return j},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/HeaderDataPoint.block", ["sap/fe/base/BindingToolkit","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/CommonHelper","sap/fe/macros/field/FieldTemplating","sap/fe/macros/internal/helpers/DataPointTemplating"],function(e,t,a,i,r,n,o,l,s,c){"use strict";var u,g,p,d,b,f,m,h,v,T,P,D;var x={};var $=c.getHeaderRatingIndicatorText;var y=s.getVisibleExpression;var O=o.getRelativePaths;var H=n.generate;var A=r.getInvolvedDataModelObjects;var V=a.xml;var F=t.defineBuildingBlock;var L=t.blockAttribute;var j=e.pathInModel;var k=e.getExpressionFromAnnotation;var B=e.formatResult;var E=e.compileExpression;function I(e,t,a,i){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(i):void 0})}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,z(e,t)}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function M(e,t,a,i,r){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=a.slice().reverse().reduce(function(a,i){return i(e,t,a)||a},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function _(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let w=(u=F({name:"HeaderDataPoint",namespace:"sap.fe.macros.internal"}),g=L({type:"sap.ui.model.Context",required:true}),p=L({type:"sap.ui.model.Context",required:true}),d=L({type:"object",required:true}),b=L({type:"sap.ui.model.Context",required:true}),u(f=(m=(D=function(e){function t(t,a,i){var r;r=e.call(this,t,a,i)||this;I(r,"metaPath",h,r);I(r,"contextPath",v,r);I(r,"converterHeaderFacet",T,r);I(r,"headerFacet",P,r);r.viewData=i.models.viewData;r.manifest=i.models.manifest;return r}x=t;S(t,e);var a=t.prototype;a.getTemplate=function e(){const a=A(this.metaPath,this.contextPath);const i=y(a);const r=H(["fe","HeaderFacet",this.converterHeaderFacet.headerDataPointData?.type!=="Content"?this.converterHeaderFacet?.headerDataPointData?.type:"KeyFigure",A(this.headerFacet)]);const n=t.getPressExpressionForLink(this.viewData.getProperty("/controlConfiguration")?.[this.converterHeaderFacet.targetAnnotationValue]?.navigation,this.manifest.getProperty("/sap.app/crossNavigation/outbounds"));if(this.viewData.getProperty("/controlConfiguration")?.[this.converterHeaderFacet.targetAnnotationValue]?.navigation?.targetOutbound?.outbound){return this.getDataPointTitleWithExternalLinkTemplate(r,a,i,n)}else if(this.viewData.getProperty("/controlConfiguration")?.[this.converterHeaderFacet.targetAnnotationValue]?.navigation?.targetSections){return this.getDataPointTitleWithInPageLinkTemplate(r,a,i,n)}return this.getDataPointTitleWithoutLinkTemplate(r,a,i)};a.getDataPointTitleWithExternalLinkTemplate=function e(t,a,i,r){const n=l.getHeaderDataPointLinkVisibility(H(["fe","HeaderDPLink",this.converterHeaderFacet.targetAnnotationValue]),true);const o=l.getHeaderDataPointLinkVisibility(H(["fe","HeaderDPLink",this.converterHeaderFacet.targetAnnotationValue]),false);return V`
			<VBox
				xmlns="sap.m"
				id="${t}"
				visible="${i}"
			>
				<core:InvisibleText
				id="${H(["fe",this.converterHeaderFacet.targetAnnotationValue,"AriaText"])}"
				text="${this.getTranslatedText("T_HEADER_DATAPOINT_TITLE_LINK_EXTERNAL_ARIA")}"
				/>
				<Title
				xmlns="sap.m"
				level="H3"
				visible="${n}"
				>
					<content>
						<Link
							id="${H(["fe","HeaderDPLink",this.converterHeaderFacet.targetAnnotationValue])}"
							text="${a.targetObject?.Title}"
							press="${r}"
							ariaDescribedBy="${H(["fe",this.converterHeaderFacet.targetAnnotationValue,"AriaText"])}"
							class="sapUiTinyMarginBottom"
							customData:ValuePropertyPath="${a.targetObject?.Value?.path}"
						/>
					</content>
				</Title>
				<Title
				xmlns="sap.m"
				id="${H(["fe","HeaderDPTitle",this.converterHeaderFacet.targetAnnotationValue])}"
				level="H3"
				text="${a.targetObject?.Title}"
				class="sapUiTinyMarginBottom"
				visible="${o}"
				/>
				${this.getDataPointTemplate(a)}
			</VBox>`};a.getDataPointTitleWithInPageLinkTemplate=function e(t,a,i,r){return V`
			<VBox
				xmlns="sap.m"
				id="${t}"
				visible="${i}"
			>
				<core:InvisibleText
					text="${this.getTranslatedText("T_COMMON_HEADERDP_TITLE_LINK_INPAGE_ARIA")}"
					id="${H(["fe",this.converterHeaderFacet.targetAnnotationValue,"AriaText"])}"
				/>
				<core:InvisibleText
					text="${a.targetObject?.Title}"
					id="${H(["fe","HeaderDPTitle",this.converterHeaderFacet.targetAnnotationValue])}"
				/>
				<Title xmlns="sap.m" level="H3" ${this.attr("visible",!!a.targetObject?.Title)}>
					<content>
						<Link
							id="${H(["fe","HeaderDPLink",this.converterHeaderFacet.targetAnnotationValue])}"
							text="${a.targetObject?.Title}"
							press="${r}"
							ariaDescribedBy="${H(["fe",this.converterHeaderFacet.targetAnnotationValue,"AriaText"])}"
							class="sapUiTinyMarginBottom"
						/>
					</content>
				</Title>
				${this.getDataPointTemplate(a)}
			</VBox>`};a.getDataPointTitleWithoutLinkTemplate=function e(t,a,i){return V`
			<VBox
				xmlns="sap.m"
				id="${t}"
				visible="${i}"
			>
				<Title
				xmlns="sap.m"
				id="${H(["fe","HeaderDPTitle",this.converterHeaderFacet.targetAnnotationValue])}"
					level="H3"
					text="${a.targetObject?.Title}"
					class="sapUiTinyMarginBottom"
				/>

				${this.getDataPointTemplate(a)}
			</VBox>`};a.getDataPointTemplate=function e(t){return V`
			${this.getDataPointFirstLabel(t)}
			<internalMacro:DataPoint
				xmlns:internalMacro="sap.fe.macros.internal"
				metaPath="${this.metaPath.getPath()}"
				contextPath="${this.contextPath.getPath()}"
				ariaLabelledBy="${H(["fe","HeaderDPTitle",this.converterHeaderFacet.targetAnnotationValue])}"
			>
				<internalMacro:formatOptions>
  					 <internalMacro:DataPointFormatOptions dataPointStyle="large" showLabels="true" iconSize="1.375rem" showEmptyIndicator="true" />
				</internalMacro:formatOptions>
			</internalMacro:DataPoint>
			${this.getDataPointSecondLabel(t)}`};a.getDataPointFirstLabel=function e(t){switch(t.targetObject?.Visualization){case"UI.VisualizationType/Rating":const e=$(this.metaPath,t.targetObject);return V` <Label text="${e}" visible="${!!(t.targetObject?.SampleSize||t.targetObject?.Description)}"/>`;case"UI.VisualizationType/Progress":return V`<Label text="${t.targetObject?.Description}" visible="${!!t.targetObject?.Description}"/>`;default:return""}};a.getDataPointSecondLabel=function e(t){switch(t.targetObject?.Visualization){case"UI.VisualizationType/Rating":const e=E(B([j("T_HEADER_RATING_INDICATOR_FOOTER","sap.fe.i18n"),k(t.targetObject?.Value,O(t)),t.targetObject?.TargetValue?k(t.targetObject?.TargetValue,O(t)):"5"],"MESSAGE"));return V`<Label core:require="{MESSAGE: 'sap/base/strings/formatMessage' }" text="${e}" visible="true"/>`;case"UI.VisualizationType/Progress":const a=t.targetObject?.Value?.$target?.annotations?.Common?.Label?.toString();return a?V`<Label text="${a}"/>`:"";default:return""}};return t}(i),D.getPressExpressionForLink=function(e,t){if(e?.targetOutbound&&"outbound"in e.targetOutbound){return".handlers.onDataPointTitlePressed($controller, ${$source>}, "+JSON.stringify(t)+","+JSON.stringify(e.targetOutbound.outbound)+")"}else if(e&&e["targetSections"]){return".handlers.navigateToSubSection($controller, '"+JSON.stringify(e["targetSections"])+"')"}else{return undefined}},D),h=M(m.prototype,"metaPath",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),v=M(m.prototype,"contextPath",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),T=M(m.prototype,"converterHeaderFacet",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),P=M(m.prototype,"headerFacet",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||f);x=w;return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/PropertyInfo", [],function(){"use strict"},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/TitleLink", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/Link","sap/m/Title","sap/m/library","sap/ui/core/InvisibleText","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,r,n,a,l){"use strict";var o,s,u,c,p,b,f,d,h,v,y,k,g;var m={};var w=n.LinkAccessibleRole;var x=e.property;var A=e.event;var z=e.defineUI5Class;function L(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function P(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,j(e,t)}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}function O(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function T(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let B=(o=z("sap.fe.macros.internal.TitleLink"),s=x({type:"string"}),u=x({type:"string"}),c=x({type:"boolean"}),p=x({type:"string",isBindingInfo:true}),b=A(),o(f=(d=function(e){function t(t,i){var r;r=e.call(this,t,i)||this;L(r,"id",h,r);L(r,"text",v,r);L(r,"showAsLink",y,r);L(r,"linkAriaText",k,r);L(r,"linkPress",g,r);return r}m=t;P(t,e);var n=t.prototype;n.onMetadataAvailable=function t(i){e.prototype.onMetadataAvailable.call(this,i);this.content=this.createContent()};n.setShowAsLink=function e(t){if(t!==this.showAsLink){this.setProperty("showAsLink",t);this.content=this.createContent()}};n.createContent=function e(){let t;if(this.showAsLink){t=l(i,{text:this.text,press:e=>{this.fireEvent("linkPress",e)},accessibleRole:w.Button});if(this.linkAriaText){const e=l(a,{text:this.linkAriaText});t.addAriaDescribedBy(e)}}return l(r,{level:"H3",text:this.text,children:{content:t}})};return t}(t),h=O(d.prototype,"id",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),v=O(d.prototype,"text",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),y=O(d.prototype,"showAsLink",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),k=O(d.prototype,"linkAriaText",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),g=O(d.prototype,"linkPress",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),d))||f);m=B;return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/field/DisplayStyle", ["sap/base/util/uid","sap/fe/base/BindingToolkit","sap/fe/core/controls/FormElementWrapper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/CriticalityFormatters","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldHelper","sap/fe/macros/field/FieldTemplating","sap/fe/macros/quickView/QuickView","sap/m/Avatar","sap/m/Button","sap/m/ExpandableText","sap/m/HBox","sap/m/ImageCustomData","sap/m/Label","sap/m/Link","sap/m/ObjectIdentifier","sap/m/ObjectStatus","sap/m/Text","sap/m/VBox","sap/m/library","sap/ui/core/CustomData","sap/ui/core/Icon","sap/ui/mdc/enums/FieldEditMode","sap/ui/unified/FileUploader","sap/ui/unified/FileUploaderHttpRequestMethod","../../contact/Contact","../../contact/Email","../../controls/ConditionalWrapper","../../controls/FileWrapper","../../controls/TextLink","../../draftIndicator/DraftIndicator","../../situations/SituationsIndicator","../DataPoint","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,a,i,n,r,o,l,s,d,c,p,u,m,y,h,f,g,b,v,x,I,P,M,T,F,L,B,E,S,O,V,C,k,w,A,D,U,R,H){"use strict";var W=T.ObjectMarkerVisibility;var j=T.LinkAccessibleRole;var N=d.hasValidAnalyticalCurrencyOrUnit;var _=s.getContextRelativeTargetObjectPath;var Q=s.enhanceDataModelPath;var $=l.buildExpressionForCriticalityIcon;var q=l.buildExpressionForCriticalityColor;var K=l.buildExpressionForCriticalityButtonType;var z=o.generate;var G=r.UI;var X=t.resolveBindingString;var J=t.pathInModel;var Y=t.not;var Z=t.isPathInModelExpression;var ee=t.ifElse;var te=t.getExpressionFromAnnotation;var ae=t.formatResult;var ie=t.equal;var ne=t.constant;var re=t.compileExpression;var oe=t.and;const le={getPrecisionForCurrency(e){let t=e.property.scale??5;if(typeof t!=="number"){t=e.property.precision??5}return Math.min(t,5)},getCurrencyOrUnitControl(e,t,a){return R(v,{"core:require":"{FIELDRUNTIME: 'sap/fe/macros/field/FieldRuntime'}",text:"{sap.fe.i18n>M_TABLE_SHOW_DETAILS}",press:e.eventHandlers.displayAggregationDetails,visible:a,children:{dependents:t?.clone?t.clone():t}})},getNumberWithUnitOrCurrencyAlignedTemplate(e){const t=_(e.dataModelPath);const a=Y(ie(J(t),undefined));const i=H(f,{renderType:"Bare",justifyContent:"End",class:"sapFeControlsUnitCurrencyHbox",children:[R(P,{textDirection:"LTR",wrapping:"false",textAlign:"End",class:"sapUiTinyMarginEnd",text:e.valueAsStringBindingExpression}),R(P,{textDirection:"LTR",wrapping:"false",textAlign:"End",text:e.unitBindingExpression,width:"3.3em"})]});if(e.formatOptions.isAnalytics){return R(C,{visible:e.displayVisible,condition:e.hasValidAnalyticalCurrencyOrUnit,children:{contentTrue:i,contentFalse:this.getCurrencyOrUnitControl(e,i,a)}})}else{return i}},getAvatarTemplate(e){let t;if(e._flexId){t=e._flexId}else if(e.idPrefix){t=z([e.idPrefix,"Field-content"])}const i=p.getVisibleExpression(e.dataModelPath);const n=p.getValueBinding(e.dataModelPath,{});const r=p.getAvatarShape(e.dataModelPath);return R(a,{visible:i,children:R(m,{id:t,src:n,displaySize:"S",class:"sapUiSmallMarginEnd",imageFitType:"Cover",displayShape:r})})},getButtonTemplate:e=>{const t=e.formatOptions?.showIconUrl??false?e.convertedMetaPath.IconUrl:undefined;const a=!(e.formatOptions?.showIconUrl??false)?e.convertedMetaPath.Label:undefined;const i=e.formatOptions?.showIconUrl??false?e.convertedMetaPath.Label:undefined;let n;let r;let o;let l;let s;if(e.convertedMetaPath.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){n=e.eventHandlers.onDataFieldActionButton;r=e.convertedMetaPath.ActionTarget?e.convertedMetaPath.ActionTarget.isBound:true;o=e.convertedMetaPath.ActionTarget?e.convertedMetaPath.ActionTarget.annotations?.Core?.OperationAvailable:"false";l=e.convertedMetaPath.ActionTarget?undefined:"false";if(o&&o!=="false"){const t=e.convertedMetaPath.ActionTarget;const a=t.parameters[0].name;l=re(te(o,[],undefined,e=>{if(e.startsWith(a)){return e.replace(a+"/","")}return e}))}}if(e.convertedMetaPath.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){n=e.eventHandlers.onDataFieldWithIBN;s=true;if(e.convertedMetaPath?.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&e.convertedMetaPath.NavigationAvailable!==undefined&&String(e.formatOptions.ignoreNavigationAvailable)!=="true"){s=re(te(e.convertedMetaPath.NavigationAvailable))}}let d="";if(e.convertedMetaPath.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){d=R(y,{visible:e.visible,text:a,icon:t,enabled:s,tooltip:i,press:n})}else if(c.isDataFieldActionButtonVisible(e.convertedMetaPath,r,o)){let s=c.isDataFieldActionButtonEnabled(e.convertedMetaPath,r,o,l);if(e.formatOptions.isAnalyticalAggregatedRow){s=re(oe(X(s),G.isNodeLevelNavigable))}const p=K(e.dataModelPath);d=R(y,{class:e.class,text:a,icon:t,tooltip:i,press:n,enabled:s,visible:e.visible,type:p})}return d},getContactTemplate(e){const t=e.metaPath.getModel().createBindingContext("Target/$AnnotationPath",e.metaPath);const a=p.getVisibleExpression(e.dataModelPath);return R(O,{idPrefix:e.idPrefix,ariaLabelledBy:e.ariaLabelledBy,metaPath:t.getPath(),contextPath:e.contextPath.getPath(),_flexId:e._flexId,visible:a,showEmptyIndicator:e.formatOptions.showEmptyIndicator})},getDataPointInnerPart(e,t){const a=i.convertMetaModelContext(e.metaPath);const n=a.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"?e.metaPath.getModel().createBindingContext("Target/$AnnotationPath",e.metaPath):e.metaPath;const r={measureDisplayMode:e.formatOptions.measureDisplayMode,showEmptyIndicator:e.formatOptions.showEmptyIndicator};return R(U,{idPrefix:t?undefined:e.idPrefix,visible:!t?e.displayVisible:undefined,ariaLabelledBy:e.ariaLabelledBy?e.ariaLabelledBy:undefined,metaPath:n.getPath(),contextPath:e.contextPath?.getPath(),value:e.value,children:{formatOptions:{formatOptions:r}}})},getDataPointTemplate(e){if((e.formatOptions.isAnalytics??false)&&(e.hasUnitOrCurrency??false)){return R(C,{visible:e.displayVisible,condition:e.hasValidAnalyticalCurrencyOrUnit,children:{contentTrue:this.getDataPointInnerPart(e,true),contentFalse:this.getCurrencyOrUnitControl(e,this.getDataPointInnerPart(e,true))}})}else{return this.getDataPointInnerPart(e,false)}},getExpandableText(e){return R(h,{id:e?.displayStyleId,visible:e?.displayVisible,text:e.text,overflowMode:e?.formatOptions?.textExpandBehaviorDisplay,maxCharacters:e?.formatOptions?.textMaxCharactersDisplay,emptyIndicatorMode:e?.emptyIndicatorMode})},getFileTemplate(e){let t;const a=re(Y(ie(J(`${e.fileRelativePropertyPath}@odata.mediaContentType`),null)));const i=e.fileFilenameExpression?"{ path: '"+e.fileFilenameExpression+"' }":"";const n=p.getValueBinding(e.dataModelPath,{});const r=e.property.annotations.Core?.ContentDisposition?.Filename?.path;const o=e.property.annotations.Core?.MediaType&&re(te(e.property.annotations.Core?.MediaType));const l=!!e.property.annotations.UI?.IsImageURL||!!e.property.annotations.UI?.IsImage||/image\//i.test(e.property.annotations.Core?.MediaType?.toString()??"");const s=p.getValueBinding(e.dataModelPath,{});const d=p.getAvatarShape(e.dataModelPath);const u=c.getPathForIconSource(e.fileRelativePropertyPath);const h=c.getFilenameExpr(i,"{sap.fe.i18n>M_FIELD_FILEUPLOADER_NOFILENAME_TEXT}");const f=c.getDownloadUrl(n??"");const b=re(ie(J(`${e.fileRelativePropertyPath}@odata.mediaContentType`),null));let x;if(e.property.annotations.Core?.AcceptableMediaTypes){const t=Array.from(e.property.annotations.Core.AcceptableMediaTypes).map(e=>`'${e}'`);x=`{=odata.collection([${t.join(",")}])}`}const I=c.calculateMBfromByte(e.property.maxLength);if(l){t={avatar:R(m,{visible:e.displayVisible,src:s,displaySize:"S",class:"sapUiSmallMarginEnd",imageFitType:"Cover",displayShape:d,children:{customData:R(g,{paramName:"xcache"})}})}}else{t={icon:R(L,{src:u,class:"sapUiSmallMarginEnd",visible:a}),link:R(v,{text:h,target:"_blank",href:f,visible:a,wrapping:"true"}),text:R(P,{emptyIndicatorMode:e.emptyIndicatorMode,text:"",visible:b})}}if((e.editMode??e.computedEditMode)!==B.Display){const i=e.collaborationEnabled?e.eventHandlers.handleOpenUploader:undefined;const n=e.collaborationEnabled?e.eventHandlers.handleCloseUploader:undefined;t={...t,fileUploader:R(E,{name:"FEV4FileUpload",visible:e.editableExpression,buttonOnly:"true",iconOnly:"true",multiple:"false",tooltip:"{sap.fe.i18n>M_FIELD_FILEUPLOADER_UPLOAD_BUTTON_TOOLTIP}",icon:"sap-icon://upload",style:"Transparent",sendXHR:"true",useMultipart:"false",sameFilenameAllowed:"true",mimeType:x,typeMissmatch:e.eventHandlers.handleTypeMissmatch,maximumFileSize:I,fileSizeExceed:e.eventHandlers.handleFileSizeExceed,uploadOnChange:"false",uploadComplete:e.eventHandlers.handleUploadComplete,httpRequestMethod:e.isDynamicInstantiation?S.Put:"Put",change:e.eventHandlers.uploadStream,beforeDialogOpen:i,afterDialogClose:n,uploadStart:e.eventHandlers.handleOpenUploader}),deleteButton:R(y,{icon:"sap-icon://sys-cancel",type:"Transparent",press:e.eventHandlers.removeStream,tooltip:"{sap.fe.i18n>M_FIELD_FILEUPLOADER_DELETE_BUTTON_TOOLTIP}",visible:e.editableExpression,enabled:a})}}return R(k,{"core:require":"{FieldRuntimeHelper: 'sap/fe/macros/field/FieldRuntimeHelper'}",visible:e.visible,uploadUrl:n,propertyPath:e.fileRelativePropertyPath,filename:r,mediaType:o,fieldGroupIds:e.fieldGroupIds,validateFieldGroup:e.eventHandlers.validateFieldGroup,children:{customData:R(F,{value:e.dataSourcePath},"sourcePath"),innerFilePart:t}})},getLinkTemplate(t){let a;let i;let n;let r;switch(t.convertedMetaPath.$Type){case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":return R(v,{id:t.displayStyleId,visible:t.displayVisible,text:le.computeTextWithWhiteSpace(t),press:t.eventHandlers.onDataFieldWithIBN,ariaLabelledBy:t.ariaLabelledBy,emptyIndicatorMode:t.emptyIndicatorMode,class:"sapMTextRenderWhitespaceWrap",accessibleRole:j.Button});case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":return R(v,{id:t.displayStyleId,"core:require":"{FieldRuntimeHelper: 'sap/fe/macros/field/FieldRuntimeHelper'}",visible:t.displayVisible,text:t.text,press:t.eventHandlers.onDataFieldWithNavigationPath,enabled:t.formatOptions.isAnalyticalAggregatedRow?G.isNodeLevelNavigable:undefined,ariaLabelledBy:t.ariaLabelledBy,emptyIndicatorMode:t.emptyIndicatorMode,class:"sapMTextRenderWhitespaceWrap"});case"com.sap.vocabularies.UI.v1.DataFieldWithAction":return R(v,{id:t.displayStyleId,visible:t.displayVisible,text:t.text,press:t.eventHandlers.onDataFieldActionButton,enabled:t.formatOptions.isAnalyticalAggregatedRow?G.isNodeLevelNavigable:undefined,ariaLabelledBy:t.ariaLabelledBy,emptyIndicatorMode:t.emptyIndicatorMode,class:"sapMTextRenderWhitespaceWrap",accessibleRole:j.Button});case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":const e=t.property.annotations.HTML5?.LinkTarget;t.text=le.computeTextWithWhiteSpace(t);i=t.convertedMetaPath.IconUrl?re(te(t.convertedMetaPath.IconUrl)):undefined;const o=te(t.convertedMetaPath.Url);a=re(o);n=re(Y(ie(o,"")));r=e&&e.toString()}if(t.property.annotations?.Communication?.IsEmailAddress||t.property.annotations?.Communication?.IsPhoneNumber){const i=t.property.annotations.Communication?.IsEmailAddress!==undefined;const r=t.property.annotations.Communication?.IsPhoneNumber!==undefined;const o=p.getValueBinding(t.dataModelPath,{});const l=t.displayStyleId?t.displayStyleId:`mailBlock${e()}`;if(i){a=`mailto:${o}`;return R(V,{id:l,visible:t.displayVisible,text:t.text,mail:o,ariaLabelledBy:t.ariaLabelledBy?t.ariaLabelledBy:undefined,emptyIndicatorMode:t.emptyIndicatorMode})}if(r){a=`tel:${o}`;return R(v,{id:t.displayStyleId,visible:t.displayVisible,text:le.computeTextWithWhiteSpace(t),href:a,enabled:n,ariaLabelledBy:t.ariaLabelledBy,emptyIndicatorMode:t.emptyIndicatorMode,class:"sapMTextRenderWhitespaceWrap"})}}if(i){return R(I,{"core:require":"{FieldRuntimeHelper: 'sap/fe/macros/field/FieldRuntimeHelper'}",id:t.displayStyleId,icon:i,visible:t.displayVisible,text:t.text,press:t.eventHandlers.openExternalLink,active:n,emptyIndicatorMode:t.emptyIndicatorMode,ariaLabelledBy:t.ariaLabelledBy,children:{customData:R(F,{value:a},"url")}})}else{return R(v,{id:t.displayStyleId,visible:t.displayVisible,text:t.text,href:a,enabled:n,target:r===undefined?"_top":r,wrapping:t.wrap===undefined?true:t.wrap,ariaLabelledBy:t.ariaLabelledBy,emptyIndicatorMode:t.emptyIndicatorMode})}},getForeignKeyForCustomData(e){const t=u.getRelativePathToQuickViewEntity(e.dataModelPath);if(t){const a=e.dataModelPath.targetEntityType.navigationProperties;const i=a.find(e=>e.name===t);const n=i?.referentialConstraint;const r=n?.length&&typeof n[0]==="object"&&n[0].targetProperty;const o=r?`${t}/${r}`:undefined;if(o!==undefined){return o}}return undefined},getForeignKeyValueExpression(e){const t=u.getRelativePathToQuickViewEntity(e.dataModelPath)?this.getForeignKeyForCustomData(e):undefined;const a={path:`${t}`,_type:"PathInModel"};return`${re(ee(ie(t,undefined),ne(true),Y(ie(null,a))))}`},getStandardLinkWithQuickViewTemplate(e,t){return R(v,{id:e.displayStyleId,"core:require":"{FieldRuntimeHelper: 'sap/fe/macros/field/FieldRuntimeHelper'}",text:t,visible:e.displayVisible,wrapping:e.wrap===undefined?true:e.wrap,press:e.eventHandlers.linkPressed,ariaLabelledBy:e.ariaLabelledBy,emptyIndicatorMode:e.emptyIndicatorMode,accessibleRole:j.Button,children:{customData:[R(F,{value:e.valueAsStringBindingExpression},"loadValue")],dependents:le.getMdcLinkForQuickView(e)}})},getConditionalLinkWithQuickViewTemplate(e,t,a){const i=e.semanticObject?.bindingString??e.semanticObject;return R(w,{id:e.displayStyleId,"core:require":"{FieldRuntimeHelper: 'sap/fe/macros/field/FieldRuntimeHelper'}",showAsLink:t,semanticObject:i,text:a,visible:e.displayVisible,wrapping:e.wrap===undefined?true:e.wrap,press:e.eventHandlers.linkPressed,ariaLabelledBy:e.ariaLabelledBy,emptyIndicatorMode:e.emptyIndicatorMode,children:{customData:[R(F,{value:e.valueAsStringBindingExpression},"loadValue")],dependents:le.getMdcLinkForQuickView(e)}})},getConditionalWrapperForQuickViewTemplate(e,t,a,i){return R(C,{visible:e.displayVisible,condition:t,children:{contentTrue:a,contentFalse:i}})},getLinkWithQuickViewTemplate(e){const t=e.formatOptions.retrieveTextFromValueList?e.textFromValueList:le.computeTextWithWhiteSpace(e);const a=this.getQuickViewCondition(e);if(a==="true"){return this.getStandardLinkWithQuickViewTemplate(e,t)}return this.getConditionalLinkWithQuickViewTemplate(e,a,t)},getTextTemplate(e){if(e.formatOptions.retrieveTextFromValueList){return R(P,{id:e.displayStyleId,visible:e.displayVisible,text:e.textFromValueList,"core:require":"{FieldRuntime: 'sap/fe/macros/field/FieldRuntime'}",emptyIndicatorMode:e.emptyIndicatorMode,renderWhitespace:"true"})}else{let t;if(e.formatOptions.displayMode==="Description"&&e.valueAsStringBindingExpression){t=R(F,{value:e.valueAsStringBindingExpression},"fieldBinding")}return R(P,{id:e.displayStyleId,visible:e.displayVisible,text:e.text,wrapping:e.wrap,emptyIndicatorMode:e.emptyIndicatorMode,renderWhitespace:"true",children:t})}},getPasswordTemplate(e){const t=p.getTextBinding(e.dataModelPath,e.formatOptions,true);const a=Z(t)||typeof t==="string"?re(ae([t],n.formatPasswordText)):re(t);return R(P,{"core:require":"{valueFormatters: 'sap/fe/core/formatters/ValueFormatter'}",id:e.displayStyleId,visible:e.displayVisible,text:a,wrapping:e.wrap,renderWhitespace:"true"})},getObjectIdentifier(e){let t;let a;if(e.hasQuickView){a=this.getQuickViewCondition(e);t=le.getMdcLinkForQuickView(e)}else{a=false}let i=R(x,{"core:require":"{FieldRuntimeHelper: 'sap/fe/macros/field/FieldRuntimeHelper'}",id:e.displayStyleId,title:e.identifierTitle,text:e.identifierText,titleActive:a,titlePress:e.eventHandlers.linkPressed,ariaLabelledBy:e.ariaLabelledBy,emptyIndicatorMode:e.emptyIndicatorMode,children:{customData:[R(F,{value:e.valueAsStringBindingExpression},"loadValue")],dependents:t}});if(e.hasSituationsIndicator){i=H(f,{alignItems:"Center",justifyContent:"SpaceBetween",width:"100%",children:[i,R(D,{contextPath:e.contextPath.getPath(),propertyPath:e.situationsIndicatorPropertyPath})]})}if(e.showErrorIndicator&&e.showErrorObjectStatus){i=H(M,{children:[i,R(I,{visible:e.showErrorObjectStatus,class:"sapUiSmallMarginBottom",text:"{sap.fe.i18n>Contains_Errors}",state:"Error"})]})}return i},getObjectStatus(e){let t;let a={"core:require":"{FieldRuntimeHelper: 'sap/fe/macros/field/FieldRuntimeHelper'}"};const n=i.getInvolvedDataModelObjects(e.metaPath,e.contextPath);const r=Q(n,n.targetObject?.Value.path);const o=N(r);const l=i.getInvolvedDataModelObjects(e.metaPath);const s=$(l);const d=q(l);const c=e.convertedMetaPath.Url?re(te(e.convertedMetaPath.Url)):undefined;if(e.formatOptions.isAnalytics&&e.hasUnitOrCurrency){const a=le.getCurrencyOrUnitControl(e,R(P,{text:e.text,textAlign:"End"}));t=R(C,{id:e.displayStyleId,condition:o,children:{contentTrue:R(I,{icon:s,state:d,visible:e.displayVisible,text:e.text,emptyIndicatorMode:e.emptyIndicatorMode,class:"sapMTextRenderWhitespaceWrap"}),contentFalse:a}})}else{let i;let n=false;let r;let o;if(e.hasQuickView){i=le.getMdcLinkForQuickView(e);r=this.getQuickViewCondition(e);o="FieldRuntimeHelper.pressLink"}if(c){n=true;a={"core:require":"{FieldRuntimeHelper: 'sap/fe/macros/field/FieldRuntimeHelper'}"};o=e.eventHandlers.openExternalLink}t=R(I,{id:e.displayStyleId,icon:s,state:d,text:e.text,visible:e.displayVisible,emptyIndicatorMode:e.emptyIndicatorMode,...a,active:r?r:n,press:o,ariaLabelledBy:e.ariaLabelledBy,children:{customData:[R(F,{value:e.valueAsStringBindingExpression},"loadValue"),R(F,{value:c},"url")],dependents:i}})}return t},getMdcLinkForQuickView(e){const t=e.semanticObject?.bindingString??e.semanticObject;return new u(e.dataModelPath,e.metaPath.getPath(),e.contextPath.getPath(),t).createContent()},getLabelSemanticKey(e){const t=R(v,{text:e.text,wrapping:"true","core:require":"{FieldRuntimeHelper: 'sap/fe/macros/field/FieldRuntimeHelper'}",press:e.eventHandlers.linkPressed,ariaLabelledBy:e.ariaLabelledBy,emptyIndicatorMode:e.emptyIndicatorMode,accessibleRole:j.Button,children:{customData:[R(F,{value:e.valueAsStringBindingExpression},"loadValue")],dependents:le.getMdcLinkForQuickView(e)}});const a=R(b,{id:e.displayStyleId,visible:e.displayVisible,text:e.identifierTitle,design:"Bold"});if(e.hasQuickView){const i=this.getQuickViewCondition(e);if(i==="true"){return t}else{return this.getConditionalWrapperForQuickViewTemplate(e,i,t,a)}}return R(b,{id:e.displayStyleId,visible:e.displayVisible,text:e.identifierTitle,design:"Bold"})},addDraftIndicator(e,t){if(!t.formatOptions.fieldGroupDraftIndicatorPropertyPath){e=R(a,{visible:t.displayVisible,children:H(M,{class:c.getMarginClass(t.formatOptions.compactSemanticKey),children:[e,R(A,{draftIndicatorType:W.IconAndText,contextPath:t.contextPath.getPath(),visible:t.draftIndicatorVisible,ariaLabelledBy:t.ariaLabelledBy?t.ariaLabelledBy:[]})]})})}return e},computeTextWithWhiteSpace(e){const t=p.getTextBinding(e.dataModelPathExternalID??e.dataModelPath,e.formatOptions,true);return Z(t)||typeof t==="string"?re(ae([t],n.replaceWhitespace)):re(t)},getQuickViewCondition(e){switch(e.quickViewType){case"Facets":return this.getForeignKeyValueExpression(e);case"SemanticLinks":if(e.dynamicSemanticObjects){const t=[];if(e.semanticObject){return re(ne(false))}for(const a of e.dynamicSemanticObjects){if(a._type==="PathInModel"||a._type==="Constant"){t.push(a)}else{return re(ne(true))}}const a=[J("/semanticObjects","internal")].concat(t);return re(ae(a,n.hasSemanticObjects))}return"true";default:return"true"}},getTemplate:e=>{let t;switch(e.displayStyle){case"NumberWithUnitOrCurrencyAligned":t=le.getNumberWithUnitOrCurrencyAlignedTemplate(e);break;case"Avatar":t=le.getAvatarTemplate(e);break;case"Button":t=le.getButtonTemplate(e);break;case"Contact":t=le.getContactTemplate(e);break;case"DataPoint":t=le.getDataPointTemplate(e);break;case"ExpandableText":t=le.getExpandableText(e);break;case"File":t=le.getFileTemplate(e);break;case"Link":t=le.getLinkTemplate(e);break;case"LinkWithQuickView":t=le.getLinkWithQuickViewTemplate(e);break;case"ObjectIdentifier":t=le.getObjectIdentifier(e);break;case"ObjectStatus":{t=le.getObjectStatus(e);break}case"LabelSemanticKey":t=le.getLabelSemanticKey(e);break;case"Text":t=le.getTextTemplate(e);break;case"Masked":t=le.getPasswordTemplate(e);break;default:t=""}if(e.addDraftIndicator&&t){t=le.addDraftIndicator(t,e)}return t}};return le},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/field/EditStyle", ["sap/fe/base/BindingToolkit","sap/fe/base/EventDelegateHook","sap/fe/core/converters/MetaModelConverter","sap/fe/core/formatters/CollaborationFormatter","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/controls/CollaborationHBox","sap/fe/macros/controls/RadioButtons","sap/fe/macros/field/FieldTemplating","sap/m/Avatar","sap/m/CheckBox","sap/m/DatePicker","sap/m/DateTimePicker","sap/m/FlexItemData","sap/m/Input","sap/m/MaskInput","sap/m/MaskInputRule","sap/m/RatingIndicator","sap/m/TextArea","sap/m/TimePicker","sap/ui/core/CustomData","sap/ui/mdc/Field","sap/ui/mdc/enums/FieldEditMode","../../field/FieldHelper","../../field/TextAreaEx","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,a,i,o,r,l,n,s,d,p,u,c,m,h,g,v,x,f,b,y,P,I,T,E,L,F){"use strict";var k=s.getTextAlignment;var D=s.getMultipleLinesForDataField;var C=o.hasValueHelpWithFixedValues;var M=e.pathInModel;var B=e.compileExpression;const S={getLayoutData(e){let t="";if(e.collaborationEnabled){t=L(m,{growFactor:"9"})}return t},getCollaborationAvatar(e){const a=B(e.collaborationExpression);const o=B(r.getCollaborationExpression(e.dataModelPath,i.getCollaborationActivityInitials));const l=B(r.getCollaborationExpression(e.dataModelPath,i.getCollaborationActivityColor));return L(d,{"core:require":"{FieldRuntimeHelper: 'sap/fe/macros/field/FieldRuntimeHelper'}",visible:a,initials:o,displaySize:"Custom",customDisplaySize:"1.5rem",customFontSize:"0.8rem",backgroundColor:l,press:e.eventHandlers.showCollaborationEditUser,children:{dependents:L(t,{stopTapPropagation:true})}})},getDateTimePickerGeneric(e,t){const i=a.getInvolvedDataModelObjects(e.metaPath,e.contextPath);const o=k(i,e.formatOptions,e.editModeAsObject);const r={"core:require":"{Field: 'sap/fe/macros/Field'}",id:e.editStyleId,width:"100%",editable:e.editableExpression,enabled:e.enabledExpression,required:e.requiredExpression,textAlign:o,ariaLabelledBy:e.ariaLabelledBy,value:e.valueBindingExpression,fieldGroupIds:e.fieldGroupIds,showTimezone:e.showTimezone,minDate:t==="DateTimePicker"||t==="DatePicker"?e.minDateExpression:undefined,maxDate:t==="DateTimePicker"||t==="DatePicker"?e.maxDateExpression:undefined,change:t==="DateTimePicker"?e.change||e.eventHandlers.change:e.eventHandlers.change,liveChange:e.eventHandlers.liveChange,validateFieldGroup:e.eventHandlers.validateFieldGroup};function l(t){let a;switch(t){case"DatePicker":a=L(u,{...r,children:{customData:L(y,{value:e.dataSourcePath},"sourcePath")}});break;case"DateTimePicker":a=L(c,{...r,children:{customData:L(y,{value:e.dataSourcePath},"sourcePath")}});break;case"TimePicker":a=L(b,{...r,children:{customData:L(y,{value:e.dataSourcePath},"sourcePath")}});break}return a}return l(t)},getInputTemplate(e){const t=a.getInvolvedDataModelObjects(e.metaPath,e.contextPath);const i=k(t,e.formatOptions,e.editModeAsObject);return L(h,{"core:require":"{Field: 'sap/fe/macros/Field'}",id:e.editStyleId,value:e.valueBindingExpression,placeholder:e.editStylePlaceholder,width:"100%",editable:e.editableExpression,description:e.staticDescription,enabled:e.enabledExpression,required:e.requiredExpression,fieldGroupIds:e.fieldGroupIds,textAlign:i,type:e.editStyle==="Masked"?"Password":undefined,ariaLabelledBy:e.ariaLabelledBy,maxLength:e.formatOptions.textMaxLength,change:e.eventHandlers.change,liveChange:e.eventHandlers.liveChange,validateFieldGroup:e.eventHandlers.validateFieldGroup,children:{layoutData:S.getLayoutData(e),customData:L(y,{value:e.dataSourcePath},"sourcePath")}})},showAsRadioButton(e){const t=e.property.annotations?.Common?.ValueListWithFixedValues&&C(e.property)===true&&(e.property.annotations.Common.ValueListWithFixedValues.annotations?.Common?.ValueListShowValuesImmediately&&e.property.annotations.Common.ValueListWithFixedValues.annotations?.Common?.ValueListShowValuesImmediately.valueOf()===true||e.formatOptions.fieldEditStyle==="RadioButtons");const a=e.property?.annotations?.Common?.ValueList?.Parameters.find(t=>(t.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||t.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterOut")&&t.LocalDataProperty.value===e.property.name);return t&&a!==undefined&&!e.property.annotations?.Common?.ValueListRelevantQualifiers},getRadioButtonTemplate(e){const t="/"+e.property?.annotations?.Common?.ValueList?.CollectionPath;const a=e.property?.annotations?.Common?.ValueList?.Parameters.find(t=>(t.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||t.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterOut")&&t.LocalDataProperty.value===e.property.name);const i=M(a.ValueListProperty);let o;const r=e.dataModelPath.targetEntityType.resolvePath(t).entityType.keys[0].annotations?.Common?.Text?.path;if(r){o=M(r)}else{o=i}return L(n,{id:e.editStyleId,requiredExpression:e.requiredExpression,validateFieldGroup:e.eventHandlers.validateFieldGroup,fixedValuesPath:t,fieldGroupIds:e.fieldGroupIds,value:e.valueBindingExpression,enabledExpression:e.enabledExpression,radioButtonTextProperty:o,radioButtonKeyProperty:i,horizontalLayout:e.formatOptions.radioButtonsHorizontalLayout})},getInputWithValueHelpTemplate(e){const t=a.getInvolvedDataModelObjects(e.metaPath,e.contextPath);const i=T.computeFieldBaseDelegate("sap/fe/macros/field/FieldBaseDelegate",e.formatOptions.retrieveTextFromValueList);const o=r.getFieldDisplay(e.property,e.formatOptions.displayMode,e.editModeAsObject);const l=!!e.property?.annotations?.UI?.MultiLineText;const n=D(e,l);const s=k(t,e.formatOptions,e.editModeAsObject,true);const d=T.computeLabelText(e,{context:e.metaPath});let p="";if(e.property.type==="Edm.String"&&l){p=L(f,{value:e.valueBindingExpression,required:e.requiredExpression,rows:e.formatOptions.textLinesEdit,growing:e.formatOptions.textMaxLines>0?true:undefined,growingMaxLines:e.formatOptions.textMaxLines,width:"100%",change:e.eventHandlers.change,fieldGroupIds:e.fieldGroupIds})}let u="";if(e.collaborationEnabled===true){u=L(m,{growFactor:"9"})}if(this.showAsRadioButton(e)!==true){return L(P,{"core:require":"{Field: 'sap/fe/macros/Field'}",delegate:i,id:e.editStyleId,value:e.valueBindingExpression,placeholder:e.editStylePlaceholder,valueState:e.valueState,editMode:e.editMode??e.computedEditMode,width:"100%",required:e.requiredExpression,additionalValue:e.textBindingExpression,display:o,multipleLines:n===false?undefined:n,valueHelp:e.valueHelpId,fieldGroupIds:e.fieldGroupIds,textAlign:s,ariaLabelledBy:e.ariaLabelledBy,label:d,change:e.eventHandlers.change,liveChange:e.eventHandlers.liveChange,validateFieldGroup:e.eventHandlers.validateFieldGroup,children:{contentEdit:p,layoutData:u,customData:L(y,{value:e.dataSourcePath},"sourcePath")}})}else{return this.getRadioButtonTemplate(e)}},getCheckBoxTemplate(e){return L(p,{"core:require":"{Field: 'sap/fe/macros/Field'}",id:e.editStyleId,selected:e.valueBindingExpression,editable:e.editableExpression,enabled:e.enabledExpression,fieldGroupIds:e.fieldGroupIds,ariaLabelledBy:e.ariaLabelledBy,select:e.eventHandlers.change,validateFieldGroup:e.eventHandlers.validateFieldGroup,children:{customData:L(y,{value:e.dataSourcePath},"sourcePath")}})},getTextAreaTemplate(e){const t=e.formatOptions.textMaxLines?true:false;const a=!!e.formatOptions.textMaxLength;let i="";if(e.collaborationEnabled){i=L(m,{growFactor:"9"})}return L(E,{"core:require":"{Field: 'sap/fe/macros/Field'}",id:e.editStyleId,value:e.valueBindingExpression,placeholder:e.editStylePlaceholder,required:e.requiredExpression,rows:e.formatOptions.textLinesEdit,growing:t,growingMaxLines:e.formatOptions.textMaxLines,cols:300,width:"100%",editable:e.editableExpression,enabled:e.enabledExpression,fieldGroupIds:e.fieldGroupIds,ariaLabelledBy:e.ariaLabelledBy,maxLength:e.formatOptions.textMaxLength,showExceededText:a,change:e.eventHandlers.change,liveChange:e.eventHandlers.liveChange,validateFieldGroup:e.eventHandlers.validateFieldGroup,children:{layoutData:i,customData:L(y,{value:e.dataSourcePath},"sourcePath")}})},getRatingIndicatorTemplate:e=>{const t=e.ratingIndicatorTooltip||"{sap.fe.i18n>T_COMMON_RATING_INDICATOR_TITLE_LABEL}";return L(x,{"core:require":"{Field: 'sap/fe/macros/Field'}",id:e.editStyleId,maxValue:e.ratingIndicatorTargetValue,value:e.valueBindingExpression,tooltip:t,fieldGroupIds:e.fieldGroupIds,iconSize:"1.375rem",class:"sapUiTinyMarginTopBottom",editable:"true",change:e.eventHandlers.change,children:{layoutData:S.getLayoutData(e)}})},getTemplateWithWrapper(e){let t;if((e.editMode??e.computedEditMode)!==I.Display&&!!e.editStyle){if(e.collaborationEnabled??false){t=F(l,{width:"100%",alignItems:"End",children:[S.getTemplate(e),S.getCollaborationAvatar(e)]})}else{t=S.getTemplate(e)}}return t||""},getInputMaskTemplate(e){const t=[];const i=a.getInvolvedDataModelObjects(e.metaPath,e.contextPath);const o=k(i,e.formatOptions,e.editModeAsObject);if(e.mask?.maskRule){for(const a of e.mask.maskRule){t.push(L(v,{maskFormatSymbol:a.symbol,regex:a.regex}))}}return L(g,{"core:require":"{Field: 'sap/fe/macros/Field'}",id:e.editStyleId,value:e.valueBindingExpression,placeholder:e.editStylePlaceholder,width:"100%",editable:e.editableExpression,ariaLabelledBy:e.ariaLabelledBy,mask:e.mask?.mask,enabled:e.enabledExpression,required:e.requiredExpression,fieldGroupIds:e.fieldGroupIds,textAlign:o,placeholderSymbol:e.mask?.placeholderSymbol,liveChange:e.eventHandlers.liveChange,validateFieldGroup:e.eventHandlers.validateFieldGroup,children:{rules:t,customData:L(y,{value:e.dataSourcePath},"sourcePath")}})},getTemplate:e=>{let t;switch(e.editStyle){case"CheckBox":t=S.getCheckBoxTemplate(e);break;case"DatePicker":case"DateTimePicker":case"TimePicker":{t=S.getDateTimePickerGeneric(e,e.editStyle);break}case"Input":{t=S.getInputTemplate(e);break}case"Masked":{t=S.getInputTemplate(e);break}case"InputWithValueHelp":{t=S.getInputWithValueHelpTemplate(e);break}case"RatingIndicator":t=S.getRatingIndicatorTemplate(e);break;case"TextArea":t=S.getTextAreaTemplate(e);break;case"InputMask":t=S.getInputMaskTemplate(e);break;default:}return t}};return S},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/field/FieldBlockStructure", ["sap/fe/core/helpers/StableIdHelper","sap/fe/macros/field/FieldFormatOptions","../../Field","sap/fe/base/jsx-runtime/jsx"],function(e,a,i,t){"use strict";var n={};var r=e.generate;function l(e,n){return t(i,{"core:require":"{TableAPI: 'sap/fe/macros/table/TableAPI'}",change:e.change,liveChange:e.onLiveChange,focusin:".collaborativeDraft.handleContentFocusIn",id:n||e.id,_flexId:e._flexId,idPrefix:e.idPrefix,vhIdPrefix:e.vhIdPrefix,contextPath:e.contextPath?.getPath(),metaPath:e.metaPath.getPath(),metaModel:e.metaModel,navigateAfterAction:e.navigateAfterAction,editMode:e.editMode??e.computedEditMode,wrap:e.wrap,class:e.class,ariaLabelledBy:e.ariaLabelledBy,textAlign:e.textAlign,semanticObject:e.semanticObject,showErrorObjectStatus:e.showErrorObjectStatus,readOnly:e.readOnly,value:e.value,description:e.description,required:e.requiredExpression,editable:e.editableExpression,collaborationEnabled:e.collaborationEnabled,visible:e.visible,mainPropertyRelativePath:e.mainPropertyRelativePath,customValueBinding:e.value?.slice(0,1)==="{"?e.value:undefined,children:{formatOptions:new a(e.formatOptions).serialize()}})}function d(e){let a;if(e._apiId){a=e._apiId}else if(e.idPrefix){a=r([e.idPrefix,"Field"])}else if(e.id){a=e.id}else{a=undefined}if(e.change===null||e.change==="null"){e.change=undefined}return l(e,a)}n.getTemplateWithField=d;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/field/FieldStructure", ["sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/macros/ValueHelp","sap/m/HBox","sap/m/VBox","sap/ui/mdc/enums/FieldEditMode","../../CommonHelper","../../controls/FieldWrapper","../../field/FieldHelper","./DisplayStyle","./EditStyle","./FieldStructureHelper","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,a,l,n,i,r,d,o,s,p,c,u,m,v){"use strict";var h={};var F=u.setUpField;var g=a.hasValueHelp;var H=a.getAssociatedUnitProperty;var f=a.getAssociatedCurrencyProperty;var y=t.getContextRelativeTargetObjectPath;var P=e.generate;function $(e,t,a){const n=f(e.property)??H(e.property)??e.property;if(n&&g(n)){const n=l.getValueHelpForMetaPath(t,e.dataSourcePath,e.contextPath?.getPath(),a);return n?.getContent()?.getId()}return""}h.getPossibleValueHelpTemplateId=$;function x(e){let t;if(e._flexId){t=e._flexId}else if(e.idPrefix){t=P([e.idPrefix,"Field-content"])}else{t=undefined}const a=p.getTemplate(e);const l=c.getTemplateWithWrapper(e);return m(o,{id:t,editMode:e.editMode??e.computedEditMode,width:"100%",textAlign:e.textAlign,class:e.class,validateFieldGroup:e.eventHandlers.onFocusOut,children:{contentDisplay:a,contentEdit:l}})}h.createFieldWrapper=x;function C(e){let t=e;if(!(e.isDynamicInstantiation??false)){t=F(e,e._controlConfiguration,e._settings.models.viewData,e._settings.models.internal??e._settings.appComponent?.getModel?.("internal"),e._settings.appComponent,e.isPropertyInitial("readOnly"));const a=t.fileFilenameExpression?"{ path: '"+t.fileFilenameExpression+"' }":"undefined";t.eventHandlers.change="Field.handleChange";t.eventHandlers.liveChange="Field.handleLiveChange";t.eventHandlers.validateFieldGroup="Field.onValidateFieldGroup";t.eventHandlers.handleTypeMissmatch="FieldRuntimeHelper.handleTypeMissmatch";t.eventHandlers.handleFileSizeExceed="FieldRuntimeHelper.handleFileSizeExceed";t.eventHandlers.handleUploadComplete=`FieldRuntimeHelper.handleUploadComplete($event, ${a}, '${t.fileRelativePropertyPath}', $controller)`;t.eventHandlers.uploadStream="FieldRuntimeHelper.uploadStream($controller, $event)";t.eventHandlers.removeStream=`FieldRuntimeHelper.removeStream($event, ${a}, '${t.fileRelativePropertyPath}', $controller)`;t.eventHandlers.handleOpenUploader="FieldRuntimeHelper.handleOpenUploader";t.eventHandlers.handleCloseUploader="FieldRuntimeHelper.handleCloseUploader";t.eventHandlers.openExternalLink="FieldRuntimeHelper.openExternalLink";t.eventHandlers.onFocusOut=".collaborativeDraft.handleContentFocusOut";t.eventHandlers.linkPressed="FieldRuntimeHelper.pressLink";t.eventHandlers.displayAggregationDetails=`FIELDRUNTIME.displayAggregateDetails($event, '${y(t.dataModelPath)}')`;if(t.convertedMetaPath.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){t.eventHandlers.onDataFieldWithNavigationPath=`FieldRuntimeHelper.onDataFieldWithNavigationPath(\${$source>/}, $controller, '${t.convertedMetaPath.Target.value}')`}t.eventHandlers.showCollaborationEditUser="FieldRuntimeHelper.showCollaborationEditUser(${$source>/}, ${$view>/})";t.eventHandlers.onDataFieldActionButton=s.getPressEventForDataFieldActionButton(t,t.metaPath.getObject());t.eventHandlers.onDataFieldWithIBN=d.getPressHandlerForDataFieldForIBN(t.metaPath.getObject())}if(t.displayStyle==="Avatar"||t.displayStyle==="Contact"||t.displayStyle==="Button"||t.displayStyle==="File"){if(t.displayStyle==="File"&&(t.collaborationEnabled??false)&&(t.editMode??t.computedEditMode)!==r.Display){return v(n,{width:"100%",alignItems:"End",children:[m(i,{width:"100%",children:p.getFileTemplate(t)}),c.getCollaborationAvatar(t)]})}else{return p.getTemplate(t)}}else if(t.formatOptions.fieldMode==="nowrapper"&&(t.editMode??t.computedEditMode)===r.Display){return p.getTemplate(t)}else{return x(t)}}h.getFieldStructureTemplate=C;return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/field/FieldStructureHelper", ["sap/fe/base/BindingToolkit","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/formatters/CollaborationFormatter","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TitleHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/SemanticObjectHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldTemplating","sap/fe/macros/internal/valuehelp/AdditionalValueFormatter","sap/fe/macros/situations/SituationsIndicator","sap/ui/mdc/enums/FieldEditMode"],function(t,e,a,i,o,n,r,s,d,l,c,p,u,f,m,y,h,P,M,g){"use strict";var v={};var x=h.setEditStyleProperties;var O=h.isUsedInNavigationWithQuickViewFacets;var b=h.isRetrieveTextFromValueListEnabled;var I=h.hasPropertyInsertRestrictions;var E=h.getVisibleExpression;var S=h.getValueBinding;var D=h.getTextBindingExpression;var F=h.getDraftIndicatorVisibleBinding;var C=h.getDataModelObjectPathForValue;var T=m.manageSemanticObjectsForCurrentUser;var j=m.getPropertyWithSemanticObject;var U=f.isSemanticKey;var A=f.getAssociatedExternalIdPropertyPath;var V=f.getAssociatedExternalIdProperty;var L=u.getTargetObjectPath;var w=u.getRelativePaths;var $=u.getContextRelativeTargetObjectPath;var R=u.enhanceDataModelPath;var k=p.isPropertyPathExpression;var B=p.isProperty;var N=p.isPathAnnotationExpression;var W=c.getTitleBindingExpression;var H=l.generate;var _=s.getRequiredPropertiesFromUpdateRestrictions;var q=s.getRequiredPropertiesFromInsertRestrictions;var Q=r.UI;var K=i.isDataField;var G=e.CollaborationFieldGroupPrefix;var z=t.transformRecursively;var J=t.pathInModel;var X=t.not;var Y=t.ifElse;var Z=t.getExpressionFromAnnotation;var tt=t.formatWithTypeInformation;var et=t.formatResult;var at=t.equal;var it=t.constant;var ot=t.compileExpression;var nt=t.and;function rt(t,e,a,i,o,n,r,s){const d={...t};Object.defineProperty(d,"value",{get:()=>t.value});Object.defineProperty(d,"description",{get:()=>t.description});d.change=t.change;d.metaPath=r?r:t.metaPath;d.contextPath=s?s:t.contextPath;d.visible=t.visible;if(!d.vhIdPrefix){d.vhIdPrefix="FieldValueHelp";d._flexId=t.id;if(!d.idPrefix){d.idPrefix=t.id}}d.formatOptions??={};d.formatOptions=mt(d);d.formatOptions.showOnlyUnitDecimals=a?.getProperty("/sapFeManifestConfiguration/app/showOnlyUnitDecimals")===true;d.valueHelpMetaPath=r?r:d.metaPath;dt(d,d.valueHelpMetaPath?.getModel());d.convertedMetaPath=vt(d.convertedMetaPath);Ft(d);ft(d);d.dataSourcePath=L(d.dataModelPath);pt(d);d.entityType=d.odataMetaModel.createBindingContext(`/${d.dataModelPath.targetEntityType.fullyQualifiedName}`);if(d.formatOptions?.forInlineCreationRows===true){d.hasPropertyInsertRestrictions=I(d.dataModelPath)}ct(d);st(d);lt(d);d.formatOptions=d.formatOptions?d.formatOptions:{};St(d,d.dataModelPathExternalID||d.dataModelPath,e,a);Ot(d,d.convertedMetaPath,d.dataModelPath,i,o);It(d,o);d.valueState=Dt(d);if(d.editStyle==="InputWithValueHelp"){d.editStylePlaceholder=gt(d)}Tt(d);jt(d,a);const l=["Avatar","AmountWithCurrency"];if(d.displayStyle&&!l.includes(d.displayStyle)&&d.dataModelPath.targetObject){d.text=d.text??d.value??h.getTextBinding(d.dataModelPathExternalID||d.dataModelPath,d.formatOptions)}else{d.text=""}if(d.formatOptions.showEmptyIndicator){d.emptyIndicatorMode=String(d.formatOptions.showEmptyIndicator)==="true"?"On":undefined}else{d.emptyIndicatorMode=undefined}if(B(d.convertedMetaPath)&&d.convertedMetaPath.annotations?.UI?.DataFieldDefault!==undefined){d.metaPath=d.odataMetaModel.createBindingContext(`@${"com.sap.vocabularies.UI.v1.DataFieldDefault"}`,r?r:d.metaPath)}if(!n){d.computedEditMode=ot(Y(at(d.readOnly,true),"Display","Editable"))}d.eventHandlers={change:()=>{},liveChange:()=>{},validateFieldGroup:()=>{},handleTypeMissmatch:()=>{},handleFileSizeExceed:()=>{},handleUploadComplete:()=>{},uploadStream:()=>{},removeStream:()=>{},handleOpenUploader:()=>{},handleCloseUploader:()=>{},openExternalLink:()=>{},onFocusOut:()=>{},linkPressed:()=>{},displayAggregationDetails:()=>{},onDataFieldWithNavigationPath:()=>{},showCollaborationEditUser:()=>{},onDataFieldActionButton:()=>{},onDataFieldWithIBN:()=>{}};return d}v.setUpField=rt;function st(t){const e=y.getEditableExpressionAsObject(t.propertyForFieldControl,t.convertedMetaPath,t.dataModelPath);if(d.isCollaborationDraftSupported(t.odataMetaModel)&&t.editMode!==g.Display){const a=true;const i=y.getCollaborationExpression(t.dataModelPath,o.hasCollaborationActivity);const n=ot(nt(e,X(i)));const r=ot(Y(i,it("ReadOnly"),Y(nt(Q.IsInactive,!!t.hasPropertyInsertRestrictions),"Display",t.editModeAsObject)));t.collaborationEnabled=a;t.collaborationExpression=i;t.editableExpression=n;t.computedEditMode=r}else{t.editableExpression=ot(e)}}v.computeCollaborationProperties=st;function dt(t,e){t.convertedMetaPath=a.convertMetaModelContext(t.metaPathContext?t.metaPathContext:t.metaPath);let i=a.getInvolvedDataModelObjects(t.metaPathContext?t.metaPathContext:t.metaPath,t.contextPath);i=C(i)||i;t.dataModelPath=i;t.property=i.targetObject;t.odataMetaModel=e;t.propertyForFieldControl=i?.targetObject?.Value?(i?.targetObject).Value:i?.targetObject}v.computeCommonProperties=dt;function lt(t){const e=q((t.contextPathContext?t.contextPathContext:t.contextPath)?.getPath().replaceAll("/$NavigationPropertyBinding/","/"),t.odataMetaModel);const a=_((t.contextPathContext?t.contextPathContext:t.contextPath)?.getPath().replaceAll("/$NavigationPropertyBinding/","/"),t.odataMetaModel);const i={requiredPropertiesFromInsertRestrictions:e,requiredPropertiesFromUpdateRestrictions:a};const o=y.getEnabledExpression(t.propertyForFieldControl,t.convertedMetaPath,false,t.dataModelPath);const n=y.getRequiredExpression(t.propertyForFieldControl,t.convertedMetaPath,false,false,i,t.dataModelPath);t.enabledExpression=o;t.requiredExpression=n}v.computeEditableExpressions=lt;function ct(t){if(t.editMode!==undefined&&t.editMode!==null){t.editModeAsObject=t.editMode}else{const e=t.formatOptions?.measureDisplayMode?t.formatOptions.measureDisplayMode==="ReadOnly":false;t.editModeAsObject=y.getEditMode(t.propertyForFieldControl,t.dataModelPath,e,true,t.convertedMetaPath);t.computedEditMode=ot(Y(nt(Q.IsInactive,!!t.hasPropertyInsertRestrictions),"Display",t.editModeAsObject))}}v.computeEditMode=ct;function pt(t){const e=V(t.property);if(e){if(t.property)t.property.type=e.type;if(K(t.convertedMetaPath)){t.convertedMetaPath.Value.$target.type=e.type}const i=A(t.property);const o=t.metaPath.getModel().createBindingContext(t.contextPath?.getPath()+"/"+i,t.metaPath);t.convertedMetaPathExternalID=a.convertMetaModelContext(o);let n=a.getInvolvedDataModelObjects(o,t.contextPath);n=C(n)||n;t.dataModelPathExternalID=n}}v.computeExternalID=pt;function ut(t,e){const a=["InputWithValueHelp","TextArea","DatePicker","TimePicker","DateTimePicker","InputWithUnit","Input","InputMask","Masked"];if(!e){return}const i=e.getSideEffectsService();const o=i.computeFieldGroupIds(t.dataModelPath.targetEntityType?.fullyQualifiedName??"",t.dataModelPath.targetObject?.fullyQualifiedName??"");t.mainPropertyRelativePath=B(t.dataModelPath.targetObject)?$(t.dataModelPath):undefined;if(t.collaborationEnabled&&a.includes(t.editStyle||"")){const e=`${G}${t.dataSourcePath}`;o.push(e)}return o.length?o:undefined}function ft(t){if(t._flexId&&!t._apiId){t._apiId=t._flexId;t._flexId=Ct(t._flexId)}if(t.idPrefix){t.editStyleId=H([t.idPrefix,"Field-edit"])}if(t.formatOptions?.fieldMode==="nowrapper"&&t.editMode==="Display"){if(t._flexId){t.displayStyleId=t._flexId}else{t.displayStyleId=t.idPrefix?H([t.idPrefix,"Field-content"]):undefined}}else if(t.idPrefix){t.displayStyleId=H([t.idPrefix,"Field-display"])}}v.computeIDs=ft;function mt(t){return{...t.formatOptions,textAlignMode:t.formatOptions.textAlignMode??"Form",showEmptyIndicator:t.formatOptions.showEmptyIndicator??true,displayMode:t.formatOptions.displayMode,measureDisplayMode:t.formatOptions.measureDisplayMode,textLinesEdit:t.formatOptions.textLinesEdit,textMaxLines:t.formatOptions.textMaxLines,textMaxCharactersDisplay:t.formatOptions.textMaxCharactersDisplay,textExpandBehaviorDisplay:t.formatOptions.textExpandBehaviorDisplay,textMaxLength:t.formatOptions.textMaxLength,fieldEditStyle:t.formatOptions.fieldEditStyle,radioButtonsHorizontalLayout:t.formatOptions.radioButtonsHorizontalLayout,showTime:t.formatOptions.showTime,showTimezone:t.formatOptions.showTimezone,showDate:t.formatOptions.showDate}}v.getFormatOptions=mt;function yt(t,e){let a=J($(e));const i=t?.displayMode;const o=k(e.targetObject)?e.targetObject.$target:e.targetObject;const r=o.annotations?.Common?.Text;if(r===undefined){return undefined}a=tt(o,a);switch(i){case"ValueDescription":const t=w(e);return ot(Z(r,t));case"DescriptionValue":return ot(et([a],n.formatToKeepWhitespace));default:return undefined}}function ht(t,e){const a={};if(t){const i=t[e];if(i){Object.keys(i).forEach(function(t){a[t]=i[t]})}}return a}function Pt(t,e,a,i,o){if(o){t.hasQuickView=true;t.quickViewType="Facets"}if(i){const i=T(t.semanticObject,a,e);if(i.hasReachableStaticSemanticObject||i.dynamicSemanticObjects.length){t.hasQuickView=true;t.quickViewType=o?"FacetsAndSemanticLinks":"SemanticLinks";t.dynamicSemanticObjects=i.hasReachableStaticSemanticObject!==true?i.dynamicSemanticObjects:undefined}}}function Mt(t,e){return!!j(e)||t.semanticObject!==undefined&&t.semanticObject!==""}function gt(t){let e;const a=t.editStylePlaceholder;const i=t.formatOptions.textAlignMode;if(i==="Table"){e=t.dataModelPath.targetEntityType}const o=t.dataModelPath.targetObject?.name;const n=J(`${o}@$ui5.fe.recommendations.placeholderValue`);const r=J(`${o}@$ui5.fe.recommendations.placeholderDescription`);const s=et([n,r,J(`/recommendationsData`,"internal"),J(`/currentCtxt`,"internal"),J(`${o}@$ui5.fe.messageType`),a,t.formatOptions.displayMode],P.formatPlaceholder,e);return ot(s)}v.setInputWithValuehelpPlaceholder=gt;function vt(t){const e={...t};if(t?.term==="com.sap.vocabularies.UI.v1.DataPoint"){e.$Type=t.$Type||"com.sap.vocabularies.UI.v1.DataPointType"}return e}v.setUpDataPointType=vt;function xt(t,e){const a=t?.getManifestEntry("sap.fe");return e?.annotations?.Measures?.ISOCurrency?a?.macros?.table?.currency?.decimalPadding??3:a?.macros?.table?.unitOfMeasure?.decimalPadding??3}v.getDecimalPadding=xt;function Ot(t,e,a,i,o){const n=t;const r=a.targetObject;if(!a.targetObject){n.displayStyle="Text";return n}n.hasUnitOrCurrency=r.annotations?.Measures?.Unit!==undefined||r.annotations?.Measures?.ISOCurrency!==undefined;n.hasValidAnalyticalCurrencyOrUnit=y.hasValidAnalyticalCurrencyOrUnit(a);n.textFromValueList=ot(et([J($(a)),`/${r.fullyQualifiedName}`,n.formatOptions.displayMode],"sap.fe.macros.field.FieldRuntime.retrieveTextFromValueList"));if(r.annotations?.UI?.IsImage){n.displayStyle="File";return n}if(r.annotations?.UI?.IsImageURL){n.displayStyle="Avatar";return n}if(r.annotations?.UI?.InputMask){n.displayStyle="Text";return n}if(r.annotations?.Common?.Masked){n.displayStyle="Masked";return n}if(r.type==="Edm.Stream"){n.displayStyle="File";return n}bt(a,n);switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataPointType":n.displayStyle="DataPoint";return n;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(e.Target?.$target?.$Type==="com.sap.vocabularies.UI.v1.DataPointType"){n.displayStyle="DataPoint";return n}else if(e.Target?.$target?.$Type==="com.sap.vocabularies.Communication.v1.ContactType"){n.displayStyle="Contact";return n}break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":n.displayStyle="Button";return n;case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":n.displayStyle="Link";return n}const s=O(a,r);const d=Mt(n,a);if(U(r,a)&&n.formatOptions.semanticKeyStyle){Pt(n,i,a,d,s);Et(n,a);n.showErrorIndicator=a.contextLocation?.targetObject?._type==="NavigationProperty"&&!n.formatOptions.fieldGroupDraftIndicatorPropertyPath;n.situationsIndicatorPropertyPath=a.targetObject.name;n.displayStyle=n.formatOptions.semanticKeyStyle==="ObjectIdentifier"?"ObjectIdentifier":"LabelSemanticKey";return n}if(e.Criticality){Pt(n,i,a,d,s);n.displayStyle="ObjectStatus";return n}if((r.annotations?.Measures?.ISOCurrency||r.annotations?.Measures?.Unit)&&String(n.formatOptions.isCurrencyOrUnitAligned)==="true"&&n.formatOptions.measureDisplayMode!=="Hidden"){const e=Ut.getDecimalPadding(o,r);n.valueAsStringBindingExpression=n.value?n.value:S(a,n.formatOptions,false,true,undefined,true,false,e,true);n.unitBindingExpression=ot(y.getBindingForUnitOrCurrency(a,true,!!t.formatOptions.showOnlyUnitDecimals));n.displayStyle="NumberWithUnitOrCurrencyAligned";return n}if(r.annotations?.Communication?.IsEmailAddress||r.annotations?.Communication?.IsPhoneNumber){n.displayStyle="Link";return n}if(r.annotations?.UI?.MultiLineText){n.displayStyle="ExpandableText";return n}if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){n.displayStyle="Link";return n}n.displayStyle="Text";Pt(n,i,a,d,s);if(n.hasQuickView){n.displayStyle="LinkWithQuickView"}return n}v.setUpDisplayStyle=Ot;function bt(t,e){if(U(t.targetObject,t)){e.hasSituationsIndicator=M.getSituationsNavigationProperty(t.targetEntityType)!==undefined;if(t.contextLocation?.targetEntitySet?.annotations?.Common?.DraftRoot&&t.targetEntitySet?.annotations?.Common?.DraftRoot&&e.formatOptions?.hasDraftIndicator===true){e.draftIndicatorVisible=F(t.targetObject?.name);e.addDraftIndicator=true}}}function It(t,e){const a=t;x(a,a.convertedMetaPath,a.dataModelPath);a.fieldGroupIds=ut(a,e);return a}v.setUpEditStyle=It;function Et(t,e){const a=t.formatOptions?.semanticKeyStyle;const i=t.formatOptions.displayMode;t.identifierTitle=W(e,D,{displayMode:i,splitTitleOnTwoLines:t.formatOptions.semanticKeyStyle==="ObjectIdentifier"},undefined,undefined);t.identifierText=a==="ObjectIdentifier"?yt(t.formatOptions,e):undefined}v.setUpObjectIdentifierTitleAndText=Et;function St(t,e,a,i){const o=ht(a,(t.metaPathContext?t.metaPathContext:t.metaPath).getPath());if(!t.formatOptions.displayMode){t.formatOptions.displayMode=y.getDisplayMode(e)}if(t.formatOptions.displayMode==="Description"){t.valueAsStringBindingExpression=t.value?t.value:S(e,t.formatOptions,true,true,undefined,true)}t.formatOptions.textLinesEdit=o.textLinesEdit||o.formatOptions&&o.formatOptions.textLinesEdit||t.formatOptions.textLinesEdit||4;t.formatOptions.textMaxLines=o.textMaxLines||o.formatOptions&&o.formatOptions.textMaxLines||t.formatOptions.textMaxLines;if(i?.getProperty("/retrieveTextFromValueList")){t.formatOptions.retrieveTextFromValueList=b(e.targetObject,t.formatOptions);if(t.formatOptions.retrieveTextFromValueList){const a=!!e?.targetEntityType?.annotations?.UI?.TextArrangement;t.formatOptions.displayMode=a?t.formatOptions.displayMode:"DescriptionValue"}}}v.setUpFormatOptions=St;function Dt(t){let e;const a=t.formatOptions?.textAlignMode?t.formatOptions?.textAlignMode:"Form";const i=J($(t.dataModelPath));const o=w(t.dataModelPath);const n=Z(t.dataModelPath?.targetObject?.annotations?.Common?.Text,o);const r=t.dataModelPath.targetObject?.name;const s=J(`${r}@$ui5.fe.recommendations.placeholderValue`);const d=J(`${r}@$ui5.fe.recommendations.placeholderDescription`);if(a==="Table"){e=et([s,d,J(`/recommendationsData`,"internal"),J(`/isEditable`,"ui"),t.dataSourcePath,i,n],P.formatValueState,t.dataModelPath.targetEntityType)}else{e=et([s,d,J(`/recommendationsData`,"internal"),J(`/isEditable`,"ui"),t.dataSourcePath,i,n],P.formatValueState)}t.valueState=ot(e);return t.valueState}v.setUpValueState=Dt;function Ft(t){const e=a.getInvolvedDataModelObjects(t.metaPathContext?t.metaPathContext:t.metaPath,t.contextPath);t.visible??=E(e,t.formatOptions);t.displayVisible=t.formatOptions?.fieldMode==="nowrapper"?t.visible:undefined}v.setUpVisibleProperties=Ft;function Ct(t){return`${t}-content`}function Tt(t){if(t.displayStyle==="File"){t.fileRelativePropertyPath=$(t.dataModelPath)||"";const e=t.property.annotations.Core?.ContentDisposition?.Filename;if(N(e)){const a=R(t.dataModelPath,e.path);t.fileFilenameExpression=$(a)??""}}}function jt(t,e){if(t.displayStyle==="File"||t.displayStyle==="Avatar"){t.inlineEditEnabled=undefined;return}t.inlineEditEnabled=t.inlineEditEnabled===true||e?.getProperty("/isInlineEditEnabled")===true?true:undefined;if(t.inlineEditEnabled&&t.editModeAsObject!=="Display"){const e=y.getEditableExpressionAsObject(t.propertyForFieldControl,t.convertedMetaPath,t.dataModelPath);t.hasInlineEdit=z(e,"PathInModel",t=>{if(t.path==="isEditable"&&t.modelName==="ui"){return it(true)}return t},true)}}const Ut={getDecimalPadding:xt,setUpField:rt,computeExternalID:pt,setUpDisplayStyle:Ot,setUpObjectIdentifierTitleAndText:Et,setUpValueState:Dt};return Ut},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/field/FieldStyles", [],function(){"use strict"},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/helpers/ActionHelper", ["sap/fe/base/BindingToolkit","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/TypeGuards","sap/fe/macros/CommonHelper"],function(e,t,n,a){"use strict";var o=n.isPathAnnotationExpression;var i=t.bindingContextPathVisitor;var r=e.isPathInModelExpression;var s=e.getExpressionFromAnnotation;const l={getMultiSelectDisabledActions(e){const t=[];const n=e?.filter(e=>e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction")??[];for(const e of n){const n=e?.ActionTarget;if(n?.isBound===true){for(const e of n.parameters){if(o(e.annotations.UI?.Hidden)||o(e.annotations.Common?.FieldControl)){t.push(n.name)}}}}return t},getPressEventDataFieldForActionButton(e,t,n,o){const i=t.InvocationGrouping&&t.InvocationGrouping.$EnumMember==="com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated";n=n||{};n["invocationGrouping"]=a.addSingleQuotes(i);n["controlId"]=a.addSingleQuotes(e);n["operationAvailableMap"]=a.addSingleQuotes(o);n["model"]="${$source>/}.getModel()";n["label"]=t.Label&&a.addSingleQuotes(t.Label,true);return a.generateFunction(".editFlow.invokeAction",a.addSingleQuotes(t.Action),a.objectToString({...n,...{feFrameworkCall:true}}))},getNumberOfContextsExpression(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n;const a=!t?"${internal>numberOfSelectedContexts}":"${internal>contextmenu/numberOfSelectedContexts}";if(e==="single"){n=a+" === 1"}else{n=a+" > 0"}return n},getOperationAvailableMap(e,t,n){let a={};if(e){e.forEach(e=>{if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){const o=e.Action;if(!o?.includes("/")&&!e.Determining){if(t==="table"){a=this._getOperationAvailableMapOfTable(e,o,a,n)}else if(t==="chart"){a=this._getOperationAvailableMapOfChart(o,a,n)}}}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForActionGroup"){a=this.getOperationAvailableMap(e.Actions,t,n)}})}return a},_getOperationAvailableMapOfTable(e,t,n,a){const o=e.ActionTarget;if(o?.annotations?.Core?.OperationAvailable===null){}else if(o?.parameters?.length){const e=o.parameters[0].fullyQualifiedName,l=s(o?.annotations?.Core?.OperationAvailable,[],undefined,t=>i(t,a.getConvertedTypes(),e));if(r(l)){n=this._addToMap(t,l.path,n)}else if(o?.annotations?.Core?.OperationAvailable!==undefined){n=this._addToMap(t,l,n)}}return n},_getOperationAvailableMapOfChart(e,t,n){let o=a.getActionPath(n.context,false,e,true);if(o===null){t=this._addToMap(e,null,t)}else{o=a.getActionPath(n.context,false,e);if(o.sProperty){t=this._addToMap(e,o.sProperty.substring(o.sBindingParameter.length+1),t)}}return t},_addToMap(e,t,n){if(e&&n){n[e]=t}return n}};return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/helpers/DataPointTemplating", ["sap/fe/base/BindingToolkit","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/ui/core/Lib","sap/ui/model/odata/v4/AnnotationHelper"],function(e,t,n,r,a,o,s,i){"use strict";var c={};var u=o.getDisplayMode;var l=o.getBindingWithUnitOrCurrency;var g=o.getBindingWithTimezone;var m=o.getBindingForTimezone;var f=o.getBindingForDateFormat;var p=a.hasStaticPercentUnit;var d=r.getRelativePaths;var O=r.enhanceDataModelPath;var T=n.isProperty;var I=e.unresolvableExpression;var b=e.pathInModel;var _=e.isPathInModelExpression;var D=e.getExpressionFromAnnotation;var E=e.formatWithTypeInformation;var v=e.formatResult;var P=e.compileExpression;var y=e.EDM_TYPE_MAPPING;const h=["Edm.Single","Edm.Double","Edm.Decimal"];const A=(e,t)=>e?.TargetValue?D(e.TargetValue,t):I;const M=s.getResourceBundleFor("sap.fe.macros");const N=e=>{const n=e?.targetObject?.Value||"";const r=d(e);const a=D(n,r);const o=A(e.targetObject,r);if(a&&o){let s=e.targetObject?.Value;if(!T(s)){s=s.$target}const i=s.annotations?.Measures?.Unit||s.annotations?.Measures?.ISOCurrency;if(!i){return M.getText("T_COMMON_PROGRESS_INDICATOR_DISPLAY_VALUE_NO_UOM",[P(a),P(o)])}if(p(n?.$target)){return`${P(a)} %`}const c=i.$target?E(i.$target,D(i,r)):D(i,r);const u=s.annotations?.Measures?.ISOCurrency?true:false;let l;if(u){l=b("/##@@requestCurrencyCodes")}else{l=b("/##@@requestUnitsOfMeasure")}l.targetType="any";l.mode="OneTime";return P(v([a,o,c,u,l],t.formatProgressIndicatorText))}return undefined};c.buildExpressionForProgressIndicatorDisplayValue=N;const x=(e,t)=>{if(t){return C(i.value(t,{context:e}))}};const C=e=>{if(e){const t=e>1?M.getText("T_ANNOTATION_HELPER_RATING_INDICATOR_SUBTITLE_LABEL_PLURAL"):M.getText("T_ANNOTATION_HELPER_RATING_INDICATOR_SUBTITLE_LABEL");return M.getText("T_ANNOTATION_HELPER_RATING_INDICATOR_SUBTITLE",[String(e),t])}};const S=(e,t)=>{let n;if(t&&t.SampleSize){n=x(e,t.SampleSize)}else if(t&&t.Description){const r=i.value(t.Description,{context:e});n="${path:"+r+"}"}return n};S.requiresIContext=true;c.getHeaderRatingIndicatorText=S;const j=e=>{const t=d(e);if(e?.targetObject?.annotations?.Common?.Text){const n=D(e?.targetObject.annotations?.Common?.Text,t);if(_(n)){n.parameters={$$noPatch:true}}return n}return undefined};const F=(e,t)=>{if(t){if(!e.formatOptions){e.formatOptions={}}e.formatOptions=Object.assign(e.formatOptions,{preserveDecimals:false,maxFractionDigits:t})}return e};const R=(e,t,n,r)=>{let a;const o=!t?.path?.includes("/")?d(e):[];a=D(t,o);const s=e?.targetObject;if(s&&n&&_(a)){E(s,a);a.type=y[n]?.type;if(h.includes(n)){a=F(a,r)}}return a};c.getValueFormatted=R;const V=(e,n,r)=>{const a=e.targetObject;const o=a?.Value||"";const s=o?.$target?.type;let i;if(h.includes(s)&&a?.ValueFormat){if(a.ValueFormat.NumberOfFractionalDigits){i=a.ValueFormat.NumberOfFractionalDigits}}const c=O(e,o.path);const l=c?j(c):undefined;const p=R(c,o,s,i);const d=l?n?.displayMode||u(c):"Value";let T;switch(d){case"Description":T=l;break;case"ValueDescription":T=v([p,l],t.formatWithBrackets);break;case"DescriptionValue":T=v([l,p],t.formatWithBrackets);break;default:if(c.targetObject?.annotations?.Common?.Timezone&&c.targetObject.type==="Edm.DateTimeOffset"){T=g(c,p)}else if(c.targetObject?.annotations?.Common?.IsTimezone){T=m(c,p)}else if(c.targetObject?.annotations?.UI?.DateTimeStyle||n?.dateTimePattern){T=f(c,p,n)}else{T=U(c,p,r||n?.measureDisplayMode==="Hidden",!!n?.showOnlyUnitDecimals)}}return P(T)};c.buildFieldBindingExpression=V;const U=(e,t,n,r)=>{if(e.targetObject?.annotations?.Measures?.Unit||e.targetObject?.annotations?.Measures?.ISOCurrency){if(n&&p(e.targetObject)){return t}return l(e,t,undefined,n?{showMeasure:false}:undefined,true,r)}return t};c._computeBindingWithUnitOrCurrency=U;const B=e=>{const n=e?.targetObject?.Value||"";const r=d(e);const a=D(n,r);const o=A(e.targetObject,r);const s=n.$target;const i=s.annotations?.Measures?.Unit||s.annotations?.Measures?.ISOCurrency;if(i){const e=D(i,r);return P(v([a,o,e],t.computePercentage))}return P(v([a,o,""],t.computePercentage))};c.buildExpressionForProgressIndicatorPercentValue=B;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/helpers/DefaultActionHandler", ["sap/fe/macros/CommonHelper","sap/fe/macros/table/TableHelper","sap/m/library"],function(e,t,n){"use strict";var a=n.MenuButtonMode;const i={getDefaultActionHandler:function(n,a,i,r,o,u,l){if(i.defaultAction){try{switch(i.defaultAction.type){case"ForAction":{if(u==="Table"&&n&&a){const e=typeof o==="string"?a.createBindingContext(o)?.getObject():o;return t.pressEventDataFieldForActionButton(n,r,l.getObject("@sapui.name"),n.tableDefinition.operationAvailableMap,e,i.isNavigable,i.enableAutoScroll,i.defaultValuesExtensionFunction)}return undefined}case"ForNavigation":{if(u==="Table"&&n){return e.getPressHandlerForDataFieldForIBN(r,"${internal>selectedContexts}",!n.tableDefinition.enableAnalytics)}return undefined}default:{if(i.defaultAction.command){return"cmd:"+i.defaultAction.command}if(i.defaultAction.noWrap){return i.defaultAction.press}else{switch(u){case"Table":{return e.buildActionWrapper(i.defaultAction,n)}case"Form":{return e.buildActionWrapper(i.defaultAction,{id:"forTheForm"})}}}}}}catch(e){return"binding for the default action is not working as expected"}}return undefined},getUseDefaultActionOnly:function(e){if(e.defaultAction){return true}else{return false}},getButtonMode:function(e){if(e.defaultAction){return a.Split}else{return a.Regular}}};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/helpers/TableTemplating", ["sap/fe/base/BindingToolkit"],function(n){"use strict";var r={};var e=n.resolveBindingString;var s=n.not;var i=n.equal;var a=n.constant;var o=n.compileExpression;var t=n.and;const c=(n,r,c)=>{const v=e(n);const l=e(r);const u=a(c);return o(t(u,s(i(v,l))))};r.buildExpressionForHeaderVisible=c;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/helpers/Upload", ["sap/fe/core/CommonUtils","sap/fe/core/helpers/ResourceModelHelper","sap/m/MessageBox","sap/ui/core/Item","sap/ui/unified/FileUploaderParameter"],function(e,t,o,a,r){"use strict";var i={};var s=t.getResourceModel;function n(e,t,a){const r=s(e);o.error(r.getText("M_FIELD_FILEUPLOADER_WRONG_MIMETYPE"),{details:`<p><strong>${r.getText("M_FIELD_FILEUPLOADER_WRONG_MIMETYPE_DETAILS_SELECTED")}</strong></p>${t}<br><br>`+`<p><strong>${r.getText("M_FIELD_FILEUPLOADER_WRONG_MIMETYPE_DETAILS_ALLOWED")}</strong></p>${a.toString().replaceAll(",",", ")}`,contentWidth:"150px"})}i.showTypeMismatchDialog=n;function l(e,t){const a=s(e);o.error(a.getText("M_FIELD_FILEUPLOADER_FILE_TOO_BIG",[t]),{contentWidth:"150px"})}i.showFileSizeExceedDialog=l;function c(e,t){const a=s(e);o.error(a.getText("M_FIELD_FILEUPLOADER_FILENAME_TOO_BIG",[t]),{contentWidth:"150px"})}i.showFileNameLengthExceedDialog=c;function d(e,t){let a,r;try{r=t&&JSON.parse(t);a=r.error?.message}catch(o){a=t||s(e).getText("M_FIELD_FILEUPLOADER_ABORTED_TEXT")}o.error(a)}i.displayMessageForFailedUpload=d;function p(e,t,o){if(e.isA("sap.ui.unified.FileUploader")){const a=new r;a.setName(t);a.setValue(o);e.addHeaderParameter(a)}else if(e.isA("sap.m.upload.UploadItem")){const r=new a({key:t,text:o});e.addHeaderField(r)}}function E(t,o,a){if(t.isA("sap.ui.unified.FileUploader")){t.removeAllHeaderParameters()}else if(t.isA("sap.m.upload.UploadItem")){t.removeAllHeaderFields()}const r=t.getModel()?.getHttpHeaders()?.["X-CSRF-Token"];if(r){p(t,"x-csrf-token",r)}const i=a?.getProperty("@odata.etag")??t.getBindingContext()?.getProperty("@odata.etag");if(i){const o=e.getTargetView(t);const a=o.getController().collaborativeDraft;p(t,"If-Match",a.isConnected()?"*":i)}p(t,"Accept","application/json");p(t,"Content-Type",o||"application/octet-stream")}i.setHeaderFields=E;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/valuehelp/AdditionalValueFormatter", ["sap/base/util/ObjectPath","sap/fe/core/CommonUtils","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/ModelHelper","sap/fe/macros/internal/valuehelp/AdditionalValueHelper","sap/ui/core/Lib","sap/ui/core/library"],function(e,t,a,n,r,i,o){"use strict";var s=o.ValueState;var l=r.additionalValueHelper;function u(e,t){const a=l.getRelevantRecommendations(e||{},this.getBindingContext(),t)||[];if(a.length>0){return true}return false}u.__functionName="sap.fe.macros.internal.valuehelp.AdditionalValueFormatter#getGrowing";function c(e,t){const a=n.getMetaPathForContext(e);return t.replace(`${a}/`,"")}function f(e,t,a,n,r,i){const o=s=>{const l=s.getSource();const u=l.getAllCurrentContexts();if(u.includes(a)){if(a.getObject()){const{valueState:o,valueStateText:s}=d(e,t,n,a,r,i,this);this.setValueStateText(s);this.setValueState(o)}l.detachChange(o)}};a.getBinding().attachChange(o)}function d(e,a,n,r,i,o,u){let f=s.None,d="";if(e||a){d=o;f=s.Information}else if(n){const e=c(r,i);const t=l.getRelevantRecommendations(n,r,i,e);let a;if(n?.version===2){a=l.getAdditionalValueFromPropertyPath(e,r,n)}if(n?.version===2&&(a?.value||a?.text)||!n?.version&&t?.length){d=o;f=s.Information}}if(f===s.Information){const e=t.getTargetView(u);e.getController().recommendations.increaseTelemetryDataCount("numberofTimesFormatterCalled")}return{valueState:f,valueStateText:d}}function h(e,t,a,n,r,o,l){const u=this.getBindingContext();if(!u||!n){return s.None}l=l==="undefined"?undefined:l;const c=this.getValueState();const h=u.isTransient?.();if(!r||h){return c}const g=e||t||!!a&&Object.keys(a).length>0;const m=i.getResourceBundleFor("sap.fe.core").getText("RECOMMENDATIONS_DATA_INFO");const p=this.getValueStateText();const v=c===s.Information&&p===m;if(v&&(!g||o||l)){return s.None}const V=g&&(c==s.None||v);if(!o&&!l&&V){if(!u.getObject()&&u.getBinding()?.isA?.("sap.ui.model.odata.v4.ODataListBinding")){f.call(this,e,t,u,a,r,m)}else{const{valueState:n,valueStateText:i}=d(e,t,a,u,r,m,this);this.setValueStateText(i);return n}}return c}h.__functionName="sap.fe.macros.internal.valuehelp.AdditionalValueFormatter#formatValueState";function g(e,t){let n;const r=e?.value;const i=e?.text;switch(t){case"Value":n=a.formatWithBrackets(r);break;case"Description":n=a.formatWithBrackets(i);break;case"DescriptionValue":n=a.formatWithBrackets(i,r);break;case"ValueDescription":n=a.formatWithBrackets(r,i);break;default:n=a.formatWithBrackets(i,r)}return n}function m(e,t,a,n,r,i,o){let s=this.getPlaceholder();i=i==="undefined"?undefined:i;if(r){return i}if(e){s=g({value:e,text:t},o)}else if(a&&Object.keys(a).length&&a.version===2){const e=this.getBindingContext()||n;const t=this.getBinding("value")?.getPath();if(e&&t){const n=l.getAdditionalValueFromPropertyPath(t,e,a);s=g(n,o)}}else{s=undefined}if(i&&!s){s=i}return s}m.__functionName="sap.fe.macros.internal.valuehelp.AdditionalValueFormatter#formatPlaceholder";const p=function(e){if(p.hasOwnProperty(e)){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++){a[n-1]=arguments[n]}return p[e].apply(this,a)}else{return""}};p.getGrowing=u;p.formatValueState=h;p.formatPlaceholder=m;e.set("sap.fe.macros.internal.valuehelp.AdditionalValueFormatter",p);return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/valuehelp/AdditionalValueHelper", ["sap/base/Log","sap/fe/core/helpers/StandardRecommendationHelper","sap/ui/core/Lib","sap/ui/model/Filter","sap/ui/model/FilterType","sap/ui/model/Sorter","sap/ui/model/json/JSONModel"],function(e,t,n,i,a,r,s){"use strict";var o={};var l=t.standardRecommendationHelper;var c=function(e){e["recommendation"]="recommendation";e["recentValue"]="recentValue";e["other"]="other";return e}(c||{});o.AdditionalValueGroupKey=c;const u={requestForAdditionalValueContextData:async function(e,t,n,i,a,s){let o;const l=[];const u=[...e.filter(e=>e.groupKey===c.recommendation)].reverse();n.parameters.$select=i.qualifiers[i.valueHelpQualifier].vhProperties??[];const d=n.parameters.$search;n.parameters.$search=d;if(i.isValueListWithFixedValues){n.parameters.$count=true}const f=[];a.forEach(e=>f.push(new r(e.name??"",e.descending)));const h=t.getModel();const g=this.getAdditionalValueContextBindings(u,d,i,h,n,f);if(g.length>0){if(g.length===2){l.push(g[0].requestContexts(0,10,"additionalValue"));o=g[1]}else{o=g[0]}l.push(o.requestContexts(0,i.isValueListWithFixedValues?100:10,"additionalValue"))}await h.submitBatch("additionalValue");const p=await Promise.all(l);const m=o?.getCount();if(m&&m>100){s.getBindingContext("internal")?.setProperty("allListBinding",o)}let V=[],y=[];if(u.length>0){V=p[0];if(d||i.isValueListWithFixedValues){y=p[1]}}else if(d||i.isValueListWithFixedValues){y=p[0]}const x=V.map(e=>e.getObject());const A=y.map(e=>e.getObject());return{recommendationValuesContextData:x,othersValuesContextData:A}},getAdditionalValueContextBindings:function(e,t,n,i,a,r){const s=[];const o=[...this.getValueHelpBindingFilters(a)];const l=this.getAdditionalValueFilters(e,[...o]);if(e.length>0){s.push(i.bindList(a.path,undefined,undefined,l,a.parameters))}if(t||n.isValueListWithFixedValues){s.push(i.bindList(a.path,undefined,r,o,a.parameters))}return s},getValueHelpBindingFilters:function(e){if(e.filters){if(Array.isArray(e.filters)){return e.filters}else{return[e.filters]}}return[]},resumeValueListBindingAndResetChanges:async function(e){if(e.isSuspended()){await e.resumeAsync()}try{await e.resetChanges()}catch(e){}},sortAndFilterListBinding:function(e,t){e.filter(i.NONE,a.Application);if(t.length){const n=[];t.forEach(e=>n.push(new r(e.name??"",e.descending,this.getSorterFunction)));e.sort(n)}else e.sort(new r("",false,this.getSorterFunction))},getAdditionalValueFilters:function(e,t){e.forEach(e=>{if(e.values.length>0){const n=e.values;const a=e.propertyPath;n.forEach(e=>{t.push(new i({path:a,value1:e,operator:"EQ"}))})}});return t},getSorterFunction:function(e){const t=n.getResourceBundleFor("sap.fe.macros");const i=e.getProperty("@$fe.additionalValueGroupKey");if(i===c.recommendation){return t.getText("M_ADDITIONALVALUEHELPER_RECOMMENDATIONS")}else if(i===c.recentValue){return t.getText("M_ADDITIONALVALUEHELPER_RECENTVALUE")}else{return t.getText("M_ADDITIONALVALUEHELPER_OTHERS")}},createTransientContextsForAdditionalValueContextData:function(e,t,n,i){this.createGroupedTransientContexts(n,i,c.other);this.createGroupedTransientContexts(t,i,c.recentValue);this.createGroupedTransientContexts(e,i,c.recommendation)},createGroupedTransientContexts:function(t,n,i){[...t].reverse().forEach(async t=>{t["@$fe.additionalValueGroupKey"]=i;const a=n.create(t);try{await a.created()}catch(t){if(!t.canceled){e.error(t.name)}}})},getRelevantRecommendations:function(e,t,n,i){const a=[];let r;if(Object.keys(e).length>0){n=this.getRecommendationPropertyPath(n);if(e.version===2&&i){n=i}r=this.getAdditionalValueFromPropertyPath(n,t,e);if(r&&Object.keys(r).length>0){r.additionalValues.forEach(e=>{a.push(e.value)});return a}else{return null}}},_checkForKeysInRecommendations:function(e,t){for(const n in e){if(e[n]!==t[n]){return false}}return true},getAdditionalValueFromKeys:function(e,t){const n=t?.getObject();let i={};if(t&&n){if(Array.isArray(e)){e.forEach(e=>{const t=e.keyProperties;const a=this._checkForKeysInRecommendations(t,n);if(a){i=e}})}}return i},_getRecommendation:function(e,t,n){let i=Object.assign(n,{});if(Object.keys(n).includes(e)){return n[e]}else{while(Object.keys(i).length>0&&!Object.keys(i).includes(e)){const a=e.split("/");if(a.length>1){const r=a[0];a.splice(0,1);e=a.join("/");n=this.getAdditionalValueFromPropertyPath(r,t,n);n=this.getAdditionalValueFromKeys(n,t);if(Object.keys(n).length>0){i=Object.assign(n,{});n=this.getAdditionalValueFromPropertyPath(e,t,n)}else{return{}}}else{return{}}}return n}},getAdditionalValueFromPropertyPath:function(e,t,n){if(n.version===2){return l.getStandardRecommendations(t,e,n)}if(n){return this._getRecommendation(e,t,n)}},getRecommendationPropertyPath:function(e){const t=e.split("/");t.splice(0,2);return t.join("/")},getRelevantOthersValuesContextData:function(e,t,n,i){return n.filter(n=>!this.checkValuesMatch(n,e,i)&&!this.checkValuesMatch(n,t,i))},getRelevantRecentValuesContextData:function(e,t,n,i,a){const r=new s({recentValuesContextData:t});const o=r.bindList("/recentValuesContextData",undefined,undefined,this.getValueHelpBindingFilters(a));t=o.getAllCurrentContexts().map(e=>e.getObject());return t.filter(t=>this.filterRecentValuesContextData(t,i,n,e))},filterRecentValuesContextData:function(e,t,n,i){for(const a in e){if(typeof e[a]==="object"){if(this.filterRecentValuesContextData(e[a],t,n,i)){return true}}else if(typeof e[a]==="string"){if(!t&&i.length===0||e[a].includes(t)||n.includes(a)&&this.checkValuesMatch(e,i,n)){return true}}}return false},checkValuesMatch:function(e,t,n){for(const i of t){let t=true;for(const a of n){if(e[a]!==i[a]){t=false;break}}if(t){return true}}return false},getRelevantRecommendationValuesContextData:function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let n=arguments.length>2?arguments[2]:undefined;const i=[];t.forEach(t=>{const a=e.find(e=>e[n]===t);if(a){i.push(a)}});return i},updateFinished:async function t(n){const i=n.getSource();const a=i.getBindingContext("internal"),r=a?.getProperty("allListBinding");const{actual:s,total:o,reason:l}=n.getParameters();if(r&&l==="Growing"&&s===o){const t=await r.requestContexts(o,100),n=t.map(e=>e.getObject());n.forEach(async t=>{const n=i.getBinding("items").create(t,undefined,true);try{await n.created()}catch(t){if(t){e.error(t.name)}}})}}};o.additionalValueHelper=u;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/valuehelp/TableDelegate", ["sap/base/Log","sap/base/util/deepEqual","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/PropertyHelper","sap/fe/core/type/EDM","sap/fe/macros/DelegateUtil","sap/fe/macros/internal/valuehelp/TableDelegateHelper","sap/ui/core/Element","sap/ui/mdc/odata/v4/TableDelegate","sap/ui/mdc/odata/v4/TypeMap","sap/ui/mdc/odata/v4/util/DelegateUtil","sap/ui/mdc/util/FilterUtil","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter"],function(e,t,a,n,r,o,i,s,c,p,l,g,f,d,u,y,h,m,b,P,v){"use strict";var C=f.isSortableProperty;var I=f.isFilterableProperty;var M=f.getPath;var $=l.isTypeFilterable;var T=p.getLabel;var O=p.getAssociatedUnitPropertyPath;var D=p.getAssociatedTimezonePropertyPath;var F=p.getAssociatedTextPropertyPath;var S=p.getAssociatedCurrencyPropertyPath;var E=c.getDisplayMode;var x=s.getTargetObjectPath;var B=s.enhanceDataModelPath;var j=o.isMultiValueFilterExpression;var w=o.getSortRestrictionsInfo;var A=o.getFilterRestrictionsInfo;var N=r.fetchTypeConfig;var _=n.getInvolvedDataModelObjects;const k=Object.assign({},u);k.fetchProperties=async function(e){const t=await this._getModel(e);const a=await this._createPropertyInfos(e,t);k.createInternalBindingContext(e);g.setCachedProperties(e,a);e.getBindingContext("internal").setProperty("tablePropertiesAvailable",true);return a};k.createInternalBindingContext=function(e){let t=e;while(t&&!t.isA("sap.ui.mdc.valuehelp.Dialog")){t=t.getParent()}const a=e.getModel("internal");if(t&&a){const n=t.getBindingContext("internal");let r;if(n){r=n.getPath()+`::VHDialog::${t.getId()}::table`}else{r=`/buildingblocks/${e.getId()}`;a.setProperty("/buildingblocks",{...a.getProperty("/buildingblocks")})}const o=a.bindContext(r).getBoundContext();e.setBindingContext(o,"internal")}};function R(e){const t=V(e);const a={};if(t?.targetObject){const n=t.targetObject;const r=x(t,true);const o=e.targetObject;const i=x(e,true);const s=o.annotations?.Common?.Text,c=s?.annotations?.UI?.TextArrangement?.toString(),p=s&&c&&E(o);if(p==="Description"){a[r]=n}else if(p&&p!=="Value"||!s){a[i]=o;a[r]=n}}return a}k._createPropertyInfos=async function(e,t){const a=e.getDelegate().payload;const n=[];const r=`/${a.collectionName}`;const o=t.getMetaModel();return o.requestObject(`${r}@`).then(function(t){const a=w(t);const s=t["@Org.OData.Capabilities.V1.FilterRestrictions"];const c=A(s);const p=t["@Org.OData.Capabilities.V1.FilterFunctions"];const l=i.isFilteringCaseSensitive(o,p);const f=g.getCustomData(e,"columns");const d={};const u=_(e.getModel().getMetaModel().getContext(r));f.customData.forEach(function(t){let r=$(t.$Type)?e.getTypeMap().getTypeConfig(t.$Type):y.getTypeConfig("sap.ui.model.odata.type.String");const o={key:t.path,label:t.label};const i=B(u,t.path);const s=i.targetObject;if(s){const e=x(i,true);if($(s.type)){const e=N(s);r=y.getTypeConfig(e.type??"sap.ui.model.odata.type.String",e.formatOptions,e.constraints)??r}const n=R(i);const p=Object.keys(n);if(p.length){o.propertyInfos=p;p.forEach(e=>{d[e]=n[e]});if(!p.find(e=>n[e]===s)){d[e]=s}}else{o.path=t.path;o.dataType=r.className;o.constraints=r.typeInstance?.oConstraints;o.formatOptions=r.typeInstance?.oFormatOptions;o.sortable=C(a,t);o.filterable=I(c,t);o.maxConditions=H(c,t);o.caseSensitive=l}}else{o.path=t.path;o.caseSensitive=l;o.dataType=r.className}n.push(o)});const h=U(d,n,a,c,l);return n.concat(h)})};k.updateBindingInfo=function(e,t){u.updateBindingInfo.apply(this,[e,t]);const n=e.getDelegate().payload;if(n){t.path=t?.path||n.collectionPath||`/${n.collectionName}`}t.parameters=t.parameters||{};const r=d.getElementById(e.getFilter()),o=e.isFilteringEnabled();let s;let c,p;const l=[];const f=g.getCachedProperties(e);if(o){s=e.getConditions();c=m.getFilterInfo(e,s,f,[]);if(c.filters){l.push(c.filters)}}const y=!!n?.hierarchyQualifier;if(y){t.parameters.$$aggregation={hierarchyQualifier:n.hierarchyQualifier,expandTo:n.initialExpansionLevel}}if(r){s=r.getConditions();if(s){const a=h.getParameterNames(r);k._updatePropertyInfo(f,e,s,n);p=m.getFilterInfo(r,s,f,a);if(p.filters){l.push(p.filters)}const o=h.getParametersInfo(r,s);if(o){t.path=o}}if(!y){t.parameters.$search=a.normalizeSearchTerm(r.getSearch())||undefined}else if(r.getSearch()){if(!t.parameters.$$aggregation){t.parameters.$$aggregation={}}t.parameters.$$aggregation.search=a.normalizeSearchTerm(r.getSearch());t.parameters.$$aggregation.expandTo=Number.MAX_SAFE_INTEGER}}t.parameters.$$sharedRequest=false;this._applyDefaultSorting(t,e.getDelegate().payload);t.parameters.$select=f?.reduce(function(e,t){if(t.path&&!t.path.includes("/")){e=e?`${e},${t.path}`:t.path}return e},"");t.parameters.$count=true;if(t.path&&i.isDraftSupported(e.getModel()?.getMetaModel(),t.path)){l.push(new b("IsActiveEntity",P.EQ,true))}t.filters=new b(l,true)};k.getTypeMap=function(){return y};k._getModel=async function(e){const t=e.getDelegate().payload;let a=e.getModel(t.model);if(!a){await new Promise(t=>{e.attachEventOnce("modelContextChange",t)});a=e.getModel(t.model)}return a};k._applyDefaultSorting=function(e,t){if(e.parameters&&e.parameters.$search==undefined&&e.parameters.$$aggregation?.search==undefined&&e.sorter&&e.sorter.length==0){const a=t?t.defaultSortPropertyName:undefined;if(a){e.sorter.push(new v(a,false))}}};k._updatePropertyInfo=function(e,t,a,n){const r=Object.keys(a),o=t.getModel().getMetaModel();r.forEach(function(a){const r=o.getObject(`/${n.collectionName}/${a}`)?.$Type??"Edm.String";const i=t.getTypeMap().getTypeConfig(r);e.forEach((t,n)=>{if(t.path===a){e[n].typeConfig=i}});if(e.findIndex(function(e){return e.path===a})===-1){const t={key:a,label:a,path:a,dataType:i.typeInstance.baseType,formatOptions:i.typeInstance?.oFormatOptions,constraints:i.typeInstance?.oConstraints};e.push(t)}})};k.updateBinding=function(a,n,r){let o=false;const i=a.getBindingContext("internal");const s="pendingManualBindingUpdate";const c="lastSearch";const p="lastFilter";const l=i?.getProperty(s);const g=i?.getProperty(c);const f=i?.getProperty(p);let d=a.getRowBinding();u.updateBinding.apply(k,[a,n,r]);if(!d){d=a.getRowBinding()}if(d){o=i?t(n.filters,f)&&n.parameters?.$search===g&&!l:true}i?.setProperty(c,n.parameters?.$search);i?.setProperty(p,n.filters);if(o&&a.getFilter()){i?.setProperty(s,true);d.requestRefresh(d.getGroupId()).finally(function(){i?.setProperty(s,false)}).catch(function(t){e.error("Error while refreshing a filterBar VH table",t)})}a.fireEvent("bindingUpdated")};function U(e,t,a,n,r){const o={},i=[];Object.keys(e).forEach(s=>{const c=e[s],p=t.find(e=>e.path===s);if(!p){const e=`Property::${s}`;o[s]=e;const t=N(c);const p=y.getTypeConfig(t.type??"sap.ui.model.odata.type.String",t.formatOptions,t.constraints);const l={key:e,label:T(c),path:s,sortable:C(a,c),filterable:I(n,c),dataType:p.className,formatOptions:$(c.type)?p.typeInstance?.oFormatOptions:undefined,constraints:$(c.type)?p.typeInstance?.oConstraints:undefined,caseSensitive:r};l.maxConditions=H(n,l);i.push(l)}});t.forEach(e=>{if(e.propertyInfos){e.propertyInfos=e.propertyInfos?.map(e=>o[e]??e)}});return i}function H(e,t){const a=M(t);return a&&e.propertyInfo?.hasOwnProperty(a)&&j(e.propertyInfo[a])?-1:1}function V(e){const t=e.targetObject;const a=t&&(F(t)||S(t)||O(t)||D(t));if(!a){return undefined}const n=B(e,a);const r=n.targetObject;if(!r){return undefined}return n}return k},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/valuehelp/TableDelegateHelper", ["sap/fe/core/helpers/TypeGuards"],function(r){"use strict";var e={};var t=r.isProperty;function o(r,e){const t=p(e);return t&&r?.propertyInfo.hasOwnProperty(t)?r.propertyInfo[t].filterable:e.filterable??true}e.isFilterableProperty=o;function n(r,e){const t=p(e);return t&&r.propertyInfo[t]?r.propertyInfo[t].sortable:e.sortable??true}e.isSortableProperty=n;function p(r){return t(r)?r.name:r.path}e.getPath=p;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/valuehelp/ValueHelpTemplating", ["sap/fe/base/BindingToolkit","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldHelper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ModelHelper","sap/fe/macros/internal/valuehelp/AdditionalValueFormatter","sap/ui/core/CustomData","sap/ui/mdc/ValueHelp","sap/ui/mdc/valuehelp/Dialog","sap/ui/mdc/valuehelp/Popover","sap/ui/mdc/valuehelp/content/Conditions","sap/ui/mdc/valuehelp/content/MTable","sap/fe/base/jsx-runtime/jsx"],function(e,t,a,n,r,i,o,l,s,u,c,p,d,g,f,m,v){"use strict";var h={};var V=l.getInvolvedDataModelObjects;var b=i.getDisplayMode;var y=r.isUnit;var x=r.isSemanticKey;var F=r.isGuid;var O=r.isCurrency;var j=r.hasValueListForValidation;var H=r.hasValueHelpWithFixedValues;var T=r.hasValueHelp;var C=r.hasDateType;var D=r.getLabel;var P=n.getTargetObjectPath;var I=n.enhanceDataModelPath;var M=n.checkFilterExpressionRestrictions;var S=a.isProperty;var q=a.isPathAnnotationExpression;var A=t.generate;var G=e.pathInModel;var E=e.getExpressionFromAnnotation;var U=e.formatResult;var R=e.equal;var w=e.constant;var L=e.compileExpression;const $=function(e,t){const a=b(e);const n=e.targetObject?.annotations?.Common?.Text;const r=typeof n!=="string"&&n?.annotations?.UI?.TextArrangement?.toString();if(t){return n&&q(n)&&n.path?a:"Value"}else{return r?a:"Value"}};h.getValueHelpTableDisplayMode=$;const k=function(e,t,a,n){let r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const i=e!==a;const o={name:"sap/fe/macros/valuehelp/ValueHelpDelegate",payload:{propertyPath:e,isUnitValueHelp:i,conditionModel:t,requestGroupId:n,useMultiValueField:r,qualifiers:{},valueHelpQualifier:""}};return o};h.getDelegateConfiguration=k;const B=function(e){const t={name:"sap/fe/macros/valuehelp/ValueHelpDelegate",payload:{propertyPath:e,isDefineConditionValueHelp:true,qualifiers:{},valueHelpQualifier:""}};return L(t)};h.getDelegateConfigurationForDefineConditions=B;const Q=function(e,t,a,n,r){if(e){return e}let i=r;if(n!==r){i=`${n}::${r}`}return A([t,a,i])};h.generateID=Q;const K=function(e){return H(e)||j(e)||T(e)&&(y(e)||O(e)||F(e))};h.requiresValidation=K;const W=function(e,t){const a=e?.targetEntitySet?.annotations?.Capabilities?.FilterFunctions||t;return s.isFilteringCaseSensitive(undefined,a)};h.useCaseSensitiveFilterRequests=W;const _=function(e){const t=e.targetObject;const a=M(e,["SingleRange"]);return t&&C(t)&&L(a)};h.isSemanticDateRange=_;const z=function(e,t){e.contextLocation=t;return L(M(e,["SingleValue","MultiValue"]))==="false"};h.shouldShowConditionPanel=z;const J=function(e,t){const a=t?.targetObject?.annotations?.Common?.Text;return a?.annotations?.UI?.TextArrangement?.valueOf()==="UI.TextArrangementType/TextOnly"&&q(a)?a.path:e};h.getColumnDataProperty=J;const N=function(e,t){const a=t?.targetObject?.annotations?.Common?.Text?.annotations?.UI?.TextArrangement;return a&&a.valueOf()!=="UI.TextArrangementType/TextSeparate"?"Edm.String":e};const X=function(e){const t=e.targetObject;const a=S(t)?N(t.type,e):"";return!a||x(t,e)?"Begin":o.getPropertyAlignment(a,{textAlignMode:"Table"})};h.getColumnHAlign=X;const Y=function(e){return L(U([G("/recommendationsData","internal"),w(e)],u.getGrowing))};h.getGrowingFormatter=Y;const Z=function(e,t){let a=V(e,t.contextPath);let n=V(t.metaPath,t.contextPath);if(q(n.targetObject)){n=I(n,n.targetObject.path)}if(q(a.targetObject)){a=I(a,a.targetObject.path)}if(a.targetObject){const e=Q(t._flexId,t.idPrefix,!t.filterFieldValueHelp?n.targetEntityType.name:undefined,P(n,true),P(a,true));const r=D(a.targetObject)||a.targetObject.name;if(T(a.targetObject)){const r=t.filterFieldValueHelp||t.requiresValidation||K(a.targetObject);const i=t.filterFieldValueHelp?R(M(a,["SingleValue","MultiValue"]),false):false;const o=k(P(a),t.conditionModel,P(n),t.requestGroupId,t.useMultiValueField);const l=W(a,a.targetEntitySet?.annotations?.Capabilities?.FilterFunctions?.map(e=>e.toString())??[]);const s=j(a.targetObject);const u=H(a.targetObject);const f=[v(c,{value:i},"showConditionPanel")];if(s){f.push(v(c,{value:L(E(a.targetObject.annotations?.Common?.ValueListForValidation))},"valuelistForValidation"))}return v(p,{delegate:o,id:e,validateInput:r,children:{customData:f,typeahead:v(g,{children:v(m,{id:`${e}::Popover::qualifier::`,caseSensitive:l,useAsValueHelp:H(a.targetObject)})}),dialog:!u?v(d,{}):undefined}})}else if(t.filterFieldValueHelp){return v(p,{id:e,children:{customData:t.requestGroupId!==undefined?[v(c,{value:t.requestGroupId},"requestGroupId")]:[],dialog:v(d,{title:r,children:v(f,{})})}})}}};h.getValueHelpTemplate=Z;return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/valuehelp/ValueListHelper", ["sap/base/Log","sap/base/util/ObjectPath","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/MetaPath","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/m/table/Util","sap/ui/core/Fragment","sap/ui/core/ResizeHandler","sap/ui/core/XMLTemplateProcessor","sap/ui/core/util/XMLPreprocessor","sap/ui/dom/units/Rem","sap/ui/mdc/valuehelp/content/Conditions","sap/ui/mdc/valuehelp/content/MDCTable","sap/ui/mdc/valuehelp/content/MTable","sap/ui/model/json/JSONModel"],function(e,t,n,a,o,i,r,s,l,u,c,p,d,f,m,g,h,P){"use strict";var v={};var y=s.getTypeConfig;var C=s.getDisplayMode;var b=r.getAssociatedUnitProperty;var I=r.getAssociatedTimezoneProperty;var $=r.getAssociatedTextProperty;var V=r.getAssociatedCurrencyProperty;var T=o.isPropertyFilterable;var L=o.getSortRestrictionsInfo;var M=a.convertTypes;const _=(e,t)=>!e.some(e=>e.path===t);const O="@com.sap.vocabularies.Common.v1.Label",S="@com.sap.vocabularies.Common.v1.Text",x="@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement",F="com.sap.vocabularies.Common.v1.ValueListParameterIn",H="com.sap.vocabularies.Common.v1.ValueListParameterConstant",A="com.sap.vocabularies.Common.v1.ValueListParameterOut",D="com.sap.vocabularies.Common.v1.ValueListParameterInOut",w="@com.sap.vocabularies.Common.v1.ValueListWithFixedValues",E="@com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive",U="@com.sap.vocabularies.Common.v1.ValueListRelevantQualifiers";v.AnnotationLabel=O;v.AnnotationsValueListRelevantQualifiers=U;v.AnnotationsPersonalDataPotentiallySensitive=E;v.AnnotationValueListWithFixedValues=w;v.AnnotationValueListParameterInOut=D;v.AnnotationValueListParameterOut=A;v.AnnotationValueListParameterConstant=H;v.AnnotationValueListParameterIn=F;v.AnnotationTextUITextArrangement=x;v.AnnotationText=S;function j(e){let t;const n=e.$model.getMetaModel();const a=n.getObject(`/${e.CollectionPath}@`)||{};const o=L(a);const i=e.Parameters.find(function(t){return(t.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||t.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterOut"||t.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterDisplayOnly")&&!(n.getObject(`/${e.CollectionPath}/${t.ValueListProperty}@com.sap.vocabularies.UI.v1.Hidden`)===true)});if(i){if(n.getObject(`/${e.CollectionPath}/${i.ValueListProperty}@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement/$EnumMember`)==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"){t=n.getObject(`/${e.CollectionPath}/${i.ValueListProperty}@com.sap.vocabularies.Common.v1.Text/$Path`)}else{t=i.ValueListProperty}}if(t&&(!o.propertyInfo[t]||o.propertyInfo[t].sortable)){return t}else{return undefined}}function N(e,t){const n=t.find(function(t){return e.ValueListProperty===t.textColumnName});if(e.ValueListProperty===n?.textColumnName&&!n.keyColumnHidden&&n.keyColumnDisplayFormat!=="Value"){return true}return undefined}function W(e){return e.Parameters.some(function(e){return e["@com.sap.vocabularies.UI.v1.Importance"]&&e["@com.sap.vocabularies.UI.v1.Importance"].$EnumMember==="com.sap.vocabularies.UI.v1.ImportanceType/High"})}function B(e){const t=e.getModel("viewData");if(t){const e=t.getData();if(e){const t=e.columns;if(t){return t.reduce(function(e,t){if(t.path&&!t.path.includes("/")){e=e?`${e},${t.path}`:t.path}return e},undefined)}}}return undefined}function R(e,t){const a=n.computeDisplayMode(e);const o=e&&e["@com.sap.vocabularies.Common.v1.Text"];const i=o&&e["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"];if(t){return o&&typeof o!=="string"&&"$Path"in o&&o.$Path?a:"Value"}else{return i?a:"Value"}}function Q(e){const t=e.PresentationVariantQualifier?`#${e.PresentationVariantQualifier}`:"";const n=`/${e.CollectionPath}/@com.sap.vocabularies.UI.v1.PresentationVariant${t}`;return e.$model.getMetaModel().getObject(n)}const k={getValueListCollectionEntitySet:function(e){const t=e.getObject();return t.$model.getMetaModel().createBindingContext(`/${t.CollectionPath}`)},isTreeTableType(e){return Q(e)?.RecursiveHierarchyQualifier?true:false},getTableDelegate:function(e){let t=j(e);if(t){t=`'${t}'`}const n=Q(e);const a=n?.RecursiveHierarchyQualifier;if(a){const o=n.InitialExpansionLevel;return"{name: 'sap/fe/macros/internal/valuehelp/TableDelegate', payload: {collectionName: '"+e.CollectionPath+"'"+(t?", defaultSortPropertyName: "+t:"")+", hierarchyQualifier: '"+a+"'"+(o?", initialExpansionLevel: "+(o+1):"")+"}}"}return"{name: 'sap/fe/macros/internal/valuehelp/TableDelegate', payload: {collectionName: '"+e.CollectionPath+"'"+(t?", defaultSortPropertyName: "+t:"")+"}}"},getSortConditionsFromPresentationVariant:function(e,t){const n=Q(e);if(n?.SortOrder){const e={sorters:[]};n.SortOrder.forEach(function(n){const a={},o=n?.Property?.$PropertyPath;if(t){a.path=o}else{a.name=o}if(n.Descending){a.descending=true}else{a.ascending=true}e.sorters.push(a)});return t?`sorter: ${JSON.stringify(e.sorters)}`:JSON.stringify(e)}return},getSortConditionsForValueList:function(e,t){const n=k.getSortConditionsFromPresentationVariant(e,false);if(n){return n}if(t){const t={sorters:[{name:j(e),ascending:true}]};return JSON.stringify(t)}},getPropertyPath:function(e){return!e.UnboundAction?`${e.EntityTypePath}/${e.Action}/${e.Property}`:`/${e.Action.substring(e.Action.lastIndexOf(".")+1)}/${e.Property}`},getValueListProperty:function(e){const t=e.getModel();const n=t.getObject("/");return n.$model.getMetaModel().createBindingContext(`/${n.CollectionPath}/${e.getObject()}`)},getColumnVisibility:function(e,t,n){const a=n&&!!n.valueHelpWithFixedValues,o=n.columnInfo,i=!N(t,o.columnInfos),r=o.isDialogTable;if(a||!a&&r||!a&&!W(e)){const e=o.columnInfos.find(function(e){return t.ValueListProperty===e.columnName&&e.hasHiddenAnnotation===true});return!e?i:false}else if(!a&&W(e)){return t&&t["@com.sap.vocabularies.UI.v1.Importance"]&&t["@com.sap.vocabularies.UI.v1.Importance"].$EnumMember==="com.sap.vocabularies.UI.v1.ImportanceType/High"?true:false}return true},getColumnVisibilityInfo:function(e,t,n,a){const o=e.$model.getMetaModel();const i=[];const r={isDialogTable:a,columnInfos:i};e.Parameters.forEach(function(t){const a=o.getObject(`/${e.CollectionPath}/${t.ValueListProperty}@`);const i=a&&a["@com.sap.vocabularies.Common.v1.Text"];let s={};if(i){s={keyColumnHidden:a["@com.sap.vocabularies.UI.v1.Hidden"]?true:false,keyColumnDisplayFormat:i&&R(a,n),textColumnName:i&&i.$Path,columnName:t.ValueListProperty,hasHiddenAnnotation:a&&a["@com.sap.vocabularies.UI.v1.Hidden"]?true:false}}else if(a&&a["@com.sap.vocabularies.UI.v1.Hidden"]){s={columnName:t.ValueListProperty,hasHiddenAnnotation:a&&a["@com.sap.vocabularies.UI.v1.Hidden"]?true:false}}r.columnInfos.push(s)});return r},getTableItemsParameters:function(e,t,n,a){const o=[`path: '/${e.CollectionPath}'`];const i=B(this);if(t){const e=i?`, '${i}'`:"";o.push(`parameters: {$$sharedRequest: false, $$updateGroupId: "donotsubmit", $$groupId: '${t}'${e}}`)}else if(i){o.push(`parameters: {$$sharedRequest: false, $$updateGroupId: "donotsubmit", $select: '${i}'}`)}const r=e.Parameters.some(function(e){return n||e.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterIn"});o.push(`suspended: ${r}`);if(!a){o.push("length: 10")}const s=k.getSortConditionsFromPresentationVariant(e,n);if(s){o.push(s)}else if(a){const t=j(e);if(t){o.push(`sorter: [{path: '${t}', ascending: true}]`)}}return"{"+o.join(", ")+"}"},hasImportance:function(e){return W(e.getObject())?"Importance/High":"None"},getMinScreenWidth:function(e){return W(e)?"{= ${_VHUI>/minScreenWidth}}":"416px"},getColumnWidth:function(a){let o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(n.isSmallDevice()||!a.targetObject)return;const i=a.targetObject;let r=[i];const s=$(i)||V(i)||b(i)||I(i),u=i.annotations?.Common?.Text,c=u?.annotations?.UI?.TextArrangement?.toString(),p=i.annotations?.Common?.Label?.toString();let d;if(o&&!c){d=C(a)}else{d=c&&C(a)}if(s){if(d==="Description"){r=[s]}else if(!u||d&&d!=="Value"){r.push(s)}}let f=0;const m=[];r.forEach(e=>{const n=y(e,undefined);const a=t.get(n.type);if(a){m.push(new a(n.formatOptions,n.constraints))}});const g=l.calcColumnWidth(m,p);f=g?parseFloat(g.replace("rem","")):0;if(f===0){e.error(`Cannot compute the column width for property: ${i.name}`)}return f<=20?f.toString()+"rem":"20rem"},getOutParameterPaths:function(e){let t="";e.forEach(function(e){if(e.$Type.endsWith("Out")){t+=`{${e.ValueListProperty}}`}});return t},entityIsSearchable:function(e,t){const n=e["@com.sap.vocabularies.Common.v1.ValueList"]?.SearchSupported,a=t["@Org.OData.Capabilities.V1.SearchRestrictions"]?.Searchable;if(a===undefined&&n===false||a===true&&n===false||a===false){return false}return true},_getConditionPath:function(e,t,n){const a=n.split("/");let o="",i;while(a.length){let n=a.shift();i=i?`${i}/${n}`:n;const r=e.getObject(`${t}/${i}`);if(r&&r.$kind==="NavigationProperty"&&r.$isCollection){n+="*"}o=o?`${o}/${n}`:n}return o},_getColumnDefinitionFromSelectionFields:function(e,t){const n=[],a=e.getObject(`${t}/@`),o=a["@com.sap.vocabularies.UI.v1.SelectionFields"];if(o){o.forEach(function(a){const o=`${t}/${a.$PropertyPath}`,i=k._getConditionPath(e,t,a.$PropertyPath),r=e.getObject(`${o}@`),s={path:i,label:r?.[O]||o,sortable:true,filterable:T(e,t,a.$PropertyPath,false),$Type:e.getObject(o)?.$Type};n.push(s)})}return n},_mergeColumnDefinitionsFromProperties:function(e,t,n,a,o){let i=n,r=a.$Type;const s=o[O]||i,l=o[S];if(l&&o[x]?.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"){i=l.$Path;const e=`/${t.CollectionPath}/${i}`;r=t.$model.getMetaModel()?.getObject(e)?.$Type}if(_(e,i)){const t={path:i,textPath:l?.$Path&&n.includes("/")?n.substring(0,n.lastIndexOf("/"))+"/"+l.$Path:l?.$Path,label:s,sortable:true,filterable:!o["@com.sap.vocabularies.UI.v1.HiddenFilter"],$Type:r};e.push(t)}},filterInOutParameters:function(e,t){return e.filter(function(e){return t.includes(e.parmeterType)})},getInParameters:function(e){return k.filterInOutParameters(e,[F,H,D])},getOutParameters:function(e){return k.filterInOutParameters(e,[A,D])},createVHUIModel:function(e,t,n){const a=new P({}),o=n.getObject(`${t}@`);e.setModel(a,"_VHUI");a.setProperty("/hasValueListRelevantQualifiers",!!o[U]);a.setProperty("/propertyLabel",o[O]);return a},_getDialogTitle:function(e,t){const n=e.getModel("_VHUI").getProperty("/propertyLabel");const a=e.getControl()?.getProperty("label");return e.getModel("_VHUI").getProperty("/hasValueListRelevantQualifiers")?t||n||a:a||n||t},destroyVHContent:function(e){if(e){e.getDialog()?.destroyContent();e.getTypeahead()?.destroyContent()}},putDefaultQualifierFirst:function(e){const t=e.indexOf("");if(t>0){e.unshift(e[t]);e.splice(t+1,1)}return e},_getContextPrefix:function(e,t){if(e&&e.getPath()){const n=e.getPath().split("/");if(t.length-n.length>1){const e=[];for(let a=n.length;a<t.length-1;a++){e.push(t[a])}return`${e.join("/")}/`}}return""},_getVhParameter:function(e,t,n,a,o,r){let s="";const l=t?.getBindingContext();if(e&&e.length>0){if(t?.getParent()?.isA("sap.ui.mdc.Table")===true&&l&&k._parameterIsA(a,["com.sap.vocabularies.Common.v1.ValueListParameterIn","com.sap.vocabularies.Common.v1.ValueListParameterInOut"])){const e=r.split("/");if(e.length>1){const n=e[0];const a=o.getMetaContext(l.getPath());const i=t.getParent().getRowBinding().getPath();if(a.getObject(`${i}/$Partner`)===n){s=r}}}else if(t?.getParent()?.getParent()?.getParent()?.isA("sap.fe.macros.filterBar.FilterBarAPI")===true&&l&&k._parameterIsA(a,["com.sap.vocabularies.Common.v1.ValueListParameterIn","com.sap.vocabularies.Common.v1.ValueListParameterInOut"])){const e=t.getParent()?.getParent()?.getParent();const n=e.metaPath;const a=o.getMetaPath(l.getPath());const u=new i(M(o),a,a);const c=new i(M(o),n,a);const p=c.getMetaPathForPath(r);if(p&&p.getTarget()){const e=p.getClosestEntitySet();if(e===u.getClosestEntitySet()){s=u.getMetaPathForObject(p.getTarget())?.getRelativePath()}}}if(!s){s=e+">/conditions/"+r}}else{s=n+r}return{parmeterType:a.$Type,source:s,helpPath:a.ValueListProperty,constantValue:a.Constant,initialValueIsSignificant:Boolean(a.InitialValueIsSignificant)}},_parameterIsA(e,t){return t.includes(e.$Type)},_enrichPath:function(e,t,n,a,o,i,r){if(!e.key&&k._parameterIsA(a,["com.sap.vocabularies.Common.v1.ValueListParameterOut","com.sap.vocabularies.Common.v1.ValueListParameterInOut"])&&n===o){const n=r?.split("/").pop();a.ValueListProperty=n?n:a.ValueListProperty;e.fieldPropertyPath=t;e.key=a.ValueListProperty;e.descriptionPath=i[S]?.$Path||""}},_enrichKeys:function(e,t){if(k._parameterIsA(t,k.getInAndOutParametersList())&&!e.includes(t.ValueListProperty)){e.push(t.ValueListProperty)}},_getEntityType:async function(e,t){return e.getObject(`${t}/`)||await e.requestObject(`${t}/`)},_processParameters:function(t,n,a,o,i,r,s,l,u){const c=l?.useMultiValueField;const p=t.$model.getMetaModel(),d=`/${t.CollectionPath}`;if(u===undefined){e.error(`Inconsistent value help metadata: Entity ${d} is not defined`);return}const f=k._getColumnDefinitionFromSelectionFields(p,d),m=[],g={fieldPropertyPath:"",descriptionPath:"",key:""};let h=[];if("$Key"in u&&u.$Key){h=[...u.$Key]}for(const e of t.Parameters){const s=`/${t.CollectionPath}/${e.ValueListProperty}`,u=p.getObject(s),d=p.getObject(`${s}@`)||{},P=e.LocalDataProperty?.$PropertyPath||"";if(l&&d[E]){l.isPotentiallySensitive=true}if(u){k._enrichPath(g,s,P,e,n,d,l?.externalIdPath);const a=e.ValueListProperty;k._mergeColumnDefinitionsFromProperties(f,t,a,u,d)}if(k._parameterIsA(e,["com.sap.vocabularies.Common.v1.ValueListParameterIn","com.sap.vocabularies.Common.v1.ValueListParameterOut","com.sap.vocabularies.Common.v1.ValueListParameterInOut"])&&P!==n){const t=k._getVhParameter(a,o,i,e,r,P);if(!c||c&&k._parameterIsA(e,["com.sap.vocabularies.Common.v1.ValueListParameterIn"])){m.push(t)}}if(e.$Type===H){m.push({parmeterType:e.$Type,source:e.ValueListProperty,helpPath:e.ValueListProperty,constantValue:e.Constant,initialValueIsSignificant:Boolean(e.InitialValueIsSignificant)})}k._enrichKeys(h,e)}for(const e of h){if(_(f,e)){const n={path:e,$Type:p.getObject(`/${t.CollectionPath}/${g.key}`)?.$Type,label:"",sortable:false,filterable:undefined};f.push(n)}}const P={keyPath:g.key,descriptionPath:g.descriptionPath,fieldPropertyPath:g.fieldPropertyPath,vhKeys:h,vhParameters:m,valueListInfo:t,columnDefs:f,valueHelpQualifier:s};return P},_logError:function(t,n){const a=n?n.status:undefined;const o=n instanceof Error?n.message:String(n);const i=a===404?`Metadata not found (${a}) for value help of property ${t}`:o;e.error(i)},getValueListInfo:async function(e,t,n,a){const o=e?.getBindingContext(),i=n?.conditionModel,r=[],s=t.split("/");try{const l=await a.requestValueListInfo(t,true,o);const u=k.putDefaultQualifierFirst(Object.keys(l)),c=s.pop();const p=n?.useMultiValueField===true?k._getContextPrefix(o,s):"";for(const t of u){const o=l[t];const s=o.$model.getMetaModel(),u=`/${o.CollectionPath}`;const d=await k._getEntityType(s,u);const f=k._processParameters(o,c,i,e,p,a,o.$qualifier??t,n,d);if(f){r.push(f)}}}catch(n){this._logError(t,n);k.destroyVHContent(e)}return r},ALLFRAGMENTS:[],logFragment:undefined,_logTemplatedFragments:function(t,n,a){const o={path:t,fragmentName:n,fragment:a};if(e.getLevel()===e.Level.DEBUG){k.ALLFRAGMENTS=k.ALLFRAGMENTS||[];k.ALLFRAGMENTS.push(o)}if(k.logFragment){setTimeout(function(){k.logFragment?.(o)},0)}},_templateFragment:async function(e,t,a,o,i){const r=n.getTargetView(i);const s=n.getAppComponent(n.getTargetView(i));const l=t.valueListInfo,c=new P(l),f=l.$model.getMetaModel(),m=new P({converterType:"ListReport",columns:t.columnDefs||null});const g=await d.process(p.loadTemplate(e,"fragment"),{name:e},{bindingContexts:{valueList:c.createBindingContext("/"),contextPath:f.createBindingContext(`/${l.CollectionPath}/`),source:a.createBindingContext("/")},models:{valueList:c,contextPath:f,source:a,metaModel:f,viewData:m},appComponent:s});k._logTemplatedFragments(o,e,g);const h=r.getController()?.getOwnerComponent();if(h){return h.runAsOwner(async()=>await u.load({definition:g,controller:r.getController()}))}else{return await u.load({definition:g,controller:r.getController()})}},_getContentId:function(e,t,n){const a=n?"Popover":"Dialog";return`${e}::${a}::qualifier::${t}`},_addInOutParametersToPayload:function(e,t){const n=t.valueHelpQualifier;if(!e.qualifiers){e.qualifiers={}}if(!e.qualifiers[n]){const a=new Set;t.columnDefs.forEach(e=>{if(!e.path.includes("*")){a.add(e.path)}if(e.textPath){a.add(e.textPath)}});e.qualifiers[n]={vhKeys:t.vhKeys,vhParameters:t.vhParameters,vhProperties:Array.from(a)}}},_getValueHelpColumnDisplayFormat:function(e,t){const a=n.computeDisplayMode(e,undefined),o=e&&e[S],i=o&&e[x];if(t){return o&&typeof o!=="string"&&o.$Path?a:"Value"}else{return i?a:"Value"}},_getWidthInRem:function(e,t){let n=e.$().width();if(t&&n){n=.3*n}const a=n?parseFloat(String(f.fromPx(n))):0;return isNaN(a)?0:a},_getTableWidth:function(e,t,n){let a;const o=e.getColumns(),i=o&&o.filter(function(e){return e&&e.getVisible&&e.getVisible()})||[],r=i.length+(n?2.5:0),s=i.reduce(function(e,t){a=t.getWidth();if(a&&a.endsWith("px")){a=String(f.fromPx(a))}const n=parseFloat(a);return e+(isNaN(n)?9:n)},r);return`${Math.max(s,t)}em`},_getJSONModelForDialog:function(e,t,n,a){const o=false,i=true,r=k.getColumnVisibilityInfo(e.valueListInfo,t,o,i);return new P({id:n.getId(),groupId:a.requestGroupId,bSuggestion:false,columnInfo:r,valueHelpWithFixedValues:o})},_getJSONModelForCondition:function(e,t,n,a,o){const i=false,r=false,s=k.getColumnVisibilityInfo(e.valueListInfo,t,i,r);return new P({id:n.getId(),groupId:a.requestGroupId||undefined,bSuggestion:true,columnInfo:s,valueHelpWithFixedValues:i,descriptionPath:e.descriptionPath,keyPath:e.keyPath,propertyPath:t,caseSensitive:o})},_getJSONModelForTypeahead:function(e,t,n,a,o){const i=false,r=n.getId(),s=k.getColumnVisibilityInfo(e.valueListInfo,t,o,i);return new P({id:r,groupId:a.requestGroupId||undefined,bSuggestion:true,propertyPath:t,columnInfo:s,valueHelpWithFixedValues:o})},_createValueHelpTypeahead:async function(t,n,a,o,i,r){const s=r.getObject(`${t}@`),l=s[w]??false,u=this._getJSONModelForTypeahead(o,t,a,i,l);a.setKeyPath(o.keyPath);a.setDescriptionPath(o.descriptionPath);i.isValueListWithFixedValues=l;i.isPotentiallySensitive=i.isPotentiallySensitive??s[E];i.history={enabled:this.checkHistoryEnabled(n,i)};const p=o.valueListInfo.$model.getMetaModel().getObject(`/${o.valueListInfo.CollectionPath}@`)||{};a.data("searchSupported",k.entityIsSearchable(s,p)?true:false);const d=await k._templateFragment("sap.fe.macros.internal.valuehelp.ValueListTable",o,u,t,n);d.setModel(o.valueListInfo.$model);e.info(`Value List- suggest Table XML content created [${t}]`,d.getMetadata().getName(),"MDC Templating");a.setTable(d);const f=n.getControl();if(f!==undefined&&(f.isA("sap.ui.mdc.FilterField")||f.isA("sap.ui.mdc.Field")||f.isA("sap.ui.mdc.Field")&&l||f.isA("sap.ui.mdc.MultiValueField"))){const e=l&&f.getMaxConditions()!==1?"MultiSelect":"SingleSelectMaster";d.setMode(e);d.addEventDelegate({onAfterRendering:function(){c.register(d,function(){k._setTableWidth(d,f,e,i.isUnitValueHelp)})}});this._setTableWidth(d,f,e,i.isUnitValueHelp)}},_setTableWidth(e,t,n,a){const o=Boolean(a);const i=k._getTableWidth(e,k._getWidthInRem(t,o),n==="MultiSelect");e.setWidth(i)},checkHistoryEnabled:function(e,t){const a=n.getAppComponent(n.getTargetView(e));const o=a.getManifestEntry("sap.fe")?.historySettings;return o?.fields?.[t.propertyPath]?.historyEnabled??true},isValueListSearchable(e,t){const n=t.valueListInfo.$model.getMetaModel();const a=n.getObject(`${e}@`)??{};const o=n.getObject(`/${t.valueListInfo.CollectionPath}@`)??{};return k.entityIsSearchable(a,o)},_createValueHelpDialog:async function(e,t,n,a,o,i,r){const s=n.getModel().getMetaModel().getObject(`${t}@`),l=this._getJSONModelForDialog(o,t,a,i);a.setKeyPath(o.keyPath);a.setDescriptionPath(o.descriptionPath);a.data("searchSupported",k.isValueListSearchable(t,o));i.isPotentiallySensitive=i.isPotentiallySensitive??s[E];if(r){const s=n.getTypeahead().getContent()[0],l=s.getCaseSensitive();const u=this._getJSONModelForCondition(o,t,a,i,l);const c=await k._templateFragment("sap.fe.macros.internal.valuehelp.ValueListForCondition",o,u,t,n);c.setModel(e);r.addDependent(c);r.setValueHelp(c.getId());const p=c.getTypeahead().getContent()[0].getTable();const d=k._getTableWidth(p,0,false);p.setWidth(d)}const u=k._templateFragment("sap.fe.macros.internal.valuehelp.ValueListDialogTable",o,l,t,n);const c=k._templateFragment("sap.fe.macros.internal.valuehelp.ValueListFilterBar",o,l,t,n);const[p,d]=await Promise.all([u,c]);p.setModel(o.valueListInfo.$model);d.setModel(o.valueListInfo.$model);a.setFilterBar(d);a.setTable(p);p.setFilter(d.getId());p.initialized();p.setWidth("100%");k.setCopyProviderVisibility(p,n);const f=p;f._setShowP13nButton(false)},setCopyProviderVisibility:function(e,t){if(t.getControl()?.isA("sap.ui.mdc.field.FieldBase")){e.getCopyProvider()?.setVisible(true)}},_getContentById:function(e,t){return e.find(function(e){return e.getId()===t})},_createPopoverContent:function(e,t,n){return new h({id:e,group:"group1",caseSensitive:t,useAsValueHelp:n})},_createDialogContent:function(e,t,n){return new g({id:e,group:"group1",caseSensitive:t,forceBind:n})},_showConditionsContent:function(e,t){let n=e.length&&e[e.length-1].getMetadata().getName()==="sap.ui.mdc.valuehelp.content.Conditions"?e[e.length-1]:undefined;if(n){n.setVisible(true)}else{n=new m;t.addContent(n)}return n},_alignOrCreateContent:function(e,t,n,a,o){const i=o.getContent();let r=k._getContentById(i,t);if(!r){const s=e.valueListInfo.FetchValues===2?false:true;r=k._createDialogContent(t,n,s);if(!a){o.addContent(r)}else{o.insertContent(r,i.length-1)}}return r},_prepareValueHelpTypeAhead:function(e,t,n,a,o,i){const r=t.getContent();let s=e.data("valuelistForValidation")||"";if(s===" "){s=""}const l=s?n.filter(function(e){return e.valueHelpQualifier===s})[0]||n[0]:n[0];k._addInOutParametersToPayload(a,l);const u=k._getContentId(e.getId(),l.valueHelpQualifier,true);let c=k._getContentById(r,u);if(!c){const e=i.getUseAsValueHelp();c=k._createPopoverContent(u,o,e);t.insertContent(c,0)}else if(u!==r[0].getId()){t.removeContent(c);t.insertContent(c,0)}return{valueListInfo:l,content:c}},_prepareValueHelpDialog:function(e,t,a,o,i,r){const s=e.data("showConditionPanel")&&e.data("showConditionPanel")!=="false";const l=t.getContent();for(const e of l){e.setVisible(false)}const u=s?this._showConditionsContent(l,t):undefined;const c=e.getControl();const p=c&&c.isA("sap.ui.mdc.FilterField")?c.getOperators().length===0||c.getOperators().includes("EQ"):true;let d,f;for(const l of a){const a=l.valueHelpQualifier;k._addInOutParametersToPayload(o,l);const u=k._getContentId(e.getId(),a,false);const m=this._alignOrCreateContent(l,u,r,s,t);m.setVisible(p);if(l.valueListInfo.Label&&c){const e=n.getTranslatedTextFromExpBindingString(l.valueListInfo.Label,c);m.setTitle(e)}if(!f||i&&i===u){f=m;d=l}}if(!d||!f){throw new Error("selectedInfo or selectedContent undefined")}return{selectedInfo:d,selectedContent:f,conditionContent:u}},_addDescriptionInfosToPayload:function(e,t,n){if(e.valueHelpDescriptionPath!==t.descriptionPath||e.externalIdPath){const a=M(n);const o=a.resolvePath(e.propertyPath).target?.annotations?.Common?.Text?.path;e.valueHelpDescriptionPath=t.descriptionPath;e.valueHelpKeyPath=t.keyPath;if(o){e.maxLength=e.valueHelpDescriptionPath?a.resolvePath(`/${t.valueListInfo.CollectionPath}/${e.valueHelpDescriptionPath}`)?.target?.maxLength:undefined;e.propertyDescriptionPath=o}const i=e.externalIdPath;if(i&&!e.valueHelpDescriptionPath){const o=n.getObject(`${e.propertyPath}@sapui.name`);const r=e.propertyPath.replace(o,i);const s=a.resolvePath(r).target?.annotations?.Common?.Text?.path;t.descriptionPath=s;e.valueHelpDescriptionPath=s}}},showValueList:async function(e,t,a){const o=t.getParent(),i=t.isTypeahead(),r=e.propertyPath,s=o.getControl(),l=s?(o.getControl()?.getModel()).getMetaModel():o.getModel().getMetaModel(),u=o.getModel("_VHUI")!==undefined?o.getModel("_VHUI"):k.createVHUIModel(o,r,l);e.externalIdPath=l?.getObject(`${e.propertyPath}@com.sap.vocabularies.Common.v1.ExternalID`)?.$Path;u.setProperty("/isSuggestion",i);u.setProperty("/minScreenWidth",!i?"418px":undefined);try{const s=await k.getValueListInfo(o,r,e,l);const c=o.getTypeahead().getContent()[0],p=c.getCaseSensitive();if(i){const{valueListInfo:n,content:a}=k._prepareValueHelpTypeAhead(o,t,s,e,p,c);e.valueHelpQualifier=n.valueHelpQualifier;u.setProperty("/selectedProperties",n.columnDefs.map(e=>e.path));k._addDescriptionInfosToPayload(e,n,l);if(a.getTable()===undefined||a.getTable()===null){await k._createValueHelpTypeahead(r,o,a,n,e,l)}}else{const{selectedInfo:i,selectedContent:u,conditionContent:c}=k._prepareValueHelpDialog(o,t,s,e,a,p);e.valueHelpQualifier=i.valueHelpQualifier;k._addDescriptionInfosToPayload(e,i,l);const d=o.getControl();if(d){const e=n.getTranslatedTextFromExpBindingString(k._getDialogTitle(o,i.valueListInfo?.Label),d);t.setTitle(e)}if(u.getTable()===undefined||u.getTable()===null){await k._createValueHelpDialog(l,r,o,u,i,e,c)}}}catch(e){this._logError(r,e);k.destroyVHContent(o)}},getInAndOutParametersList(){return["com.sap.vocabularies.Common.v1.ValueListParameterOut","com.sap.vocabularies.Common.v1.ValueListParameterIn","com.sap.vocabularies.Common.v1.ValueListParameterInOut"]}};return k},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/kpiTag/AnalyticalKPITag", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/formatters/KPIFormatter","../KPITag","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,r,n,o){"use strict";var a,s,l,u,p,c,d,f,g,b,m;var h={};var y=t.property;var v=t.defineUI5Class;var P=e.resolveBindingString;var x=e.pathInModel;var z=e.formatResult;function w(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function E(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,K(e,t)}function K(e,t){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},K(e,t)}function k(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function O(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let j=(a=v("sap.fe.macros.kpiTag.AnalyticalKPITag"),s=y({type:"string",required:true}),l=y({type:"string",required:true}),u=y({type:"string",required:true}),p=y({type:"boolean",required:false}),a(c=(d=function(e){function t(t,i){var r;r=e.call(this,t,i)||this;w(r,"id",f,r);w(r,"metaPath",g,r);w(r,"kpiModelName",b,r);w(r,"hasUnit",m,r);return r}h=t;E(t,e);var i=t.prototype;i.onMetadataAvailable=function e(){if(!this.content){this.content=this.createContent()}};i.getKpiPropertyExpression=function e(t,i){return x(`/${t.getLocalId(this.id)??this.id}/manifest/sap.card/data/json/${i}`,this.kpiModelName)};i.getBindingExpressions=function e(t){const i=this._getOwner();const n=i?.preprocessorContext?.models.metaModel;const o=n.getContext(this.metaPath);const a=o.getProperty("Title");if(!a){return{text:undefined,tooltip:undefined}}const s=P(a);return{text:z([s],r.labelFormat),tooltip:z([s,this.getKpiPropertyExpression(t,"mainValueUnscaled"),this.getKpiPropertyExpression(t,"mainUnit"),this.getKpiPropertyExpression(t,"mainCriticality"),String(this.hasUnit)],r.tooltipFormat)}};i.createContent=function e(){const t=this._getOwner();const i=t?.getRootController();const r=i?.getView();const{text:a,tooltip:s}=this.getBindingExpressions(r);const l=o(n,{id:this.createId("_akt"),text:a,status:this.getKpiPropertyExpression(r,"mainCriticality"),tooltip:s,press:async e=>i.kpiManagement.onKPIPressed(e.getSource(),r.getLocalId(this.id)??this.id),number:this.getKpiPropertyExpression(r,"mainValue"),unit:this.getKpiPropertyExpression(r,"mainUnit")});return l};return t}(i),f=k(d.prototype,"id",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),g=k(d.prototype,"metaPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),b=k(d.prototype,"kpiModelName",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),m=k(d.prototype,"hasUnit",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),d))||c);h=j;return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/library", ["sap/base/Log","sap/f/library","sap/fe/controls/library","sap/fe/core/AppComponent","sap/fe/core/library","sap/fe/macros/coreUI/factory","sap/fe/macros/filter/FilterOperatorUtils","sap/fe/macros/filter/type/MultiValue","sap/fe/macros/filter/type/Range","sap/fe/macros/formatters/TableFormatter","sap/fe/macros/macroLibrary","sap/ui/base/DataType","sap/ui/core/CustomData","sap/ui/core/Fragment","sap/ui/core/Lib","sap/ui/core/XMLTemplateProcessor","sap/ui/core/library","sap/ui/core/util/XMLPreprocessor","sap/ui/mdc/field/ConditionsType","sap/ui/mdc/library","sap/ui/unified/library"],function(e,t,a,r,s,o,i,n,c,p,l,f,m,u,d,g,y,h,b,P,x){"use strict";var C={};const S="sap.fe.macros";C.macrosNamespace=S;const T=d.init({name:"sap.fe.macros",apiVersion:2,dependencies:["sap.ui.core","sap.ui.mdc","sap.ui.unified","sap.fe.core","sap.fe.navigation","sap.fe.controls","sap.m","sap.f"],types:["sap.fe.macros.NavigationType"],interfaces:[],controls:[],elements:[],version:"1.136.0",noLibraryCSS:true,extensions:{flChangeHandlers:{"sap.fe.macros.controls.FilterBar":"sap/ui/mdc/flexibility/FilterBar","sap.fe.macros.controls.Section":"sap/uxap/flexibility/ObjectPageSection","sap.fe.macros.controls.section.SubSection":"sap/uxap/flexibility/ObjectPageSubSection"}}});let F=function(e){e["External"]="External";e["InPage"]="InPage";e["None"]="None";return e}({});T.NavigationType=F;C.NavigationType=F;f.registerEnum("sap.fe.macros.NavigationType",T.NavigationType);u.registerType("CUSTOM",{load:u.getType?.("XML").load,init:async function(e){const t=e.containingView.getController();let a=t;if(t&&!t.isA("sap.fe.core.ExtensionAPI")){a=t.getExtensionAPI(e.id)}e.containingView={oController:a};const r=e.childCustomData??undefined;const s=e.contextPath;delete e.childCustomData;delete e.contextPath;this._fnSettingsPreprocessor=function(e){if(this.getMetadata().hasProperty("contextPath")){e.contextPath??=s}return e};for(var o=arguments.length,i=new Array(o>1?o-1:0),n=1;n<o;n++){i[n-1]=arguments[n]}const c=await u.getType("XML").init.apply(this,[e,i]);if(r&&c?.isA("sap.ui.core.Control")){for(const e in r){if(e==="bindingString"){delete r[e];continue}c.addCustomData(new m({key:e,value:r[e]}))}}return c}});u.registerType("SCOPEDFEFRAGMENT",{load:u.getType?.("XML").load,init:function(e){const t=e.contextPath;delete e.contextPath;this._fnSettingsPreprocessor=function(e){if(this.getMetadata().hasProperty("contextPath")){e.contextPath??=t}return e};for(var a=arguments.length,r=new Array(a>1?a-1:0),s=1;s<a;s++){r[s-1]=arguments[s]}return u.getType("XML").init.apply(this,[e,r])}});d.load({name:"sap.fe.macros"}).then(()=>{r.registerInstanceDependentProcessForStartUp(i.processCustomFilterOperators);return}).catch(t=>{e.error(`Error loading 'sap.fe.macros`,t)});const N=function(e,t,a,r){return async(s,o)=>{if(s.hasChildNodes()&&s.attributes.length===0){await o.visitChildNodes(s);return}const i=document.createElementNS(a,r);const n=document.createElementNS(e,t);const c=s.getAttributeNames();if(c.length>0){for(const e of c){i.setAttribute(e,s.getAttribute(e))}n.appendChild(i)}await o.visitChildNodes(n);s.replaceWith(n)}};h.plugIn(N("sap.fe.macros","macros:shareOptions","sap.fe.macros.share","macroShare:ShareOptions"),"sap.fe.macros","shareOptions");h.plugIn(N("sap.fe.macros","macros:formatOptions","sap.fe.macros.field","macroField:FieldFormatOptions"),"sap.fe.macros","formatOptions");h.plugIn(N("sap.fe.macros","macros:formatOptions","sap.fe.macros.field","macroField:FieldFormatOptions"),"sap.m","formatOptions");return T},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/macroLibrary", ["sap/fe/macros/filterBar/SemanticDateOperators","sap/fe/macros/form/FormElement.block","sap/fe/macros/notes/Notes.block","./fcl/FlexibleColumnLayoutActions.block","./filterBar/FilterBar.block","./form/Form.block","./form/FormContainer.block","./fpm/CustomFragment.block","./internal/ActionCommand.block","./internal/FilterField.block","./internal/HeaderDataPoint.block","./table/Table.block","./table/TreeTable.block","./valuehelp/ValueHelpFilterBar.block"],function(e,o,r,t,l,a,n,c,i,s,f,b,m,k){"use strict";const u=[i,c,f,l,s,t,a,n,o,b,m,k,r];function p(){for(const e of u){e.register()}}function F(){for(const e of u){e.unregister()}}e.addSemanticDateOperators();p();return{register:p,unregister:F}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/mdc/adapter/SelectionVariantToStateFilters", ["sap/fe/base/BindingToolkit","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DisplayModeFormatter","sap/fe/macros/CommonHelper","sap/fe/macros/filter/FilterFieldHelper","sap/fe/macros/filterBar/FilterHelper","sap/ui/mdc/enums/ConditionValidated","sap/ui/mdc/util/FilterUtil"],function(t,e,n,o,r,i,a,s,l){"use strict";var c=a.getConditions;var p=i.maxConditions;var u=o.ODATA_TYPE_MAPPING;var d=n.isPathAnnotationExpression;var f=e.getInvolvedDataModelObjects;var g=t.EDM_TYPE_MAPPING;const m=["$search","$editState"];function h(t,e){const n=e.createBindingContext(t);return n!==null?f(n).targetObject:undefined}function P(t,e,n){if(t.length!==1||t[0].operator!=="EQ"){return}const o=e.annotations.Common?.Text;if(o&&d(o)){const e=n.getSelectOption(o.path);if(e?.length===1&&e[0].Option==="EQ"&&e[0].Sign==="I"){t[0].values.push(e[0].Low.length>=1?e[0].Low:" ")}}if(t[0].values.length===1&&t[0].values[0]===""&&e.annotations.Common?.ValueListWithFixedValues?.valueOf()!==true){t[0].values.push(" ")}}const y={getStateFiltersFromSV:function(t,e,n,o,r){const{contextPath:i}=e;const a={};n.forEach(function(n){if(!m.includes(n.name)){let s=[];const{conditionPath:l,annotationPath:c}=n;const p=l.replaceAll("*","");const u=p.substring(0,p.lastIndexOf("/"));const d=p.substring(p.lastIndexOf("/")+1);const f={propertyName:d,navPath:u,propertyContextPath:`${i}${u?u+"/":""}`,propertyMetadata:n,selectionVariant:t,controlInfo:e};if(n.isParameter&&c){f.propertyContextPath=c.substring(0,c.lastIndexOf("/")+1);s=y._getConditionsForParameter(f)}else if(l.includes("/")){s=y._getConditionsForNavProperty(f)}else{s=y._getConditionsForProperty(f)}if(s.length>0){const e=h(c,r);if(e){if(e.annotations.Common?.ValueListWithFixedValues){s.forEach(y._adjustValueListWithFixedValuesCondition)}if(o){P(s,e,t)}}a[l]=s}}});return a},getStateToApply:(t,e)=>{const n=Object.keys(e).reduce((e,n)=>{const o=l.getPropertyByKey(t,n);if(o.hiddenFilter===undefined||!o.hiddenFilter){e.push({name:n})}return e},[]);return{filter:e,items:n}},_getPropertyFilterConfigurationSetting:function(t,e){return e?.[t]?.settings??{}},_getConditionsForParameter:function(t){let e=[];const{propertyMetadata:n,selectionVariant:o}=t;const r=n.name;const i=y._getSelectOptionName(o,r,true);if(i){e=y._getPropertyConditions(t,i,true)}return e},_getConditionsForProperty:function(t){const{propertyMetadata:e,selectionVariant:n}=t;const o=e.name;const r=y._getSelectOptionName(n,o);let i=[];if(r){i=y._getPropertyConditions(t,r,false)}return i},_getConditionsForNavProperty:function(t){const{controlInfo:e,selectionVariant:n,propertyName:o,navPath:r}=t;const{contextPath:i}=e;let a=[];let s=`${i.substring(1)}${r}`.replaceAll("/",".");let l=y._getSelectOptionName(n,o,false,s);if(!l){s=r.replaceAll("/",".");l=y._getSelectOptionName(n,o,false,s)}if(l){a=y._getPropertyConditions(t,l,false)}return a},_getSelectOptionName:function(t,e,n,o){const r=[];const i=t.getSelectOptionsPropertyNames();if(n){r.push(`$Parameter.${e}`);r.push(e);if(e.startsWith("P_")){r.push(`$Parameter.${e.slice(2,e.length)}`);r.push(e.slice(2,e.length))}else{r.push(`$Parameter.P_${e}`);r.push(`P_${e}`)}}else{r.push(e);r.push(`$Parameter.${e}`);if(e.startsWith("P_")){const t=e.slice(2,e.length);r.push(`$Parameter.${t}`);r.push(t)}else{const t=`P_${e}`;r.push(`$Parameter.${t}`);r.push(t)}}let a="";r.some(t=>{const e=o?`${o}.${t}`:t;return i.includes(e)?a=e:false});return a},_getMaxConditions(t){const{controlInfo:e,propertyContextPath:n,propertyName:o}=t;const{metaModel:r}=e;const i=`${n}${o}`;const a=r.createBindingContext(i);let s=0;if(a){s=p(o,{context:a})}return s},_getPropertyConditions:function(t,e,n){const{controlInfo:o,propertyMetadata:i,selectionVariant:a,propertyContextPath:s,propertyName:l}=t;const c=a.getSelectOption(e);const{metaModel:p}=o;const u=y._getMaxConditions(t);let d=[];if(c?.length&&u!==0){const e=y._getSemanticDateOperators(t,n);const o=s.substring(0,s.length-1);const a=n?["EQ"]:r.getOperatorsForProperty(l,o,p);d=this._getConditionsFromSelectOptions(c,i,a,e,u===1)}return d},_getSemanticDateOperators:function(t,e){const{controlInfo:n,propertyMetadata:o,propertyName:i,propertyContextPath:a}=t;const s=o.name;let l=[];const{useSemanticDateRange:c,filterFieldsConfig:p,metaModel:d}=n;if(c){if(e){l=["EQ"]}else{const t=a.substring(0,a.length-1),e=y._getPropertyFilterConfigurationSetting(s,p);l=r.getOperatorsForProperty(i,t,d,u[o.dataType],c,e)}}return l},_getConditionsFromSelectOptions:function(t,e,n,o,r){let i=[];if(t.length){i=r?y._addConditionFromSelectOption(e,n,o,i,t[0]):t.reduce(y._addConditionFromSelectOption.bind(null,e,n,o),i)}return i},_addConditionFromSelectOption:function(t,e,n,o,r){const{hasValueHelp:i,dataType:a}=t;const s=y._getEdmType(a);const l=c(r,s??a,!!i,e);if(r.SemanticDates&&n.length&&n.includes(r.SemanticDates.operator)){const t=y._addSemanticDatesToConditions(r.SemanticDates);if(Object.keys(t).length>0){o.push(t)}}else if(l){if(e.length===0||e.includes(l.operator)){o.push(l)}}return o},_addSemanticDatesToConditions:t=>{const e=[];if(t.high!==null){e.push(t.high)}if(t.low!==null){e.push(t.low)}return{values:e,operator:t.operator,isEmpty:undefined}},_getEdmType:t=>{const e=Object.fromEntries(Object.entries(g).map(t=>{let[e,n]=t;return[n.type,e]}));return e[t]},_adjustValueListWithFixedValuesCondition:t=>{t.validated=s.Validated;if(t.operator==="Empty"){t.operator="EQ";t.values=[""]}else if(t.operator==="NotEmpty"){t.operator="NE";t.values=[""]}delete t.isEmpty}};return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/mdc/adapter/StateFilterToSelectionVariant", ["sap/base/Log","sap/base/util/isEmptyObject","sap/fe/macros/filterBar/SemanticDateOperators","sap/fe/navigation/SelectionVariant","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/RangeOperator","sap/ui/mdc/odata/v4/TypeMap"],function(e,t,n,o,i,a,r){"use strict";const s={getSelectionVariantFromConditions:function(e,n,i){const a=new o;if(!t(e)){for(const t in e){const o=e[t];if(o?.length){const e=s.getSelectionOptionsFromCondition(o,t,n);if(e.length){const n=t.replace(/\*\//g,".");if(i?.includes(t)){a.massAddSelectOption(`$Parameter.${n}`,e)}a.massAddSelectOption(n,e)}}}}return a},compareSelectOptions:function(e,t){return e.Option===t.Option&&e.Sign===t.Sign&&e.Low===t.Low&&e.High===t.High},mergeSelectionVariants:function(e,t){const n=new o(e.toJSONString());const i=t.getSelectOptionsPropertyNames();const a=[];for(const e of i){const o=t.getSelectOption(e)||[];const i=n.getSelectOption(e)||[];if(!a.includes(e)){n.massAddSelectOption(e,o);a.push(e)}else{for(const e of o){if(!i.some(t=>s.compareSelectOptions(t,e))){i.push(e)}}n.massAddSelectOption(e,i)}}return n},getSelectionOptionsFromCondition:function(e,t,n){const o=[];for(const i of e){const e=s.getSelectionOption(i,t,n);if(e){o.push(e)}}return o},getSelectionOption:function(e,t,o){let r;let c;const p=e.operator&&e.operator!==""?i.getOperator(e.operator):undefined;if(p instanceof a){r=s.createSemanticDatesFromConditions(e);c=s.getOptionForPropertyWithRangeOperator(p,e,t,o)}else{const o=n.getSemanticDateOperations();if(o.includes(e.operator)){r=s.createSemanticDatesFromConditions(e)}c=s.getSelectionFormatForNonRangeOperator(e,t)}if(c?.Option){c.SemanticDates=r?r:undefined}return c},getSelectionFormatForNonRangeOperator:function(e,t){const[n,o]=e.values;return s.getSelectOption(e.operator,n!==undefined&&n!==null?n.toString():"",o!==undefined&&o!==null?o.toString():null,t)},getTypeInfoForFilterProperty:function(e,t){const n=t.getProperty(e);let o;if(n){o=n.typeConfig}return o},getOptionForPropertyWithRangeOperator:function(e,t,n,o){const i={Sign:"I",Option:"",Low:"",High:""};const a=s.getTypeInfoForFilterProperty(n,o);const c=e.getModelFilter(t,n,a?a.typeInstance:undefined,false,a?a.baseType:undefined);const p=c.getFilters();if(p===undefined){i.Sign=e.exclude?"E":"I";i.Low=r.externalizeValue(c.getValue1(),a?a.typeInstance:"string");i.High=r.externalizeValue(c.getValue2(),a?a.typeInstance:"string");i.Option=c.getOperator()??""}return i.Option!=""?i:undefined},getSelectOption:function(t,n,o,i){const a={Option:"",Sign:"I",Low:n,High:o};switch(t){case"Contains":a.Option="CP";a.Low=`*${a.Low}*`;break;case"StartsWith":a.Option="CP";a.Low+="*";break;case"EndsWith":a.Option="CP";a.Low=`*${a.Low}`;break;case"BT":case"LE":case"LT":case"GT":case"EQ":a.Option=t;break;case"DATE":a.Option="EQ";break;case"DATERANGE":a.Option="BT";break;case"FROM":a.Option="GE";break;case"TO":a.Option="LE";break;case"EEQ":a.Option="EQ";break;case"Empty":a.Option="EQ";a.Low="";break;case"NE":a.Sign="E";a.Option="EQ";break;case"NotContains":a.Option="CP";a.Sign="E";a.Low=`*${a.Low}*`;break;case"NOTBT":a.Option="BT";a.Sign="E";break;case"NotStartsWith":a.Option="CP";a.Low+="*";a.Sign="E";break;case"NotEndsWith":a.Option="CP";a.Low=`*${a.Low}`;a.Sign="E";break;case"NotEmpty":a.Option="EQ";a.Low="";a.Sign="E";break;case"NOTLE":a.Option="LE";a.Sign="E";break;case"NOTGE":a.Option="GE";a.Sign="E";break;case"NOTLT":a.Option="LT";a.Sign="E";break;case"NOTGT":a.Option="GT";a.Sign="E";break;default:e.warning(`${t} is not supported. ${i} could not be added to the Selection variant`)}if(a.Option!=="BT"){a.High=null}return a.Option!==""?a:undefined},createSemanticDatesFromConditions:function(e){if(!t(e)){return{high:e.values[0]!==undefined&&e.values[0]!==null?e.values[0]:null,low:e.values[1]!==undefined&&e.values[1]!==null?e.values[1]:null,operator:e.operator}}}};return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/mdc/adapter/StateHelper", ["sap/base/Log","sap/base/util/deepClone","sap/fe/core/templating/PropertyHelper","sap/fe/macros/filterBar/DraftEditState","sap/fe/macros/mdc/adapter/SelectionVariantToStateFilters","sap/fe/macros/mdc/adapter/StateFilterToSelectionVariant","sap/fe/navigation/SelectionVariant","sap/ui/mdc/p13n/StateUtil"],function(e,t,a,r,i,n,o,s){"use strict";const l={async getSelectionVariant(t){try{const e=await s.retrieveExternalState(t);const a=e.filter;let r=[];if(t?.getParent()?.isA("sap.fe.macros.filterBar.FilterBarAPI")&&t.getParent().getParameters!==undefined){r=t.getParent().getParameters()}const i=n.getSelectionVariantFromConditions(a,t.getPropertyHelper(),r);if(t?.isA("sap.ui.mdc.Chart")){const e=new o;const t=i._getSelectOptions();for(const a in t){e.massAddSelectOption(a.split("_fe_groupable_")[1],t[a])}return e}else{return i}}catch(a){const r=t?.getId();const i=a instanceof Error?a.message:String(a);e.error(`Building Block (${r}) - get selection variant failed : ${i}`);throw Error(i)}},async convertSelectionVariantToStateFilters(e,t,a,r){const n=await this._getSupportedFilterFields(e);if(!n.length){throw new Error("No valid metadata properties present for filter bar")}const o=this._getControlInfoForConversion(e);const s=r?.getMetaModel();const l=JSON.parse(JSON.stringify(n));const c=this._updatePropertyInfoToSupportSV(e,l);const p=i.getStateFiltersFromSV(t,o,c??l,a,s);return p},_getControlInfoForConversion(e){const t=e.getModel()?.getMetaModel(),a=e.data("entityType");if(e.isA("sap.fe.macros.controls.FilterBar")){const r=e.data("useSemanticDateRange")==="true"||e.data("useSemanticDateRange")===true,i=e.getModel("viewData"),n=i.getData(),o=n?.controlConfiguration,s=o?.["@com.sap.vocabularies.UI.v1.SelectionFields"],l=s?.filterFields;return{metaModel:t,contextPath:a,useSemanticDateRange:r,filterFieldsConfig:l,selectionFieldsConfigs:s}}else{return{metaModel:t,contextPath:a}}},async _getSupportedFilterFields(e){if(e.isA("sap.ui.mdc.Filterbar")){await e.waitForInitialization();return e.getControlDelegate().fetchFilterProperties(e)}else if(e.isA("sap.fe.macros.controls.FilterBar")){return e.getControlDelegate().fetchFilterProperties(e)}else{await e.awaitControlDelegate()}return e.getControlDelegate().fetchProperties(e)},async clearFilterValues(e){await this._clearFilterValuesWithOptions(e.content);e.fireEvent("afterClear")},async _clearFilterValuesWithOptions(e,a){if(!e){return}const i=await s.retrieveExternalState(e);let n="",o,l,c,p;if(e.isA("sap.ui.mdc.FilterBar")){n="$editState";l=r.ALL.id;o=t(i.filter[n]?.[0]);c=o?.values[0]===l;p=a&&Object.keys(a).length>0&&a.clearEditFilter}for(const e of Object.keys(i.filter)){if(!p&&e===n&&c){continue}for(const t of i.filter[e]){t.filtered=false}}await s.applyExternalState(e,{filter:i.filter});if(e.isA("sap.ui.mdc.FilterBar")){if(!p&&o&&!c){o.values=[l];await s.applyExternalState(e,{filter:{[n]:[o]}})}e.cleanUpAllFilterFieldsInErrorState()}},_updatePropertyInfoToSupportSV(e,t){if(e.isA("sap.ui.mdc.FilterBar")){return t}t.forEach(t=>{if(e.isA("sap.ui.mdc.Table")){t["conditionPath"]=t.name;t["annotationPath"]=t.metadataPath?t.metadataPath:"";t["hasValueHelp"]=a.hasValueHelp(e.getPropertyHelper().getProperty(t.name));t["dataType"]=t?.typeConfig?.className}else if(e.isA("sap.ui.mdc.Chart")){if(t.path){t["name"]=t.path;t["conditionPath"]=t.path;const r=e.getParent()?.getPropertyDataModel(t.path)?.targetObject;t["hasValueHelp"]=r?a.hasValueHelp(r):false;t["dataType"]=t?.typeConfig?.className||t.dataType}}});return t},async setSelectionVariantToMdcControl(t,a){let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;try{const n=await s.retrieveExternalState(t);if(!n.filter){e.error(`FE : setSelectionVariant API cannot be applied on : ${t?.getId()}`);return}const o=await this.convertSelectionVariantToStateFilters(t,a,r,t?.getModel());await this.clearFilterValues(t?.getParent());const l=await this._getSupportedFilterFields(t);const c=i.getStateToApply(l,o);if(t?.isA("sap.ui.mdc.Chart")){this.convertConditionsForChart(c)}return await s.applyExternalState(t,c)}catch(a){const r=t?.getId();const i=a instanceof Error?a.message:String(a);e.error(`FE : BuildingBlock (${r}) - set selection variant failed  : ${i}`);throw Error(i)}},convertConditionsForChart(e){for(const t in e.filter){delete Object.assign(e.filter,{["_fe_groupable_"+t]:e.filter[t]})[t]}e.items.forEach(e=>{e.name="_fe_groupable_"+e.name})}};return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/mdx-runtime/useMDXComponents", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/base/jsx-runtime/ViewLoader","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/macros/macroLibrary","sap/m/FormattedText","sap/m/HBox","sap/m/Page","sap/m/Panel","sap/m/Title","sap/ui/codeeditor/CodeEditor","sap/ui/core/Component","sap/ui/core/Fragment","sap/ui/core/library","sap/ui/core/util/XMLPreprocessor","sap/fe/base/jsx-runtime/jsx"],function(e,t,n,r,i,a,s,o,c,l,u,d,p,h,m,f){"use strict";var g=h.TitleLevel;var y=r.parseXMLString;var x=t.createReference;function b(e){const t=Array.isArray(e.children)?e.children.map(e=>{let t;if(typeof e==="string"){t=e}else{switch(e.getMetadata().getName()){case"sap.m.Link":t=`<a href="${e.getHref()}">${e.getText()}</a>`;break;case"sap.ui.codeeditor.CodeEditor":t=`<code>${e.getValue()}</code>`;break}}return t}).join(""):e.children;return f(a,{htmlText:t,class:"sapUiTinyMarginBottom"})}function T(e){return f(o,{class:"sapUiContentPadding",children:{content:e.children}})}function B(e){return f(l,{text:e.children,level:g.H1,class:"sapUiTinyMarginBottom"})}function M(e){return`<a href={strValue.href}>${e.children}</a>`}function C(e){const t=`<ul>${Array.isArray(e.children)?e.children.join(""):e.children}</ul>`;return f(a,{htmlText:t})}function L(e){return`<li>${Array.isArray(e.children)?e.children.join(""):e.children}</li>`}function j(e){return f(l,{text:e.children,level:g.H2,class:"sapUiSmallMarginTop sapUiTinyMarginBottom"})}function k(e){return e.children}function v(t){const r=x();const a=t.binding?{path:t.binding}:undefined;const o=f(c,{headerText:t.headerText||"",class:"sapUiSmallMarginTop",children:f(s,{ref:r})});if(a){o.bindElement(a)}i.register();const l=m.process(y(`<root>${t.children}</root>`,true)[0],{name:"myBuildingBlockFragment"},n.preprocessorData);Promise.resolve(l).then(async e=>{const t=d.getOwnerComponentFor(o)??{getRootControl:()=>undefined};return p.load({definition:e.firstElementChild,containingView:t.getRootControl()})}).then(e=>{r.current?.removeAllItems();r.current?.addItem(e);return}).catch(t=>{e.error(t)});return o}function A(e){const t=e.children?.trim()||"";const n=e.lineCount||Math.max(t.split("\n")?.length,3);const r=e.type||e?.className?.split("-")[1]||"js";const i=f(u,{class:"sapUiTinyMargin",lineNumbers:e.lineNumbers||false,type:r,editable:e.editable||false,maxLines:n,height:"auto",width:"98%"});i.setValue(t);if(e.source){fetch(e.source).then(async e=>e.text()).then(t=>{let n=t.split("\n");if(e.start){n=n.slice(e.start-1,e.end)}const r=Math.max(n.length,3);i.setMaxLines(r);i.setValue(n.join("\n"));return}).catch(e=>{i.setValue(e.message)})}return i}const P=function(){return{wrapper:T,p:b,a:M,h1:B,h2:j,ul:C,li:L,pre:k,code:A,CodeBlock:A,BuildingBlockPlayground:v}};return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/messages/MessageButton", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/helpers/ResourceModelHelper","sap/fe/macros/messages/MessagePopover","sap/m/Button","sap/m/ColumnListItem","sap/m/FormattedText","sap/m/library","sap/ui/core/CustomData","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/Messaging","sap/ui/core/message/MessageType","sap/ui/core/mvc/View","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter","sap/ui/thirdparty/jquery","./MessageButtonHelper"],function(e,t,n,i,o,s,r,a,g,l,c,u,f,d,h,p,T,b,m,jQuery,_){"use strict";var E,C,I,P,S,y,M;var A=l.ButtonType;var x=o.getResourceModel;var O=t.event;var w=t.defineUI5Class;var R=t.aggregation;function B(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,G(e,t)}function G(e,t){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},G(e,t)}function L(e,t,n,i,o){var s={};return Object.keys(i).forEach(function(e){s[e]=i[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer?(Object.defineProperty(e,t,s),null):s}function N(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let F=(E=w("sap.fe.macros.messages.MessageButton"),C=R({type:"sap.fe.macros.messages.MessageFilter",multiple:true,singularName:"customFilter"}),I=O(),E(P=(S=function(t){function o(e,n){var i;i=t.call(this,e,n)||this;B(i,"customFilters",y,i);B(i,"messageChange",M,i);i.sGeneralGroupText="";i.sViewId="";i.sLastActionText="";return i}v(o,t);var l=o.prototype;l.init=function e(){r.prototype.init.apply(this);this.isHiddenDraftEnabled=n.getAppComponent(this)?.getEnvironmentCapabilities()?.getCapabilities()?.HiddenDraft?.enabled;this.attachPress(this.handleMessagePopoverPress,this);this.oMessagePopover=new s;this.oItemBinding=this.oMessagePopover.getBinding("items");this.oItemBinding.attachChange(this._setMessageData,this);const t=this.getId();if(t){this.oMessagePopover.addCustomData(new c({key:"messageButtonId",value:t}))}this.attachModelContextChange(this._applyFiltersAndSort.bind(this));this.oMessagePopover.attachActiveTitlePress(this._activeTitlePress.bind(this))};l.handleMessagePopoverPress=function e(t){this.oMessagePopover.toggle(t.getSource())};l._applyGroupingAsync=async function t(n){const o=[];const s=n.getBindingContext();const r=e=>{const t=[];const n=this.oItemBinding.getContexts().map(function(e){return e.getObject()});const o=e.getBindingContext();if(o){const s=e.getContent()[0];i.getVisibleSectionsFromObjectPageLayout(s).forEach(function(e){e.getSubSections().forEach(function(e){e.findElements(true).forEach(function(i){if(i.isA("sap.ui.mdc.Table")){for(let s=0;s<n.length;s++){const r=i.getRowBinding();if(r){const r=`${o.getPath()}/${i.getRowBinding().getPath()}`;if(n[s].target.indexOf(r)===0){t.push({table:i,subsection:e});break}}}}})})})}return t};const a=r.bind(this)(n);a.forEach(function(e){const t=e.table,n=e.subsection;if(!t.getBindingContext()||t.getBindingContext()?.getPath()!==s?.getPath()){n.setBindingContext(s);if(!t.getRowBinding().isLengthFinal()){o.push(new Promise(function(e){t.getRowBinding().attachEventOnce("dataReceived",function(){e()})}))}}});const g=new Promise(e=>{setTimeout(()=>{this._applyGrouping();e()},0)});try{await Promise.all(o);n.getModel().checkMessages();await g}catch(t){e.error("Error while grouping the messages in the messagePopOver")}};l._applyGrouping=function e(){this.oObjectPageLayout=this._getObjectPageLayout(this,this.oObjectPageLayout);if(!this.oObjectPageLayout){return}const t=this.oMessagePopover.getItems();const n=i.getVisibleSectionsFromObjectPageLayout(this.oObjectPageLayout);const o=this._checkControlIdInSections(t,false);if(o){this._fnEnableBindings(n)}const s=this._getViewId(this.getId());const r=u.getElementById(s);const a=r?.getModel("internal");a?.setProperty("/messageTargetProperty",undefined)};l._getTableRefErrorContext=function e(t){const n=t.getModel("internal");if(!t.getBindingContext("internal")?.getProperty("refError")){n.setProperty("refError",{},t.getBindingContext("internal"))}const i=t.getBindingContext("internal")?.getPath()+"/refError/"+t.getBindingContext()?.getPath().replace("/","$")+"$"+t.getRowBinding().getPath().replace("/","$");const o=n.getContext(i);if(!o.getProperty("")){n.setProperty("",{},o)}return o};l._updateInternalModel=function e(t,n,i,o,s,r){let a;if(r){a={rowIndex:"CreationRow",targetColProperty:i?i:""}}else{a={rowIndex:t?n:"",targetColProperty:i?i:""}}const g=o.getModel("internal"),l=this._getTableRefErrorContext(o);const c=d.getMessageModel().getData().map(function(e){return e.getId()});let u;if(l?.getProperty("")){u=Object.keys(l?.getProperty("")).filter(function(e){return c.indexOf(e)===-1});u.forEach(function(e){delete l?.getProperty("")[e]})}g?.setProperty(s.getId(),Object.assign({},l?.getProperty(s.getId())?l.getProperty(s.getId()):{},a),l)};l._setGroupLabelForTransientMsg=function e(t,n){this.sLastActionText=this.sLastActionText?this.sLastActionText:f.getResourceBundleFor("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_LAST_ACTION");t.setGroupName(`${this.sLastActionText}: ${n}`)};l._computeMessageGroupAndSubTitle=function e(t,n,o,s,r,a){const g=x(n);this.oItemBinding.detachChange(this._setMessageData,this);const l=t.getBindingContext("message")?.getObject();const c=true;let f,d,h={},p,T,b,m;const _=new RegExp("^/").test(l?.getTargets()[0]);if(_){for(p=0;p<s.length;p++){f=s[p];b=f;if(f.isA("sap.m.Table")||f.isA("sap.ui.table.Table")){d=f.getParent();const e=d.getRowBinding();const n=()=>{this._setGroupLabelForTransientMsg(t,a)};if(e&&e.isLengthFinal()&&d.getBindingContext()){const o=i.getTableColumnDataAndSetSubtile(l,d,f,e,a,c,n);h=o.oTargetTableInfo;if(o.subTitle){t.setSubtitle(o.subTitle)}t.setActiveTitle(!!h.oTableRowContext&&!h.oTableRowContext?.isInactive()&&h.oTableRowContext.getPath()!==t.getBindingContext("message")?.getProperty("target").replace(/\/$/,""));if(h.oTableRowContext&&!h.oTableRowContext.isInactive()){this._formatMessageDescription(t,h.oTableRowContext,h.sTableTargetColName,d)}T=h.oTableRowContext&&h.oTableRowContext.getIndex();this._updateInternalModel(h.oTableRowContext,T,h.sTableTargetColProperty,d,l)}}else{t.setActiveTitle(true);if(t.getSubtitle()===""){let e;let n=b.getParent();while(n){if(n&&n.isA("sap.ui.layout.form.FormElement")){e=n;break}n=n.getParent()}if(e){t.setSubtitle(e.getLabel())}}const e=i.bIsOrphanElement(b,s);if(e){break}}}}else{b=s[0];d=this._getMdcTable(b);h={};if(d){h.tableHeader=d.getHeader();const e=this._getTableColumnIndex(b);h.sTableTargetColProperty=e!==undefined&&e>-1?d.getColumns()[e].getPropertyKey():undefined;h.sTableTargetColName=h.sTableTargetColProperty&&e!==undefined&&e>-1?d.getColumns()[e].getHeader():undefined;m=this._getTableRow(b)?.isA("sap.ui.table.CreationRow")??false;if(!m){T=this._getTableRowIndex(b);h.oTableRowBindingContexts=d.getRowBinding().getCurrentContexts();h.oTableRowContext=T!==undefined?h.oTableRowBindingContexts[T]:undefined}const n=i.getMessageSubtitle(l,h.oTableRowBindingContexts,h.oTableRowContext,h.sTableTargetColName,d,m,e===0&&b.getValueState()==="Error"?b:undefined);if(n){t.setSubtitle(n)}t.setActiveTitle(!!h.oTableRowContext);if(h.oTableRowContext){this._formatMessageDescription(t,h.oTableRowContext,h.sTableTargetColName,d)}this._updateInternalModel(h.oTableRowContext,T,h.sTableTargetColProperty,d,l,m)}}if(c){const e=this._checkMergeLogicForMessageGrouping(n,o,r);const s=i.createSectionGroupName(n,o,r,h,g,e);t.setGroupName(s);const a=this._getViewId(this.getId());const c=u.getElementById(a);const f=l.getTargets()[0]&&l.getTargets()[0].split("/").pop();const d=c?.getModel("internal");if(d&&d.getProperty("/messageTargetProperty")&&f&&f===d.getProperty("/messageTargetProperty")){this.oMessagePopover.fireActiveTitlePress({item:t});d.setProperty("/messageTargetProperty",false)}}this.oItemBinding.attachChange(this._setMessageData,this);return b};l._checkMergeLogicForMessageGrouping=function e(t,n,i){const o=this._getViewId(this.getId());const s=o?u.getElementById(o):undefined;let r=true;const a=!i&&s?.getViewData()?.sectionLayout==="Page";const g=i&&s?.getViewData()?.sectionLayout==="Tabs";if(a){const e=n.getBlocks();const t=e.length===1?e[0].getAggregation("content"):undefined;if(t?.isA("sap.fe.macros.table.TableAPI")){r=false}}else if(g){let e;const t=n.getBlocks();if(t.length===1&&t[0]?.isA("sap.fe.templates.ObjectPage.controls.SubSectionBlock")){e=t[0].getAggregation("content");if(e?.isA("sap.fe.macros.table.TableAPI")){r=false}else if(e?.isA("sap.ui.layout.DynamicSideContent")){e=e.getMainContent instanceof Function&&e?.getMainContent();if(e&&e.length===1&&e[0]?.isA("sap.fe.macros.table.TableAPI")){r=false}}}}return r};l._checkControlIdInSections=function e(t,n){let o,s,r,a,g,l;this.sGeneralGroupText=this.sGeneralGroupText?this.sGeneralGroupText:f.getResourceBundleFor("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_GENERAL");const c=i.getVisibleSectionsFromObjectPageLayout(this.oObjectPageLayout);if(c){const e=this._getViewId(this.getId());const f=e?u.getElementById(e):undefined;const d=f?.getBindingContext("internal")?.getProperty("sActionName");if(d){(f?.getBindingContext("internal")).setProperty("sActionName",null)}for(a=t.length-1;a>=0;--a){r=t[a];let e=true;for(g=c.length-1;g>=0;--g){let t=false;o=c[g];s=o.getSubSections();for(l=s.length-1;l>=0;--l){const n=s[l];const a=r?.getBindingContext("message")?.getObject();this.sGeneralGroupText=this._getGeneralGroupText(f,a);const g=i.getControlFromMessageRelatingToSubSection(n,a);if(g.length>0){const i=this._computeMessageGroupAndSubTitle(r,o,n,g,s.length>1,d);e=false;if(i&&!i.isA("sap.m.Table")&&!i.isA("sap.ui.table.Table")){t=true;break}}}if(t){break}}if(e){const e=r.getBindingContext("message")?.getObject();if(this.isHiddenDraftEnabled){r.setActiveTitle(true)}else{r.setActiveTitle(false)}if(e.persistent&&d){this._setGroupLabelForTransientMsg(r,d)}else{r.setGroupName(this.sGeneralGroupText)}}if(!n&&r.getGroupName()===this.sGeneralGroupText&&this._findTargetForMessage(r)){return true}}}};l._getGeneralGroupText=function e(t,n){const i=t?.getBindingContext()?.getPath();const o=n?.getTargets()[0];if(this.isHiddenDraftEnabled&&i&&!o.includes(i)){return f.getResourceBundleFor("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_OTHER_PAGES")}else{return f.getResourceBundleFor("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_GENERAL")}};l._findTargetForMessage=function e(t){const n=t.getBindingContext("message")&&t.getBindingContext("message")?.getObject();if(n&&n.target){const e=this.oObjectPageLayout?.getModel()?.getMetaModel(),t=e&&e.getMetaPath(n.target),i=e&&e.getObject(t);if(i&&i.$kind==="Property"){return true}}return false};l._fnEnableSubSectionBinding=function e(t){t.getBlocks().forEach(e=>e.setBindingContext(undefined));t.getMoreBlocks().forEach(e=>e.setBindingContext(undefined));t.getActions().forEach(e=>e.setBindingContext(undefined))};l._fnEnableBindings=function e(t){for(let e=0;e<t.length;e++){const n=t[e];const i=n.getSubSections();for(let e=0;e<i.length;e++){const t=i[e];const n=t.getBlocks();if(n){this._fnEnableSubSectionBinding(t)}if(t.getBindingContext()){this._findMessageGroupAfterRebinding();t.getBindingContext().getBinding().attachDataReceived(this._findMessageGroupAfterRebinding.bind(this))}}}};l._findMessageGroupAfterRebinding=function e(){const t=this.oMessagePopover.getItems();this._checkControlIdInSections(t,true)};l._getViewId=function e(t){let n,i=u.getElementById(t);while(i){if(i instanceof p){n=i.getId();break}i=i.getParent()}return n};l._setLongtextUrlDescription=function t(n){this.oMessagePopover.setAsyncDescriptionHandler(function(t){const i=t.item.getLongtextUrl();if(i){jQuery.ajax({type:"GET",url:i,success:function(e){const i=n.getHtmlText()+e;const o=t.item.getDescription()??"";t.item.setDescription(`${o}${i}`);t.promise.resolve()},error:function(){const n=`A request has failed for long text data. URL: ${i}`;e.error(n);t.promise.reject(n)}})}})};l.processTableColumnProperties=function e(t,n,o){let s="";const r=i.getTableColBindingContextForTextAnnotation(t,n,o);const a=r?r.getObject("$Path"):undefined;const g=a&&r?r.getObject("@com.sap.vocabularies.UI.v1.TextArrangement/$EnumMember"):undefined;const l=t.getParent()?.getTableColValue(n,a,g,o);s+=`${l}`;return s};l.computeColumnInfo=function e(t,n,o,s){const r=x(s);const a=t.getBindingContext("message")?.getObject();const g=i.fetchColumnInfo(a,s);let l="";if(n){l=`${r.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_COLUMN")}: ${n}`}else if(g){if(g.availability==="Hidden"){if(t.getType()==="Error"){l=o.length>0?`${r.getText("T_COLUMN_AVAILABLE_DIAGNOSIS_MSGDESC_ERROR")} ${o.join(", ")}`+".":`${r.getText("T_COLUMN_AVAILABLE_DIAGNOSIS_MSGDESC_ERROR")}`+"."}else{l=o.length>0?`${r.getText("T_COLUMN_AVAILABLE_DIAGNOSIS_MSGDESC")} ${o.join(", ")}`+".":`${r.getText("T_COLUMN_AVAILABLE_DIAGNOSIS_MSGDESC")}`+"."}}else{if(!this._navigationConfigured(s)){t.setActiveTitle(false)}l=`${r.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_COLUMN")}: ${g.label} (${r.getText("T_COLUMN_INDICATOR_IN_TABLE_DEFINITION")})`}}return l};l._formatMessageDescription=function e(t,n,i,o){const s=x(o);const r=o.getParent()?.getTableColumnVisibilityInfo(n);const a=[];r?.forEach(e=>{let{key:t,visibility:i}=e;a.push(this.processTableColumnProperties(o,n,[{key:t,visibility:i}]))});const l=this.computeColumnInfo(t,i,a,o);const c=new g({htmlText:`<html><body><strong>${s.getText("T_FIELDS_AFFECTED_TITLE")}</strong></body></html><br>`});let u;if(Array.isArray(a)&&a.length>0){if(a.length===1){u=`${c.getHtmlText()}<br>${s.getText("T_MESSAGE_GROUP_TITLE_TABLE_DENOMINATOR")}: ${o.getHeader()}<br>${s.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW")}: ${a}<br>${l}<br>`}else{u=`${c.getHtmlText()}<br>${s.getText("T_MESSAGE_GROUP_TITLE_TABLE_DENOMINATOR")}: ${o.getHeader()}<br>${s.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW")}:<br>&emsp; ${a.join("<br>&emsp; ")}<br>${l}<br>`}}else if(l==""||!l){u=""}else{u=`${c.getHtmlText()}<br>${s.getText("T_MESSAGE_GROUP_TITLE_TABLE_DENOMINATOR")}: ${o.getHeader()}<br>${l}<br>`}const f=new g({htmlText:`<html><body><strong>${s.getText("T_DIAGNOSIS_TITLE")}</strong></body></html><br>`});const d=t.getBindingContext("message")?.getObject().description;t.setDescription(undefined);let h="";let p="";if(t.getLongtextUrl()){p=u?`${u}<br>`:"";t.setDescription(p);this._setLongtextUrlDescription(f)}else if(d){h=`${f.getHtmlText()}<br>${d}`;p=`${u}<br>${h}`;t.setDescription(p)}else{t.setDescription(u)}};l.handleNoMessages=function e(){this.setVisible(false);this.fireEvent("messageChange",{iMessageLength:0});const t=u.getElementById(this.sViewId);if(t){t.getModel("internal").setProperty("/messageTargetProperty",undefined)}};l._setMessageData=function t(){clearTimeout(this._setMessageDataTimeout);this._setMessageDataTimeout=setTimeout(async()=>{const t="",n=this.oMessagePopover.getItems(),i={Error:0,Warning:0,Success:0,Information:0},o=f.getResourceBundleFor("sap.fe.core"),s=n.length;let r=A.Default,a="",g="",l="";if(s>0){for(let e=0;e<s;e++){if(!n[e].getType()||n[e].getType().toString()===""){++i["Information"]}else{++i[n[e].getType()]}}if(i[h.Error]>0){r=A.Negative}else if(i[h.Warning]>0){r=A.Critical}else if(i[h.Success]>0){r=A.Success}else if(i[h.Information]>0){r=A.Neutral}const c=i[h.Error]+i[h.Warning]+i[h.Success]+i[h.Information];this.setText(c.toString());if(i.Error===1){a="C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_TITLE_ERROR"}else if(i.Error>1){a="C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_MULTIPLE_ERROR_TOOLTIP"}else if(!i.Error&&i.Warning){a="C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_WARNING_TOOLTIP"}else if(!i.Error&&!i.Warning&&i.Information){a="C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_INFO"}else if(!i.Error&&!i.Warning&&!i.Information&&i.Success){a="C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_SUCCESS"}if(a){l=o.getText(a);g=i.Error?`${i.Error} ${l}`:l;this.setTooltip(g)}this.setIcon(t);this.setType(r);this.setVisible(true);const f=u.getElementById(this.sViewId);if(f){const t=f.getController().pageReady;try{await t.waitPageReady();await this._applyGroupingAsync(f)}catch(t){e.error("fail grouping messages")}this.fireEvent("messageChange",{iMessageLength:s})}if(s>1){this.oMessagePopover.navigateBack()}}else{this.handleNoMessages()}},100)};l._activeTitlePress=async function t(n){const o=this.getBindingContext("pageInternal");o.setProperty("errorNavigationSectionFlag",true);const s=n.getParameter("item"),r=s?.getBindingContext("message")?.getObject(),a=new RegExp("^/").test(r.getTargets()[0]),g=u.getElementById(this.sViewId);if(!s){return}let l,c;const f=function(e,t){const n={preventScroll:true,targetInfo:e};t.focus(n)};let d=true;let h,p,T,b,m,_;const E=i.getVisibleSectionsFromObjectPageLayout(this.oObjectPageLayout);if(E){const e=this.oMessagePopover.getItems();for(b=e.length-1;b>=0;--b){T=e[b];for(m=E.length-1;m>=0;--m){h=E[m];p=h.getSubSections();for(_=p.length-1;_>=0;--_){const e=p[_];const t=T?.getBindingContext("message")?.getObject();const n=i.getControlFromMessageRelatingToSubSection(e,t);if(n.length>0){d=false}}}}}const C=r.controlIds.map(e=>{const t=u.getElementById(e);const n=t&&t.getParent();if(this.isHiddenDraftEnabled){return n?.isA("sap.ui.mdc.Table")?n:undefined}return n&&n.isA("sap.ui.mdc.Table")&&s.getGroupName().includes(n.getHeader())?n:null}).reduce(function(e,t){return t?t:e});if(C){if(a){c=s.getGroupName().split(", ")[0];try{if(this.isHiddenDraftEnabled&&(C.getId()!==this.sViewId||d)){const e=this._getViewId(C.getId());u.getElementById(e).getController()._routing.navigateToContext(C.getBindingContext())}else{await this._navigateFromMessageToSectionTableInIconTabBarMode(C,this.oObjectPageLayout,c)}const t=this._getTableRefErrorContext(C);const n=t?.getProperty(s.getBindingContext("message")?.getObject().getId());const i=async(e,t)=>{const n=this._getMdcTableRows(e),i=this._getGridTable(e)?.getFirstVisibleRow()??0;if(n.length>0&&n[0]){const o=n[t-i],s=this.getTargetCell(o,r);if(s){this.setFocusToControl(s);return undefined}else{const t=r.getTargets()[0].split("/").pop();if(t){g.getModel("internal").setProperty("/messageTargetProperty",t)}if(this._navigationConfigured(e)){return g.getController()._routing.navigateForwardToContext(o.getBindingContext())}else{return false}}}return undefined};if(C.data("tableType")==="GridTable"&&n.rowIndex!==""){try{await C.scrollToIndex(n.rowIndex);setTimeout(async function(){const e=await i(C,n.rowIndex);if(e===false){f(r,C)}},0)}catch(t){e.error("Error while focusing on error")}}else if(C.data("tableType")==="ResponsiveTable"&&n){const e=await this.focusOnMessageTargetControl(g,r,C,n.rowIndex);if(e===false){f(r,C)}}else{this.focusOnMessageTargetControl(g,r)}}catch(t){e.error("Fail to navigate to Error control")}}else{l=u.getElementById(r.controlIds[0]);if(l){const e=this.oObjectPageLayout.getSections();const t=e.find(e=>e.findElements(true).includes(l));if(t){c=s.getGroupName().split(", ")[0];this._navigateFromMessageToSectionInIconTabBarMode(this.oObjectPageLayout,c)}}this.setFocusToControl(l)}}else{this.handleMessageNavigation(s,E,r,g)}};l.handleMessageNavigation=function e(t,n,i,o){const s=u.getElementById(i.getControlIds()[0]);const r=this.findSubSection(t,n,s);if(r){r.setMode("Expanded")}const a=t.getGroupName().split(", ")[0];this._navigateFromMessageToSectionInIconTabBarMode(this.oObjectPageLayout,a);this.focusOnMessageTargetControl(o,i)};l.findSubSection=function e(t,n,i){const o=t.getGroupName().split(", ");return this.findSubSectionByTitleOrControl(n,o[1],i)};l.findSubSectionByTitleOrControl=function e(t,n,i){for(const e of t){for(const t of e.getSubSections()){if(t.getTitle()===n){return t}if(t.getMoreBlocks().some(e=>e.getContent()?.findElements(true).includes(i))){return t}}}return null};l.getTargetCell=function e(t,n){const i=n.getControlIds();const o=i.some(e=>{const t=u.getElementById(e);return t?.isA("sap.ui.mdc.Field")&&t.getEditable&&!t.getEditable()});return i.length>0?i.map(function(e){const n=t.findElements(true,function(t){return t.getId()===e});if(n.length>0){const t=u.getElementById(e);if(o){if(t?.isA("sap.ui.mdc.Field")){if(t.getEditable&&!t.getEditable()){return null}return t}}else{return t}}return null}).reduce(function(e,t){return t?t:e},null):null};l.focusOnMessageTargetControl=async function e(t,n,i,o){const s=t.findElements(true);const r=n.getControlIds().filter(function(e){return s.some(function(t){return t.getId()===e&&t.getDomRef()})}).map(function(e){return u.getElementById(e)});const g=r.filter(function(e){return!e?.isA("sap.m.Table")&&!e?.isA("sap.ui.table.Table")});if(g.length>0){this.setFocusToControl(g[0]);return undefined}else if(r.length>0){const e=i?i.findElements(true,e=>e.isA(a.getMetadata().getName())&&e.getParent()?.getParent()===i):[];if(e.length>0&&e[0]){const s=e[o];const r=this.getTargetCell(s,n);if(r){const e=r.isA("sap.fe.macros.Field")?r.getContent().getContentEdit()[0]:r.getItems()[0].getContent().getContentEdit()[0];this.setFocusToControl(e);return undefined}else{const e=n.getTargets()[0].split("/").pop();if(e){t.getModel("internal").setProperty("/messageTargetProperty",e)}if(i&&this._navigationConfigured(i)){return t.getController()._routing.navigateForwardToContext(s.getBindingContext())}else{return false}}}return undefined}return undefined};l._getMessageRank=function e(t,n){if(n){let e,i,o,s,r,a,g,l;for(s=n.length-1;s>=0;--s){e=n[s];i=e.getSubSections();for(r=i.length-1;r>=0;--r){o=i[r];g=o.findElements(true);a=g.filter(this._fnFilterUponId.bind(this,t.getControlId()));l=s+1;if(a.length>0){if(e.getVisible()&&o.getVisible()){if(!t.hasOwnProperty("sectionName")){t.sectionName=e.getTitle()}if(!t.hasOwnProperty("subSectionName")){t.subSectionName=o.getTitle()}return l*10+(r+1)}else{return 1}}}}if(!t.sectionName&&!t.subSectionName&&t.getPersistent()){return 1}return 999}return 999};l._filterOutMessagesInDialog=function e(){const t=e=>i.isMessageOutOfParameterDialog(e);return new T({path:"controlIds",test:t,caseSensitive:true})};l._getFilterToHideBackendMessageOnErrorValidation=function e(){const t=function(){return d.getMessageModel().getData().filter(e=>e.validation===true&&e.getControlId()?.match(/field.*-inner$/i)).map(e=>e.getControlId()?.replace("-inner",""))};const n=function(e){return!e.some(e=>t().includes(e))};return new T({filters:[new T({filters:[new T({path:"validation",operator:b.EQ,value1:false}),new T({path:"controlIds",test:n,caseSensitive:true})],and:true}),new T({path:"validation",operator:b.EQ,value1:true})],and:false})};l._applyFiltersAndSort=async function e(){let t,n,i,o,s,r,a,g;const l=[];this.sViewId=this.sViewId?this.sViewId:this._getViewId(this.getId());const c=this.getAggregation("customFilters");if(c){c.forEach(function(e){l.push(new T({path:e.getProperty("path"),operator:e.getProperty("operator"),value1:e.getProperty("value1"),value2:e.getProperty("value2")}))})}const f=this.getBindingContext();if(!f){this.setVisible(false);return}else{s=f.getPath();t=new T({filters:[new T({path:"validation",operator:b.EQ,value1:true}),_.getCheckControlInViewFilter(this.sViewId)],and:true});a=new T({filters:[this._filterOutMessagesInDialog()]});let e;if(this.isHiddenDraftEnabled){const t=this._getViewId(this.getId());const i=u.getElementById(t);const o=i?.getBindingContext();const s=(await(i.getController()?.editFlow.getRootContext(o)))?.getPath();n=_.getHiddenDraftUseCaseFilter(s);e=[n,a,this._getFilterToHideBackendMessageOnErrorValidation()]}else{i=new T({filters:[t,new T({path:"target",operator:b.StartsWith,value1:s})],and:false});e=[i,a,this._getFilterToHideBackendMessageOnErrorValidation()]}const c=new T({filters:e,and:true});if(l.length>0){o=new T({filters:[l,c],and:false})}else{o=c}this.oItemBinding.filter(o);this.oObjectPageLayout=this._getObjectPageLayout(this,this.oObjectPageLayout);if(this.oObjectPageLayout){r=new m("",undefined,undefined,(e,t)=>{if(!g){g=this.oObjectPageLayout&&this.oObjectPageLayout.getSections()}const n=this._getMessageRank(e,g);const i=this._getMessageRank(t,g);if(n<i){return-1}if(n>i){return 1}return 0});this.oItemBinding.sort(r)}}};l._fnFilterUponId=function e(t,n){return t===n.getId()};l._getSectionBySectionTitle=function e(t,n){let i;if(n){const e=t.getSections();for(let t=0;t<e.length;t++){if(e[t].getVisible()&&e[t].getTitle()===n){i=e[t];break}}}return i};l._navigateFromMessageToSectionInIconTabBarMode=function e(t,n){const i=t.getUseIconTabBar();if(i){const e=this._getSectionBySectionTitle(t,n);const i=t.getSelectedSection();if(e&&i!==e.getId()){t.setSelectedSection(e.getId())}}};l._navigateFromMessageToSectionTableInIconTabBarMode=async function e(t,n,i){const o=t.getRowBinding();const s=t.getBindingContext();const r=n.getBindingContext();const a=!(s===r);this._navigateFromMessageToSectionInIconTabBarMode(n,i);return new Promise(function(e){if(a){o.attachEventOnce("change",function(){e()})}else{e()}})};l._getMdcTable=function e(t){let n=t.getParent();while(n&&!n.isA("sap.ui.mdc.Table")){n=n.getParent()}return n&&n.isA("sap.ui.mdc.Table")?n:undefined};l._getGridTable=function e(t){return t.findElements(true,function(e){return e.isA("sap.ui.table.Table")&&e.getParent()===t})[0]};l._getTableRow=function e(t){let n=t.getParent();while(n&&!n.isA("sap.ui.table.Row")&&!n.isA("sap.ui.table.CreationRow")&&!n.isA(a.getMetadata().getName())){n=n.getParent()}return n&&(n.isA("sap.ui.table.Row")||n.isA("sap.ui.table.CreationRow")||n.isA(a.getMetadata().getName()))?n:undefined};l._getTableRowIndex=function e(t){const n=this._getTableRow(t);let i;if(n?.isA("sap.ui.table.Row")){i=n.getIndex()}else{i=n?.getTable?.().getItems().findIndex(function(e){return e.getId()===n?.getId()})}return i??-1};l._getTableColumnIndex=function e(t){const n=function(e,t){return t?.getCells().findIndex(function(t){return t.getId()===e.getId()})};const i=function(e,t){let i=e.getParent(),o=n(i,t);while(i&&o&&o<0){i=i.getParent();o=n(i,t)}return o};const o=this._getTableRow(t);let s=i(t,o);if(o?.isA("sap.ui.table.CreationRow")){const e=s?o.getCells()[s].getId():undefined,t=o.getTable()?.getColumns();s=t?.findIndex(function(t){if(t.getCreationTemplate()&&e){return e.search(t.getCreationTemplate().getId())>-1?true:false}else{return false}})}return s};l._getMdcTableRows=function e(t){return t.findElements(true,function(e){return e.isA("sap.ui.table.Row")&&e.getTable?.().getParent()===t})};l._getObjectPageLayout=function e(t,n){if(n){return n}let i=t;while(i&&!i.isA("sap.uxap.ObjectPageLayout")){i=i.getParent()??undefined}return i};l._navigationConfigured=function e(t){const n=sap.ui.require("sap/ui/core/Component"),i=t&&n.getOwnerComponentFor(t)&&n.getOwnerComponentFor(t).getNavigation();let o=false,s=false;if(i&&Object.keys(i).includes(t.getRowBinding().getPath())){o=i[t?.getRowBinding().getPath()]&&i[t?.getRowBinding().getPath()].detail&&i[t?.getRowBinding().getPath()].detail.route?true:false}s=o&&t?.getRowSettings().getRowActions()&&t?.getRowSettings().getRowActions()[0].getType().includes("Navigation");return s};l.setFocusToControl=function t(n){const i=this.oMessagePopover;if(i&&n&&n.focus){const e=()=>{n.focus()};if(!i.isOpen()){setTimeout(e,0)}else{const t=()=>{setTimeout(e,0);i.detachEvent("afterClose",t)};i.attachEvent("afterClose",t);i.close()}}else{e.warning("FE V4 : MessageButton : element doesn't have focus method for focusing.")}};l.escape=function e(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};return o}(r),y=L(S.prototype,"customFilters",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),M=L(S.prototype,"messageChange",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),S))||P);return F},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/messages/MessageButtonHelper", ["sap/m/Dialog","sap/ui/core/Element","sap/ui/mdc/valuehelp/Dialog","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,n,r,i){"use strict";function a(i){const a=function(r){if(!r.length){return false}let a=t.getElementById(r[0]);while(a){if(a.getId()===i){return true}if(a instanceof e||a instanceof n){return false}a=a.getParent()}return false};return new r({path:"controlIds",test:a,caseSensitive:true})}function s(e){return new r({path:"target",operator:i.StartsWith,value1:e})}const l={getCheckControlInViewFilter:a,getHiddenDraftUseCaseFilter:s};return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/messages/MessageFilter", ["sap/fe/base/ClassSupport","sap/ui/core/Element","sap/ui/model/FilterOperator"],function(e,r,t){"use strict";var i,a,n,l,o,u,s,p,c,f,b;var v=e.property;var y=e.defineUI5Class;function d(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function g(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,m(e,r)}function m(e,r){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},m(e,r)}function z(e,r,t,i,a){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,r,n),null):n}function O(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let h=(i=y("sap.fe.macros.messages.MessageFilter"),a=v({type:"string"}),n=v({type:"sap.ui.model.FilterOperator"}),l=v({type:"string"}),o=v({type:"string"}),i(u=(s=function(e){function r(){var r;for(var t=arguments.length,i=new Array(t),a=0;a<t;a++){i[a]=arguments[a]}r=e.call(this,...i)||this;d(r,"path",p,r);d(r,"operator",c,r);d(r,"value1",f,r);d(r,"value2",b,r);return r}g(r,e);return r}(r),p=z(s.prototype,"path",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),c=z(s.prototype,"operator",[n],{configurable:true,enumerable:true,writable:true,initializer:function(){return t.Contains}}),f=z(s.prototype,"value1",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),b=z(s.prototype,"value2",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||u);return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/messages/MessagePopover", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/m/Link","sap/m/MessageItem","sap/m/MessagePopover","sap/ui/core/CustomData","sap/ui/core/Lib","sap/ui/core/Messaging","sap/ui/performance/trace/FESRHelper"],function(e,t,s,n,i,a,r,o,p,c){"use strict";var l,u;function d(e){return new Promise((t,s)=>{sap.ui.require([e],s=>{if(!(s&&s.__esModule)){s=s===null||!(typeof s==="object"&&e.endsWith("/library"))?{default:s}:s;Object.defineProperty(s,"__esModule",{value:true})}t(s)},e=>{s(e)})})}var g=t.defineUI5Class;function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,f(e,t)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}let y=(l=g("sap.fe.macros.messages.MessagePopover"),l(u=function(t){function l(){return t.apply(this,arguments)||this}m(l,t);var u=l.prototype;u.init=function e(){a.prototype.init.apply(this);this.setModel(p.getMessageModel(),"message");this.bindAggregation("items",{path:"message>/",length:9999,template:new i({type:"{message>type}",title:"{message>message}",description:"{message>description}",markupDescription:true,longtextUrl:"{message>descriptionUrl}",subtitle:"{message>additionalText}",activeTitle:"{= ${message>controlIds}.length > 0 ? true : false}",link:this.getLinkForErrorExplanation(this)||undefined})});this.setGroupItems(true)};u.getLinkForErrorExplanation=function t(i){const a=s.getAppComponent(i);const p=a.getEnvironmentCapabilities();if(p.environmentCapabilities.ErrorExplanation){const t=new n({text:o.getResourceBundleFor("sap.fe.macros").getText("C_GENERATE_EXPLANATION"),icon:"sap-icon://ai",customData:[new r({key:"message",value:"{message>message}"}),new r({key:"description",value:"{message>description}"}),new r({key:"descriptionUrl",value:"{message>descriptionUrl}"}),new r({key:"code",value:"{message>code}"})],press:async function(){try{await p.prepareFeature("ErrorExplanation");const{explain:e}=await d("ux/eng/fioriai/reuse/errorExplanation/ErrorExplanation");const t=a.getManifestEntry("sap.fiori")?.registrationIds;const s=t&&t.length>0?t.join(","):"";const n={version:1,fioriId:s,appName:a.getManifestEntry("sap.app")?.title||undefined,componentName:a.getManifestEntry("sap.app")?.id||undefined};const i={version:1,message:this.data("message"),code:this.data("code"),description:this.data("description"),descriptionUrl:this.data("descriptionUrl")};await e(n,i)}catch(t){e.error("Error explanation failed",t)}}});c.setSemanticStepname(t,"press","fe4:ee:explain");return t}else{return null}};return l}(a))||u);return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/microchart/MicroChart", ["sap/base/Log","sap/fe/base/ClassSupport","../MicroChart"],function(t,r,e){"use strict";var o,a;var s={};var c=r.defineUI5Class;function n(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,i(t,r)}function i(t,r){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},i(t,r)}let p=(o=c("sap.fe.macros.microchart.MicroChart"),o(a=function(r){function e(e,o){t.warning("You've consumed deprecated MicroChart class. Use sap.fe.macros.MicroChart instead");return r.call(this,e,o)||this}s=e;n(e,r);return e}(e))||a);s=p;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/microchart/MicroChartContainer", ["sap/base/Log","sap/fe/base/ClassSupport","sap/m/FlexBox","sap/m/Label","sap/m/library","sap/ui/core/Control","sap/ui/core/format/NumberFormat","sap/ui/model/odata/v4/ODataListBinding","sap/ui/model/odata/v4/ODataMetaModel","sap/ui/model/type/Date"],function(e,t,i,r,a,n,o,l,s,u){"use strict";var c,f,g,h,p,m,d,b,y,C,L,P,v,A,_,w,M,O,T,V,z,x,B,D,N,R,E,I,S,F,j,$,U;var k=t.property;var Y=t.event;var G=t.defineUI5Class;var q=t.aggregation;function X(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function H(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Q(e,t)}function Q(e,t){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Q(e,t)}function J(e,t,i,r,a){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function K(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}const W=a.ValueColor;let Z=(c=G("sap.fe.macros.microchart.MicroChartContainer"),f=k({type:"boolean",defaultValue:false}),g=k({type:"string",defaultValue:undefined}),h=k({type:"string[]",defaultValue:[]}),p=k({type:"string",defaultValue:undefined}),m=k({type:"string[]",defaultValue:[]}),d=k({type:"int",defaultValue:undefined}),b=k({type:"int",defaultValue:1}),y=k({type:"int",defaultValue:undefined}),C=k({type:"string",defaultValue:""}),L=k({type:"string",defaultValue:""}),P=k({type:"string",defaultValue:""}),v=Y(),A=q({type:"sap.ui.core.Control",multiple:false,isDefault:true}),_=q({type:"sap.m.Label",multiple:false}),w=q({type:"sap.ui.core.Control",multiple:true}),c(M=(O=function(t){function a(e,i){var r;r=t.call(this,e,i)||this;X(r,"showOnlyChart",T,r);X(r,"uomPath",V,r);X(r,"measures",z,r);X(r,"dimension",x,r);X(r,"dataPointQualifiers",B,r);X(r,"measurePrecision",D,r);X(r,"measureScale",N,r);X(r,"dimensionPrecision",R,r);X(r,"chartTitle",E,r);X(r,"chartDescription",I,r);X(r,"calendarPattern",S,r);X(r,"onTitlePressed",F,r);X(r,"microChart",j,r);X(r,"_uomLabel",$,r);X(r,"microChartTitle",U,r);return r}H(a,t);a.render=function e(t,a){t.openStart("div",a);t.openEnd();if(!a.showOnlyChart){const e=a.microChartTitle;if(e){e.forEach(function(e){t.openStart("div");t.openEnd();t.renderControl(e);t.close("div")})}t.openStart("div");t.openEnd();const i=new r({text:a.chartDescription});t.renderControl(i);t.close("div")}const n=a.microChart;if(n){n.addStyleClass("sapUiTinyMarginTopBottom");t.renderControl(n);if(!a.showOnlyChart&&a.uomPath){const e=a._checkIfChartRequiresRuntimeLabels()?undefined:{text:{path:a.uomPath}},n=new r(e),o=new i({alignItems:"Start",justifyContent:"End",items:[n]});t.renderControl(o);a.setAggregation("_uomLabel",n)}}t.close("div")};var n=a.prototype;n.onBeforeRendering=function e(){const t=this._getListBindingForRuntimeLabels();if(t){t.detachEvent("change",this._setRuntimeChartLabelsAndUnitOfMeasure,this);this._olistBinding=undefined}};n.onAfterRendering=function e(){const t=this._getListBindingForRuntimeLabels();if(!this._checkIfChartRequiresRuntimeLabels()){return}if(t){t.attachEvent("change",undefined,this._setRuntimeChartLabelsAndUnitOfMeasure,this);this._olistBinding=t}};n.setShowOnlyChart=function e(t){if(!t&&this._olistBinding){this._setChartLabels()}this.setProperty("showOnlyChart",t,false)};n._checkIfChartRequiresRuntimeLabels=function e(){const t=this.microChart;if(t){return Boolean(t.isA("sap.suite.ui.microchart.AreaMicroChart")||t.isA("sap.suite.ui.microchart.ColumnMicroChart")||t.isA("sap.suite.ui.microchart.LineMicroChart")||t.isA("sap.suite.ui.microchart.ComparisonMicroChart"))}return false};n._checkForChartLabelAggregations=function e(){const t=this.microChart;if(t){return Boolean(t.isA("sap.suite.ui.microchart.AreaMicroChart")&&t.getAggregation("firstYLabel")&&t.getAggregation("lastYLabel")&&t.getAggregation("firstXLabel")&&t.getAggregation("lastXLabel")||t.isA("sap.suite.ui.microchart.ColumnMicroChart")&&t.getAggregation("leftTopLabel")&&t.getAggregation("rightTopLabel")&&t.getAggregation("leftBottomLabel")&&t.getAggregation("rightBottomLabel")||t.isA("sap.suite.ui.microchart.LineMicroChart"))}return false};n._getListBindingForRuntimeLabels=function e(){const t=this.microChart;let i;if(t){if(t.isA("sap.suite.ui.microchart.AreaMicroChart")){const e=t.getChart();i=e&&e.getBinding("points")}else if(t.isA("sap.suite.ui.microchart.ColumnMicroChart")){i=t.getBinding("columns")}else if(t.isA("sap.suite.ui.microchart.LineMicroChart")){const e=t.getLines();i=e&&e.length&&e[0].getBinding("points")}else if(t.isA("sap.suite.ui.microchart.ComparisonMicroChart")){i=t.getBinding("data")}}return i instanceof l?i:false};n._setRuntimeChartLabelsAndUnitOfMeasure=async function e(){const t=this._olistBinding,i=t?.getContexts(),r=this.measures,a=this.dimension,n=this.uomPath,o=this.microChart,l=this._uomLabel;if(l&&n&&i&&i.length&&!this.showOnlyChart){l.setText(i[0].getObject(n))}else if(l){l.setText("")}if(!this._checkForChartLabelAggregations()){return}if(!i||!i.length){this._setChartLabels();return}const s=i[0],u=i[i.length-1],c=[],f=o?.isA("sap.suite.ui.microchart.LineMicroChart"),g=s.getObject(a),h=u.getObject(a);let p,m,d={value:Infinity},b={value:-Infinity},y={value:Infinity},C={value:-Infinity};d=g==undefined?d:{context:s,value:g};b=h==undefined?b:{context:u,value:h};if(r?.length){r.forEach((e,t)=>{p=s.getObject(e);m=u.getObject(e);C=m>C.value?{context:u,value:m,index:f?t:0}:C;y=p<y.value?{context:s,value:p,index:f?t:0}:y;if(f){c.push(this._getCriticalityFromPoint({context:u,value:m,index:t}))}})}this._setChartLabels(y.value,C.value,d.value,b.value);if(f){const e=await Promise.all(c);if(e?.length){const t=o.getLines();t.forEach(function(t,i){t.setColor(e[i])})}}else{await this._setChartLabelsColors(C,y)}};n._setChartLabelsColors=async function e(t,i){const r=this.microChart;const a=await Promise.all([this._getCriticalityFromPoint(i),this._getCriticalityFromPoint(t)]);if(r?.isA("sap.suite.ui.microchart.AreaMicroChart")){r.getAggregation("firstYLabel").setProperty("color",a[0],true);r.getAggregation("lastYLabel").setProperty("color",a[1],true)}else if(r?.isA("sap.suite.ui.microchart.ColumnMicroChart")){r.getAggregation("leftTopLabel").setProperty("color",a[0],true);r.getAggregation("rightTopLabel").setProperty("color",a[1],true)}};n._setChartLabels=function e(t,i,r,a){const n=this.microChart;t=this._formatDateAndNumberValue(t,this.measurePrecision,this.measureScale);i=this._formatDateAndNumberValue(i,this.measurePrecision,this.measureScale);r=this._formatDateAndNumberValue(r,this.dimensionPrecision,undefined,this.calendarPattern);a=this._formatDateAndNumberValue(a,this.dimensionPrecision,undefined,this.calendarPattern);if(n?.isA("sap.suite.ui.microchart.AreaMicroChart")){n.getAggregation("firstYLabel").setProperty("label",t,false);n.getAggregation("lastYLabel").setProperty("label",i,false);n.getAggregation("firstXLabel").setProperty("label",r,false);n.getAggregation("lastXLabel").setProperty("label",a,false)}else if(n?.isA("sap.suite.ui.microchart.ColumnMicroChart")){n.getAggregation("leftTopLabel").setProperty("label",t,false);n.getAggregation("rightTopLabel").setProperty("label",i,false);n.getAggregation("leftBottomLabel").setProperty("label",r,false);n.getAggregation("rightBottomLabel").setProperty("label",a,false)}else if(n?.isA("sap.suite.ui.microchart.LineMicroChart")){n.setProperty("leftTopLabel",t,false);n.setProperty("rightTopLabel",i,false);n.setProperty("leftBottomLabel",r,false);n.setProperty("rightBottomLabel",a,false)}};n._getCriticalityFromPoint=async function e(t){if(t?.context){const e=this.getModel()&&this.getModel().getMetaModel(),i=this.dataPointQualifiers,r=e instanceof s&&t.context.getPath()&&e.getMetaPath(t.context.getPath());if(e&&typeof r==="string"){const a=await e.requestObject(`${r}/@${"com.sap.vocabularies.UI.v1.DataPoint"}${t.index!==undefined&&i[t.index]?`#${i[t.index]}`:""}`);if(a){let e=W.Neutral;const i=t.context;if(a.Criticality){e=this._criticality(a.Criticality,i)}else if(a.CriticalityCalculation){const r=a.CriticalityCalculation;const n=function(e){let t;if(e?.$Path){t=i.getObject(e.$Path)}else if(e?.hasOwnProperty("$Decimal")){t=e.$Decimal}return t};e=this._criticalityCalculation(r.ImprovementDirection.$EnumMember,t.value,n(r.DeviationRangeLowValue),n(r.ToleranceRangeLowValue),n(r.AcceptanceRangeLowValue),n(r.AcceptanceRangeHighValue),n(r.ToleranceRangeHighValue),n(r.DeviationRangeHighValue))}return e}}}return Promise.resolve(W.Neutral)};n._criticality=function t(i,r){let a,n;if(i.$Path){a=r.getObject(i.$Path);if(a==="Negative"||a.toString()==="1"){n=W.Error}else if(a==="Critical"||a.toString()==="2"){n=W.Critical}else if(a==="Positive"||a.toString()==="3"){n=W.Good}}else if(i.$EnumMember){a=i.$EnumMember;if(a.includes("com.sap.vocabularies.UI.v1.CriticalityType/Negative")){n=W.Error}else if(a.includes("com.sap.vocabularies.UI.v1.CriticalityType/Positive")){n=W.Good}else if(a.includes("com.sap.vocabularies.UI.v1.CriticalityType/Critical")){n=W.Critical}}if(n===undefined){e.warning("Case not supported, returning the default Value Neutral");return W.Neutral}return n};n._criticalityCalculation=function t(i,r,a,n,o,l,s,u){let c;a=a==undefined?-Infinity:a;n=n==undefined?a:n;o=o==undefined?n:o;u=u==undefined?Infinity:u;s=s==undefined?u:s;l=l==undefined?s:l;if(i.includes("Minimize")){if(r<=l){c=W.Good}else if(r<=s){c=W.Neutral}else if(r<=u){c=W.Critical}else{c=W.Error}}else if(i.includes("Maximize")){if(r>=o){c=W.Good}else if(r>=n){c=W.Neutral}else if(r>=a){c=W.Critical}else{c=W.Error}}else if(i.includes("Target")){if(r<=l&&r>=o){c=W.Good}else if(r>=n&&r<o||r>l&&r<=s){c=W.Neutral}else if(r>=a&&r<n||r>s&&r<=u){c=W.Critical}else{c=W.Error}}if(c===undefined){e.warning("Case not supported, returning the default Value Neutral");return W.Neutral}return c};n._formatDateAndNumberValue=function e(t,i,r,a){if(a){return this._getSemanticsValueFormatter(a).formatValue(t,"string")}else if(!isNaN(t)){return this._getLabelNumberFormatter(i,r).format(t)}return t};n._getSemanticsValueFormatter=function e(t){if(!this._oDateType){this._oDateType=new u({style:"short",source:{pattern:t}})}return this._oDateType};n._getLabelNumberFormatter=function e(t,i){return o.getFloatInstance({style:"short",showScale:true,precision:typeof t==="number"&&t||0,decimals:typeof i==="number"&&i||0})};n.getAccessibilityInfo=function e(){return this.microChart?.getAccessibilityInfo()};return a}(n),T=J(O.prototype,"showOnlyChart",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),V=J(O.prototype,"uomPath",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),z=J(O.prototype,"measures",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),x=J(O.prototype,"dimension",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),B=J(O.prototype,"dataPointQualifiers",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),D=J(O.prototype,"measurePrecision",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),N=J(O.prototype,"measureScale",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),R=J(O.prototype,"dimensionPrecision",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),E=J(O.prototype,"chartTitle",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),I=J(O.prototype,"chartDescription",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),S=J(O.prototype,"calendarPattern",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),F=J(O.prototype,"onTitlePressed",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),j=J(O.prototype,"microChart",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),$=J(O.prototype,"_uomLabel",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),U=J(O.prototype,"microChartTitle",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),O))||M);return Z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/microchart/MicroChartHelper", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/CommonHelper","sap/m/library","sap/ui/core/format/NumberFormat","../field/FieldTemplating","sap/fe/core/converters/MetaModelConverter","sap/fe/core/formatters/ValueFormatter","sap/fe/core/templating/CriticalityFormatters","sap/fe/base/jsx-runtime/jsx"],function(e,t,a,r,i,n,o,s,l,u,c){"use strict";function h(e){return new Promise((t,a)=>{sap.ui.require([e],a=>{if(!(a&&a.__esModule)){a=a===null||!(typeof a==="object"&&e.endsWith("/library"))?{default:a}:a;Object.defineProperty(a,"__esModule",{value:true})}t(a)},e=>{a(e)})})}var g=u.buildExpressionForCriticalityColorMicroChart;var d=o.getValueBinding;var f=i.ValueColor;var m=a.enhanceDataModelPath;var p=t.pathInModel;var C=t.getExpressionFromAnnotation;var y=t.formatWithTypeInformation;var M=t.formatResult;var V=t.constant;var v=t.compileExpression;const b={getThresholdColor:function(e,t){const a=t.context.getPath();if(a.includes("DeviationRange")){return f.Error}else if(a.includes("ToleranceRange")){return f.Critical}return f.Neutral},getMeasurePropertyPaths:function(t,a,i,n){const o=[];if(!a){e.warning("FE:Macro:MicroChart : Couldn't find annotations for the DataPoint.");return undefined}for(const s in t.Measures){const l=r.getMeasureAttributeIndex(s,t,n),u=l>-1&&t.MeasureAttributes&&t.MeasureAttributes[l];let c;if(n){c=u&&u?.DataPoint?.$target||undefined}else{c=u&&a&&a[u.DataPoint?.$AnnotationPath]}const h=n?c?.Value.path:c?.Value.$Path;if(h){o.push(h)}else{e.warning(`FE:Macro:MicroChart : Couldn't find DataPoint(Value) measure for the measureAttribute ${i} MicroChart.`)}}return n?o:o.join(",")},getHiddenPathExpression:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}if(!t[0]&&!t[1]){return true}if(t[0]===true||t[1]===true){return false}const r=[];[].forEach.call(t,function(e){if(e&&e.$Path){r.push("%{"+e.$Path+"}")}});return r.length?"{= "+r.join(" || ")+" === true ? false : true }":false},isNotAlwaysHidden:function(e,t,a,r,i){if(r===true){this.logError(e,t)}if(i===true){this.logError(e,a)}if(r===undefined&&i===undefined){return true}else{return(!r||r.$Path)&&r!==undefined||(!i||i.$Path)&&i!==undefined?true:false}},logError:function(t,a){e.error(`Measure Property ${a?.$Path} is hidden for the ${t} Micro Chart`)},formatDecimal:function(e,t,a,r){if(e){const r=[],i=["style: 'short'"];const n=typeof a==="number"?a:t&&t?.$Scale||1;if(t.$Nullable!=undefined){r.push("nullable: "+t.$Nullable)}if(t.$Precision!=undefined){i.push("precision: "+(t.$Precision?t.$Precision:"1"))}r.push("scale: "+(n==="variable"?"'"+n+"'":n));return"{ path: '"+e+"'"+", type: 'sap.ui.model.odata.type.Decimal', constraints: { "+r.join(",")+" }, formatOptions: { "+i.join(",")+" } }"}else if(r){const e=typeof a==="number"?a:1;return n.getFloatInstance({style:"short",preserveDecimals:true,decimals:e}).format(r)}},getSelectParameters:function(e,t,a,r,i,n){const o=[],s=[];const l=n?{}:[];if(t){t.forEach(e=>{s.push(`${e.Property}${e.Descending?" desc":""}`)})}if(r){o.push(r)}else if(a){const e=["ImprovementDirection","DeviationRangeLowValue","ToleranceRangeLowValue","AcceptanceRangeLowValue","AcceptanceRangeHighValue","ToleranceRangeHighValue","DeviationRangeHighValue"];Object.keys(a).forEach(t=>{if(e.includes(t)&&a[t].path){o.push(a[t].path)}})}i?.forEach(e=>{if(e){o.push(e)}});if(n){if(e){l.$$groupId=e}if(o.length){l.$select=o}if(s.length){l.$orderby=s}return l}else{if(e){l.push(`$$groupId : '${e}'`)}if(o.length){l.push(`$select : '${o.join(",")}'`)}if(s.length){l.push(`$orderby : '${s.join(",")}'`)}return l.join(",")}},getDataPointQualifiersForMeasures:function(t,a,r,i){const n=[],o=t.MeasureAttributes,s=function(t){let s;if(a){o?.forEach(function(e){let r,o;if(i){r=e.Measure?.value;o=t.value;if(r==o){n.push(e?.DataPoint?.$target?.qualifier)}}else{r=e.Measure?.$PropertyPath;o=t.$PropertyPath;if(r===o&&e.DataPoint?.$AnnotationPath){const t=e?.DataPoint?.$AnnotationPath;if(a[t]){s=t?.split("#")[1];if(s){n.push(s)}}}}})}if(s===undefined){e.warning(`FE:Macro:MicroChart : Couldn't find DataPoint(Value) measure for the measureAttribute for ${r} MicroChart.`)}};if(!a){e.warning(`FE:Macro:MicroChart : Couldn't find annotations for the DataPoint ${r} MicroChart.`)}t.Measures?.forEach(s);return i?n:n.join(",")},logWarning:function(t,a){for(const r in a){if(!a[r]){e.warning(`${r} parameter is missing for the ${t} Micro Chart`)}}},getDisplayValueForMicroChart:function(e,t,a,r){const i=e.ValueFormat&&e.ValueFormat.NumberOfFractionalDigits;if(t){return b.formatDecimal(t["$Path"],a,i)}return b.formatDecimal(e.Value["$Path"],r,i)},shouldRenderMicroChart:function(e){const t=["UI.ChartType/Area","UI.ChartType/Column","UI.ChartType/Bar"],a=e.ChartType,r=e.MeasureAttributes[0].DataPoint?.$target,i=r?.Value,n=i?.annotations?.UI?.Hidden,o=e?.Dimensions&&e?.Dimensions[0],s=t.includes(a)?i&&o:i;if(a==="UI.ChartType/Pie"){const e=r&&r.MaximumValue;const t=e?.annotations?.UI?.Hidden;return i&&e&&b.isNotAlwaysHidden(a,i,e,n,t)}return s&&b.isNotAlwaysHidden(a,i,n)},shouldMicroChartRender:function(e,t,a,r,i){const n=["Area","Column","Comparison"],o=t&&t.Value,s=a&&a["com.sap.vocabularies.UI.v1.Hidden"],l=r&&r.Dimensions&&r.Dimensions[0],u=n.includes(e)?o&&l:o;if(e==="Harvey"){const e=t&&t.MaximumValue,a=i&&i["com.sap.vocabularies.UI.v1.Hidden"];return o&&e&&b.isNotAlwaysHidden("Bullet",o,e,s,a)}return u&&b.isNotAlwaysHidden(e,o,undefined,s)},getDataPointQualifiersForMicroChart:function(e){if(!e.includes("com.sap.vocabularies.UI.v1.DataPoint")){return undefined}return e.split("#")[1]??""},getColorPaletteForMicroChart:function(e){return e.Criticality?undefined:"sapUiChartPaletteQualitativeHue1, sapUiChartPaletteQualitativeHue2, sapUiChartPaletteQualitativeHue3,          sapUiChartPaletteQualitativeHue4, sapUiChartPaletteQualitativeHue5, sapUiChartPaletteQualitativeHue6, sapUiChartPaletteQualitativeHue7,          sapUiChartPaletteQualitativeHue8, sapUiChartPaletteQualitativeHue9, sapUiChartPaletteQualitativeHue10, sapUiChartPaletteQualitativeHue11"},getMeasureScaleForMicroChart:function(e){if(e.ValueFormat&&e.ValueFormat.NumberOfFractionalDigits){return e.ValueFormat.NumberOfFractionalDigits.valueOf()}if(e.Value&&e.Value["$Path"]&&e.Value["$Path"]["$Scale"]){return e.Value["$Path"]["$Scale"]}return 1},getBindingExpressionForMicrochart:function(e,t,a,r,i,n){const o=["UI.ChartType/Bullet","UI.ChartType/Pie","UI.ChartType/Donut","Radial","Bullet","Harvey"];if(!e||o.includes(e)){const o=r["$isCollection"]||r["$kind"]==="EntitySet";const s=o?"":i;let l=b.getUOMPathForMicrochart(a.showOnlyChart,t);let u="";switch(e){case"Radial":case"UI.ChartType/Donut":l="";break;case"Harvey":case"UI.ChartType/Pie":u=n?.targetObject?.Criticality?n.targetObject?.Criticality?.path:"";break}const c=b.getSelectParameters(a.batchGroupId,undefined,undefined,u,[l]);return`{ path: '${s}'`+`, parameters : {${c}} }`}else{return a.batchGroupId?"{path:'', parameters : { $$groupId: '"+a.batchGroupId+"'} }":""}},getUOMPathForMicrochart:function(e,t,a){const r=["UI.ChartType/Bullet","UI.ChartType/Pie","UI.ChartType/Area","UI.ChartType/Column","UI.ChartType/Line","UI.ChartType/Bar"];if(!a||a&&r.includes(a)){return t&&!e?t.targetObject?.annotations?.Measures?.ISOCurrency?.path||t.targetObject?.annotations?.Measures?.Unit?.path||"":""}else{return undefined}},getAggregationForMicrochart:function(e,t,a,r,i,n,o,s,l){let u=t["$kind"]==="EntitySet"?"/":"";u=u+r;const c="";let h;let g=a.targetObject?.Criticality?a.targetObject?.Criticality?.path:"";const d=b.getUOMPathForMicrochart(false,n);let f="";let m="";if(i?.targetObject){i=i.targetObject}if(i?.$target?.annotations?.Common?.Text){m=i?.$target?.annotations?.Common?.Text?.path}else if(i){m=i?.value}switch(e){case"Points":case"UI.ChartType/Area":h=a?.targetObject?.CriticalityCalculation;f=a?.targetObject?.TargetValue?.path;g="";break;case"Columns":case"UI.ChartType/Column":h=a?.targetObject?.CriticalityCalculation;break;case"LinePoints":case"UI.ChartType/Line":g="";break;case"Bars":case"UI.ChartType/BarStacked":m="";break}const p=b.getSelectParameters(c,o,h,g,[d,f,m,s||""],l);if(l){return{path:u,parameters:p}}return`{path:'${u}'`+`, parameters : {${p}} }`},getCurrencyOrUnit:function(e){if(e[`@${"Org.OData.Measures.V1.ISOCurrency"}`]){return e[`@${"Org.OData.Measures.V1.ISOCurrency"}`].$Path||e[`@${"Org.OData.Measures.V1.ISOCurrency"}`]}if(e[`@${"Org.OData.Measures.V1.Unit"}`]){return e[`@${"Org.OData.Measures.V1.Unit"}`].$Path||e[`@${"Org.OData.Measures.V1.Unit"}`]}return""},getCalendarPattern:function(e,t,a){if(a){return b.checkPatternForRuntimeInstance(t,e)}else{return b.checkPatternForTemplateTimeInstance(t,e)}},checkPatternForRuntimeInstance:function(e,t){return e.Common?.IsCalendarYear&&"yyyy"||e.Common?.IsCalendarQuarter&&"Q"||e.Common?.IsCalendarMonth&&"MM"||e.Common?.IsCalendarWeek&&"ww"||e.Common?.IsCalendarDate&&"yyyyMMdd"||e.Common?.IsCalendarYearMonth&&"yyyyMM"||t==="Edm.Date"&&"yyyy-MM-dd"||undefined},checkPatternForTemplateTimeInstance:function(e,t){return e[`@${"com.sap.vocabularies.Common.v1.IsCalendarYear"}`]&&"yyyy"||e[`@${"com.sap.vocabularies.Common.v1.IsCalendarQuarter"}`]&&"Q"||e[`@${"com.sap.vocabularies.Common.v1.IsCalendarMonth"}`]&&"MM"||e[`@${"com.sap.vocabularies.Common.v1.IsCalendarWeek"}`]&&"ww"||e[`@${"com.sap.vocabularies.Common.v1.IsCalendarDate"}`]&&"yyyyMMdd"||e[`@${"com.sap.vocabularies.Common.v1.IsCalendarYearMonth"}`]&&"yyyyMM"||t==="Edm.Date"&&"yyyy-MM-dd"||undefined},getX:function(e,t,a){const r=a&&b.getCalendarPattern(t,a);if(r&&["Edm.Date","Edm.String"].some(e=>e===t)){return v(M([p(e),V(r),V(e)],"sap.fe.core.formatters.ValueFormatter#formatStringDimension"))}},getExpressionWithType(e,t){if(e&&e.$target){const a=y(e.$target,C(e));a.formatOptions={...a.formatOptions,...t};return v(a)}},calculateColorBinding(e,t,a){let i;if(e.Criticality||!e.Criticality&&!e.CriticalityCalculation){i=a}else if(e.CriticalityCalculation){const a=e.CriticalityCalculation;const n=a?.ImprovementDirection;const o=v(C(a?.DeviationRangeLowValue))??0;const s=v(C(a?.ToleranceRangeLowValue))??0;const l=v(C(a?.AcceptanceRangeLowValue))??0;const u=v(C(a?.AcceptanceRangeHighValue));const c=v(C(a?.ToleranceRangeHighValue));const h=v(C(a?.DeviationRangeHighValue));i=r.getCriticalityCalculationBinding(n,t,o,s,l,u,c,h)}return i},async getBulletMicroChartAggregations(e,t){const a=(await h("sap/suite/ui/microchart/BulletMicroChartData")).default;const r=v(C(e.Value));const i=[];const n=this.calculateColorBinding(e,r,t);if(e.CriticalityCalculation){const t=e.CriticalityCalculation;const r=t?.ImprovementDirection;if(!r.includes("Minimize")&&t?.DeviationRangeLowValue){i.push(c(a,{value:v(C(t?.DeviationRangeLowValue)),color:"Error"}))}if(!r.includes("Minimize")&&t?.ToleranceRangeLowValue){i.push(c(a,{value:v(C(t?.ToleranceRangeLowValue)),color:"Critical"}))}if(!r.includes("Maximize")&&t?.ToleranceRangeHighValue){i.push(c(a,{value:v(C(t?.ToleranceRangeHighValue)),color:"Critical"}))}if(!r.includes("Maximize")&&t?.DeviationRangeHighValue){i.push(c(a,{value:v(C(t?.DeviationRangeHighValue)),color:"Error"}))}}const o=c(a,{value:r,color:n});return{actual:o,thresholds:i}},async getStackMicroChartAggregations(e,t,a){const r=(await h("sap/suite/ui/microchart/StackedBarMicroChartBar")).default;const i=this.getExpressionWithType(e.Value);const n=a;const o=t?.targetObject?.annotations?.Common?.Text?this.getExpressionWithType(t?.targetObject?.annotations?.Common?.Text):undefined;return{bars:c(r,{value:i,displayValue:o,valueColor:n})}},async getHarveyMicroChartAggregations(e,t){const a=(await h("sap/suite/ui/microchart/HarveyBallMicroChartItem")).default;const r=this.getExpressionWithType(e.Value,{style:"short"});const i=this.getExpressionWithType(e.Value);const n=t;return{items:c(a,{formattedLabel:true,fractionLabel:r,fraction:i,color:n})}},async getComparisonMicroChartAggregations(e,t,a){const r=(await h("sap/suite/ui/microchart/ComparisonMicroChartData")).default;const i=v(C(e.Value));const n=this.getExpressionWithType(e.Value,{style:"short"});const o=a.Dimensions[0].$target?.annotations.Common?.Text;const s=o?v(C(o)):v(p(a.Dimensions[0].value));return c(r,{value:i,color:t,title:s,displayValue:n})},async getColumnMicroChartAggregations(e,t,a){const r=(await h("sap/suite/ui/microchart/ColumnMicroChartData")).default;const i=(await h("sap/suite/ui/microchart/ColumnMicroChartLabel")).default;const n={};const o=v(C(e.Value));const s=this.calculateColorBinding(e,o,t);n.columns=c(r,{value:o,color:s});if(!a){n.leftBottomLabel=c(i,{});n.leftTopLabel=c(i,{});n.rightBottomLabel=c(i,{});n.rightTopLabel=c(i,{})}return n},async getLineMicroChartAggragations(e,t,a){const r=(await h("sap/suite/ui/microchart/LineMicroChartLine")).default;const i=(await h("sap/suite/ui/microchart/LineMicroChartPoint")).default;const n=m(e,t.Dimensions[0].value);const o=t.Measures;const s=[];for(let l=0;l<o.length;l++){const o=m(e,t?.MeasureAttributes[l]?.DataPoint?.value);const u=m(e,t.Measures[l].value);const h=b.getAggregationForMicrochart("LinePoints",a?.getObject(),o,a?.getObject("@sapui.name"),t.Dimensions[0],u,e?.targetObject?.SortOrder,undefined,true);const g=this.getXData(n,e);const d=v(C(o.targetObject?.Value));s.push(c(r,{points:h,children:{points:c(i,{x:g,y:d})}}))}return{lines:s}},getXData(e,t){let a;const r=e?.targetObject?.type;const i=e.targetObject?.annotations;if(r==="Edm.Date"||e.targetObject?.type==="Edm.String"&&b.getCalendarPattern(r,e.targetObject?.annotations,true)){const t=e?.targetObject?.name;const n=i&&b.getCalendarPattern(r,i,true);if(n&&["Edm.Date","Edm.String"].some(e=>e===r)){a=v(M([p(t),n,t],l.formatStringDimension))}}else{e.contextLocation=t;a=d(e,{})}return a},async getAreaMicroChartAggregations(e,t,a,r){const i=(await h("sap/suite/ui/microchart/AreaMicroChartItem")).default;const n=(await h("sap/suite/ui/microchart/AreaMicroChartPoint")).default;const o=(await h("sap/suite/ui/microchart/AreaMicroChartLabel")).default;const l=e?.MeasureAttributes[0]?.DataPoint?.$target;const u=m(t,e.Measures[0].value);const g=m(t,e.Dimensions[0].value);const d=m(t,e?.MeasureAttributes[0]?.DataPoint?.value);const f=s.getInvolvedDataModelObjects(a);const p=(r,o,s)=>{let l;if(s){l=b.getAggregationForMicrochart("Points",a?.getObject(),d,a?.getObject("@sapui.name"),e.Dimensions[0],u,t?.targetObject?.SortOrder,"",true)}else{l={path:(f.targetObject?._type==="EntitySet"?"/":"")+f.targetObject?.name}}return c(i,{color:o,points:l,children:{points:c(n,{x:M,y:v(C(r))})}})};const y={};const M=this.getXData(g,t);y.chart=p(l.Value,"",true);y.target=p(l.TargetValue);if(!r){y.firstXLabel=c(o,{});y.firstYLabel=c(o,{});y.lastXLabel=c(o,{});y.lastYLabel=c(o,{})}const V=d?.targetObject?.CriticalityCalculation?.ImprovementDirection;if(V==="UI.ImprovementDirectionType/Minimize"){y.minThreshold=p(l?.CriticalityCalculation?.ToleranceRangeHighValue,"Good");y.maxThreshold=p(l?.CriticalityCalculation?.DeviationRangeHighValue,"Error")}else if(V==="UI.ImprovementDirectionType/Maximize"){y.minThreshold=p(l?.CriticalityCalculation?.DeviationRangeLowValue,"Error");y.maxThreshold=p(l?.CriticalityCalculation?.ToleranceRangeLowValue,"Good")}else if(V==="UI.ImprovementDirectionType/Target"){y.minThreshold=p(l?.CriticalityCalculation?.DeviationRangeLowValue,"Error");y.maxThreshold=p(l?.CriticalityCalculation?.DeviationRangeHighValue,"Error");y.innerMinThreshold=p(l?.CriticalityCalculation?.ToleranceRangeLowValue,"Good");y.innerMaxThreshold=p(l?.CriticalityCalculation?.ToleranceRangeHighValue,"Good")}return y},getBulletMicroChartProperties(e,t){e.targetValue=t.TargetValue?v(C(t.TargetValue)):undefined;e.forecastValue=t.ForecastValue?v(C(t.ForecastValue)):undefined;e.maxValue=t.MaximumValue?v(V(t.MaximumValue?.valueOf())):undefined;e.minValue=t.MinimumValue?v(V(t.MinimumValue?.valueOf())):undefined;e.actualValueLabel=t.Value?b.getExpressionWithType(t.Value,{style:"short"}):undefined;e.targetValueLabel=t.TargetValue?b.getExpressionWithType(t.TargetValue,{style:"short"}):undefined;e.showDeltaValue=t.Visualization&&t.Visualization==="UI.VisualizationType/DeltaBulletChart";e.mode=e.showDeltaValue?"Delta":undefined;return e},getRadialMicroChartProperties(e,t){e.total=t.TargetValue?v(C(t.TargetValue)):100;const a=v(C(t.Value));e.fraction=a;e.percentage=!t.TargetValue?a:undefined;const r=t.Criticality?g(t):undefined;e.valueColor=b.calculateColorBinding(t,a,r);return e},getHarveyMicroChartProperties(e,t){e.formattedLabel=true;e.totalLabel=b.getExpressionWithType(t.MaximumValue,{style:"short"});e.total=b.getExpressionWithType(t.MaximumValue);e.colorPalette=b.getColorPaletteForMicroChart(t);return e}};return b},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/multivaluefield/FormatOptions", ["sap/fe/base/ClassSupport","../controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,a,l,o,u,s,c,p,b,f,y;var d={};var m=e.property;var v=e.defineUI5Class;function g(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function z(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,w(e,r)}function w(e,r){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},w(e,r)}function O(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function h(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let j=(t=v("sap.fe.macros.multivaluefield.FormatOptions"),i=m({type:"boolean"}),n=m({type:"boolean"}),a=m({type:"string"}),l=m({type:"string"}),o=m({type:"boolean"}),t(u=(s=function(e){function r(){var r;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}r=e.call(this,...i)||this;g(r,"showEmptyIndicator",c,r);g(r,"displayOnly",p,r);g(r,"displayMode",b,r);g(r,"measureDisplayMode",f,r);g(r,"isAnalytics",y,r);return r}d=r;z(r,e);return r}(r),c=O(s.prototype,"showEmptyIndicator",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),p=O(s.prototype,"displayOnly",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),b=O(s.prototype,"displayMode",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),f=O(s.prototype,"measureDisplayMode",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),y=O(s.prototype,"isAnalytics",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||u);d=j;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/multivaluefield/MultiValueFieldDelegate", ["sap/fe/core/CommonUtils","sap/ui/mdc/field/FieldBaseDelegate","sap/ui/mdc/field/MultiValueFieldDelegate"],function(t,e,n){"use strict";return Object.assign({},n,{getDescription:function(t,n,i,s,o,a,u,d,l,c,r){if(i===undefined||i===null){return}return e.getDescription(t,n,i,s,o,a,undefined,undefined,l,c,r)},updateItems:async function(t,e,n){const i=n.getBinding("items");const s=i.isA("sap.ui.model.json.JSONListBinding");const o=i.isA("sap.ui.model.odata.v4.ODataListBinding");const a=n.getBindingInfo("items");const u=a.template.getBindingInfo("key");const d=a.template.getBindingInfo("description");const l=u&&u.parts[0].path;const c=d&&d.parts&&d.parts[0]&&d.parts[0].path;if(o){await this._updateItemsInODataListBinding(i,e,n,l,c)}else if(s){this._updateItemsInJsonListBinding(e,n,l,c)}},_updateItemsInODataListBinding:async function(e,n,i,s,o){const a=e.getCurrentContexts();const u=[];const d=t.getTargetView(i).getController();const l=n.map(function(t){return t.values[0]});const c=a.map(function(t){return t.getProperty(s)});const r=[];for(let t=0;t<a.length;t++){const e=a[t];if(!l.includes(e.getProperty(s))){r.push(d.editFlow.deleteMultipleDocuments([e],{controlId:i.getId(),noDialog:true}))}}for(const t of n){if(!c.includes(t.values[0])){const e={};if(s&&!s.includes("/")){e[s]=t.values[0];if(o&&!o.includes("/")&&o!==s){e[o]=t.values[1]}u.push(e)}}}if(u.length){r.push(d.editFlow.createMultipleDocuments(e,u,true,false))}return Promise.all(r)},_updateItemsInJsonListBinding:function(t,e,n,i){const s=e.getCustomData().find(t=>t.getKey()==="forwardedItemsBinding");const o=s?.getValue();o.splice(0);for(const e of t){const t={};t[n]=e.values[0];if(e.values[1]){t[i]=e.values[1]}o.push(t)}const a=s?.getBindingInfo("value")?.parts[0]?.model;s?.getModel(a)?.updateBindings(true)}})},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/multivaluefield/MultiValueFieldRuntime", ["../field/FieldRuntimeHelper"],function(e){"use strict";const n={handleChange:async function(n,t){const i=t.getSource(),r=i.getBindingContext().isTransient(),s=t.getParameter("promise")??Promise.resolve("");const o=e.getExtensionController(n);await o.editFlow.syncTask(s);if(r){return}o._sideEffects.prepareDeferredSideEffectsForField(t,true,s)},onValidateFieldGroup:async function(n,t){const i=e.getExtensionController(n);await i._sideEffects.handleFieldGroupChange(t)}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/notes/Notes.block", ["sap/base/Log","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/ui/core/Lib"],function(e,t,r,i,a){"use strict";var n,o,l,u,s,c,p;var b={};var f=r.xml;var m=t.defineBuildingBlock;var d=t.blockAttribute;function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function y(e,t,r,i,a){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function w(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let P=(n=m({name:"Notes",namespace:"sap.fe.macros",libraries:["sap/nw/core/gbt/notes/lib/reuse"]}),o=d({type:"string",isPublic:true,required:true}),l=d({type:"sap.ui.model.Context",isPublic:true,required:true}),n(u=(s=function(t){function r(){var e;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++){i[a]=arguments[a]}e=t.call(this,...i)||this;g(e,"id",c,e);g(e,"contextPath",p,e);return e}b=r;h(r,t);r.load=async function t(){if(this.metadata.libraries){try{await Promise.all(this.metadata.libraries.map(async e=>a.load({name:e})))}catch(t){const r=`Couldn't load building block ${this.metadata.name} please make sure the following libraries are available ${this.metadata.libraries.join(",")}`;e.error(r);throw new Error(r)}}return Promise.resolve(this)};var i=r.prototype;i.getTemplate=async function e(){try{await r.load()}catch(e){return f`<m:Label text="${e}"/>`}return f`<fpm:CustomFragment xmlns:fpm="sap.fe.macros.fpm" id="${this.id}" contextPath="{contextPath>}" fragmentName="sap.nw.core.gbt.notes.lib.reuse.fe.fragment.NoteList"/>`};return r}(i),c=y(s.prototype,"id",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),p=y(s.prototype,"contextPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||u);b=P;return b},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/quickView/QuickView", ["sap/fe/base/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/SemanticObjectHelper","sap/fe/macros/field/FieldTemplating","sap/ui/core/CustomData","sap/ui/mdc/Link","sap/fe/base/jsx-runtime/jsx"],function(t,e,a,i,n,o,s,c){"use strict";var r={};var l=n.isUsedInNavigationWithQuickViewFacets;var u=i.getSemanticObjectsAndQualifierMap;var p=i.getSemanticObjectUnavailableActions;var f=i.getSemanticObjectMappings;var m=i.getPropertyWithSemanticObject;var d=i.getDynamicPathFromSemanticObject;var h=a.getRelativePaths;var g=a.getContextRelativeTargetObjectPath;var b=e.isProperty;var v=t.pathInModel;var P=t.compileExpression;let O=function(){function t(t,e,a,i){this.valueDataModelPath=t;this.metaPath=e;this.contextPath=a;this.semanticObject=i;this.computePropertiesAndPayload()}r=t;t.getRelativePathToQuickViewEntity=function t(e){let a;const i=this.getNavPropToQuickViewEntity(e);if(i){a=e.navigationProperties.reduce((t,a)=>{if(a.name!==i.name&&!e.contextLocation?.navigationProperties.find(t=>t.name===a.name)){return`${t}${a.name}/`}return t},"");a=`${a}${i.name}`}return a};t.getSemanticObjectMappingsForPayload=function t(e,a){const i=[];if(e!==undefined){for(const t of f(e)){const e=a[t.qualifier||""];if(e){i.push({semanticObject:e,items:t.map(t=>{switch(t.$Type){case"com.sap.vocabularies.Common.v1.SemanticObjectMappingConstant":throw new Error("Using SemanticObjectMappingConstant is not supported.");case"com.sap.vocabularies.Common.v1.SemanticObjectMappingType":default:return{key:t.LocalProperty.value,value:t.SemanticObjectProperty.valueOf()}}})})}}}return i};t.getSemanticObjectUnavailableActionsForPayload=function t(e,a){const i=[];if(e!==undefined){for(const t of p(e)){const e=a[t.qualifier||""];if(e){i.push({semanticObject:e,actions:t.map(t=>t)})}}}return i};t.addCustomSemanticObjectToSemanticObjectListForPayload=function t(e,a,i){if(a){e.splice(0,e.length);if(!a.startsWith("[")){if(!e.includes(a)){e.push(a);i["undefined"]=a}}else{for(const t of JSON.parse(a)){if(!e.includes(t)){e.push(t)}}}}};t.getNavPropToQuickViewEntity=function t(e){const a=e.targetObject;const i=e.targetEntityType.navigationProperties;let n=i.find(t=>t.referentialConstraint.some(e=>e.sourceProperty===a.name&&t.targetType.annotations.UI?.QuickViewFacets));if(!n&&e.contextLocation?.targetEntitySet!==e.targetEntitySet){const t=e.targetEntityType.annotations.Common?.SemanticKey||[];const i=t.some(t=>t.$target===a);const o=e.navigationProperties[e.navigationProperties.length-1];if((i||a.isKey)&&e.targetEntityType.annotations.UI?.QuickViewFacets){n=o}}return n};var e=t.prototype;e.computePropertiesAndPayload=function e(){const a=b(this.valueDataModelPath.targetObject)?this.valueDataModelPath.targetObject:undefined;const i=a&&l(this.valueDataModelPath,a)?"true":"false";const n=t.getRelativePathToQuickViewEntity(this.valueDataModelPath);let o=this.contextPath;o=o.endsWith("/")?o.slice(0,-1):o;const s=n?`${o}/${n}`:undefined;const c=n?P(v(n)):undefined;const r=m(this.valueDataModelPath);const{semanticObjectsList:p,qualifierMap:f}=u(r);const d=t.getSemanticObjectMappingsForPayload(r,f);const h=t.getSemanticObjectUnavailableActionsForPayload(r,f);t.addCustomSemanticObjectToSemanticObjectListForPayload(p,this.semanticObject,f);const O=a?.annotations.Common?.Label?.valueOf()||"";const j=Object.fromEntries(Object.entries(f).map(t=>{let[e,a]=t;const i=e===""?"SemanticObject":`SemanticObject#${e}`;return[i,a]}));this.qualifierMap=f;this.payload={semanticObjects:p,entityType:s,semanticObjectUnavailableActions:h,semanticObjectMappings:d,propertyPathLabel:O,contextPath:this.contextPath,dataField:s===undefined?this.metaPath:undefined,contact:undefined,dataFieldPropPath:g(this.valueDataModelPath),navigationPath:c,hasQuickViewFacets:i,qualifiers:j}};e.createContent=function t(){const e={name:"sap/fe/macros/quickView/QuickViewDelegate",payload:this.payload};const a=this.getAllCustomData(this.payload.semanticObjects,this.valueDataModelPath);return c(s,{delegate:e,children:a.length?{customData:a}:{}})};e.getCustomDataForSemanticObject=function t(e,a){if(d(e)){const t=Object.keys(this.qualifierMap)[a]===""?"":`#${Object.keys(this.qualifierMap)[a]}`;const i=`SemanticObject${t}`;return c(o,{value:e},i)}return};e.getAllCustomData=function t(e,a){const i=[];let n=0;const o=a&&h(a);for(const t of e){const e=d(t);let a;if(e){n=Object.values(this.qualifierMap).findIndex(e=>e===t);if(t.startsWith("{=")){a=t}else{a=P(v(e,undefined,o));for(const e of Object.keys(this.qualifierMap)){if(this.qualifierMap[e]===t){this.qualifierMap[e]=a}}}const s=this.getCustomDataForSemanticObject(a?a:"",n);if(s){i.push(s)}}}return i};return t}();r=O;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/quickView/QuickViewDelegate", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/deepEqual","sap/base/util/isPlainObject","sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/helpers/ToES6Promise","sap/fe/core/templating/SemanticObjectHelper","sap/fe/macros/field/FieldHelper","sap/fe/macros/field/FieldRuntime","sap/fe/navigation/SelectionVariant","sap/ui/core/Fragment","sap/ui/core/Lib","sap/ui/core/XMLTemplateProcessor","sap/ui/core/util/XMLPreprocessor","sap/fe/macros/quickView/QuickViewHeaderOptions","sap/ui/mdc/LinkDelegate","sap/ui/mdc/enums/LinkType","sap/ui/mdc/link/Factory","sap/ui/mdc/link/LinkItem","sap/ui/mdc/ushell/SemanticObjectMapping","sap/ui/mdc/ushell/SemanticObjectMappingItem","sap/ui/mdc/ushell/SemanticObjectUnavailableAction","sap/ui/model/json/JSONModel"],function(e,t,n,i,a,s,c,o,r,l,m,d,u,p,g,f,h,b,y,O,v,j,S,k,P){"use strict";var M=r.getDynamicPathFromSemanticObject;var _=a.resolveBindingString;const C=Object.assign({},b);C.apiVersion=2;const L={iLinksShownInPopup:3,sapmLink:"sap.m.Link",sapuimdcLink:"sap.ui.mdc.Link",sapuimdclinkLinkItem:"sap.ui.mdc.link.LinkItem",sapmObjectIdentifier:"sap.m.ObjectIdentifier",sapmObjectStatus:"sap.m.ObjectStatus"};C.getConstants=function(){return L};C._getEntityType=function(e,t){if(t){return t.createBindingContext(e.entityType)??undefined}else{return undefined}};C._getSemanticsModel=function(e,t){if(t){return new P(e)}else{return undefined}};C._getDataField=function(e,t){return t.createBindingContext(e.dataField)??undefined};C._getContact=function(e,t){return t.createBindingContext(e.contact)??undefined};C.preparePayload=function(e){const t=C.calculatePayloadWithDynamicSemanticObjectsResolved(e);if(!t.LinkId){t.LinkId=this.oControl?.isA(L.sapuimdcLink)?this.oControl.getId():undefined}if(t.LinkId){t.titleLink=this.oControl.getModel("$sapuimdcLink")?.getProperty("/titleLinkHref")}return t};C.fnTemplateFragment=async function(e){const t=s.getTargetView(e);const n=s.getAppComponent(t);let i="";const a={bindingContexts:{},models:{},appComponent:n};const c=C.preparePayload(e);const o=this._getSemanticsModel(c,this.oMetaModel);this.semanticModel=o;let r;if(c.entityType&&this._getEntityType(c,this.oMetaModel)&&o){i="sap.fe.macros.quickView.fragments.QuickViewForEntity";a.bindingContexts={entityType:this._getEntityType(c,this.oMetaModel),semantic:o.createBindingContext("/")};r=this._getEntityType(c,this.oMetaModel)?.getPath();a.models={entityType:this.oMetaModel,semantic:o}}else if(c.dataField&&this._getDataField(c,this.oMetaModel)&&o){i="sap.fe.macros.quickView.fragments.QuickViewForDataField";r=this._getDataField(c,this.oMetaModel)?.getPath();a.bindingContexts={dataField:this._getDataField(c,this.oMetaModel),semantic:o.createBindingContext("/")};a.models={dataField:this.oMetaModel,semantic:o}}a.models.entitySet=this.oMetaModel;a.models.metaModel=this.oMetaModel;a.models.converterContext=t.getModel("_pageModel");a.bindingContexts.converterContext=a.models.converterContext.createBindingContext("/");if(this.oControl&&this.oControl.getModel("viewData")){a.models.viewData=this.oControl.getModel("viewData");a.bindingContexts.viewData=this.oControl.getModel("viewData")?.createBindingContext("/")}const l=g.loadTemplate(i,"fragment");const m=await f.process(l,{name:i},a);const d=t.getController().getOwnerComponent();const p=await d.runAsOwner(async()=>await u.load({definition:m,controller:t.getController()}));if(r&&p.isA("sap.m.VBox")){const e=new h({contextPath:c.contextPath,metaPath:r,semanticPayload:o?.getObject("/")});p.insertItem(e,0)}p.setModel(o,"semantic");if(p){if(a.models&&a.models.semantic){p.setModel(a.models.semantic,"semantic");p.setBindingContext(a.bindingContexts.semantic,"semantic")}if(a.bindingContexts&&a.bindingContexts.entityType){p.setModel(a.models.entityType,"entityType");p.setBindingContext(a.bindingContexts.entityType,"entityType")}}return p};C.fetchAdditionalContent=async function(e){const t=e.getPayload();this.oControl=e;const n=t?.navigationPath?.match(/{(.*?)}/);const i=e.getBindingContext()?.getBinding();const a=i?.getAggregation&&i.getAggregation();const s=a!==undefined&&!a.hierarchyQualifier;const c=s?{$$ownRequest:true}:undefined;const o=n&&n.length>1&&n[1]?e.getModel()?.bindContext(n[1],e.getBindingContext()||undefined,c):null;this.payload=t;this.oMetaModel=e.getModel()?.getMetaModel();const r=await this.fnTemplateFragment(e);if(o){const e=o.getBoundContext();if(e){r.setBindingContext(e)}}return[r]};C._fetchLinkCustomData=function(e){if(e.getParent()&&e.isA(L.sapuimdcLink)&&(e.getParent()?.isA(L.sapmLink)||e.getParent()?.isA(L.sapmObjectIdentifier)||e.getParent()?.isA(L.sapmObjectStatus)||e.getParent()?.isA("sap.fe.macros.controls.TextLink"))){return e.getCustomData()}else{return undefined}};C.fetchLinkItems=async function(e,t,n){const i=e.getPayload();if(t&&C._getSemanticObjects(i)){if(n){n.initialize(C._getSemanticObjects(i))}const a=this._link&&this._fetchLinkCustomData(this._link);this.aLinkCustomData=a&&this._fetchLinkCustomData(this._link)?.map(function(e){return e.getValue()});const s=C._calculateSemanticAttributes(t,i,n,e);const c=s.results;const o=s.payload;return C._retrieveNavigationTargets("",c,o,n,this._link).then(function(e){return e.length===0?null:e})}else{return Promise.resolve(null)}};C._findLinkType=function(e,t){let n,i;if(t?.length===1){i=new v({text:t[0].getText(),href:t[0].getHref()});n=e.hasQuickViewFacets==="false"?y.DirectLink:y.Popover}else if(e.hasQuickViewFacets==="false"&&t?.length===0){n=y.Text}else{n=y.Popover}return{linkType:n,linkItem:i}};C.fetchLinkType=async function(t){const n=t;const i=Object.assign({},t.getPayload());let a={initialType:{type:y.Popover,directLink:undefined},runtimeType:undefined};if(!this.appStateKeyMap){this.appStateKeyMap={}}try{if(i?.semanticObjects){this._link=t;let e=await n._retrieveUnmodifiedLinkItems();if(e.length===1){e=await n.retrieveLinkItems()}const a=C._findLinkType(i,e);return{initialType:{type:a.linkType,directLink:a.linkItem?a.linkItem:undefined},runtimeType:undefined}}else if(i?.contact?.length&&i?.contact?.length>0){return a}else if(i?.entityType&&i?.navigationPath){return a}a=undefined;throw new Error("no payload or semanticObjects found")}catch(t){e.error("Error in SimpleLinkDelegate.fetchLinkType: ",t)}return a};C._RemoveTitleLinkFromTargets=function(e,t,n,i){let a;let s=false;if(n&&i&&t.length){const n=`#${t[0].getProperty("key")}`;const c=i.split("?")[0];const o=c===n;if(o){a=t[0].getProperty("href");this.payload.titleLinkhref=a;const i=e.getModel("$sapuimdcLink");i.setProperty("/titleLinkHref",a);const c=i?.getProperty("/linkItems").filter(function(e){if(`#${e.key}`!==n){return e}});if(c&&c.length>0){i.setProperty("/linkItems/",c)}s=true}}return s};C._IsSemanticObjectDynamic=function(e,t){if(e&&t.aLinkCustomData){return t.aLinkCustomData.filter(function(t){return e.filter(function(e){return e!==t}).length>0}).length>0}else{return false}};C._getLineContext=function(e,t){if(!t){if(e.getAggregation("content")[0]&&e.getAggregation("content")[0].getBindingContext()){return e.getAggregation("content")[0].getBindingContext()}}return t};C._setFilterContextUrlForSelectionVariant=function(e,t,n){if(e.getViewData().entitySet&&t){const i=n.constructContextUrl(e.getViewData().entitySet,e.getModel());t.setFilterContextUrl(i)}return t};C._setObjectMappings=function(e,t,n,i){let a=false;const s=new d(i.toJSONObject());n.forEach(function(n){let i=n.semanticObject;const c=M(n.semanticObject);if(c&&t[c]){i=t[c]}if(e===i){const e=n.items;for(const n in e){const i=e[n].key;const c=e[n].value;if(i!==c){if(t[i]){s.removeParameter(c);s.removeSelectOption(c);s.renameParameter(i,c);s.renameSelectOption(i,c);t[c]=t[i];delete t[i];a=true}else if(i.split("/").length>1){let e=s.getSelectOptionsPropertyNames().find(e=>e.includes(i.replace("/",".")));e=e?e:i.split("/").slice(-1)[0];if(!t[e]){delete t[e];s.removeParameter(e);s.removeSelectOption(e)}else if(e!==c){s.removeParameter(c);s.removeSelectOption(c);s.renameParameter(e,c);s.renameSelectOption(e,c);t[c]=t[e];delete t[e]}}else{delete t[i];s.removeParameter(c);s.removeSelectOption(c)}}}}});return{params:t,hasChanged:a,selectionVariant:s}};C._getAppStateKeyAndUrlParameters=async function(e,t,i,a){let s=[];if(n(i,e.appStateKeyMap[""]?.selectionVariant)){const t=e.appStateKeyMap[""];return[t.semanticAttributes,t.appstatekey]}if(e.appStateKeyMap[`${a}`]===undefined||!n(e.appStateKeyMap[`${a}`].selectionVariant,i)){s=await o(t.getAppStateKeyAndUrlParameters(i.toJSONString()));e.appStateKeyMap[`${a}`]={semanticAttributes:s[0],appstatekey:s[1],selectionVariant:i}}else{const t=e.appStateKeyMap[`${a}`];s=[t.semanticAttributes,t.appstatekey]}return s};C._getLinkItemWithNewParameter=async function(e,t,n,i,a){const c=await e.shellServices.expandCompactHash(n.mdcLinkItem.getHref());const o=e.shellServices.parseShellHash(c);let r;const m={semanticObject:o.semanticObject,action:o.action,propertiesWithoutConflict:n.propertiesWithoutConflict,linkContextPath:n.mdcLink.getBindingContext()?.getPath()};const d=s.getTargetView(n.mdcLink);const u=d.getController();u.intentBasedNavigation.adaptNavigationContext(a,m);const p=Object.assign({},e.navigationService.oNavHandler._getURLParametersFromSelectionVariant(a));const{params:g}=C._setObjectMappings(o.semanticObject,p,n.payload.semanticObjectMappings,a);delete g["sap-xapp-state"];delete g["@odata.etag"];const f={semanticObject:o.semanticObject,action:o.action,params:g,appStateKey:i};const h=await e.shellServices.getLinks([f]);const b=h&&h[0]&&h[0][0].intent;n.mdcLinkItem.setHref(b);if(n.payload.semanticPrimaryActions&&n.payload.semanticPrimaryActions.some(e=>e!==null)){const{primaryIntentFound:e}=l.findPrimaryActionWithinIntents(n.payload.semanticPrimaryActions,n.payload);r=e?e.intent??"":undefined}return C._RemoveTitleLinkFromTargets.bind(t)(n.mdcLink,[n.mdcLinkItem],n.titleHasLink,r)};C._removeEmptyLinkItem=function(e){return e.filter(e=>e!==undefined)};C._checkImplicitSemanticObjectMapping=function(e,t,n,i){if(!t){return}const a=i.getController()._intentBasedNavigation.removeSensitiveData(n.getObject(),i.getModel().getMetaModel().getMetaPath(n?.getPath()||""),i.getModel().getMetaModel());if(Object.keys(a)?.includes(t)){e.semanticObjects?.forEach(n=>{const i=e.semanticObjectMappings.filter(e=>e.semanticObject===n);if(!i.length){e.semanticObjectMappings.push({semanticObject:n,items:[{key:t,value:n}]})}})}};C.modifyLinkItems=async function(t,n,i){if(i.length!==0){this.payload=t.getPayload();const n=C.calculatePayloadWithDynamicSemanticObjectsResolved(t);const a=s.getTargetView(t);const c=s.getAppComponent(a);const o=await l.checkPrimaryActions(n,true,c);const r=o.hasTitleLink;const m=c.getShellServices();if(!m.hasUShell()){e.error("QuickViewDelegate: Cannot retrieve the shell services");return Promise.reject()}const d=a.getModel().getMetaModel();let u=t.getBindingContext();try{const e=c.getNavigationService();const s=a.getController();let o,l;u=C._getLineContext(a,u);const p=d.getMetaPath(u?.getPath()||"");l=u?.getObject();if(u){const e=this.payload?.dataFieldPropPath;const t=[];C._checkImplicitSemanticObjectMapping(n,e,u,a);this.payload.semanticObjectMappings.forEach(e=>{e.items.forEach(e=>{t.push(e.key)})});if(e){t.push(e)}l=s._intentBasedNavigation.processSemanticAttributes(u,l,t);l=s._intentBasedNavigation.removeSensitiveData(l,p,d);l=s._intentBasedNavigation.prepareContextForExternalNavigation(l,u)}o=e.mixAttributesAndSelectionVariant(l.semanticAttributes,{});o=C._setFilterContextUrlForSelectionVariant(a,o,e);C._removeTechnicalParameters(o);const g=undefined;let f;i=C._removeEmptyLinkItem(i);for(const a in i){f=await C._getLinkItemWithNewParameter({shellServices:m,navigationService:e},this,{mdcLink:t,payload:n,titleHasLink:r,mdcLinkItem:i[a],propertiesWithoutConflict:l.propertiesWithoutConflict},g,o);if(f===true&&i.length>1){i[a]=undefined}}return C._removeEmptyLinkItem(i)}catch(t){e.error("Error while getting the navigation service",t);return[]}}else{return i}};C.beforeNavigationCallback=async function(e,t){const n=t.getSource(),i=n.getHref(),a=await O.getServiceAsync("URLParsing"),o=i&&a.parseShellHash(i);c.storeControlRefreshStrategyForHash(n,o);const r=s.getTargetView(e);const l=s.getAppComponent(r);const m=l.getNavigationService();const d=n.getHref();const u=a.parseShellHash(d);m.navigate(u&&u.semanticObject,u&&u.action,u&&u.params);return Promise.resolve(false)};C._removeTechnicalParameters=function(e){e.removeSelectOption("@odata.context");e.removeSelectOption("@odata.metadataEtag");e.removeSelectOption("SAP__Messages")};C._getSemanticObjectCustomDataValue=function(e,t){let n,i;for(const a of e){n=a.getKey();i=a.getValue();t[n]={value:i}}};C._isDynamicPath=function(e){const t=_(e);if(t._type==="EmbeddedBinding"||t._type==="EmbeddedExpressionBinding"){return true}else{return false}};C._updatePayloadWithResolvedSemanticObjectValue=function(e,t){switch(typeof t){case"string":e.semanticObjectsResolved?.push(t);e.semanticObjects.push(t);break;case"object":for(const n in t){e.semanticObjectsResolved?.push(t[n]);e.semanticObjects.push(t[n])}break;default:}};C._createNewPayloadWithDynamicSemanticObjectsResolved=function(e,t,n){let i;const a=function(e,t){return Object.keys(e).find(n=>e[n]===t)};for(const s in e.semanticObjects){i=e.semanticObjects[s];if(C._isDynamicPath(i)){const s=e.qualifiers&&a(e.qualifiers,i);const c=s&&t[s].value;C._updatePayloadWithResolvedSemanticObjectValue(n,c)}else{n.semanticObjects.push(i)}}};C._updateSemanticObjectsForMappings=function(e,t,n){t.semanticObjectMappings.forEach(function(t){if(t.semanticObject&&C._isDynamicPath(t.semanticObject)){t.semanticObject=n.semanticObjects[e.semanticObjects.indexOf(t.semanticObject)]}})};C._updateSemanticObjectsUnavailableActions=function(e,t,n){let i;t.forEach(function(t){if(t?.semanticObject&&C._isDynamicPath(t.semanticObject)){i=e.semanticObjects.findIndex(function(e){return e===t.semanticObject});if(i!==undefined){t.semanticObject=n.semanticObjects[i]}}})};C._removeEmptySemanticObjectsMappings=function(e){for(let t=0;t<e.semanticObjectMappings.length;t++){if(e.semanticObjectMappings[t]&&e.semanticObjectMappings[t].semanticObject===undefined){e.semanticObjectMappings.splice(t,1)}}};C._setPayloadWithDynamicSemanticObjectsResolved=function(e,n){let i;if(n.semanticObjectsResolved&&n.semanticObjectsResolved.length>0){i={qualifiers:e.qualifiers,entityType:e.entityType,dataField:e.dataField,contact:e.contact,contextPath:e.contextPath,navigationPath:e.navigationPath,propertyPathLabel:e.propertyPathLabel,dataFieldPropPath:e.dataFieldPropPath,semanticObjectMappings:t(e.semanticObjectMappings),semanticObjectUnavailableActions:[],semanticObjects:n.semanticObjects};C._updateSemanticObjectsForMappings(e,i,n);const a=t(e.semanticObjectUnavailableActions);C._updateSemanticObjectsUnavailableActions(e,a,i);i.semanticObjectUnavailableActions=a;C._removeEmptySemanticObjectsMappings(i);return i}else{return{}}};C._getPayloadWithDynamicSemanticObjectsResolved=function(e,t){let n;const i={};const a={semanticObjects:[],semanticObjectsResolved:[],semanticObjectMappings:[],semanticObjectUnavailableActions:[],qualifiers:{}};if(e.semanticObjects){if(t&&t.length>0){C._getSemanticObjectCustomDataValue(t,i);C._createNewPayloadWithDynamicSemanticObjectsResolved(e,i,a);n=C._setPayloadWithDynamicSemanticObjectsResolved(e,a);return n}}else{return undefined}};C._updatePayloadWithSemanticAttributes=function(t,n,a,s,c){t.forEach(function(t){if(n){n.addContextObject(t,a)}s[t]={};for(const o in a){let r=null,l=null;if(n){r=n.getSemanticObjectAttribute(t,o);if(!r){r=n.createAttributeStructure();n.addSemanticObjectAttribute(t,o,r)}}if(a[o]===undefined||a[o]===null){if(r){r.transformations.push({value:undefined,description:"ℹ Undefined and null values have been removed in SimpleLinkDelegate."})}continue}if(i(a[o])){if(c&&c[t]){const e=Object.keys(c[t]);let n,i,r,l;for(const m of e){l=m;if(l.indexOf(o)===0){n=c[t][l];i=l.split("/")[l.split("/").length-1];r=a[o][i];if(n&&i&&r){s[t][n]=r}}}}if(r){r.transformations.push({value:undefined,description:"ℹ Plain objects has been removed in SimpleLinkDelegate."})}continue}const m=c&&c[t]&&c[t][o]?c[t][o]:o;if(r&&o!==m){l={value:undefined,description:`ℹ The attribute ${o} has been renamed to ${m} in SimpleLinkDelegate.`,reason:`🔴 A com.sap.vocabularies.Common.v1.SemanticObjectMapping annotation is defined for semantic object ${t} with source attribute ${o} and target attribute ${m}. You can modify the annotation if the mapping result is not what you expected.`}}if(s[t][m]){e.error(`SimpleLinkDelegate: The attribute ${o} can not be renamed to the attribute ${m} due to a clash situation. This can lead to wrong navigation later on.`)}s[t][m]=a[o];if(r){if(l){r.transformations.push(l);const e=n.createAttributeStructure();e.transformations.push({value:a[o],description:`ℹ The attribute ${m} with the value ${a[o]} has been added due to a mapping rule regarding the attribute ${o} in SimpleLinkDelegate.`});n.addSemanticObjectAttribute(t,m,e)}}}})};C.calculatePayloadWithDynamicSemanticObjectsResolved=function(e){const t=e?.getPayload();const n=e&&this._fetchLinkCustomData(e);const i=C._getPayloadWithDynamicSemanticObjectsResolved(t,n);return i?i:t};C._calculateSemanticAttributes=function(e,t,n,i){const a=e.getObject();const c=C.calculatePayloadWithDynamicSemanticObjectsResolved(i);const o=C._getSemanticObjects(c);if(!o.length){return{payload:c,results:{}}}const r={};const l=s.getTargetView(i);const m=c?.dataFieldPropPath;C._checkImplicitSemanticObjectMapping(c,m,e,l);const d=C._convertSemanticObjectMapping(C._getSemanticObjectMappings(c));C._updatePayloadWithSemanticAttributes(o,n,a,r,d);return{payload:c,results:r}};C.checkPrimaryActionForHash=function(e,t,n){return t.some(t=>{let i=e.constructShellHash({target:{shellHash:t.intent}});if(i.includes("?")){i=i.substring(0,i.indexOf("?"))}return`${n.semanticObject}-${n.action}`===i})};C._retrieveNavigationTargets=async function(t,n,i,a,s){if(!i.semanticObjects){return Promise.resolve([])}const c=i.semanticObjects;const o={ownNavigation:undefined,availableActions:[]};let r=0;return p.load({name:"sap.ui.fl"}).then(async()=>new Promise(d=>{sap.ui.require(["sap/ui/fl/Utils"],async u=>{const p=u.getAppComponentForControl(s===undefined?this.oControl:s);const g=p?p.getShellServices():null;if(!g){d(o.availableActions,o.ownNavigation);return}if(!g?.hasUShell()){e.error("SimpleLinkDelegate: Service 'CrossApplicationNavigation' or 'URLParsing' could not be obtained");d(o.availableActions,o.ownNavigation)}const f=c.map(function(e){return{semanticObject:e,params:n?n[e]:undefined,appStateKey:t,sortResultsBy:"text"}});try{const e=await g.getLinks(f);let t=false;for(const n of e){if(n.length>0){t=true;break}if(t){break}}if(!e||!e.length||!t){d(o.availableActions,o.ownNavigation)}const n=C._getSemanticObjectUnavailableActions(i);const s=C._convertSemanticObjectUnavailableAction(n);let u=m._fnFixHashQueryString(p.getShellServices().getHash());if(u){u+="?"}const h=function(e,t){return!!s&&!!s[e]&&s[e].includes(t)};const b=(await l._getPrimaryIntents(p,i&&i.semanticObjects)).filter(Boolean);const y=function(e){const t=g.parseShellHash(e.intent);if(h(t.semanticObject,t.action)){return}const n=`#${g.constructShellHash({target:{shellHash:e.intent}})}`;if(e.intent&&e.intent.indexOf(u)===0){o.ownNavigation=new v({href:n,text:e.text});return}const i=new v({key:t.semanticObject&&t.action?`${t.semanticObject}-${t.action}`:undefined,text:e.text,description:undefined,href:n,icon:undefined,initiallyVisible:e.tags&&e.tags.includes("superiorAction")});if(i.getProperty("initiallyVisible")){if(!C.checkPrimaryActionForHash(g,b,t)){r++}}o.availableActions.push(i);if(a){a.addSemanticObjectIntent(t.semanticObject,{intent:i.getHref(),text:i.getText()})}};for(let t=0;t<c.length;t++){e[t].forEach(y)}if(r===0){for(let e=0;e<o.availableActions.length;e++){if(e<this.getConstants().iLinksShownInPopup){o.availableActions[e].setProperty("initiallyVisible",true)}else{break}}}d(o.availableActions,o.ownNavigation)}catch(t){e.error("SimpleLinkDelegate: '_retrieveNavigationTargets' failed executing getLinks method");d(o.availableActions,o.ownNavigation)}})}))};C._getSemanticObjects=function(e){return e.semanticObjects?e.semanticObjects:[]};C._getSemanticObjectUnavailableActions=function(e){const t=[];if(e.semanticObjectUnavailableActions){e.semanticObjectUnavailableActions.forEach(function(e){t.push(new k({semanticObject:e.semanticObject,actions:e.actions}))})}return t};C._getSemanticObjectMappings=function(e){const t=[];let n=[];if(e.semanticObjectMappings){e.semanticObjectMappings.forEach(function(e){n=[];if(e.items){e.items.forEach(function(e){n.push(new S({key:e.key,value:e.value}))})}t.push(new j({semanticObject:e.semanticObject,items:n}))})}return t};C._convertSemanticObjectMapping=function(e){if(!e.length){return undefined}const t={};e.forEach(e=>{if(!e.getSemanticObject()){throw Error(`SimpleLinkDelegate: 'semanticObject' property with value '${e.getSemanticObject()}' is not valid`)}t[e.getSemanticObject()]=Object.fromEntries(e.getItems().map(e=>[e.getKey(),e.getValue()]))});return t};C._convertSemanticObjectUnavailableAction=function(e){let t;let n;let i=[];if(!e.length){return undefined}const a={};e.forEach(function(e){t=e.getSemanticObject();if(!t){throw Error(`SimpleLinkDelegate: 'semanticObject' property with value '${t}' is not valid`)}i=e.getActions();if(a[t]===undefined){a[t]=i}else{n=a[t];i.forEach(function(e){n.push(e)});a[t]=n}});return a};C.fetchPopoverTitle=async function(e,t){const n="";if(!e||!t){return{sTitle:n,oLabelledByControl:undefined}}const i=C?._getLabelledByControl(t);return Promise.resolve({sTitle:n,oLabelledByControl:i})};return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/quickView/QuickViewHeaderOptions", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/converters/annotations/DataField","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldHelper","sap/fe/macros/field/FieldTemplating","sap/m/Avatar","sap/m/AvatarShape","sap/m/Link","sap/m/Text","sap/m/Title","sap/m/VBox","sap/ui/core/library","sap/ui/layout/HorizontalLayout","sap/ui/layout/VerticalLayout","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,i,a,n,r,o,s,l,c,u,p,h,d,f,y,b,m,g,v){"use strict";var I,P,T,D,F,k,z,j,O,L,M,w,V,x,U;var H={};var A=l.getTextBinding;var C=l.getDataModelObjectPathForValue;var E=o.getDisplayMode;var B=r.enhanceDataModelPath;var S=n.isEntityType;var _=a.isDataField;var N=t.property;var Q=t.defineUI5Class;var q=t.defineReference;var G=e.getExpressionFromAnnotation;var R=e.compileExpression;function $(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function J(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,K(e,t)}function K(e,t){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},K(e,t)}function W(e,t,i,a,n){var r={};return Object.keys(a).forEach(function(e){r[e]=a[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(e,t,r),null):r}function X(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let Y=(I=Q("sap.fe.macros.quickView.QuickViewHeaderOptions"),P=N({type:"string"}),T=N({type:"string"}),D=N({type:"object"}),F=N({type:"string"}),k=N({type:"string"}),z=q(),I(j=(O=function(e){function t(t,i){var a;a=e.call(this,t,i)||this;$(a,"contextPath",L,a);$(a,"metaPath",M,a);$(a,"semanticPayload",w,a);$(a,"id",V,a);$(a,"titleLink",x,a);$(a,"horizontalLayout",U,a);a.visible=true;return a}H=t;J(t,e);var i=t.prototype;i.onMetadataAvailable=function t(i){e.prototype.onMetadataAvailable.call(this,i);const a=this.getDataModelObjectForMetaPath(this.metaPath??"",this.contextPath);const n=a?.targetObject;if(S(n)){this.entityType=n;this.headerInfo=this.entityType?.annotations.UI?.HeaderInfo}else if(_(n)){this.convertedDataField=n;this.dataFieldValue=C(a)}else{this.entityType=a?.targetEntityType;this.headerInfo=this.entityType?.annotations.UI?.HeaderInfo}this.content=this.createContent()};i.setHeaderDisplayParametersForDataField=function e(){if(this.dataFieldValue&&this.convertedDataField){if(this.convertedDataField?.IconUrl){this.icon=this.convertedDataField.IconUrl;this.fallbackIcon="sap-icon://product"}else{this.icon=undefined;this.fallbackIcon=undefined}this.title=A(this.dataFieldValue,{displayMode:E(this.dataFieldValue)});this.description=this.convertedDataField.Label?R(this.convertedDataField.Label):R(this.convertedDataField.Value?.$target?.annotations?.Common?.Label)}};i.setHeaderDisplayParametersForEntityType=function e(){if(this.entityType){const e=this.headerInfo?.ImageUrl?G(this.headerInfo.ImageUrl):G(this.headerInfo?.TypeImageUrl);const t=R(e);this.icon=t==="undefined"?undefined:t;if(this.headerInfo?.TypeImageUrl){this.fallbackIcon=R(this.headerInfo.TypeImageUrl)}else if(this.entityType?.annotations.Common?.IsNaturalPerson?.valueOf()===true){this.fallbackIcon="sap-icon://person-placeholder"}else{this.fallbackIcon="sap-icon://product"}const i=this.getDataModelObjectPath(this.metaPath);if(i&&_(this.headerInfo?.Title)&&this.headerInfo?.Title.Value){const e=B(i,this.headerInfo.Title?.Value.path);if(e.targetObject){const t=A(e,{displayMode:E(e)});this.title=t!=="{}"?t:undefined}}if(i&&_(this.headerInfo?.Description)&&this.headerInfo?.Description.Value){const e=B(i,this.headerInfo.Description?.Value.path);const t=e.targetObject&&A(e,{displayMode:E(e)});this.description=e.targetObject===undefined?R({_type:"PathInModel",modelName:"semantic",path:"propertyPathLabel"}):t}}};i.getSemanticObjectsPrimaryActions=async function e(){if(this.semanticPayload&&await s.checkPrimaryActions(this.semanticPayload,false,this.getAppComponent())){const e=s.getPrimaryAction(this.semanticPayload);this.titleLink=e}this.setupTitle()};i.createContent=function e(){let t;this.setHeaderDisplayParametersForDataField();this.setHeaderDisplayParametersForEntityType();if(this.icon&&this.fallbackIcon){t=g(c,{class:"sapMQuickViewThumbnail sapUiTinyMarginEnd",src:this.icon,displayShape:this.entityType?.annotations.Common?.IsNaturalPerson?.valueOf()===true?u.Circle:u.Square,fallbackIcon:this.fallbackIcon})}const i=g(b,{class:"sapUiSmallMarginBottom sapMQuickViewPage",ref:this.horizontalLayout,children:t});this.isInitialized=this.getSemanticObjectsPrimaryActions();return g(f,{children:i})};i.setupTitle=function e(){let t;if(this.title){if(this.titleLink){t=g(p,{text:this.title,href:this.titleLink,emphasized:"true"})}else{t=g(d,{text:this.title,level:y.TitleLevel.H3,wrapping:"true"})}}const i=this.description?g(h,{text:this.description}):undefined;const a=v(m,{children:[t,i]});this.horizontalLayout.current?.addContent(a)};return t}(i),L=W(O.prototype,"contextPath",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),M=W(O.prototype,"metaPath",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),w=W(O.prototype,"semanticPayload",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),V=W(O.prototype,"id",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),x=W(O.prototype,"titleLink",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),U=W(O.prototype,"horizontalLayout",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),O))||j);H=Y;return H},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/richtexteditor/ButtonGroup", ["sap/fe/base/ClassSupport","sap/ui/core/Element"],function(e,r){"use strict";var t,i,n,o,a,l,u,c,b,p,s,f,y,m,v;var d={};var g=e.property;var z=e.defineUI5Class;function w(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function h(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,O(e,r)}function O(e,r){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},O(e,r)}function P(e,r,t,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,r,o),null):o}function j(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let _=(t=z("sap.fe.macros.richtexteditor.ButtonGroup"),i=g({type:"string"}),n=g({type:"string"}),o=g({type:"int"}),a=g({type:"int"}),l=g({type:"int"}),u=g({type:"string"}),t(c=(b=function(e){function r(){var r;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}r=e.call(this,...i)||this;w(r,"name",p,r);w(r,"visible",s,r);w(r,"priority",f,r);w(r,"row",y,r);w(r,"customToolbarPriority",m,r);w(r,"buttons",v,r);return r}d=r;h(r,e);return r}(r),p=P(b.prototype,"name",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),s=P(b.prototype,"visible",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),f=P(b.prototype,"priority",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),y=P(b.prototype,"row",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),m=P(b.prototype,"customToolbarPriority",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),v=P(b.prototype,"buttons",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),b))||c);d=_;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/richtexteditor/Plugin", ["sap/fe/base/ClassSupport","sap/ui/core/Element"],function(e,r){"use strict";var t,i,n,a,o;var l={};var u=e.property;var c=e.defineUI5Class;function s(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function f(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,p(e,r)}function p(e,r){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},p(e,r)}function b(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function d(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let v=(t=c("sap.fe.macros.richtexteditor.Plugin"),i=u({type:"string"}),t(n=(a=function(e){function r(){var r;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}r=e.call(this,...i)||this;s(r,"name",o,r);return r}l=r;f(r,e);return r}(r),o=b(a.prototype,"name",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),a))||n);l=v;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/share/MsTeamsOptions", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,a,o;var l={};var u=e.property;var c=e.defineUI5Class;function s(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function f(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,p(e,r)}function p(e,r){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},p(e,r)}function b(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function d(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let v=(t=c("sap.fe.macros.share.MsTeamsOptions"),i=u({type:"boolean"}),t(n=(a=function(e){function r(r,t){var i;i=e.call(this,r,t)||this;s(i,"enableCard",o,i);return i}l=r;f(r,e);return r}(r),o=b(a.prototype,"enableCard",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),a))||n);l=v;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/share/ShareAPI", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/helpers/ResourceModelHelper","../MacroAPI"],function(e,t,r,i){"use strict";var n,o,a,l,u,s,c;function f(e){return new Promise((t,r)=>{sap.ui.require([e],r=>{if(!(r&&r.__esModule)){r=r===null||!(typeof r==="object"&&e.endsWith("/library"))?{default:r}:r;Object.defineProperty(r,"__esModule",{value:true})}t(r)},e=>{r(e)})})}var p=r.getResourceModel;var b=t.property;var d=t.defineUI5Class;function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function h(e,t,r,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function m(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let O=(n=d("sap.fe.macros.share.ShareAPI",{interfaces:["sap.m.IOverflowToolbarContent"]}),o=b({type:"string"}),a=b({type:"boolean",defaultValue:true}),n(l=(u=function(t){function r(){var e;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++){i[n]=arguments[n]}e=t.call(this,...i)||this;v(e,"id",s,e);v(e,"visible",c,e);return e}g(r,t);var i=r.prototype;i.getOverflowToolbarConfig=function e(){return{canOverflow:true,onBeforeEnterOverflow:function(e){(e?.getContent()).getText=function(){const t=p(e);return t.getText("M_COMMON_SAPFE_ACTION_SHARE")}},onAfterExitOverflow:function(e){(e?.getContent()).getText=function(){return""}},priority:"High"}};i.setVisibility=async function t(r){const{default:i}=await f("sap/suite/ui/commons/collaboration/CollaborationHelper");const n=await i.isTeamsModeActive();if(!n){this.content.setVisible(r);this.visible=r}else{e.info("Share Building Block: visibility not changed since application is running in teams mode!")}return Promise.resolve(this)};i.addStyleClass=function e(t){const r=this.getAggregation("content");r.addStyleClass(t);return this};return r}(i),s=h(u.prototype,"id",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),c=h(u.prototype,"visible",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||l);return O},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/share/ShareOptions", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,o,a,l,s,u,c;var p={};var f=e.property;var b=e.defineUI5Class;function d(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function h(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,m(e,r)}function m(e,r){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},m(e,r)}function w(e,r,t,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,r,o),null):o}function y(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let g=(t=b("sap.fe.macros.share.ShareOptions"),i=f({type:"boolean",isBindingInfo:true}),n=f({type:"boolean",isBindingInfo:true}),o=f({type:"boolean",isBindingInfo:true}),t(a=(l=function(e){function r(r,t){var i;let n=t;if(typeof r!=="string"){n=r}const o=n?.showSendEmail;const a=n?.showCollaborationManager;const l=n?.showMsTeamsOptions;i=e.call(this,r,t)||this;d(i,"showSendEmail",s,i);d(i,"showCollaborationManager",u,i);d(i,"showMsTeamsOptions",c,i);i.showSendEmail=o;i.showCollaborationManager=a;i.showMsTeamsOptions=l;return i}p=r;h(r,e);return r}(r),s=w(l.prototype,"showSendEmail",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),u=w(l.prototype,"showCollaborationManager",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),c=w(l.prototype,"showMsTeamsOptions",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),l))||a);p=g;return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/situations/SituationsIndicator", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/formatters/StandardFormatter","sap/fe/macros/situations/SituationsPopover","sap/m/Button","sap/m/library","sap/fe/base/jsx-runtime/jsx"],function(t,e,r,i,n,a,o,s,l){"use strict";var u,p,c,f,y,b,d;var g={};var v=s.ButtonType;var m=a.showPopover;var h=r.property;var P=r.defineUI5Class;var T=e.pathInModel;var S=e.ifElse;var j=e.greaterThan;var O=e.formatResult;var w=e.equal;var z=e.compileExpression;var k=e.and;function x(t,e,r,i){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function C(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,N(t,e)}function N(t,e){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},N(t,e)}function B(t,e,r,i,n){var a={};return Object.keys(i).forEach(function(t){a[t]=i[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(t,e,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(t,e,a),null):a}function E(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let A=(u=P("sap.fe.macros.situations.SituationsIndicator"),p=h({type:"string",required:true}),c=h({type:"string",required:false}),u(f=(y=function(e){function r(t,r){var i;i=e.call(this,t,r)||this;x(i,"contextPath",b,i);x(i,"propertyPath",d,i);return i}g=r;C(r,e);var i=r.prototype;i.onMetadataAvailable=function t(){this.content=this.createContent()};r.getSituationsNavigationProperty=function e(r){let i;switch(r._type){case"NavigationProperty":i=r.targetType.navigationProperties;break;case"EntityType":i=r.navigationProperties;break;default:i=r.entityType.navigationProperties}const n=i.filter(t=>!t.isCollection&&t.targetType.annotations.Common?.SAPObjectNodeType?.Name==="BusinessSituation");const a=n.length>=1?n[0]:undefined;if(n.length>1){const e=n.map(t=>`'${t.name}'`).join(", ");let i;switch(r._type){case"NavigationProperty":i=r.targetType.name;break;case"EntityType":i=r.name;break;default:i=r.entityType.name}t.error(`Entity type '${i}' has multiple paths to SAP Situations (${e}). Using '${a?.name}'.\nHint: Make sure there is at most one navigation property whose target entity type is annotated with\n<Annotation Term="com.sap.vocabularies.Common.v1.SAPObjectNodeType">\n  <Record>\n    <PropertyValue Property="Name" String="BusinessSituation" />\n  </Record>\n</Annotation>.`)}return a};i.onPress=function t(e,r){const i=this.getPageController();if(i){m(i,e,r)}};i.createContent=function t(){const e=this.getDataModelObjectForMetaPath(this.contextPath)?.targetEntityType;if(!e){return}const i=r.getSituationsNavigationProperty(e);if(!i){return undefined}const a=T(`${i.name}/SitnNumberOfInstances`);let s;if(!this.propertyPath){s=j(a,0)}else{s=k(j(a,0),w(T("semanticKeyHasDraftIndicator","internal"),this.propertyPath))}const u=S(j(a,1),a,"");const p=O([this.getTranslatedText("situationsTooltipSingular"),this.getTranslatedText("situationsTooltipPlural"),a],n.formatPluralMessageConditionally);return l(o,{type:v.Attention,icon:"sap-icon://alert",text:u,tooltip:z(p),visible:s,press:t=>this.onPress(t,i.name)})};return r}(i),b=B(y.prototype,"contextPath",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),d=B(y.prototype,"propertyPath",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),y))||f);g=A;return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/situations/SituationsPopover", ["sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/helpers/ResourceModelHelper","sap/fe/macros/situations/SituationsText","sap/m/Button","sap/m/CustomListItem","sap/m/HBox","sap/m/Label","sap/m/List","sap/m/ObjectIdentifier","sap/m/ObjectStatus","sap/m/ResponsivePopover","sap/m/Text","sap/m/Toolbar","sap/m/VBox"],function(t,e,n,a,s,i,o,c,l,p,d,r,u,g){"use strict";var m={};var S=n.bindText;var f=e.getResourceModel;function x(t){return{path:t,type:"sap.ui.model.odata.type.DateTimeOffset",constraints:{precision:7},formatOptions:{relative:true}}}let y;function h(e,n){let a=null;const o=new d({showHeader:false,contentHeight:`${n*4.5}em`,contentWidth:"25em",busyIndicatorDelay:200,placement:"Horizontal",content:[new c({items:{path:"_Instance",events:{dataReceived:()=>{o.setContentHeight()}},parameters:{$orderby:"SitnInstceLastChgdAtDateTime desc",$expand:"_InstanceAttribute($expand=_InstanceAttributeValue)"},template:new s({type:"Navigation",press:u,content:[new i({items:[new p({icon:"sap-icon://alert",state:"Warning",tooltip:f(e).getText("situation")}).addStyleClass("sapUiTinyMarginEnd"),new l({title:S("SituationTitle"),text:x("SitnInstceLastChgdAtDateTime")})]}).addStyleClass("sapUiSmallMarginBeginEnd").addStyleClass("sapUiSmallMarginTopBottom")]}),templateShareable:false},showNoData:false})]});function r(){if(a){a.unbindObject();a.close()}if(y){o.openBy(y)}}async function u(n){const s=n.getSource();const i=s.getBindingContext();if(i&&y){if(a===null){a=await b(e,r);e.getView().addDependent(a)}a.bindElement({path:i.getPath(),parameters:{$expand:"_InstanceAttribute($expand=_InstanceAttributeValue)"},events:{dataReceived:()=>{t.unlock(a)}}});o.close();t.lock(a);a.openBy(y)}}return o}async function b(t,e){const n=[];const s=f(t);if(e){n.push(new a({type:"Back",tooltip:s.getText("back"),press:e}).addStyleClass("sapUiNoMarginEnd"))}n.push(new p({state:"Warning",icon:"sap-icon://alert",tooltip:s.getText("situationIconTooltip")}).addStyleClass("sapUiSmallMarginBegin"));n.push(new l({titleActive:false,title:S("SituationTitle")}).addStyleClass("sapUiSmallMarginEnd"));const i={contentWidth:"25em",contentHeight:"7em",placement:"Horizontal",customHeader:new u({content:n}),busyIndicatorDelay:100,content:[new g({items:[new o({text:x("SitnInstceLastChgdAtDateTime")}),new r({text:S("SituationText")}).addStyleClass("sapUiTinyMarginTop")]})]};const c=t.getAppComponent().getShellServices();const m={target:{action:"displayExtended",semanticObject:"SituationInstance"}};const y=await c.isNavigationSupported([m]);if(y[0].supported){i.endButton=new a({text:s.getText("showDetails"),press:t=>{const e=t.getSource().getBindingContext()?.getObject(`SitnInstceKey`);if(e!==undefined&&e!==null){m.params={SitnInstceKey:e};c.toExternal(m)}}})}return new d(i).addStyleClass("sapUiPopupWithPadding").addStyleClass("sapUiResponsivePadding--header")}async function w(t,e,n){y=e.getSource();const a=y.getBindingContext(),s=a.getObject(`${n}/SitnNumberOfInstances`);let i;const o=a.getModel().bindContext(n,a,{$expand:"_Instance($expand=_InstanceAttribute($expand=_InstanceAttributeValue))"}).getBoundContext();if(s<=1){i=await b(t);i.setBindingContext(o);i.bindElement({path:"_Instance/0"})}else{i=h(t,s);i.setBindingContext(o)}t.getView().addDependent(i);i.openBy(y)}m.showPopover=w;w.__functionName="rt.showPopover";return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/situations/SituationsText", ["sap/base/Log","sap/ui/model/odata/type/Boolean","sap/ui/model/odata/type/Date","sap/ui/model/odata/type/DateTimeOffset","sap/ui/model/odata/type/Decimal","sap/ui/model/odata/type/Guid","sap/ui/model/odata/type/Int32","sap/ui/model/odata/type/String"],function(t,e,n,r,a,u,i,s){"use strict";var c={};const o={};function E(t){switch(t){case"EDM.BOOLEAN":return new e;case"EDM.DATE":case"EDM.DATETIME":return new n;case"EDM.DATETIMEOFFSET":return new r;case"EDM.DECIMAL":return new a;case"EDM.GUID":return new u;case"EDM.INT32":return new i;case"EDM.STRING":return new s;default:return E("EDM.STRING")}}function d(t,e,n){switch(t){case"EDM.STRING":return e;case"EDM.DATE":case"EDM.DATETIME":case"EDM.DATETIMEOFFSET":return n.parseValue(e,"string");case"EDM.INT32":return parseInt(e,10);case"EDM.DECIMAL":return parseFloat(e);case"EDM.GUID":return e;case"EDM.BOOLEAN":return e==="X";default:return e}}function l(t){let e=o[t];if(!e){e=E(t);o[t]=e}return e}function D(e,n){const r=this.getBindingContext();if(e===undefined||e===null||n===undefined||n===null||!r){return""}const a=r.getObject("_InstanceAttribute");if(a===undefined||a===null||a.length===0){return n}const u=(e,n,r)=>{const u=parseInt(n,10).toString();const i=a.find(t=>t.SitnInstceAttribSource===u&&t.SitnInstceAttribName===r);if(i===undefined){t.error(`Failed to resolve attribute ${n}.${r}`);return""}if(!i._InstanceAttributeValue){t.error(`Failed to resolve a value for attribute ${n}.${r}`);return""}const s=l(i.SitnInstceAttribEntityType);return i._InstanceAttributeValue.map(t=>{const e=d(i.SitnInstceAttribEntityType,t.SitnInstceAttribValue,s);return s.formatValue(e,"string")}).join(", ")};return n.replace(/\{(\d+)\.([^}]+)}/g,u)}c.formatter=D;function p(t){return{parts:[{path:"SitnInstceKey"},{path:`_InstanceText/${t}`}],formatter:D}}c.bindText=p;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/Action", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,l,a,u,o,b,c,p,s,f,y,m,d,g,v,z,w,O,h,j,P;var S={};var k=e.property;var q=e.event;var _=e.defineUI5Class;function x(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function B(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,C(e,r)}function C(e,r){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},C(e,r)}function E(e,r,t,i,n){var l={};return Object.keys(i).forEach(function(e){l[e]=i[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},l),n&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(n):void 0,l.initializer=void 0),void 0===l.initializer?(Object.defineProperty(e,r,l),null):l}function A(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let D=(t=_("sap.fe.macros.table.Action"),i=k({type:"string",required:true}),n=k({type:"string",required:true}),l=k({type:"string"}),a=k({type:"string"}),u=q(),o=k({type:"boolean"}),b=k({type:"boolean"}),c=k({type:"string"}),p=k({type:"string"}),s=k({type:"boolean"}),t(f=(y=function(e){function r(r){var t;t=e.call(this,r)||this;x(t,"key",m,t);x(t,"text",d,t);x(t,"anchor",g,t);x(t,"placement",v,t);x(t,"press",z,t);x(t,"requiresSelection",w,t);x(t,"enabled",O,t);x(t,"command",h,t);x(t,"enableOnSelect",j,t);x(t,"visible",P,t);return t}S=r;B(r,e);return r}(r),m=E(y.prototype,"key",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),d=E(y.prototype,"text",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),g=E(y.prototype,"anchor",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),v=E(y.prototype,"placement",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),z=E(y.prototype,"press",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),w=E(y.prototype,"requiresSelection",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),O=E(y.prototype,"enabled",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),h=E(y.prototype,"command",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),j=E(y.prototype,"enableOnSelect",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),P=E(y.prototype,"visible",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),y))||f);S=D;return S},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/ActionGroup", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty","sap/fe/macros/table/Action"],function(e,t,r){"use strict";var i,n,a,l,o,u,c,s,p,f,b,y,d,g,m;var v={};var z=e.property;var w=e.defineUI5Class;var O=e.aggregation;function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,A(e,t)}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function k(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let _=(i=w("sap.fe.macros.table.ActionGroup"),n=z({type:"string",required:true}),a=O({type:"sap.fe.macros.table.Action",altTypes:["sap.fe.macros.table.ActionOverride"],multiple:true,defaultClass:r,isDefault:true}),l=z({type:"string",required:true}),o=z({type:"string"}),u=z({type:"string"}),c=z({type:"string"}),i(s=(p=function(e){function t(t){var r;r=e.call(this,t)||this;h(r,"key",f,r);h(r,"actions",b,r);h(r,"text",y,r);h(r,"anchor",d,r);h(r,"placement",g,r);h(r,"defaultAction",m,r);return r}v=t;j(t,e);return t}(t),f=P(p.prototype,"key",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),b=P(p.prototype,"actions",[a],{configurable:true,enumerable:true,writable:true,initializer:function(){return[]}}),y=P(p.prototype,"text",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),d=P(p.prototype,"anchor",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),g=P(p.prototype,"placement",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),m=P(p.prototype,"defaultAction",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),p))||s);v=_;return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/ActionGroupOverride", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty","sap/fe/macros/table/Action"],function(e,r,t){"use strict";var i,a,n,o,l,u,c,s,p,f,b;var y={};var d=e.property;var m=e.defineUI5Class;var v=e.aggregation;function g(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function z(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,O(e,r)}function O(e,r){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},O(e,r)}function h(e,r,t,i,a){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,r,n),null):n}function w(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let j=(i=m("sap.fe.macros.table.ActionGroupOverride"),a=d({type:"string",required:true}),n=v({type:"sap.fe.macros.table.Action",altTypes:["sap.fe.macros.table.ActionOverride"],multiple:true,defaultClass:t,isDefault:true}),o=d({type:"string"}),l=d({type:"string"}),i(u=(c=function(e){function r(r){var t;t=e.call(this,r)||this;g(t,"key",s,t);g(t,"actions",p,t);g(t,"anchor",f,t);g(t,"placement",b,t);return t}y=r;z(r,e);return r}(r),s=h(c.prototype,"key",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),p=h(c.prototype,"actions",[n],{configurable:true,enumerable:true,writable:true,initializer:function(){return[]}}),f=h(c.prototype,"anchor",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),b=h(c.prototype,"placement",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||u);y=j;return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/ActionOverride", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,l,a,u,o,c,b,p,s,f,y,d,g,m,v,z,w,O,h,j,P;var S={};var k=e.property;var _=e.defineUI5Class;function A(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function I(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,B(e,r)}function B(e,r){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},B(e,r)}function C(e,r,t,i,n){var l={};return Object.keys(i).forEach(function(e){l[e]=i[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},l),n&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(n):void 0,l.initializer=void 0),void 0===l.initializer?(Object.defineProperty(e,r,l),null):l}function E(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let F=(t=_("sap.fe.macros.table.ActionOverride"),i=k({type:"string",required:true}),n=k({type:"string"}),l=k({type:"string"}),a=k({type:"boolean"}),u=k({type:"string"}),o=k({type:"string"}),c=k({type:"boolean"}),b=k({type:"boolean"}),p=k({type:"boolean"}),s=k({type:"string"}),t(f=(y=function(e){function r(r){var t;t=e.call(this,r)||this;A(t,"key",d,t);A(t,"anchor",g,t);A(t,"placement",m,t);A(t,"enabled",v,t);A(t,"command",z,t);A(t,"enableOnSelect",w,t);A(t,"enableAutoScroll",O,t);A(t,"visible",h,t);A(t,"navigateToInstance",j,t);A(t,"defaultValuesFunction",P,t);return t}S=r;I(r,e);return r}(r),d=C(y.prototype,"key",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),g=C(y.prototype,"anchor",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),m=C(y.prototype,"placement",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),v=C(y.prototype,"enabled",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),z=C(y.prototype,"command",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),w=C(y.prototype,"enableOnSelect",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),O=C(y.prototype,"enableAutoScroll",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),h=C(y.prototype,"visible",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),j=C(y.prototype,"navigateToInstance",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),P=C(y.prototype,"defaultValuesFunction",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),y))||f);S=F;return S},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/ActionsTemplating", ["sap/base/util/deepClone","sap/fe/base/BindingToolkit","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/controls/Common/table/StandardActions","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/macros/CommonHelper","sap/fe/macros/TSXUtils","sap/fe/macros/table/TableFullScreenButton","sap/fe/macros/table/TableHelper","sap/m/Button","sap/m/Menu","sap/m/MenuButton","sap/m/MenuItem","sap/m/OverflowToolbarLayoutData","sap/m/library","sap/m/upload/ActionsPlaceholder","sap/ui/core/Popup","sap/ui/mdc/actiontoolbar/ActionToolbarAction","../internal/helpers/ActionHelper","./BasicSearch","sap/fe/base/jsx-runtime/jsx"],function(e,n,t,i,a,o,d,r,l,s,c,u,b,f,m,p,v,x,M,g,C,A,h,I,T,D){"use strict";var y={};var P=g.MenuButtonMode;var F=u.createCustomData;var O=s.generate;var E=r.UI;var B=d.StandardActionKeys;var N=o.aiIcon;var _=o.ButtonType;var L=a.isDataFieldForIntentBasedNavigation;var S=a.isDataFieldForAction;var j=a.isActionWithDialog;var k=t.ActionType;var H=n.resolveBindingString;var w=n.pathInModel;var U=n.notEqual;var q=n.equal;var R=n.compileExpression;var $=n.and;function V(e,n,t,a,o,d,r){if(!t.annotationPath){return undefined}const l=c.getActionContext(r.metaModel.createBindingContext(t.annotationPath+"/Action"));const s=r.metaModel.createBindingContext(l);const u=s?i.getInvolvedDataModelObjects(s,d):undefined;const b=e.ActionTarget?.isBound;const m=e.ActionTarget?.annotations?.Core?.OperationAvailable?.valueOf()!==false;const p=!o?t.command:t.command+"::ContextMenu";const v=o?"ContextMenu":"ActionMenu";const M=t.command?undefined:r.handlerProvider.getDataFieldForActionButtonPressHandler(e,t,n,o);const g=t.command?`cmd:${p}|press`:undefined;let C=t.enabled!==undefined?t.enabled:f.isDataFieldForActionEnabled(a.tableDefinition,e.Action,!!b,s.getObject(),t.enableOnSelect,u?.targetEntityType,o);if(a.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel&&!!b){C=R($(E.isNodeLevelNavigable,H(C)))}if(b!==true||m){const i=O([a.contentId,t.key,n.key,v,e,"MenuItemForAction"]);return D(x,{text:e.Label,id:i,press:M,"jsx:command":g,enabled:C,visible:t.visible,children:{customData:[F("actionId",i)]}})}else{return undefined}}function W(e,n,t){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let a=arguments.length>4?arguments[4]:undefined;let o=arguments.length>5?arguments[5]:undefined;let d=arguments.length>6?arguments[6]:undefined;const r=n.command?undefined:d.getDataFieldForIBNPressHandler(n,i);const l=n.command?`cmd:${n.command}|press`:undefined;const s=n.enabled!==undefined?n.enabled:f.isDataFieldForIBNEnabled({collection:a,tableDefinition:t.tableDefinition},e,e.RequiresContext,e.NavigationAvailable,i);const c=i?O([t.contentId,n.key,o.key,e,"MenuItemIntentBasedNavigation","ContextMenu"]):O([t.contentId,n.key,o.key,e,"MenuItemIntentBasedNavigation"]);return D(x,{text:e.Label,id:c,press:r,"jsx:command":l,enabled:s,visible:n.visible,children:{customData:[!e.RequiresContext?F("IBNData",{semanticObject:e.SemanticObject,action:e.Action}):undefined,F("actionId",c)]}})}function X(e,n,t,i,a,o){const d=n.annotationPath?o.convertedMetadata.resolvePath(n.annotationPath).target:undefined;switch(d&&n.type){case"ForAction":if(S(d)){if(!i||i&&f.isActionShownInContextMenu(n,t.contextObjectPath)){return V(d,e,n,t,i,a,o)}}break;case"ForNavigation":if(L(d)&&(!i||i&&f.isActionShownInContextMenu(n,t.contextObjectPath))){return W(d,n,t,i,a,e,o.handlerProvider)}break;default:}const r=!i?n.command:n.command+"::ContextMenu";const l=n.command?undefined:o.handlerProvider.getManifestActionPressHandler(n,i);const s=n.command?`cmd:${r}|press`:undefined;let c=!i?n.enabled:n.enabledForContextMenu;if(n.requiresSelection&&t.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel){c=R($(H(c??""),E.isNodeLevelNavigable))}const u=i?"ContextMenu":"ActionMenu";const b=O([t.contentId,n.key,u,e.key,d,"MenuItem"]);return D(x,{"core:require":"{FPM: 'sap/fe/core/helpers/FPMHelper'}",text:n?.text,id:b,press:l,"jsx:command":s,visible:n.visible,enabled:c,children:{customData:[F("actionId",b)]}})}function Y(e,n,t,a,o,d){const r=d.metaModel.createBindingContext(n.annotationPath+"/Action");const l=c.getActionContext(r);const s=d.metaModel.createBindingContext(l);const u=s?i.getInvolvedDataModelObjects(s,o):undefined;const b=e.ActionTarget?.isBound;const p=!a?n.command:n.command+"::ContextMenu";const v=n.command?undefined:d.handlerProvider.getDataFieldForActionButtonPressHandler(e,n,undefined,a);const M=n.command?`cmd:${p}|press`:undefined;const g=n.enabled!==undefined?n.enabled:f.isDataFieldForActionEnabled(t.tableDefinition,e.Action,!!b,s.getObject(),n.enableOnSelect,u?.targetEntityType,a);const C=n.isAIOperation===true?N:undefined;if(!a){const i=O([t.contentId,e]);return D(m,{id:i,text:e.Label,icon:C,ariaHasPopup:j(e),press:v,"jsx:command":M,type:_.Transparent,enabled:g,visible:n.visible,children:{customData:[F("actionId",i)]}})}else{const i=O([t.contentId,e,"ContextMenu"]);return D(x,{id:i,text:e.Label,icon:C,press:v,"jsx:command":M,enabled:g,visible:n.visibleForContextMenu,children:{customData:[F("actionId",i)]}})}}function G(e,n,t,i,a,o){const d=!i?n.command:n.command+"::ContextMenu";const r=n.command?undefined:o.getDataFieldForIBNPressHandler(n,i);const l=n.command?`cmd:${d}|press`:undefined;const s=n.enabled!==undefined?n.enabled:f.isDataFieldForIBNEnabled({collection:a,tableDefinition:t.tableDefinition},e,e.RequiresContext,e.NavigationAvailable,i);const c=!e.RequiresContext?{semanticObject:e.SemanticObject,action:e.Action}:undefined;if(!i){const i=O([t.contentId,e]);return D(m,{id:i,text:e.Label,press:r,"jsx:command":l,type:_.Transparent,enabled:s,visible:n.visible,children:{customData:[F("IBNData",c),F("actionId",i)]}})}else{const i=O([t.contentId,e,"ContextMenu"]);return D(x,{id:i,text:e.Label,press:r,"jsx:command":l,enabled:s,visible:n.visibleForContextMenu,children:{customData:[F("IBNData",c),F("actionId",i)]}})}}function K(n,t,i,a,o){const d=n.annotationPath?o.convertedMetadata.resolvePath(n.annotationPath).target:undefined;let r;if(!d){return undefined}switch(n.type){case"ForAction":if(S(d)){const l=d.ActionTarget?.isBound;if(!!l&&t.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel){n=e(n);n.enabled=R($(H(n.enabled??""),E.isNodeLevelNavigable))}const s=d.ActionTarget?.annotations?.Core?.OperationAvailable?.valueOf()!==false;if(!i||f.isActionShownInContextMenu(n,t.contextObjectPath)){if(l!==true||s){r=Y(d,n,t,i,a,o)}}}break;case"ForNavigation":if(L(d)&&(!i||f.isActionShownInContextMenu(n,t.contextObjectPath))){r=G(d,n,t,i,a,o.handlerProvider)}break;default:}if(r===undefined){return undefined}if(!i){return D(h,{id:O([t.contentId,n.id,d,"ActionToolbarAction"]),"dt:designtime":n.visible==="true"||n.visible==="false"?undefined:"not-adaptable-visibility",children:{action:r}})}else{return r}}function z(e,n,t){if(!e){return{}}try{switch(e.type){case"ForAction":return{handler:t.handlerProvider.getDataFieldForActionButtonPressHandler(n,e,undefined,false)};case"ForNavigation":return{handler:t.handlerProvider.getDataFieldForIBNPressHandler(e,false)};default:{if(e.command){return{command:`cmd:${e.command}|defaultAction`}}else{return{handler:t.handlerProvider.getManifestActionPressHandler(e,false)}}}}}catch(e){return{}}}function J(n,t,i,a,o){if(n.requiresSelection&&t.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel){n=e(n);n.enabled=R($(H(n.enabled??""),E.isNodeLevelNavigable))}const d=n.isAIOperation===true?N:undefined;if(!i){const e=n.defaultAction;const r=e?.annotationPath?o.convertedMetadata.resolvePath(e.annotationPath).target:undefined;const l=z(e,r,o);const s=n.menu?.filter(e=>typeof e!=="string").map(e=>X(n,e,t,i,a,o)).filter(e=>e!==undefined);if(s?.length){const e=O([t.contentId,n.id]);return D(h,{id:O([t.contentId,n.id,"ActionToolbarAction"]),"dt:designtime":n.visible==="true"||n.visible==="false"?undefined:"not-adaptable-visibility",children:D(v,{text:n.text,type:_.Transparent,menuPosition:A.Dock.BeginBottom,id:e,visible:n.visible,enabled:n.enabled,useDefaultActionOnly:!!n.defaultAction,icon:d,buttonMode:n.defaultAction?P.Split:P.Regular,defaultAction:l.handler,"jsx:command":l.command,children:{customData:[F("actionId",e)],menu:D(p,{children:s})}})})}else{return undefined}}else{const e=[];n.menu?.forEach(n=>{if(typeof n!=="string"&&f.isActionShownInContextMenu(n,t.contextObjectPath)){e?.push(n)}});const r=e.filter(e=>typeof e!=="string").map(e=>X(n,e,t,i,a,o)).filter(e=>e!==undefined);if(r?.length){return D(x,{text:n.text,id:O([t.contentId,n.id,"ContextMenu"]),visible:n.visibleForContextMenu,enabled:n.enabledForContextMenu,icon:d,children:{items:r}})}else{return undefined}}}function Q(n,t,i,a){const o=!i?n.command:n.command+"::ContextMenu";const d=n.command?undefined:a.getManifestActionPressHandler(n,i);const r=n.command?`cmd:${o}|press`:undefined;if(n.requiresSelection&&t.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel){n=e(n);n.enabled=R($(H(n.enabled??""),E.isNodeLevelNavigable));n.enabledForContextMenu=R($(H(n.enabledForContextMenu??""),E.isNodeLevelNavigable))}if(!i){return D(h,{id:O([t.contentId,n.id,"ActionToolbarAction"]),"dt:designtime":n.visible==="true"||n.visible==="false"?undefined:"not-adaptable-visibility",children:D(m,{"core:require":"{FPM: 'sap/fe/core/helpers/FPMHelper'}",id:O([t.contentId,n.id]),text:n.text,press:d,"jsx:command":r,type:_.Transparent,visible:n.visible,enabled:n.enabled,icon:n.isAIOperation===true?N:undefined,children:{customData:[F("actionId",O([t.contentId,n.id]))]}})})}else if(f.isActionShownInContextMenu(n,t.contextObjectPath)){const e=O([t.contentId,n.id,"ContextMenu"]);return D(x,{"core:require":"{FPM: 'sap/fe/core/helpers/FPMHelper'}",id:e,text:n.text,press:d,"jsx:command":r,visible:n.visibleForContextMenu,enabled:n.enabledForContextMenu,children:{customData:[F("actionId",e)]}})}else{return undefined}}function Z(e,n,t,i,a){switch(e.type){case"Default":if("noWrap"in e){return Q(e,n,t,a.handlerProvider)}break;case"Menu":return J(e,n,t,i,a);default:}return K(e,n,t,i,a)}function ee(e,n,t,a,o){const d=e.annotationPath?o.convertedMetadata.resolvePath(e.annotationPath).target:undefined;const r=c.getActionContext(o.metaModel.createBindingContext(e.annotationPath+"/Action"));const l=d?.ActionTarget?.annotations?.Core?.OperationAvailable!==undefined;const s=o.metaModel.createBindingContext(r);const u=s?i.getInvolvedDataModelObjects(s,a):undefined;const b=d?.ActionTarget?.isBound;const p=d?o.handlerProvider.getDataFieldForActionButtonPressHandler(d,e,undefined,t):undefined;let v=l?f.isDataFieldForActionEnabled(n.tableDefinition,d.Action,!!b,s.getObject(),e.enableOnSelect,u?.targetEntityType,t,true):`{= ${I.getNumberOfContextsExpression("single",t)}}`;if(n.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel){v=R($(H(v),E.isNodeLevelNavigable))}if(!t){return D(h,{id:O([n.contentId,d,"ActionToolbarAction"]),"dt:designtime":e.visible==="true"||e.visible==="false"?undefined:"not-adaptable-visibility",children:D(m,{id:O([n.contentId,d]),text:e.text,press:p,type:_.Transparent,visible:e.visible,enabled:v,children:{customData:[F("actionId",O([n.contentId,d]))]}})})}else{return D(x,{id:O([n.contentId,d,"ContextMenu"]),text:e.text,press:p,visible:e.visibleForContextMenu,enabled:R(q(w("contextmenu/numberOfSelectedContexts","internal"),1)),children:{customData:[F("actionId",O([n.contentId,d,"ContextMenu"]))]}})}}function ne(e,n,t,i){const a=i.name;const o=n.getTranslatedText("M_COMMON_TABLE_CREATE",undefined,a);const d=n.tableDefinition.annotation.create.outboundDetail;const r=d?F("IBNData",{semanticObject:d.semanticObject,action:d.action}):undefined;if(n.tableDefinition.control.enableUploadPlugin){return D(C,{id:`${n.contentId}-uploadButton`,placeholderFor:"UploadButtonPlaceholder"})}else if(!t){return D(h,{id:O([n.contentId,e.key,"ActionToolbarAction"]),"dt:designtime":"not-adaptable-tree",children:D(m,{id:O([n.contentId,e.key]),text:o,"jsx:command":"cmd:Create|press",type:_.Transparent,visible:e.visible,enabled:e.enabled,children:{customData:r}})})}else{return D(x,{id:O([n.contentId,e.key,"ContextMenu"]),text:o,"jsx:command":"cmd:Create::ContextMenu|press",visible:e.visible,enabled:e.enabledForContextMenu})}}function te(e,n,t,i,a){const o=t.name;const d=n.getTranslatedText("M_COMMON_TABLE_CREATE",undefined,o);const r=n.tableDefinition.control.nodeType.values;const l=n.tableDefinition.control.createEnablement!==undefined;const s=r.map((e,t)=>{const o=!i?"":"contextmenu/";const d=l?U(w(`${o}createEnablement/Create_${t}`,"internal"),false):undefined;const r=i?O([n.contentId,e.value,"ContextMenu"]):O([n.contentId,e.value]);return D(x,{id:r,text:e.text,enabled:d?R(d):undefined,press:a.getCreateMenuItemPressHandler(t,i)})});if(i){return D(x,{id:O([n.contentId,e.key,"ContextMenu"]),text:d,visible:e.visible,enabled:e.enabledForContextMenu,children:{items:s!==undefined&&s.length>0?s:undefined}})}return D(h,{id:O([n.contentId,e.key,"ActionToolbarAction"]),"dt:designtime":"not-adaptable-tree",children:D(v,{text:d,type:_.Transparent,menuPosition:"BeginBottom",id:O([n.contentId,e.key]),visible:e.visible,enabled:e.enabled,children:{customData:[F("actionId",O([n.contentId,e.key]))],menu:D(p,{children:s})}})})}function ie(e,n,t,i){const a=i.name;const o=n.getTranslatedText("M_COMMON_TABLE_DELETE",undefined,a);if(!t){return D(h,{id:O([n.contentId,e.key,"ActionToolbarAction"]),"dt:designtime":"not-adaptable-tree",children:D(m,{id:O([n.contentId,e.key]),text:o,"jsx:command":"cmd:DeleteEntry|press",type:_.Transparent,visible:e.visible,enabled:e.enabled,ariaHasPopup:"Dialog"})})}else{return D(x,{id:O([n.contentId,e.key,"ContextMenu"]),text:o,"jsx:command":"cmd:DeleteEntry::ContextMenu|press",visible:e.visible,enabled:e.enabledForContextMenu})}}function ae(n,t,i,a,o){if(n.isTemplated==="false"){return undefined}if(t.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel&&n.key!==B.Create){n=e(n);n.enabled=R($(H(n.enabled??""),E.isNodeLevelNavigable));n.enabledForContextMenu=R($(H(n.enabledForContextMenu??""),E.isNodeLevelNavigable))}switch(n.key){case B.Create:if(!t.tableDefinition.annotation.isInsertUpdateActionsTemplated||t.tableDefinition.control.type!=="TreeTable"&&i){return undefined}else if(t.tableDefinition.control.nodeType){return te(n,t,o,i,a)}else{return ne(n,t,i,o)}case B.Delete:return ie(n,t,i,o);case B.Cut:return le(n,t,i);case B.Copy:return se(n,t,i);case B.Paste:return ue(n,t,i);case B.MassEdit:if(t.tableDefinition.annotation.isInsertUpdateActionsTemplated){if(!i){return D(h,{id:O([t.contentId,n.key,"ActionToolbarAction"]),"dt:designtime":"not-adaptable-tree",children:D(m,{id:O([t.contentId,n.key]),text:"{sap.fe.i18n>M_COMMON_TABLE_MASSEDIT}",press:a.getMassEditButtonPressHandler(false),visible:n.visible,enabled:n.enabled})})}else{return D(x,{id:O([t.contentId,n.key,"ContextMenu"]),text:"{sap.fe.i18n>M_COMMON_TABLE_MASSEDIT}",press:a.getMassEditButtonPressHandler(true),visible:n.visibleForContextMenu,enabled:n.enabledForContextMenu})}}return undefined;case B.Insights:if(!i){return D(h,{id:O([t.contentId,n.key,"ActionToolbarAction"]),"dt:designtime":n.visible==="true"||n.visible==="false"?undefined:"not-adaptable-visibility",visible:n.visible,children:D(m,{id:O([t.contentId,n.key]),text:"{sap.fe.i18n>M_COMMON_INSIGHTS_CARD}",press:a.addCardToInsightsPress,visible:n.visible,enabled:n.enabled,children:{layoutData:D(M,{priority:"AlwaysOverflow"})}})})}return undefined;case B.MoveUp:case B.MoveDown:return ce(n,t,i);default:return undefined}}function oe(e,n,t,i,a){return e.tableDefinition.actions.map(o=>{switch(o.type){case k.Standard:return ae(o,e,n,t.handlerProvider,a);case k.Copy:return ee(o,e,n,i,t);default:return Z(o,e,n,i,t)}}).filter(e=>e!==undefined)}y.getActions=oe;function de(e,n,t,i){if(e){return D(h,{id:O([n,"ActionToolbarAction"]),label:"{sap.fe.i18n>M_BASIC_SEARCH}","dt:designtime":"not-adaptable-tree",children:{action:D(T,{id:n,useDraftEditState:t,visible:i})}})}return undefined}function re(e){if(e.tableDefinition.control.enableFullScreen){return D(h,{id:O([e.contentId,"StandardAction","FullScreen","ActionToolbarAction"]),label:"{sap.fe.i18n>M_FULL_SCREEN}","dt:designtime":"not-adaptable-tree",children:{action:D(b,{id:O([e.contentId,"StandardAction","FullScreen"])})}})}return undefined}function le(e,n){let t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!t){return D(h,{id:O([n.contentId,"Cut","ActionToolbarAction"]),"dt:designtime":"not-adaptable-tree",children:D(m,{id:O([n.contentId,"Cut"]),text:"{sap.fe.i18n>M_TABLE_CUT}","jsx:command":"cmd:Cut|press",visible:e.visible,enabled:e.enabled})})}else{return D(x,{id:O([n.contentId,"Cut","ContextMenu"]),text:"{sap.fe.i18n>M_TABLE_CUT}","jsx:command":"cmd:Cut::ContextMenu|press",visible:e.visible,enabled:e.enabledForContextMenu})}}function se(e,n){let t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!t){return D(h,{id:O([n.contentId,"Copy","ActionToolbarAction"]),"dt:designtime":"not-adaptable-tree",children:D(m,{id:O([n.contentId,"Copy"]),text:"{sap.fe.i18n>M_TABLE_COPY}","jsx:command":"cmd:Copy|press",visible:e.visible,enabled:e.enabled})})}else{return D(x,{id:O([n.contentId,"Copy","ContextMenu"]),text:"{sap.fe.i18n>M_TABLE_COPY}","jsx:command":"cmd:Copy::ContextMenu|press",visible:e.visible,enabled:e.enabledForContextMenu})}}function ce(e,n,t){const i=e.key===B.MoveUp;if(!t){return D(h,{id:O([n.contentId,e.key,"ActionToolbarAction"]),visible:e.visible,"dt:designtime":"not-adaptable-tree",children:D(m,{id:O([n.contentId,e.key]),text:i?"{sap.fe.i18n>M_TABLE_MOVE_UP}":"{sap.fe.i18n>M_TABLE_MOVE_DOWN}","jsx:command":i?"cmd:TableMoveElementUp|press":"cmd:TableMoveElementDown|press",visible:e.visible,enabled:e.enabled})})}else{return D(x,{id:O([n.contentId,e.key,"ContextMenu"]),text:i?"{sap.fe.i18n>M_TABLE_MOVE_UP}":"{sap.fe.i18n>M_TABLE_MOVE_DOWN}","jsx:command":i?"cmd:TableMoveElementUp::ContextMenu|press":"cmd:TableMoveElementDown::ContextMenu|press",visible:e.visible,enabled:e.enabledForContextMenu})}}function ue(e,n){let t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const i=n.tableDefinition.control.type;if(i==="TreeTable"){if(!t){return D(h,{id:O([n.contentId,"Paste","ActionToolbarAction"]),"dt:designtime":"not-adaptable-tree",children:D(m,{id:O([n.contentId,"Paste"]),text:"{sap.fe.i18n>M_PASTE}","jsx:command":"cmd:Paste|press",visible:e.visible,enabled:e.enabled})})}else{return D(x,{id:O([n.contentId,"Paste","ContextMenu"]),text:"{sap.fe.i18n>M_PASTE}","jsx:command":"cmd:Paste::ContextMenu|press",visible:e.visible,enabled:e.enabledForContextMenu})}}return undefined}function be(e,n,t,i){const a=l.isDraftNode(i)||l.isDraftRoot(i);let o;if(e.isSearchable===false){o=false}else{o=e.tableDefinition.annotation.searchable}const d=[];const r=de(!!e.useBasicSearch,e.filterBar,a,o);if(r){d.push(r)}d.push(...oe(e,false,n,t,i));const s=re(e);if(s){d.push(s)}return d}y.getTableActionsTemplate=be;function fe(e,n,t,i){const a=oe(e,true,n,t,i);if(e.tableDefinition.control.type==="TreeTable"){a.push(me(e,true,n.handlerProvider.expandNode));a.push(me(e,false,n.handlerProvider.collapseNode))}return a}y.getTableContextMenuTemplate=fe;function me(e,n,t){const i=n?$(q(w("contextmenu/isExpandable","internal"),true),q(w("contextmenu/numberOfSelectedContexts","internal"),1)):$(q(w("contextmenu/isCollapsable","internal"),true),q(w("contextmenu/numberOfSelectedContexts","internal"),1));return D(x,{id:O([e.contentId,n?"Expand":"Collapse","ContextMenu"]),text:n?"{sap.fe.i18n>M_TABLE_CONTEXTMENU_EXPAND}":"{sap.fe.i18n>M_TABLE_CONTEXTMENU_COLLAPSE}",press:t,enabled:i})}return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/AnalyticalConfiguration", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,a,o;var l={};var u=e.property;var c=e.defineUI5Class;function f(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function s(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,p(e,r)}function p(e,r){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},p(e,r)}function b(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function d(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let v=(t=c("sap.fe.macros.table.AnalyticalConfiguration"),i=u({type:"boolean",defaultValue:false}),t(n=(a=function(e){function r(r){var t;t=e.call(this,r)||this;f(t,"aggregationOnLeafLevel",o,t);return t}l=r;s(r,e);return r}(r),o=b(a.prototype,"aggregationOnLeafLevel",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),a))||n);l=v;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/BasicSearch", ["sap/fe/base/ClassSupport","sap/fe/macros/filterBar/FilterHelper","sap/m/SearchField","sap/ui/core/Control","sap/ui/mdc/odata/v4/TypeMap"],function(e,t,r,i,a){"use strict";var n,o,l,u,s,c,p,f,d,b,g,m,y;var v=t.getEditStatusFilter;var _=e.property;var h=e.implementInterface;var S=e.event;var z=e.defineUI5Class;var w=e.aggregation;function C(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,F(e,t)}function F(e,t){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},F(e,t)}function I(e,t,r,i,a){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function O(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let P=(n=z("sap.fe.macros.table.BasicSearch"),o=h("sap.ui.mdc.IFilter"),l=S(),u=S(),s=w({type:"sap.ui.core.Control",multiple:false}),c=_({type:"boolean"}),n(p=(f=function(e){function t(){var t;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++){i[a]=arguments[a]}t=e.call(this,...i)||this;C(t,"__implements__sap_ui_mdc_IFilter",d,t);t.__implements__sap_ui_mdc_IFilterSource=true;C(t,"filterChanged",b,t);C(t,"search",g,t);C(t,"filter",m,t);C(t,"useDraftEditState",y,t);return t}E(t,e);var i=t.prototype;i.init=function e(){this.setAggregation("filter",new r({placeholder:"{sap.fe.i18n>M_FILTERBAR_SEARCH}",search:()=>{this.fireEvent("search")}}))};i.getConditions=function e(){if(this.useDraftEditState){return v()}return{}};i.getTypeMap=function e(){return a};i.getPropertyInfoSet=function e(){if(this.useDraftEditState){return[{name:"$editState",path:"$editState",groupLabel:"",group:"",typeConfig:a.getTypeConfig("sap.ui.model.odata.type.String",{},{}),dataType:"sap.ui.model.odata.type.String",hiddenFilter:false}]}return[]};i.getSearch=function e(){return this.filter.getValue()};i.validate=async function e(){return Promise.resolve()};t.render=function e(t,r){t.openStart("div",r);t.openEnd();t.renderControl(r.filter);t.close("div")};return t}(i),d=I(f.prototype,"__implements__sap_ui_mdc_IFilter",[o],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),b=I(f.prototype,"filterChanged",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),g=I(f.prototype,"search",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),m=I(f.prototype,"filter",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),y=I(f.prototype,"useDraftEditState",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),f))||p);return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/Column", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,t){"use strict";var r,i,n,l,a,u,o,p,b,c,s,f,y,g,m,d,z,w,v,h,O,j,C,P,k,S,q,_,x,E,I;var A={};var B=e.property;var D=e.defineUI5Class;var H=e.aggregation;function U(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function F(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,G(e,t)}function G(e,t){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},G(e,t)}function J(e,t,r,i,n){var l={};return Object.keys(i).forEach(function(e){l[e]=i[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},l),n&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(n):void 0,l.initializer=void 0),void 0===l.initializer?(Object.defineProperty(e,t,l),null):l}function K(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let L=(r=D("sap.fe.macros.table.Column"),i=B({type:"string",required:true}),n=B({type:"string",required:true}),l=B({type:"string"}),a=B({type:"string"}),u=B({type:"string"}),o=B({type:"boolean"}),p=B({type:"string"}),b=B({type:"string"}),c=B({type:"string[]"}),s=B({type:"string"}),f=B({type:"string"}),y=B({type:"boolean"}),g=H({type:"sap.ui.core.Control",isDefault:true}),m=H({type:"sap.fe.macros.table.ColumnExportSettings"}),r(d=(z=function(e){function t(t){var r;r=e.call(this,t)||this;U(r,"key",w,r);U(r,"header",v,r);U(r,"width",h,r);U(r,"importance",O,r);U(r,"horizontalAlign",j,r);U(r,"widthIncludingColumnHeader",C,r);U(r,"anchor",P,r);U(r,"placement",k,r);U(r,"properties",S,r);U(r,"tooltip",q,r);U(r,"availability",_,r);U(r,"required",x,r);U(r,"template",E,r);U(r,"exportSettings",I,r);return r}A=t;F(t,e);var r=t.prototype;r.init=function t(){e.prototype.init.call(this);this.mSkipPropagation={template:true};return};return t}(t),w=J(z.prototype,"key",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),v=J(z.prototype,"header",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),h=J(z.prototype,"width",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),O=J(z.prototype,"importance",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),j=J(z.prototype,"horizontalAlign",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),C=J(z.prototype,"widthIncludingColumnHeader",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),P=J(z.prototype,"anchor",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),k=J(z.prototype,"placement",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),S=J(z.prototype,"properties",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),q=J(z.prototype,"tooltip",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),_=J(z.prototype,"availability",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),x=J(z.prototype,"required",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),E=J(z.prototype,"template",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),I=J(z.prototype,"exportSettings",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),z))||d);A=L;return A},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/ColumnExportSettings", ["sap/fe/base/ClassSupport","../controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,a,l,o,u,p,c,b,s,f,y;var d={};var m=e.property;var g=e.defineUI5Class;function v(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function w(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,z(e,r)}function z(e,r){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},z(e,r)}function O(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function h(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let j=(t=g("sap.fe.macros.table.ColumnExportSettings"),i=m({type:"string"}),n=m({type:"boolean"}),a=m({type:"string"}),l=m({type:"string[]"}),o=m({type:"number"}),t(u=(p=function(e){function r(r){var t;t=e.call(this,r)||this;v(t,"template",c,t);v(t,"wrap",b,t);v(t,"type",s,t);v(t,"property",f,t);v(t,"width",y,t);return t}d=r;w(r,e);return r}(r),c=O(p.prototype,"template",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),b=O(p.prototype,"wrap",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),s=O(p.prototype,"type",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),f=O(p.prototype,"property",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),y=O(p.prototype,"width",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),p))||u);d=j;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/ColumnOverride", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,a,l,o,u,c,p,b,s,f,y,g,d,m,v;var z={};var w=e.property;var h=e.defineUI5Class;var O=e.aggregation;function j(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function C(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,P(e,r)}function P(e,r){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},P(e,r)}function k(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function S(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let _=(t=h("sap.fe.macros.table.ColumnOverride"),i=w({type:"string",required:true}),n=w({type:"string"}),a=w({type:"string"}),l=w({type:"string"}),o=w({type:"boolean"}),u=w({type:"string"}),c=O({type:"sap.fe.macros.table.ColumnExportSettings"}),t(p=(b=function(e){function r(r){var t;t=e.call(this,r)||this;j(t,"key",s,t);j(t,"width",f,t);j(t,"importance",y,t);j(t,"horizontalAlign",g,t);j(t,"widthIncludingColumnHeader",d,t);j(t,"availability",m,t);j(t,"exportSettings",v,t);return t}z=r;C(r,e);return r}(r),s=k(b.prototype,"key",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),f=k(b.prototype,"width",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),y=k(b.prototype,"importance",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),g=k(b.prototype,"horizontalAlign",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),d=k(b.prototype,"widthIncludingColumnHeader",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),m=k(b.prototype,"availability",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),v=k(b.prototype,"exportSettings",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),b))||p);z=_;return z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/MassEdit", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,o,a,l,u,s,c,p,b;var f={};var d=e.property;var g=e.defineUI5Class;var y=e.aggregation;function v(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function m(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,z(e,r)}function z(e,r){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},z(e,r)}function O(e,r,t,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,r,o),null):o}function w(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let j=(t=g("sap.fe.macros.table.MassEdit"),i=y({type:"sap.ui.layout.form.FormContainer",isDefault:true}),n=d({type:"string[]"}),o=d({type:"string[]"}),a=d({type:"string"}),t(l=(u=function(e){function r(r){var t;t=e.call(this,r)||this;v(t,"customContent",s,t);v(t,"visibleFields",c,t);v(t,"ignoredFields",p,t);v(t,"operationGroupingMode",b,t);return t}f=r;m(r,e);return r}(r),s=O(u.prototype,"customContent",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),c=O(u.prototype,"visibleFields",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),p=O(u.prototype,"ignoredFields",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),b=O(u.prototype,"operationGroupingMode",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||l);f=j;return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/MdcTableTemplate", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/controls/CommandExecution","sap/fe/core/controls/FormElementWrapper","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/table/StandardActions","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/ActionCommand","sap/fe/macros/CommonHelper","sap/fe/macros/Field","sap/fe/macros/MultiValueField","sap/fe/macros/TSXUtils","sap/fe/macros/draftIndicator/DraftIndicator","sap/fe/macros/field/FieldHelper","sap/fe/macros/field/FieldTemplating","sap/fe/macros/internal/helpers/ActionHelper","sap/fe/macros/internal/helpers/TableTemplating","sap/fe/macros/situations/SituationsIndicator","sap/fe/macros/table/ActionsTemplating","sap/fe/macros/table/QuickFilterSelector","sap/fe/macros/table/TableHelper","sap/fe/macros/table/uploadTable/UploadTableTemplate","sap/m/FlexItemData","sap/m/HBox","sap/m/Label","sap/m/Menu","sap/m/MenuItem","sap/m/ObjectStatus","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/m/VBox","sap/m/library","sap/m/plugins/CellSelector","sap/m/plugins/ContextMenuSetting","sap/m/plugins/CopyProvider","sap/m/plugins/DataStateIndicator","sap/ui/core/Lib","sap/ui/core/library","sap/ui/fl/variants/VariantManagement","sap/ui/mdc/Table","sap/ui/mdc/actiontoolbar/ActionToolbarAction","sap/ui/mdc/enums/TableP13nMode","sap/ui/mdc/enums/TableRowActionType","sap/ui/mdc/p13n/PersistenceProvider","sap/ui/mdc/table/Column","sap/ui/mdc/table/CreationRow","sap/ui/mdc/table/DragDropConfig","sap/ui/mdc/table/GridTableType","sap/ui/mdc/table/ResponsiveColumnSettings","sap/ui/mdc/table/ResponsiveTableType","sap/ui/mdc/table/RowActionItem","sap/ui/mdc/table/RowSettings","sap/ui/mdc/table/TreeTableType","../MicroChart","../field/FieldFormatOptions","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,n,a,o,i,r,l,s,d,c,u,p,f,b,m,g,h,v,C,y,T,D,P,x,M,O,I,A,w,E,S,F,B,k,R,L,N,U,j,H,_,V,$,G,z,q,K,W,X,Q,J,Y,Z,ee,te,ne,ae,oe,ie,re,le,se,de,ce){"use strict";var ue={};var pe=z.Priority;var fe=j.ObjectMarkerVisibility;var be=w.getUploadPlugin;var me=O.getTableContextMenuTemplate;var ge=O.getTableActionsTemplate;var he=x.buildExpressionForHeaderVisible;var ve=D.getVisibleExpression;var Ce=D.getDraftIndicatorVisibleBinding;var ye=C.createCustomDatas;var Te=C.createCustomData;var De=m.getCommandExecutionForAction;var Pe=b.isMultiValueField;var xe=f.isPathUpdatable;var Me=f.enhanceDataModelPath;var Oe=p.isSingleton;var Ie=p.isAnnotationOfType;var Ae=p.isAnnotationOfTerm;var we=u.generate;var Ee=d.singletonPathVisitor;var Se=d.UI;var Fe=s.StandardActionKeys;var Be=l.isDataFieldForAnnotation;var ke=l.isDataField;var Re=l.hasDataPointTarget;var Le=r.getInvolvedDataModelObjects;var Ne=i.CreationMode;var Ue=t.pathInModel;var je=t.or;var He=t.not;var _e=t.isTruthy;var Ve=t.isConstant;var $e=t.ifElse;var Ge=t.equal;var ze=t.constant;var qe=t.compileExpression;var Ke=t.and;function We(e,t,n,a){const o=t.getObject();switch(n){case"GridTable":return de(te,{rowCountMode:e.control.rowCountMode,rowCount:e.control.rowCount,selectionLimit:a,fixedColumnCount:e.control.frozenColumnCount,scrollThreshold:e.control.scrollThreshold});case"TreeTable":return de(re,{rowCountMode:e.control.rowCountMode,rowCount:e.control.rowCount,fixedColumnCount:e.control.frozenColumnCount,scrollThreshold:e.control.scrollThreshold});default:return de(ae,{showDetailsButton:true,detailsButtonSetting:[pe.Low,pe.Medium,pe.None],growingMode:o.$kind==="EntitySet"?"Scroll":undefined})}}function Xe(e){return de($,{filter:e.dataStateIndicatorFilter,enableFiltering:true,dataStateChange:e.dataStateChange})}function Qe(e,t){const n=xe(e,{ignoreTargetCollection:true,authorizeUnresolvable:true,pathVisitor:(t,n)=>Ee(t,e.convertedTypes,n)});const a=xe(e,{authorizeUnresolvable:true,pathVisitor:(t,n)=>Ee(t,e.convertedTypes,n)});if(e.startingEntitySet===e.targetEntitySet){if(e.startingEntitySet.annotations.Common?.DraftRoot!==undefined){return Ke(n._type==="Unresolvable"?$e(Ve(a),a,ze(true)):n,t.control.isHierarchyParentNodeUpdatable)}else{return ze(false)}}else{return Ke(n._type==="Unresolvable"?$e(Ve(a),a,ze(true)):n,Se.IsEditable,t.control.isHierarchyParentNodeUpdatable)}}function Je(e,t,n,o){const i=e.contentId;const r=e.tableDefinition;const l=e.tableDefinition.control.type;const s=t.handlerProvider;const d=[];const c=r.actions.find(e=>e.key===Fe.Cut);if(c?.isTemplated==="true"&&l==="TreeTable"){d.push(de(a,{execute:s.getCutHandler(false),command:"Cut",enabled:c.enabled}))}const u=r.actions.find(e=>e.key===Fe.Copy);if(u?.isTemplated==="true"&&l==="TreeTable"){d.push(de(a,{execute:s.getCopyHandler(false),command:"Copy",enabled:u.enabled}))}const p=r.actions.find(e=>e.key===Fe.Paste);if(p?.visible!=="false"&&l==="TreeTable"){d.push(de(a,{execute:s.getPasteHandler(false),command:"Paste",enabled:p?.enabled}))}const f=r.actions.find(e=>e.key===Fe.Create);const b=r.actions.find(e=>e.key===Fe.Delete);if(r.annotation.isInsertUpdateActionsTemplated&&f?.isTemplated==="true"&&r.control.nodeType===undefined&&r.control.enableUploadPlugin===false){d.push(de(a,{execute:s.getCreateButtonPressHandler(false,false),visible:f.visible,enabled:f.enabled,command:"Create"}))}if(b?.isTemplated==="true"){d.push(de(a,{execute:s.getDeleteButtonPressHandler(false),visible:b.visible,enabled:b.enabled,command:"DeleteEntry"}))}const m=r.actions.find(e=>e.key===Fe.MoveUp);const g=r.actions.find(e=>e.key===Fe.MoveDown);if(m&&g&&m.visible!=="false"&&g.visible!=="false"&&l==="TreeTable"){d.push(de(a,{execute:s.getMoveUpDownHandler(true,false),command:"TableMoveElementUp",enabled:m.enabled}));d.push(de(a,{execute:s.getMoveUpDownHandler(false,false),command:"TableMoveElementDown",enabled:g.enabled}))}for(const n in r.commandActions){const a=r.commandActions[n];const i=ct(n,a,false,t,o,r,e.contextObjectPath);if(i){d.push(i)}}if(n==="None"){d.push(de(J,{id:we([i,"PersistenceProvider"]),for:i}))}d.push(de(_,{scope:"Selection"}));if(r.control.enableUploadPlugin){d.push(be(r,i,s))}return d}ue.getDependents=Je;function Ye(e,t,n,a){const o=[];if(e.displaySegmentedButton){const n=[];if(g.isDesktop()){n.push(de(N,{tooltip:"{sap.fe.i18n>M_COMMON_HYBRID_SEGMENTED_BUTTON_ITEM_TOOLTIP}",icon:"sap-icon://chart-table-view"},"Hybrid"))}n.push(de(N,{tooltip:"{sap.fe.i18n>M_COMMON_CHART_SEGMENTED_BUTTON_ITEM_TOOLTIP}",icon:"sap-icon://bar-chart"},"Chart"));n.push(de(N,{tooltip:"{sap.fe.i18n>M_COMMON_TABLE_SEGMENTED_BUTTON_ITEM_TOOLTIP}",icon:"sap-icon://table-view"},"Table"));o.push(de(W,{layoutInformation:'{ aggregationName: "end", alignment: "End" }',visible:"{= ${pageInternal>alpContentView} === 'Table' }",children:{action:de(L,{id:we([e.contentId,"SegmentedButton","TemplateContentView"]),select:t.handlerProvider.segmentedButtonPress,selectedKey:"{pageInternal>alpContentView}",children:{items:n}})}}))}o.push(...ge(e,t,n,a));return o.length>0?o:undefined}function Ze(e,t,n,a){const o=de(oe,{type:t,press:n==="ResponsiveTable"?undefined:a.rowPress,visible:e.annotation.row?.visible});return de(ie,{navigated:e.annotation.row?.rowNavigated,highlight:e.annotation.row?.rowHighlighting,children:{rowActions:t===Q.Navigation?o:undefined}})}function et(e,t,n,a,o,i){const r=me(e,t,o,n);if(a===Q.Navigation&&!i){r.push(tt(t.handlerProvider,e.contentId));r.push(nt(t.handlerProvider))}if(r.length>0){return de(B,{itemSelected:t.handlerProvider.contextMenuItemSelected,children:{dependents:at(e.tableDefinition,t,e.contextObjectPath,o),items:r}})}return undefined}function tt(e,t){return de(k,{"core:require":"{API: 'sap/fe/macros/table/TableAPI'}",startsSection:true,id:we([t,"ContextMenu","CollaborationManager"]),text:"{sap.fe.i18n>M_COMMON_TABLE_CONTEXT_MENU_SHARE_TO_COLLABORATION_MANAGER}",press:e.contextMenuShareToCollaborationManager,enabled:"{= ${internal>contextmenu/numberOfSelectedContexts} > 0}",visible:false})}function nt(e){const t=Ke(He(Ke(Ue("/sessionOn","internal"),Se.IsEditable)),He(Ue("contextmenu/inactiveContext","internal")));return de(k,{"core:require":"{API: 'sap/fe/macros/table/TableAPI'}",startsSection:true,text:"{sap.fe.i18n>M_COMMON_TABLE_CONTEXT_MENU_OPEN_IN_NEW_TAB}",press:e.contextMenuOpenInNewTab,enabled:"{= ${internal>contextmenu/numberOfSelectedContexts} > 0}",visible:t})}function at(e,t,n,o){const i=[];const r=e.control.type;const l=e.actions.find(e=>e.key===Fe.Create);if(l?.isTemplated==="true"&&r==="TreeTable"){i.push(de(a,{execute:t.handlerProvider.getCreateButtonPressHandler(true,false),command:"Create::ContextMenu",visible:l.visible,enabled:l.enabledForContextMenu}))}const s=e.actions.find(e=>e.key===Fe.Cut);if(s?.isTemplated==="true"){i.push(de(a,{execute:t.handlerProvider.getCutHandler(true),command:"Cut::ContextMenu",enabled:s.enabledForContextMenu}))}const d=e.actions.find(e=>e.key===Fe.Copy);if(d?.isTemplated==="true"){i.push(de(a,{execute:t.handlerProvider.getCopyHandler(true),command:"Copy::ContextMenu",enabled:d.enabledForContextMenu}))}const c=e.actions.find(e=>e.key===Fe.Paste);if(c?.visible!=="false"&&r==="TreeTable"){i.push(de(a,{execute:t.handlerProvider.getPasteHandler(true),command:"Paste::ContextMenu",enabled:c?.enabledForContextMenu}))}const u=e.actions.find(e=>e.key===Fe.Delete);if(u?.isTemplated==="true"){i.push(de(a,{execute:t.handlerProvider.getDeleteButtonPressHandler(true),visible:u.visible,enabled:u.enabledForContextMenu,command:"DeleteEntry::ContextMenu"}))}const p=e.actions.find(e=>e.key===Fe.MoveUp);const f=e.actions.find(e=>e.key===Fe.MoveDown);if(p&&f&&p.visible!=="false"&&f.visible!=="false"&&r==="TreeTable"){i.push(de(a,{execute:t.handlerProvider.getMoveUpDownHandler(true,true),command:"TableMoveElementUp::ContextMenu",enabled:p.enabledForContextMenu}));i.push(de(a,{execute:t.handlerProvider.getMoveUpDownHandler(false,true),command:"TableMoveElementDown::ContextMenu",enabled:f.enabledForContextMenu}))}for(const a in e.commandActions){const r=e.commandActions[a];const l=ct(a,r,true,t,o,e,n);if(l){i.push(l)}}return i.length>0?i:undefined}function ot(e,t,n,a){if(e==="Control"){return de(q,{id:we([t,"VM"]),showSetAsDefault:true,select:a.variantSelected,headerLevel:n,save:a.variantSaved,for:[t]})}return undefined}function it(e){const t=e.tableDefinition.control.filters?.quickFilters;if(t){return de(I,{id:we([e.contentId,"QuickFilterContainer"]),paths:t.paths.map(e=>e.annotationPath),showCounts:t.showCounts})}return undefined}function rt(e){const t=e.contextObjectPath;let n;if(e.tableDefinition.control.disableCopyToClipboard){n=ze(false)}else if(e.tableDefinition.control.type==="TreeTable"){if(t.startingEntitySet===t.targetEntitySet){n=ze(t.startingEntitySet.annotations.Common?.DraftRoot===undefined)}else{n=He(Se.IsEditable)}}else{n=ze(true)}return de(V,{visible:n})}function lt(e){const t=e.tableDefinition.control.type;if(!e.tableDefinition.control.disableCopyToClipboard&&t&&["ResponsiveTable","GridTable","TreeTable"].includes(t)){return de(H,{enabled:je(t!=="TreeTable",He(Qe(e.contextObjectPath,e.tableDefinition))),rangeLimit:200})}return undefined}function st(e,t){if(e.creationMode?.name===Ne.CreationRow){const n=e.tableDefinition.actions.find(e=>e.key===Fe.CreationRow);if(n?.isTemplated){const a=ye([{key:"disableAddRowButtonForEmptyData",value:e.tableDefinition.control.disableAddRowButtonForEmptyData},{key:"customValidationFunction",value:e.tableDefinition.control.customValidationFunction}]);return de(Z,{id:we([e.contentId,Ne.CreationRow]),visible:n.visible,apply:t.getCreateButtonPressHandler(false,true),applyEnabled:n.enabled,children:{customData:a}})}}return undefined}function dt(e,t){if(e.tableDefinition.control.type==="TreeTable"){return de(ee,{enabled:qe(Qe(e.contextObjectPath,e.tableDefinition)),dropPosition:e.tableDefinition.annotation.allowDropBetweenNodes===true?"OnOrBetween":"On",draggable:true,droppable:true,dragStart:t.dragStartDocument,dragEnter:t.dragEnterDocument,drop:t.dropDocument})}return undefined}function ct(e,t,n,a,o,i,r){const l=t.annotationPath?a.convertedMetadata.resolvePath(t.annotationPath).target:undefined;const s=t.annotationPath?g.getActionContext(a.metaModel.createBindingContext(t.annotationPath+"/Action")):undefined;const d=s?a.metaModel.createBindingContext(s):undefined;const c=d?Le(d,o):undefined;const u=l?.ActionTarget?.isBound;const p=l?.ActionTarget?.annotations?.Core?.OperationAvailable?.valueOf()!==false;const f=t.type==="ForAction"?u!==true||p:true;const b=!n?t.enabled:t.enabledForContextMenu;if(f&&(!n||A.isActionShownInContextMenu(t,r))){const r=!n?t.command:t.command+"::ContextMenu";const d={onExecuteAction:a.handlerProvider.getDataFieldForActionButtonPressHandler(l,t,undefined,n),onExecuteIBN:a.handlerProvider.getDataFieldForIBNPressHandler(t,false),onExecuteManifest:a.handlerProvider.getManifestActionPressHandler(t,n),isIBNEnabled:b??A.isDataFieldForIBNEnabled({collection:o,tableDefinition:i},l,!!l.RequiresContext,l.NavigationAvailable,n),isActionEnabled:b??A.isDataFieldForActionEnabled(i,l.Action,!!u,s,t.enableOnSelect,c?.targetEntityType,n),isEnabled:b};return De(r,i.commandActions[e],d)}return undefined}function ut(e){const t=e.control.additionalRequiredModules??[];return`{TableRuntime: 'sap/fe/macros/table/TableRuntime', API: 'sap/fe/macros/table/TableAPI'${t.map((e,t)=>`, customModule${t+1}: '${e}'`).join("")}}`}function pt(e,t,n,a){if(t.isDraftIndicator){return de(Y,{id:we([e,"C","computedColumns","draftStatus"]),headerVisible:false,propertyKey:t.name,header:t.label,tooltip:t.tooltip,width:"3em",children:de(y,{draftIndicatorType:fe.IconOnly,contextPath:n.getPath(),usedInTable:true,usedInAnalyticalTable:a})})}else if(t.isSituationsIndicator){return de(Y,{id:we([e,"C","computedColumns","situationsIndicator"]),propertyKey:t.name,header:t.label,tooltip:t.tooltip,headerVisible:false,width:"4em",children:de(M,{contextPath:n.getPath()})})}else{return undefined}}ue.getComputedColumn=pt;function ft(e,t,n){return de(Y,{id:we([e,"C",t.id]),propertyKey:t.name,width:t.width,hAlign:t.horizontalAlign,header:t.header,tooltip:t.tooltip,required:n?undefined:t.required,children:{extendedSettings:de(ne,{importance:t.importance}),template:t.template}})}ue.getSlotColumn=ft;function bt(e,t){if(e.getObject("@com.sap.vocabularies.Common.v1.DraftRoot")&&e.getObject("./@com.sap.vocabularies.Common.v1.SemanticKey")&&t.formatOptions?.fieldGroupDraftIndicatorPropertyPath){return de(o,{children:de(y,{draftIndicatorType:fe.IconAndText,contextPath:e.getPath(),visible:Ce(t.formatOptions?.fieldGroupName),ariaLabelledBy:["this>ariaLabelledBy"]})})}return undefined}ue.getDraftIndicator=bt;function mt(e,t){if(e.getObject("./@com.sap.vocabularies.Common.v1.SemanticKey")&&t.formatOptions?.fieldGroupDraftIndicatorPropertyPath){return de(R,{visible:t.formatOptions?.showErrorObjectStatus,class:"sapUiSmallMarginBottom",text:"{sap.fe.i18n>Contains_Errors}",state:"Error"})}return undefined}function gt(e){const t=Le(e).targetObject;if(ke(t)&&t.Value?.$target?.type==="Edm.TimeOfDay"){return"short"}if(Be(t)&&Re(t)&&t.Target.$target?.Value.$target.type==="Edm.TimeOfDay"){return"short"}}function ht(e,t,n,a,o,i,r,l,s,d){if(a?.name==="CreationRow"){let a;switch(o){case true:a="Display";break;case false:a="Editable";break;default:a=undefined;break}const c=r.getObject();const u={fieldMode:l,textLinesEdit:t.formatOptions?.textLinesEdit,textMaxLines:t.formatOptions?.textMaxLines===undefined?undefined:t.formatOptions?.textMaxLines,textMaxLength:t.formatOptions?.textMaxLength,textMaxCharactersDisplay:t.formatOptions?.textMaxCharactersDisplay,textExpandBehaviorDisplay:t.formatOptions?.textExpandBehaviorDisplay,textAlignMode:"Table",semanticKeyStyle:n==="ResponsiveTable"?"ObjectIdentifier":"Label",hasDraftIndicator:t.formatOptions?.hasDraftIndicator,fieldGroupDraftIndicatorPropertyPath:t.formatOptions?.fieldGroupDraftIndicatorPropertyPath,fieldGroupName:t.formatOptions?.fieldGroupName,showIconUrl:c?.Inline&&!!c?.IconUrl,ignoreNavigationAvailable:s??false,isCurrencyOrUnitAligned:true,dateTimeStyle:gt(r)};return de(h,{"core:require":"{TableRuntime: 'sap/fe/macros/table/TableRuntime'}",vhIdPrefix:we([e,"TableValueHelp"]),editMode:a,contextPath:i.getPath(),metaPath:r.getPath(),wrap:n==="ResponsiveTable",change:d.fieldChangeInCreationRow,showErrorObjectStatus:t.formatOptions?.showErrorObjectStatus,children:{formatOptions:de(se,{...u})}})}return undefined}function vt(e,t,n,a,o,i,r,l,s,d,c,u,p,f,b,m){const g=a.getObject();let v;switch(l){case true:v="Display";break;case false:v="Editable";break;default:v=undefined}if(t.control.enableUploadPlugin&&n.typeConfig?.className==="Edm.Stream"){v="Display"}const C={fieldMode:d,textLinesEdit:n.formatOptions?.textLinesEdit,textMaxLines:n.formatOptions?.textMaxLines===undefined?undefined:n.formatOptions?.textMaxLines,textMaxCharactersDisplay:n.formatOptions?.textMaxCharactersDisplay,textMaxLength:n.formatOptions?.textMaxLength,textExpandBehaviorDisplay:n.formatOptions?.textExpandBehaviorDisplay,textAlignMode:"Table",showEmptyIndicator:f,semanticKeyStyle:r==="ResponsiveTable"?"ObjectIdentifier":"Label",hasDraftIndicator:n.formatOptions?.hasDraftIndicator,fieldGroupDraftIndicatorPropertyPath:n.formatOptions?.fieldGroupDraftIndicatorPropertyPath,fieldGroupName:n.formatOptions?.fieldGroupName,showIconUrl:g?.Inline&&!!g?.IconUrl,ignoreNavigationAvailable:i??false,isAnalytics:i,forInlineCreationRows:s?.name==="InlineCreationRows",isCurrencyOrUnitAligned:true,compactSemanticKey:c===undefined?undefined:`${c}`,dateTimeStyle:gt(a),isAnalyticalAggregatedRow:t.control.analyticalConfiguration?.aggregationOnLeafLevel};return de(h,{vhIdPrefix:we([e,"TableValueHelp"]),editMode:v,contextPath:o.getPath(),metaPath:a.getPath(),textAlign:u,wrap:r==="ResponsiveTable",class:b,liveChange:m.fieldLiveChange,ariaLabelledBy:p?[p]:undefined,navigateAfterAction:n.isNavigable,showErrorObjectStatus:n.formatOptions?.showErrorObjectStatus,children:{formatOptions:de(se,{...C})}})}ue.getMacroFieldTemplate=vt;function Ct(e,t,n,a,o,i,r){let l;let s;const d=t.tableDefinition;const c=t.tableDefinition.enableAnalytics;const u=t.tableDefinition.control.type;const p=t.readOnly;const f=t.creationMode;const b=t.fieldMode;const m=t.tableDefinition.control.isCompactType;const h=a.targetObject;if(Ie(h,"com.sap.vocabularies.UI.v1.DataFieldForAnnotation")&&(Ae(h.Target.$target,"com.sap.vocabularies.UI.v1.Chart")||Ae(h.Target.$target,"com.sap.vocabularies.UI.v1.PresentationVariant"))){const t=(u==="ResponsiveTable"?!n.settings?.showMicroChartLabel:undefined)??true;const a=u==="ResponsiveTable"?n.settings?.microChartSize??"XS":"XS";let r=i.getModel().createBindingContext(i.getPath(o.getObject("Target/$AnnotationPath")));r=i.getModel().createBindingContext(g.getNavigationContext(r));l=de(le,{id:we([e,h]),contextPath:r.getPath(),metaPath:o.getModel().createBindingContext(o.getPath()+"/Target/$AnnotationPath").getPath(),showOnlyChart:t,size:a??"XS",hideOnNoData:true,isAnalytics:c})}else if(Ie(h,"com.sap.vocabularies.UI.v1.DataField")&&Pe(Me(a,h.Value.path))){const e=qe($e(je(p===true,Ke(_e(Se.IsInactive),f?.name==="InlineCreationRows")),ze(true),$e(Ge(b,"nowrapper"),ze(true),ze(undefined))));l=de(v,{contextPath:i.getPath(),metaPath:o.getPath(),readOnly:e})}else if(Ie(h,"com.sap.vocabularies.UI.v1.DataFieldForAnnotation")&&Ae(h.Target.$target,"com.sap.vocabularies.UI.v1.FieldGroup")){const t=h.Target.$target;const s=o.getModel().createBindingContext(o.getPath()+"/Target/$AnnotationPath/Data");const g=t.Data.length-1;const v=t.Data.map((t,o)=>{const l=s.getModel().createBindingContext(s.getPath()+"/"+o);const h=Le(l);const v=T.computeLabelText(l.getObject(),{context:l});if(n.showDataFieldsLabel&&!!v){const t=G.getResourceBundleFor("sap.fe.macros");return ce(S,{visible:ve(h),alignItems:T.buildExpressionForAlignItems(l.getObject("Target/$AnnotationPath/Visualization/$EnumMember")),children:[de(F,{id:A.getFieldGroupLabelStableId(e,h),text:t.getText("HEADER_FORM_LABEL",[v]),class:"sapUiTinyMarginEnd",visible:ve(h)}),de(U,{children:{layoutData:de(E,{growFactor:"1"}),items:vt(e,d,n,l,i,c,u,p,f,undefined,m,"Left",`${A.getColumnStableId(e,a)} ${A.getFieldGroupLabelStableId(e,h)}`,true,A.getMarginClass(l.getObject("Target/$AnnotationPath/Visualization/$EnumMember"),o===g),r)}})]})}else{return vt(e,d,n,l,i,c,u,p,f,b,m,undefined,A.getColumnStableId(e,a),undefined,A.getMarginClass(l.getObject("Target/$AnnotationPath/Visualization/$EnumMember"),o===g),r)}});const C=bt(i,n);if(C){v.push(C)}const y=mt(i,n);if(y){v.push(y)}l=de(U,{visible:A.getVBoxVisibility(s.getObject(),n.FieldGroupHiddenExpressions,o.getObject()),children:{items:v}})}else{l=vt(e,d,n,o,i,c,u,p,f,b,m,undefined,undefined,false,undefined,r);s=ht(e,n,u,f,p,i,o,b,c,r)}return{template:l,creationTemplate:s}}function yt(e,t,a,o,i){let r=o.getModel().createBindingContext(a.annotationPath);if(!r){return undefined}r=o.getModel().createBindingContext(T.getDataFieldDefault(r));const l=Le(r,o);const s=r?.getObject?.()??{};const d=Ct(e,t,a,l,r,o,i);const c=t.enableAutoColumnWidth??t.tableDefinition.control.enableAutoColumnWidth;const u=t.tableDefinition.control.widthIncludingColumnHeader;const p=t.tableDefinition.control.type;return de(Y,{id:A.getColumnStableId(e,l),width:!n.isSmallDevice()||a.width?A.getColumnWidth({enableAutoColumnWidth:c,widthIncludingColumnHeader:u,tableType:p},a,s,A.getTextOnActionField(s,{context:r}),l,true,{title:r.getObject("Target/$AnnotationPath/Title")||"",description:r.getObject("Target/$AnnotationPath/Title")||""}):undefined,minWidth:n.isSmallDevice()?A.getColumnWidth({enableAutoColumnWidth:c,widthIncludingColumnHeader:u,tableType:p},a,s,A.getTextOnActionField(s,{context:r}),l,false,{title:r.getObject("Target/$AnnotationPath/Title")||"",description:r.getObject("Target/$AnnotationPath/Description")||""}):undefined,header:a.label||a.name,propertyKey:a.name,hAlign:a.horizontalAlign||T.getColumnAlignment(s,{collection:o}),headerVisible:A.setHeaderLabelVisibility(s,r.getObject("Target/$AnnotationPath/Data")),tooltip:a.tooltip,required:t.readOnly?undefined:a.required,children:{customData:Te("showDataFieldsLabel",a.showDataFieldsLabel),extendedSettings:de(ne,{importance:a.importance}),template:d.template,creationTemplate:d.creationTemplate}})}ue.getColumnTemplate=yt;function Tt(t,n,a){const o=t.contentId;return t.tableDefinition.columns.map(i=>{if(i.availability==="Default"&&i.type==="Default"){e.error("Custom columns defined in the manifest are not supported when using a table building block.");throw new Error("Custom columns defined in the manifest are not supported when using a table building block.")}else if(i.availability==="Default"&&i.type==="Annotation"){return yt(o,t,i,n,a)}else if(i.availability==="Default"&&i.type==="Slot"){return ft(o,i,t.readOnly)}else if(i.availability==="Default"&&i.type==="Computed"){return pt(o,i,n,t.tableDefinition.enableAnalytics)}return undefined}).filter(e=>e!==undefined)}function Dt(){return"sap/fe/macros/table/designtime/Table.designtime"}function Pt(t){switch(t){case"Aggregate":return X.Aggregate;case"Sort":return X.Sort;case"Column":return X.Column;case"Filter":return X.Filter;case"Group":return X.Group;default:e.error("Unknown P13n mode: "+t);return X.Column}}function xt(e,t){const n=e.tableDefinition.annotation?.row?.navigationInfo;const a=n?.routePath;let o=false;if(a){const e=t.appComponent.getRoutingService()._getTargetInformation(a);o=e?.options?.settings?.openInEditMode??false}const i=e.tableDefinition.control.type;const r=e.contextObjectPath;const l=(i==="TreeTable"||e.tableDefinition.enableAnalytics===true)&&r.startingEntitySet===r.targetEntitySet&&c.isObjectPathDraftSupported(r);const s=A.getDelegate(e.tableDefinition,e.isAlp===true,e.tableDefinition.annotation.entityName,l);const d=e.headerVisible??e.tableDefinition.control.headerVisible;const u=e.header??e.tableDefinition.annotation.title;const p=he(u??"",e.tabTitle??"",!!d);const f=e.tableDefinition.actions.find(e=>e.key===Fe.Paste);const b=t.convertedMetadata.resolvePath(e.tableDefinition.annotation.collection).target;const m=i==="TreeTable"?t.handlerProvider.tableContextChange:undefined;const g=A.getUiLineItemObject(t.metaPath,t.convertedMetadata);const h=e.tableDefinition.annotation.navigationPath;if(e.tableDefinition.annotation.collection.startsWith("/")&&Oe(r.startingEntitySet)){e.tableDefinition.annotation.collection=h}const v=t.metaModel.createBindingContext(e.tableDefinition.annotation.collection);const C=b.annotations.Common?.DraftRoot;const y=e.variantManagement??"None";const T=Dt();let D;if(e.overrideRowPress){D=Q.Navigation}D??=e.tableDefinition.annotation.row?.actionType==="Navigation"?Q.Navigation:undefined;const x=e.tableDefinition.actions.find(e=>e.key===Fe.Create)?.visible||true;const M=e.tableDefinition.annotation.updatablePropertyPath;let O;switch(e.personalization){case"false":O=undefined;break;case"true":O=[X.Sort,X.Column,X.Filter];if(i==="ResponsiveTable"||e.tableDefinition.enableAnalytics===true){O=[...O,X.Group]}break;case undefined:O=e.tableDefinition.annotation.p13nMode?.map(e=>Pt(e));break;default:if(i==="ResponsiveTable"||e.tableDefinition.enableAnalytics===true){O=e.personalization.split(",").map(e=>Pt(e.trim()))}else{const t=e.personalization.split(",").filter(e=>Pt(e.trim())!==X.Group);O=t.length?t:undefined}}const I=P.getMultiSelectDisabledActions(g);const w=[{key:"kind",value:b._type},{key:"navigationPath",value:h},{key:"enableAnalytics",value:e.tableDefinition.enableAnalytics},{key:"creationMode",value:e.creationMode?.name},{key:"inlineCreationRowCount",value:e.tableDefinition.control.inlineCreationRowCount},{key:"showCreate",value:x},{key:"createAtEnd",value:e.creationMode?.createAtEnd},{key:"displayModePropertyBinding",value:e.readOnly},{key:"tableType",value:i},{key:"targetCollectionPath",value:v.getPath()},{key:"entityType",value:v.getPath()+"/"},{key:"metaPath",value:v.getPath()},{key:"hiddenFilters",value:e.tableDefinition.control.filters?.hiddenFilters},{key:"requestGroupId",value:"$auto.Workers"},{key:"segmentedButtonId",value:we([e.contentId,"SegmentedButton","TemplateContentView"])},{key:"disableCopyToClipboard",value:e.tableDefinition.control.disableCopyToClipboard},{key:"draft",value:C},{key:"navigationAvailableMap",value:A.getNavigationAvailableMap(g)},{key:"actionsMultiselectDisabled",value:I.length>0?I.join(","):undefined},{key:"updatablePropertyPath",value:M||""},{key:"exportRequestSize",value:e.tableDefinition.control.exportRequestSize}];return de(K,{"core:require":ut(e.tableDefinition),"fl:flexibility":e["fl:flexibility"],sortConditions:e.tableDefinition.annotation.sortConditions,groupConditions:e.tableDefinition.annotation.groupConditions,aggregateConditions:e.tableDefinition.annotation.aggregateConditions,"dt:designtime":T,id:e.contentId,busyIndicatorDelay:0,enableExport:e.tableDefinition.control.enableExport,delegate:JSON.parse(s),rowPress:i==="ResponsiveTable"?t.handlerProvider.rowPress:undefined,beforeOpenContextMenu:t.handlerProvider.beforeOpenContextMenu,autoBindOnInit:e.useBasicSearch||!e.filterBar,selectionMode:e.tableDefinition.annotation.selectionMode||"None",selectionChange:t.handlerProvider.selectionChange,showRowCount:e.tableDefinition.control.showRowCount,header:u,headerVisible:p,headerLevel:e.headerLevel,headerStyle:e.headerStyle,threshold:e.tableDefinition.annotation.threshold,p13nMode:O,paste:t.handlerProvider.getPasteHandler(false),beforeExport:t.handlerProvider.beforeExport,class:e.tableDefinition.control.useCondensedTableLayout===true?"sapUiSizeCondensed":undefined,multiSelectMode:e.tableDefinition.control.multiSelectMode,showPasteButton:i==="TreeTable"?false:f?.visible,enablePaste:i==="TreeTable"?false:f?.enabled,modelContextChange:m,children:{customData:ye(w),dataStateIndicator:Xe(t.handlerProvider),type:We(e.tableDefinition,v,i,e.tableDefinition.control.selectionLimit),dependents:Je(e,t,y,v),actions:Ye(e,t,v,b),rowSettings:Ze(e.tableDefinition,D,i,t.handlerProvider),contextMenu:et(e,t,b,D,v,o),columns:Tt(e,v,t.handlerProvider),dragDropConfig:dt(e,t.handlerProvider),creationRow:st(e,t.handlerProvider),variant:ot(y,e.contentId,e.headerLevel,t.handlerProvider),quickFilter:it(e),copyProvider:rt(e),cellSelector:lt(e)}})}ue.getMDCTableTemplate=xt;return ue},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/QuickFilterSelector", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/table/Utils","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/m/Select","sap/ui/core/InvisibleText","sap/ui/core/Item","sap/fe/base/jsx-runtime/jsx"],function(t,e,n,i,r,o,a,s,c,l,u,h,g,d,f,p){"use strict";var b,m,y,S,C,v,P,I,T;var B={};var A=c.getTargetObjectPath;var F=c.getTargetNavigationPath;var w=c.enhanceDataModelPath;var x=s.isAnnotationOfType;var O=a.generate;var M=o.getInvolvedDataModelObjects;var j=n.property;var z=n.defineUI5Class;var k=e.pathInModel;var E=e.notEqual;function K(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function L(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,D(t,e)}function D(t,e){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},D(t,e)}function $(t,e,n,i,r){var o={};return Object.keys(i).forEach(function(t){o[t]=i[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(t,e,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(t,e,o),null):o}function _(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let Q=(b=z("sap.fe.macros.table.QuickFilterSelector"),m=j({type:"string"}),y=j({type:"string[]"}),S=j({type:"boolean"}),b(C=(v=function(e){function n(t,n){var i;i=e.call(this,t,n)||this;K(i,"id",P,i);K(i,"paths",I,i);K(i,"showCounts",T,i);return i}B=n;L(n,e);var r=n.prototype;r.onMetadataAvailable=function t(){this.metaDataAvailable=true;if(!this.content&&this.metaPath){this.initializeContent()}};r.setMetaPath=function t(e){this.metaPath=e;if(!this.content&&this.metaDataAvailable===true){this.initializeContent()}};r.onSelChange=function t(){const e=this.getMDCTable().getParent();if(e?.isA("sap.fe.macros.table.TableAPI")){e.onQuickFilterSelectionChange()}};r.getSegmentedButtonSelector=function t(e){const n=this.paths.map((t,n)=>p(h,{...this.getSelectorItemProperties(n,e)}));return p(u,{id:`${this.id}-content`,enabled:E(k("hasPendingFilters","pageInternal"),true),ariaLabelledBy:[this.getSelectorAriaLabelledById()],selectionChange:this.onSelChange.bind(this),children:{items:n}})};r.getSelectSelector=function t(e){const n=this.paths.map((t,n)=>p(f,{...this.getSelectorItemProperties(n,e)}));return p(g,{id:`${this.id}-content`,enabled:E(k("hasPendingFilters","pageInternal"),true),ariaLabelledBy:[this.getSelectorAriaLabelledById()],autoAdjustWidth:true,change:this.onSelChange.bind(this),children:{items:n}})};r.getSelectorItemProperties=function t(e,n){return{key:this.paths[e],text:this.getSelectorItemText(e,n)}};r.getSelectorAriaLabelledById=function t(){return O([`${this.id}-content`,"AriaText"])};r.getSelectorItemText=function t(e,n){const i=` ({internal>quickFilters/counts/${e}})`;const r=M(n);const o=w(r,this.paths[e]).targetObject;const a=o?.Text?.toString()??"";return`${a}${this.showCounts?i:""}`};r.registerSideEffectForQuickFilter=function t(e,n){const i=M(e,n);const r=i.contextLocation?.targetEntityType.fullyQualifiedName;const o=F(i,true);if(o&&r){const t=new Set;for(const e of this.paths){const n=w(i,e).targetObject;if(n.SelectOptions&&x(n,"com.sap.vocabularies.UI.v1.SelectionVariantType")){n.SelectOptions.forEach(e=>{const n=e.PropertyName?.value;if(n){const e=w(i,n);t.add(A(e,true))}})}}this.getAppComponent().getSideEffectsService().addControlSideEffects(r,{sourceProperties:Array.from(t),targetEntities:[{$NavigationPropertyPath:o}],sourceControlId:`${this.id}-content`})}};r.getAccessibilityControl=function t(){const e=`{sap.fe.i18n>M_TABLE_QUICKFILTER_ARIA}`;const n=p(d,{text:e,id:this.getSelectorAriaLabelledById()});n.toStatic();return n};r.initializeContent=function t(){if(this.metaPath){const t=this.getMetaPathObject(this.metaPath);if(t){const e=this._getOwner()?.getMetaModel();const n=e?.createBindingContext(t.getPath());const i=e?.createBindingContext(t.getContextPath());if(!n||!i){return}if(this.showCounts){this.registerSideEffectForQuickFilter(n,i)}const r=this.paths.length>3?this.getSelectSelector(n):this.getSegmentedButtonSelector(n);r.addDependent(this.getAccessibilityControl());this.content=r}}};r.getMDCTable=function t(){if(!this.mdcTable){let t=this.content;while(t&&!t.isA("sap.ui.mdc.Table")){t=t.getParent()}this.mdcTable=t;return this.mdcTable}else{return this.mdcTable}};r.getSelectedKey=function t(){return this.content?.getSelectedKey()||this.content?.getItems()[0].getKey()||""};r.setSelectedKey=function t(e){this.content?.setSelectedKey(e)};r.setCountsAsLoading=function t(){const e={};const n=this.getBindingContext("internal");for(const t in this.content?.getItems()){e[t]="..."}n.setProperty("quickFilters",{counts:e})};r.refreshSelectedCount=function t(){const e=this.getMDCTable().getRowBinding().getCount();if(this.showCounts===true&&e!==undefined){const t=this.content?.getItems().findIndex(t=>t.getKey()===this.getSelectedKey());if(t!==undefined&&t>-1){this.getBindingContext("internal")?.setProperty(`quickFilters/counts/${t}`,l.getCountFormatted(e))}}};r.refreshUnSelectedCounts=async function e(){if(!this.content){return Promise.resolve()}const n=this.getMDCTable();const r=this.content.getItems();const o=this.getBindingContext("internal");const a=this.getPageController();const s=a.getChartControl?.();const c=s?.getParent();const u=async t=>{const e=t.getKey();const a=i.getFiltersFromAnnotation(n,e);const s=await l.getListBindingForCount(n,n.getBindingContext(),{batchGroupId:"$auto",additionalFilters:[...g,...a]});const c=r.findIndex(t=>t.getKey()===e);if(c>-1){o.setProperty(`quickFilters/counts/${c}`,l.getCountFormatted(s))}};const h=c?.hasSelections()&&c?.getFilter();const g=l.getHiddenFilters(n);if(h){g.push(h)}const d=r.filter(t=>t.getKey()!==this.getSelectedKey()).map(async t=>u(t));try{await Promise.all(d)}catch(e){t.error("Error while retrieving the binding promises",e)}};return n}(r),P=$(v.prototype,"id",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),I=$(v.prototype,"paths",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),T=$(v.prototype,"showCounts",[S],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),v))||C);B=Q;return B},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/QuickVariantSelection", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,a,o,l,u;var c={};var s=e.property;var f=e.defineUI5Class;function p(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function b(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,d(e,r)}function d(e,r){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},d(e,r)}function v(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function y(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let h=(t=f("sap.fe.macros.table.QuickVariantSelection"),i=s({type:"string[]"}),n=s({type:"boolean"}),t(a=(o=function(e){function r(r){var t;t=e.call(this,r)||this;p(t,"paths",l,t);p(t,"showCounts",u,t);return t}c=r;b(r,e);return r}(r),l=v(o.prototype,"paths",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),u=v(o.prototype,"showCounts",[n],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),o))||a);c=h;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/SlotColumn", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/ui/core/Element"],function(e,t,r){"use strict";var i,n,a,o,l;var u={};var c=e.property;var s=e.defineUI5Class;function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,b(e,t)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function v(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let m=(i=s("sap.fe.macros.table.SlotColumn"),n=c({type:"string"}),i(a=(o=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;f(i,"templateId",l,i);return i}u=t;p(t,e);var i=t.prototype;i.onMetadataAvailable=function e(){if(this.templateId&&!this.content){this.content=r.getElementById(this.templateId)?.clone()}};return t}(t),l=d(o.prototype,"templateId",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),o))||a);u=m;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/Table.block", ["sap/base/Log","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/converters/controls/Common/table/StandardActions","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/MacroAPI","sap/fe/macros/table/MdcTableTemplate","sap/fe/macros/table/TableAPI","sap/fe/macros/table/TableCreationOptions","sap/m/FlexItemData","../TSXUtils","./TableEventHandlerProvider","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,n,r,a,o,l,u,s,c,d,p,b,g,h,f,m){"use strict";var y,v,P,S,w,C,M,A,z,T,O,I,x,L,k,E,F,V,j,D,B,_,q,N,H,R,G,U,W,$,X,Q,K,J,Y,Z,ee,te,ie,ne,re,ae,oe,le,ue,se,ce,de,pe,be,ge,he,fe,me,ye,ve,Pe,Se,we,Ce,Me,Ae,ze,Te,Oe,Ie,xe,Le,ke,Ee,Fe,Ve,je,De,Be,_e,qe,Ne,He,Re,Ge,Ue,We,$e,Xe,Qe,Ke,Je,Ye,Ze,et,tt,it,nt,rt,at,ot,lt,ut,st,ct,dt,pt,bt,gt,ht,ft,mt,yt,vt,Pt,St,wt,Ct;var Mt={};var At=h.createCustomData;var zt=d.getMDCTableTemplate;var Tt=s.getContextRelativeTargetObjectPath;var Ot=u.isAnnotationOfTerm;var It=l.generate;var xt=o.StandardActionKeys;var Lt=a.getVisualizationsFromAnnotation;var kt=a.getDataVisualizationConfiguration;var Et=r.getInvolvedDataModelObjects;var Ft=n.VisualizationType;var Vt=n.CreationMode;var jt=t.defineBuildingBlock;var Dt=t.blockEvent;var Bt=t.blockAttribute;var _t=t.blockAggregation;function qt(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function Nt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ht(e,t)}function Ht(e,t){return Ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ht(e,t)}function Rt(e,t,i,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function Gt(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}function Ut(e,t){return e.getAttribute(t)??undefined}function Wt(e,t){const i=e.getAttribute(t);switch(i){case null:case"true":return true;case"false":return false;default:return i}}function $t(e){Object.keys(e).forEach(t=>{if(e[t]===undefined){delete e[t]}})}function Xt(e){const t=Qt(e);if(e.localName==="Action"){return{text:e.getAttribute("text")??t.key,press:Ut(e,"press"),requiresSelection:e.getAttribute("requiresSelection")==="true",...t}}return{enableAutoScroll:Wt(e,"enableAutoScroll"),navigateToInstance:Wt(e,"navigateToInstance"),defaultValuesFunction:Ut(e,"defaultValuesFunction"),...t}}function Qt(e){return{key:e.getAttribute("key").replace("InlineXML_",""),enabled:Wt(e,"enabled"),visible:Wt(e,"visible"),command:Ut(e,"command"),enableOnSelect:Ut(e,"enableOnSelect"),placement:Ut(e,"placement"),anchor:Ut(e,"anchor"),_type:e.localName==="Action"?"Action":"ActionOverride"}}function Kt(e,t){if(["ActionGroup","ActionGroupOverride"].includes(e.localName)){const i=Zt(e,t);if(e.localName==="ActionGroup"){return{text:e.getAttribute("text")??i.key,defaultAction:Ut(e,"defaultAction"),...i}}return i}return Xt(e)}const Jt=function(e){return{key:"configuration",customContent:e.children[0]?.outerHTML,visibleFields:e.getAttribute("visibleFields")?.split(","),ignoredFields:e.getAttribute("ignoredFields")?.split(","),operationGroupingMode:e.getAttribute("operationGroupingMode")??undefined}};const Yt=function(e){return{key:"quickFilters",paths:e.getAttribute("paths")?.split(","),showCounts:e.getAttribute("showCounts")==="true"}};function Zt(e,t){const i=Array.prototype.slice.apply(e.children).map(e=>Xt(e));t.key=t.key.replace("InlineXML_","");e.setAttribute("key",t.key);return{key:t.key,actions:i,anchor:Ut(e,"anchor"),placement:Ut(e,"placement"),_type:e.localName==="ActionGroup"?"ActionGroup":"ActionGroupOverride"}}function ei(e,t){t.key=t.key.replace("InlineXML_","");e.setAttribute("key",t.key);return{key:t.key,width:Ut(e,"width"),widthIncludingColumnHeader:e.getAttribute("widthIncludingColumnHeader")?e.getAttribute("widthIncludingColumnHeader")==="true":undefined,importance:Ut(e,"importance"),horizontalAlign:Ut(e,"horizontalAlign"),availability:Ut(e,"availability"),placement:Ut(e,"placement")||Ut(e,"positionPlacement"),anchor:Ut(e,"anchor")||Ut(e,"positionAnchor"),exportSettings:ii(e)}}function ti(e,t){t.key=t.key.replace("InlineXML_","");e.setAttribute("key",t.key);if(e.localName==="Column"){return{...ei(e,t),header:Ut(e,"header"),tooltip:Ut(e,"tooltip"),template:ni(e),properties:Ut(e,"properties")?.split(","),required:e.getAttribute("required")?e.getAttribute("required")==="true":undefined,_type:e.localName}}return{...ei(e,t),_type:"ColumnOverride"}}const ii=e=>{const t=ri(e,"exportSettings");if(!t){return undefined}return{template:t.template,wrap:t.wrap==="true",type:t.type,property:t.property?.split(","),width:t.width}};const ni=e=>{let t=ai(e,"template");if(!t){for(let i=0;i<e.children.length;i++){const n=e.children.item(i);if(n&&!n.nodeName.endsWith("exportSettings")){t=n;break}}}return t?.outerHTML};const ri=(e,t)=>{const i=ai(e,t);const n=i?.children[0];const r={};if(!n){return undefined}for(const e of n.getAttributeNames()){const t=n.getAttribute(e);if(t){r[e]=t}}return r};const ai=(e,t)=>{let i;for(let n=0;n<e.children.length;n++){const r=e.children.item(n);if(r?.nodeName.endsWith(t)===true){i=r;break}}return i};let oi=(y=jt({name:"Table",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros",returnTypes:["sap.fe.macros.table.TableAPI"]}),v=Bt({type:"sap.ui.model.Context",underlyingType:"string",expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"],expectedAnnotations:["com.sap.vocabularies.UI.v1.LineItem","com.sap.vocabularies.UI.v1.PresentationVariant","com.sap.vocabularies.UI.v1.SelectionPresentationVariant"],isPublic:true,required:true}),P=Bt({type:"boolean",isPublic:true,bindable:true}),S=Bt({type:"sap.ui.model.Context",underlyingType:"string",expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"],isPublic:true}),w=Bt({type:"boolean",isPublic:true}),C=Bt({type:"boolean",isPublic:true}),M=Bt({type:"boolean",isPublic:true}),A=Bt({type:"boolean",isPublic:true}),z=Bt({type:"boolean",isPublic:true}),T=Bt({type:"int",isPublic:true}),O=Bt({type:"number",isPublic:true}),I=Bt({type:"int",isPublic:true}),x=Bt({type:"boolean",isPublic:true}),L=Bt({type:"string",allowedValues:["Auto","Fixed","Interactive"],isPublic:true}),k=Bt({type:"int",isPublic:true}),E=Bt({type:"boolean",isPublic:true}),F=Bt({type:"boolean",isPublic:true}),V=Bt({type:"int",isPublic:true}),j=Bt({type:"string",isPublic:true,isAssociation:true}),D=Bt({type:"string",isPublic:true}),B=Bt({type:"sap.ui.core.TitleLevel",isPublic:true}),_=Bt({type:"boolean",isPublic:true}),q=Bt({type:"string",isPublic:true}),N=Bt({type:"string",isPublic:true}),H=Bt({type:"sap.ui.model.Context",underlyingType:"string",expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"],expectedAnnotations:["com.sap.vocabularies.UI.v1.SelectionVariant"],isPublic:true}),R=Bt({type:"boolean",isPublic:true}),G=Bt({type:"string",isPublic:true}),U=Bt({type:"boolean",isPublic:true}),W=Bt({type:"string",isPublic:true,allowedValues:["GridTable","ResponsiveTable","AnalyticalTable"]}),$=Bt({type:"boolean",isPublic:true}),X=Bt({type:"string",isPublic:true,allowedValues:["None","Single","Multi","Auto","ForceMulti","ForceSingle"]}),Q=Bt({type:"string",isPublic:true,allowedValues:["Control"]}),K=Bt({type:"string",isPublic:true}),J=Bt({type:"string",isPublic:true,allowedValues:["illustratedMessage-Auto","illustratedMessage-Base","illustratedMessage-Medium","illustratedMessage-Dot","illustratedMessage-ExtraSmall","illustratedMessage-Scene","illustratedMessage-Large","illustratedMessage-Spot","illustratedMessage-Small","text"]}),Y=Bt({type:"sap.ui.core.TitleLevel"}),Z=Bt({type:"boolean",isPublic:true}),ee=Bt({type:"string"}),te=Bt({type:"boolean"}),ie=Bt({type:"boolean"}),ne=Bt({type:"string"}),re=Bt({type:"boolean"}),ae=Bt({type:"boolean"}),oe=Bt({type:"object",underlyingType:"sap.fe.macros.table.TableCreationOptions",isPublic:true,validate:function(e){if(e.name&&!["NewPage","Inline","InlineCreationRows","External","CreationDialog"].includes(e.name)){throw new Error(`Allowed value ${e.name} for creationMode does not match`)}return e}}),le=Bt({type:"object",underlyingType:"sap.fe.macros.table.AnalyticalConfiguration",isPublic:true,validate:function(e){if(typeof e.aggregationOnLeafLevel==="string"){e.aggregationOnLeafLevel=e.aggregationOnLeafLevel==="true"}return e}}),ue=_t({type:"sap.fe.macros.table.Action",altTypes:["sap.fe.macros.table.ActionGroup","sap.fe.macros.table.ActionOverride","sap.fe.macros.table.ActionGroupOverride"],isPublic:true,hasVirtualNode:true,multiple:true,processAggregations:Kt}),se=_t({type:"sap.fe.macros.table.MassEdit",isPublic:true,multiple:false,skipKey:true,processAggregations:Jt}),ce=_t({type:"sap.fe.macros.table.Column",altTypes:["sap.fe.macros.table.ColumnOverride"],isPublic:true,multiple:true,hasVirtualNode:true,isDefault:true,processAggregations:ti}),de=_t({type:"sap.fe.macros.table.QuickVariantSelection",isPublic:true,skipKey:true,multiple:false,processAggregations:Yt}),pe=Dt(),be=Dt(),ge=Dt(),he=Dt(),fe=Dt(),me=Dt(),ye=Dt(),ve=Bt({type:"boolean",isPublic:true}),y(Pe=(Se=(Ct=function(t){function i(e,n,r){var a;a=t.call(this,e,n,r)||this;qt(a,"metaPath",we,a);qt(a,"busy",Ce,a);qt(a,"contextPath",Me,a);qt(a,"condensedTableLayout",Ae,a);qt(a,"enableFullScreen",ze,a);qt(a,"enablePastingOfComputedProperties",Te,a);qt(a,"enableSelectAll",Oe,a);qt(a,"enableExport",Ie,a);qt(a,"exportRequestSize",xe,a);qt(a,"selectionLimit",Le,a);qt(a,"frozenColumnCount",ke,a);qt(a,"widthIncludingColumnHeader",Ee,a);qt(a,"rowCountMode",Fe,a);qt(a,"rowCount",Ve,a);qt(a,"enablePaste",je,a);qt(a,"disableCopyToClipboard",De,a);qt(a,"scrollThreshold",Be,a);qt(a,"filterBar",_e,a);qt(a,"header",qe,a);qt(a,"headerLevel",Ne,a);qt(a,"headerVisible",He,a);qt(a,"id",Re,a);qt(a,"contentId",Ge,a);qt(a,"associatedSelectionVariantPath",Ue,a);qt(a,"isSearchable",We,a);qt(a,"personalization",$e,a);qt(a,"readOnly",Xe,a);qt(a,"type",Qe,a);qt(a,"useCondensedLayout",Ke,a);qt(a,"selectionMode",Je,a);qt(a,"variantManagement",Ye,a);qt(a,"ignoredFields",Ze,a);qt(a,"modeForNoDataMessage",et,a);qt(a,"headerStyle",tt,a);qt(a,"enableAutoColumnWidth",it,a);qt(a,"fieldMode",nt,a);qt(a,"isAlp",rt,a);qt(a,"inMultiView",at,a);qt(a,"tabTitle",ot,a);qt(a,"visible",lt,a);qt(a,"displaySegmentedButton",ut,a);qt(a,"creationMode",st,a);qt(a,"analyticalConfiguration",ct,a);qt(a,"actions",dt,a);qt(a,"massEdit",pt,a);qt(a,"columns",bt,a);qt(a,"quickVariantSelection",gt,a);qt(a,"beforeRebindTable",ht,a);qt(a,"rowPress",ft,a);qt(a,"listBindingChange",mt,a);qt(a,"segmentedButtonPress",yt,a);qt(a,"variantSaved",vt,a);qt(a,"selectionChange",Pt,a);qt(a,"variantSelected",St,a);qt(a,"initialLoad",wt,a);const o=Et(a.metaPath,a.contextPath);a.contextObjectPath=o;a.tableDefinition=i.createTableDefinition(a,r);a.tableDefinitionContext=c.createBindingContext(a.tableDefinition,r);a.convertedMetadata=a.contextObjectPath.convertedTypes;a.metaModel=r.models.metaModel;a.collectionEntity=a.convertedMetadata.resolvePath(a.tableDefinition.annotation.collection).target;a.appComponent=r.appComponent;a.setUpId();a.creationMode??={};a.creationMode.name??=a.tableDefinition.annotation.create.mode;a.creationMode.createAtEnd??=a.tableDefinition.annotation.create.append;if(a.readOnly===undefined&&(a.tableDefinition.annotation.displayMode===true||a.tableDefinition.control.readOnly===true)){a.readOnly=true}p.updateColumnsVisibility(a.tableDefinition.control.ignoredFields,[],a.tableDefinition);let l=false;if(!a.filterBar){a.filterBar=It([a.contentId,"StandardAction","BasicSearch"]);l=true}a.useBasicSearch=l;return a}Mt=i;Nt(i,t);i.getVisualizationPath=function t(i,n){const r=Tt(i);if(!r){e.error(`Missing meta path parameter for LineItem`);return`@${"com.sap.vocabularies.UI.v1.LineItem"}`}if(Ot(i.targetObject,"com.sap.vocabularies.UI.v1.LineItem")){return r}const a=n.getEntityTypeAnnotation(r);let o=[];if(Ot(i.targetObject,"com.sap.vocabularies.UI.v1.SelectionPresentationVariant")||Ot(i.targetObject,"com.sap.vocabularies.UI.v1.PresentationVariant")){o=Lt(i.targetObject,r,a.converterContext,true)}else{e.error(`Bad metapath parameter for table : ${i.targetObject.term}`)}const l=o.find(e=>e.visualization.term==="com.sap.vocabularies.UI.v1.LineItem");if(l){return l.annotationPath}else{e.error(`Bad meta path parameter for LineItem: ${i.targetObject.term}`);return`@${"com.sap.vocabularies.UI.v1.LineItem"}`}};var n=i.prototype;n.getTableSettings=function e(){const t={};i.addSetting(t,"enableExport",this.enableExport);i.addSetting(t,"readOnly",this.readOnly);i.addSetting(t,"ignoredFields",this.ignoredFields);i.addSetting(t,"selectionLimit",this.selectionLimit);i.addSetting(t,"condensedTableLayout",this.condensedTableLayout);i.addSetting(t,"exportRequestSize",this.exportRequestSize);i.addSetting(t,"frozenColumnCount",this.frozenColumnCount);i.addSetting(t,"widthIncludingColumnHeader",this.widthIncludingColumnHeader);i.addSetting(t,"rowCountMode",this.rowCountMode);i.addSetting(t,"rowCount",this.rowCount);i.addSetting(t,"enableFullScreen",this.enableFullScreen);i.addSetting(t,"selectAll",this.enableSelectAll);i.addSetting(t,"enablePastingOfComputedProperties",this.enablePastingOfComputedProperties);i.addSetting(t,"enablePaste",this.enablePaste);i.addSetting(t,"disableCopyToClipboard",this.disableCopyToClipboard);i.addSetting(t,"scrollThreshold",this.scrollThreshold);i.addSetting(t,"selectionMode",this.selectionMode);i.addSetting(t,"type",this.type);if(this.quickVariantSelection?.quickFilters?.paths?.length){i.addSetting(t,"quickVariantSelection",{paths:this.quickVariantSelection.quickFilters.paths.map(e=>({annotationPath:e})),showCounts:this.quickVariantSelection.quickFilters.showCounts})}if(this.creationMode){const e={};i.addSetting(e,"name",this.creationMode.name);i.addSetting(e,"creationFields",this.creationMode.creationFields);i.addSetting(e,"createAtEnd",this.creationMode.createAtEnd);i.addSetting(e,"inlineCreationRowsHiddenInEditMode",this.creationMode.inlineCreationRowsHiddenInEditMode);i.addSetting(e,"outbound",this.creationMode.outbound);if(Object.entries(e).length>0){t["creationMode"]=e}}if(this.massEdit){const e={};i.addSetting(e,"customFragment",this.massEdit.configuration?.customContent);i.addSetting(e,"fromInline",true);i.addSetting(e,"visibleFields",this.massEdit.configuration?.visibleFields?.join(","));i.addSetting(e,"ignoredFields",this.massEdit.configuration?.ignoredFields?.join(","));i.addSetting(e,"operationGroupingMode",this.massEdit.configuration?.operationGroupingMode);t["enableMassEdit"]=e}if(this.analyticalConfiguration?.aggregationOnLeafLevel===true){const e={};i.addSetting(e,"aggregationOnLeafLevel",this.analyticalConfiguration.aggregationOnLeafLevel);if(Object.entries(e).length>0){t["analyticalConfiguration"]=e}}return t};i.createTableDefinition=function e(t,n){const r=t.getConverterContext(t.contextObjectPath,t.contextPath?.getPath(),n);const a=i.getVisualizationPath(t.contextObjectPath,r);const o=t.getTableSettings();const l={actions:i.createActionsFromManifest(t),columns:i.createColumnsForManifest(t),tableSettings:o};const u={};u[a]=l;const s=t.getConverterContext(t.contextObjectPath,t.contextPath?.getPath(),n,u);let c;if(t.associatedSelectionVariantPath){const e=Et(t.associatedSelectionVariantPath,t.contextPath);c=e.targetObject}const d=kt(t.inMultiView&&t.contextObjectPath.targetObject?s.getRelativeAnnotationPath(t.contextObjectPath.targetObject.fullyQualifiedName,s.getEntityType()):Tt(t.contextObjectPath),s,{isCondensedTableLayoutCompliant:t.useCondensedLayout,associatedSelectionVariant:c,isMacroOrMultipleView:t.inMultiView??true});return d.visualizations.find(e=>e.type===Ft.Table)};i.createActionsFromManifest=function e(t){const i={};const n=e=>{const t=e.key;i[t]={position:{placement:e.placement??"After",anchor:e.anchor},command:e.command,enableOnSelect:e.enableOnSelect,visible:e.visible,enabled:e.enabled};if(e._type==="Action"){i[t]={...i[t],text:e.text,__noWrap:true,press:e.press,requiresSelection:e.requiresSelection};return}const n={enableAutoScroll:e["enableAutoScroll"],navigateToInstance:e["navigateToInstance"]};$t(n);i[t]={...i[t],afterExecution:Object.entries(n).length?n:undefined,defaultValuesFunction:e.defaultValuesFunction}};if(t.actions){Object.values(t.actions).forEach(e=>{if(e._type==="Action"||e._type==="ActionOverride"){n(e)}else if(e._type==="ActionGroup"||e._type==="ActionGroupOverride"){const t=e.key;i[t]={position:{placement:e.placement??"After",anchor:e.anchor},menu:e.actions.map(e=>e.key)};if(e._type==="ActionGroup"){i[t]={...i[t],text:e.text,defaultAction:e.defaultAction,__noWrap:true}}e.actions.forEach(e=>{n(e)})}})}return i};i.createColumnsForManifest=function e(t){const i=e=>e._type==="Column";const n={};if(t.columns){Object.values(t.columns).forEach(e=>{let t;if(i(e)){t={header:e.header,width:e.width,importance:e.importance,horizontalAlign:e.horizontalAlign,widthIncludingColumnHeader:e.widthIncludingColumnHeader,exportSettings:e.exportSettings,properties:e.properties,tooltip:e.tooltip,template:e.template,availability:e.availability,required:e.required,type:"Slot"}}else{t={key:e.key,width:e.width,importance:e.importance,horizontalAlign:e.horizontalAlign,widthIncludingColumnHeader:e.widthIncludingColumnHeader,exportSettings:e.exportSettings,availability:e.availability}}$t(t);if(i(e)&&(e.anchor||e.placement)){t.position={anchor:e.anchor,placement:e.placement??"After"}}n[e.key]=t})}return n};n.setUpId=function e(){if(this.id){this._apiId=this.id;this.contentId??=this.getContentId(this.id)}else{this.id=this.tableDefinition.annotation.apiId;this.contentId=this.tableDefinition.annotation.id;this._apiId=this.tableDefinition.annotation.apiId}};n._getEntityType=function e(){return this.collectionEntity?.entityType||this.collectionEntity?.targetType};n.getEmptyRowsEnabled=function e(){const t=this.creationMode.name===Vt.InlineCreationRows?this.tableDefinition.actions.find(e=>e.key===xt.Create)?.enabled:undefined;return t==="false"?undefined:t};n.getTemplate=function e(){const t=this._getEntityType();const i=this;i.overrideRowPress=this.rowPress!==undefined;const n=this.convertedMetadata.resolvePath(i.tableDefinition.annotation.collection).target;const r=new f(i,{collectionEntity:n,metaModel:this.metaPath.getModel()});let a;if(this.creationMode&&Object.keys(this.creationMode).length>0){a=m(b,{...this.creationMode})}return m(p,{"core:require":"{FPM: 'sap/fe/core/helpers/FPMHelper'}",binding:`{internal>controls/${this.contentId}}`,id:this._apiId,contentId:this.contentId,visible:this.visible,headerLevel:this.headerLevel,headerStyle:this.headerStyle,headerVisible:this.headerVisible,tabTitle:this.tabTitle,exportRequestSize:this.exportRequestSize,disableCopyToClipboard:this.disableCopyToClipboard,scrollThreshold:this.scrollThreshold,isSearchable:this.isSearchable,busy:this.busy,initialLoad:this.initialLoad,header:this.header,isAlp:this.isAlp,fieldMode:this.fieldMode,personalization:this.personalization,rowPress:this.rowPress,variantSaved:this.variantSaved,variantSelected:this.variantSelected,segmentedButtonPress:this.segmentedButtonPress,variantManagement:this.variantManagement,ignoredFields:this.tableDefinition.control.ignoredFields,tableDefinition:`{_pageModel>${this.tableDefinitionContext.getPath()}}`,entityTypeFullyQualifiedName:t?.fullyQualifiedName,metaPath:this.metaPath?.getPath(),useBasicSearch:this.useBasicSearch,enableFullScreen:this.enableFullScreen,enableExport:this.enableExport,frozenColumnCount:this.frozenColumnCount,enablePaste:this.enablePaste,rowCountMode:this.rowCountMode,rowCount:this.rowCount,contextPath:this.contextPath?.getPath(),selectionChange:this.selectionChange,listBindingChange:this.listBindingChange,readOnly:this.readOnly,selectionMode:this.selectionMode,useCondensedLayout:this.useCondensedLayout,type:this.type,filterBar:this.filterBar,emptyRowsEnabled:this.getEmptyRowsEnabled(),enableAutoColumnWidth:this.enableAutoColumnWidth,beforeRebindTable:this.beforeRebindTable,widthIncludingColumnHeader:this.widthIncludingColumnHeader,modeForNoDataMessage:this.modeForNoDataMessage,associatedSelectionVariantPath:this.associatedSelectionVariantPath?.getPath(),displaySegmentedButton:this.displaySegmentedButton,enablePastingOfComputedProperties:this.enablePastingOfComputedProperties,enableSelectAll:this.enableSelectAll,inMultiView:this.inMultiView,selectionLimit:this.selectionLimit,condensedTableLayout:this.condensedTableLayout,children:{customData:At("tableAPILocalId",this._apiId),creationMode:a,layoutData:m(g,{maxWidth:"100%"}),content:zt(i,{metaPath:this.metaPath,convertedMetadata:this.convertedMetadata,metaModel:this.metaModel,handlerProvider:r,appComponent:this.appComponent})}})};return i}(i),Ct.addSetting=(e,t,i)=>{if(i!==undefined){e[t]=i}},Ct),we=Rt(Se.prototype,"metaPath",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),Ce=Rt(Se.prototype,"busy",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),Me=Rt(Se.prototype,"contextPath",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),Ae=Rt(Se.prototype,"condensedTableLayout",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),ze=Rt(Se.prototype,"enableFullScreen",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),Te=Rt(Se.prototype,"enablePastingOfComputedProperties",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),Oe=Rt(Se.prototype,"enableSelectAll",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),Ie=Rt(Se.prototype,"enableExport",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),xe=Rt(Se.prototype,"exportRequestSize",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),Le=Rt(Se.prototype,"selectionLimit",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),ke=Rt(Se.prototype,"frozenColumnCount",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),Ee=Rt(Se.prototype,"widthIncludingColumnHeader",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),Fe=Rt(Se.prototype,"rowCountMode",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),Ve=Rt(Se.prototype,"rowCount",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),je=Rt(Se.prototype,"enablePaste",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),De=Rt(Se.prototype,"disableCopyToClipboard",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),Be=Rt(Se.prototype,"scrollThreshold",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),_e=Rt(Se.prototype,"filterBar",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),qe=Rt(Se.prototype,"header",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),Ne=Rt(Se.prototype,"headerLevel",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),He=Rt(Se.prototype,"headerVisible",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),Re=Rt(Se.prototype,"id",[q],{configurable:true,enumerable:true,writable:true,initializer:null}),Ge=Rt(Se.prototype,"contentId",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),Ue=Rt(Se.prototype,"associatedSelectionVariantPath",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),We=Rt(Se.prototype,"isSearchable",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),$e=Rt(Se.prototype,"personalization",[G],{configurable:true,enumerable:true,writable:true,initializer:null}),Xe=Rt(Se.prototype,"readOnly",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),Qe=Rt(Se.prototype,"type",[W],{configurable:true,enumerable:true,writable:true,initializer:null}),Ke=Rt(Se.prototype,"useCondensedLayout",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),Je=Rt(Se.prototype,"selectionMode",[X],{configurable:true,enumerable:true,writable:true,initializer:null}),Ye=Rt(Se.prototype,"variantManagement",[Q],{configurable:true,enumerable:true,writable:true,initializer:null}),Ze=Rt(Se.prototype,"ignoredFields",[K],{configurable:true,enumerable:true,writable:true,initializer:null}),et=Rt(Se.prototype,"modeForNoDataMessage",[J],{configurable:true,enumerable:true,writable:true,initializer:null}),tt=Rt(Se.prototype,"headerStyle",[Y],{configurable:true,enumerable:true,writable:true,initializer:null}),it=Rt(Se.prototype,"enableAutoColumnWidth",[Z],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),nt=Rt(Se.prototype,"fieldMode",[ee],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),rt=Rt(Se.prototype,"isAlp",[te],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),at=Rt(Se.prototype,"inMultiView",[ie],{configurable:true,enumerable:true,writable:true,initializer:null}),ot=Rt(Se.prototype,"tabTitle",[ne],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),lt=Rt(Se.prototype,"visible",[re],{configurable:true,enumerable:true,writable:true,initializer:null}),ut=Rt(Se.prototype,"displaySegmentedButton",[ae],{configurable:true,enumerable:true,writable:true,initializer:null}),st=Rt(Se.prototype,"creationMode",[oe],{configurable:true,enumerable:true,writable:true,initializer:function(){return{}}}),ct=Rt(Se.prototype,"analyticalConfiguration",[le],{configurable:true,enumerable:true,writable:true,initializer:function(){return{}}}),dt=Rt(Se.prototype,"actions",[ue],{configurable:true,enumerable:true,writable:true,initializer:null}),pt=Rt(Se.prototype,"massEdit",[se],{configurable:true,enumerable:true,writable:true,initializer:null}),bt=Rt(Se.prototype,"columns",[ce],{configurable:true,enumerable:true,writable:true,initializer:null}),gt=Rt(Se.prototype,"quickVariantSelection",[de],{configurable:true,enumerable:true,writable:true,initializer:null}),ht=Rt(Se.prototype,"beforeRebindTable",[pe],{configurable:true,enumerable:true,writable:true,initializer:null}),ft=Rt(Se.prototype,"rowPress",[be],{configurable:true,enumerable:true,writable:true,initializer:null}),mt=Rt(Se.prototype,"listBindingChange",[ge],{configurable:true,enumerable:true,writable:true,initializer:null}),yt=Rt(Se.prototype,"segmentedButtonPress",[he],{configurable:true,enumerable:true,writable:true,initializer:null}),vt=Rt(Se.prototype,"variantSaved",[fe],{configurable:true,enumerable:true,writable:true,initializer:null}),Pt=Rt(Se.prototype,"selectionChange",[me],{configurable:true,enumerable:true,writable:true,initializer:null}),St=Rt(Se.prototype,"variantSelected",[ye],{configurable:true,enumerable:true,writable:true,initializer:null}),wt=Rt(Se.prototype,"initialLoad",[ve],{configurable:true,enumerable:true,writable:true,initializer:null}),Se))||Pe);Mt=oi;return Mt},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/Table", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/macros/controls/BuildingBlockWithTemplating","sap/fe/macros/table/Table.block","sap/m/FlexItemData"],function(t,e,n,r,i){"use strict";var o,a,s,c;var u={};var l=e.convertBuildingBlockMetadata;var g=t.xmlEventHandler;var f=t.defineUI5Class;function p(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,d(t,e)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function v(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(t,e,o),null):o}let h=(o=f("sap.fe.macros.table.Table",l(r)),a=g(),o(s=(c=function(t){function e(e,n){var r;r=t.call(this,e,n)||this;r.createProxyMethods(["getSelectedContexts","addMessage","removeMessage","refresh","getPresentationVariant","setPresentationVariant","getCurrentVariantKey","setCurrentVariantKey","getSelectionVariant","setSelectionVariant"]);return r}u=e;p(e,t);var n=e.prototype;n._fireEvent=function t(e,n,r){this.fireEvent(r,e.getParameters())};n.getLayoutData=function t(){return new i({maxWidth:"100%"})};n.setMetaPath=function t(e){return this.setProperty("metaPath",e)};n.getMetaPath=function t(){return this.getProperty("metaPath")};n.setIgnoredFields=function t(e){return this.setProperty("ignoredFields",e)};n.getIgnoredFields=function t(){return this.getProperty("ignoredFields")};n.addColumn=function t(e){return this.addAggregation("columns",e)};n.removeColumn=function t(e){return this.removeAggregation("columns",e)};n.addAction=function t(e){return this.addAggregation("actions",e)};n.removeAction=function t(e){return this.removeAggregation("actions",e)};n.createContent=async function e(n){const r=this.content?.content.getRowBinding()?.getCurrentContexts().length>0;await t.prototype.createContent.call(this,n);if(r){this.content?.content.rebind?.()}};return e}(n),v(c.prototype,"_fireEvent",[a],Object.getOwnPropertyDescriptor(c.prototype,"_fireEvent"),c.prototype),c))||s);u=h;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableAPI", ["sap/base/Log","sap/base/util/deepClone","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/base/jsx-runtime/jsx","sap/fe/core/CommonUtils","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/controllerextensions/editFlow/NotApplicableContextDialog","sap/fe/core/controllerextensions/routing/NavigationReason","sap/fe/core/controls/Any","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/Common/Table","sap/fe/core/converters/controls/Common/table/StandardActions","sap/fe/core/helpers/DeleteHelper","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/PasteHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/MacroAPI","sap/fe/macros/field/FieldTemplating","sap/fe/macros/filter/FilterUtils","sap/fe/macros/table/MdcTableTemplate","sap/fe/macros/table/TableCreationOptions","sap/fe/macros/table/TableHelper","sap/fe/macros/table/TableRuntime","sap/fe/macros/table/Utils","sap/fe/macros/table/adapter/TablePVToState","sap/fe/macros/table/massEdit/MassEditDialogHelper","sap/fe/navigation/PresentationVariant","sap/m/IllustratedMessage","sap/m/IllustratedMessageType","sap/m/MessageBox","sap/m/MessageToast","sap/m/Text","sap/ui/base/ManagedObjectMetadata","sap/ui/core/Element","sap/ui/core/Fragment","sap/ui/core/Lib","sap/ui/core/Messaging","sap/ui/core/library","sap/ui/core/message/Message","sap/ui/core/util/XMLPreprocessor","sap/ui/mdc/p13n/StateUtil","../mdc/adapter/StateHelper","./TableDefinition","./TableEventHandlerProvider","./mixin/ColumnManagement","./mixin/ContextMenuHandler","./mixin/EmptyRowsHandler","./mixin/TableAPIStateHandler","./mixin/TableExport","./mixin/TableHierarchy","./mixin/TableOptimisticBatch","./mixin/TableSharing"],function(e,t,n,i,o,r,a,s,l,c,u,p,d,g,f,h,b,y,m,C,P,S,w,v,M,D,T,x,E,A,I,O,B,F,_,R,z,L,V,j,N,H,k,$,U,q,G,Q,K,W,X,Y,J,Z,ee,te,ne){"use strict";var ie,oe,re,ae,se,le,ce,ue,pe,de,ge,fe,he,be,ye,me,Ce,Pe,Se,we,ve,Me,De,Te,xe,Ee,Ae,Ie,Oe,Be,Fe,_e,Re,ze,Le,Ve,je,Ne,He,ke,$e,Ue,qe,Ge,Qe,Ke,We,Xe,Ye,Je,Ze,et,tt,nt,it,ot,rt,at,st,lt,ct,ut,pt,dt,gt,ft,ht,bt,yt,mt,Ct,Pt,St,wt,vt,Mt,Dt,Tt,xt,Et,At,It,Ot,Bt,Ft,_t,Rt,zt,Lt,Vt,jt,Nt,Ht,kt,$t,Ut,qt,Gt,Qt,Kt,Wt,Xt,Yt,Jt,Zt,en,tn,nn,on,rn,an,sn,ln,cn,un,pn,dn,gn,fn,hn,bn,yn,mn,Cn,Pn,Sn,wn,vn,Mn,Dn,Tn,xn,En,An,In,On,Bn,Fn,_n,Rn,zn,Ln,Vn,jn,Nn,Hn,kn,$n,Un,qn,Gn,Qn,Kn,Wn,Xn,Yn,Jn,Zn,ei,ti,ni,ii,oi,ri,ai,si;var li=Q.createTableDefinition;var ci=k.TitleLevel;var ui=A.convertPVToState;var pi=C.getTargetObjectPath;var di=C.getContextRelativeTargetObjectPath;var gi=m.generate;var fi=y.getResourceModel;var hi=g.StandardActionKeys;var bi=d.getCustomFunctionInfo;var yi=p.getInvolvedDataModelObjects;var mi=p.convertTypes;var Ci=u.CreationMode;var Pi=a.xml;var Si=a.parseXMLString;var wi=i.xmlEventHandler;var vi=i.property;var Mi=i.mixin;var Di=i.implementInterface;var Ti=i.event;var xi=i.defineUI5Class;var Ei=i.aggregation;var Ai=n.compileExpression;function Ii(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Oi(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Bi(e,t)}function Bi(e,t){return Bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bi(e,t)}function Fi(e,t,n,i,o){var r={};return Object.keys(i).forEach(function(e){r[e]=i[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(e,t,r),null):r}function _i(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let Ri=(ie=xi("sap.fe.macros.table.TableAPI",{returnTypes:["sap.fe.macros.MacroAPI"]}),oe=Mi(J),re=Mi(Z),ae=Mi(te),se=Mi(ee),le=Mi(Y),ce=Mi(X),ue=Mi(ne),pe=Mi(W),de=Di("sap.fe.core.IRowBindingInterface"),ge=Di("sap.fe.macros.controls.section.ISingleSectionContributor"),fe=vi({type:"string",expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"],expectedAnnotations:["com.sap.vocabularies.UI.v1.LineItem","com.sap.vocabularies.UI.v1.PresentationVariant","com.sap.vocabularies.UI.v1.SelectionPresentationVariant"],required:true}),he=vi({type:"string",expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"]}),be=vi({type:"object"}),ye=vi({type:"string"}),me=vi({type:"string"}),Ce=vi({type:"boolean"}),Pe=vi({type:"boolean"}),Se=vi({type:"int"}),we=vi({type:"string",allowedValues:["Auto","Fixed"]}),ve=vi({type:"int"}),Me=vi({type:"boolean"}),De=vi({type:"boolean"}),Te=vi({type:"int"}),xe=vi({type:"boolean"}),Ee=vi({type:"string",allowedValues:["GridTable","ResponsiveTable","AnalyticalTable"]}),Ae=vi({type:"boolean"}),Ie=vi({type:"string",allowedValues:["None","Single","Multi","Auto","ForceMulti","ForceSingle"]}),Oe=vi({type:"boolean"}),Be=Ei({type:"sap.fe.macros.table.Action",altTypes:["sap.fe.macros.table.ActionGroup","sap.fe.macros.table.ActionOverride","sap.fe.macros.table.ActionGroupOverride"],multiple:true}),Fe=Ei({type:"sap.fe.macros.table.Column",altTypes:["sap.fe.macros.table.ColumnOverride"],multiple:true}),_e=vi({type:"boolean"}),Re=vi({type:"string"}),ze=vi({type:"boolean",defaultValue:true}),Le=vi({type:"boolean",defaultValue:false}),Ve=vi({type:"string",allowedValues:["illustratedMessage-Auto","illustratedMessage-Base","illustratedMessage-Dialog","illustratedMessage-Medium","illustratedMessage-Dot","illustratedMessage-ExtraSmall","illustratedMessage-Scene","illustratedMessage-Large","illustratedMessage-Spot","illustratedMessage-Small","text"]}),je=vi({type:"boolean",defaultValue:false}),Ne=vi({type:"boolean",defaultValue:false}),He=vi({type:"boolean",defaultValue:false}),ke=vi({type:"boolean",defaultValue:false}),$e=vi({type:"string"}),Ue=vi({type:"string"}),qe=vi({type:"string"}),Ge=vi({type:"string"}),Qe=vi({type:"sap.ui.core.TitleLevel",defaultValue:ci.Auto}),Ke=vi({type:"sap.ui.core.TitleLevel"}),We=vi({type:"int"}),Xe=vi({type:"boolean"}),Ye=vi({type:"string"}),Je=vi({type:"string"}),Ze=vi({type:"boolean"}),et=vi({type:"boolean",defaultValue:false}),tt=vi({type:"boolean",isBindingInfo:true}),nt=vi({type:"string"}),it=vi({type:"string"}),ot=vi({type:"boolean"}),rt=vi({type:"boolean"}),at=vi({type:"boolean"}),st=vi({type:"boolean"}),lt=vi({type:"int"}),ct=Ei({type:"sap.fe.macros.table.TableCreationOptions",defaultClass:D}),ut=Ei({type:"sap.m.IllustratedMessage",altTypes:["sap.m.Text"],forwarding:{getter:"getMDCTable",aggregation:"noData"}}),pt=Ei({type:"sap.fe.macros.table.AnalyticalConfiguration"}),dt=Ei({type:"sap.fe.macros.table.QuickVariantSelection"}),gt=Ei({type:"sap.fe.macros.table.MassEdit"}),ft=Ti(),ht=Ti(),bt=Ti(),yt=Ti(),mt=Ti(),Ct=Ti(),Pt=Ti(),St=Ti(),wt=wi(),vt=wi(),Mt=wi(),Dt=wi(),Tt=wi(),xt=wi(),Et=wi(),At=wi(),It=wi(),Ot=wi(),Bt=wi(),Ft=wi(),_t=wi(),Rt=wi(),zt=wi(),Lt=wi(),Vt=wi(),jt=wi(),Nt=wi(),Ht=wi(),kt=wi(),$t=wi(),Ut=wi(),qt=wi(),Gt=wi(),Qt=wi(),Kt=wi(),ie(Wt=oe(Wt=re(Wt=ae(Wt=se(Wt=le(Wt=ce(Wt=ue(Wt=pe(Wt=(Xt=function(n){function i(e){var t;for(var i=arguments.length,o=new Array(i>1?i-1:0),r=1;r<i;r++){o[r-1]=arguments[r]}t=n.call(this,e,...o)||this;t.propertyEditModeCache={};t.initialControlState={};Ii(t,"__implements__sap_fe_core_IRowBindingInterface",Yt,t);Ii(t,"__implements__sap_fe_macros_controls_section_ISingleSectionContributor",Jt,t);Ii(t,"metaPath",Zt,t);Ii(t,"contextPath",en,t);Ii(t,"tableDefinition",tn,t);Ii(t,"contentId",nn,t);Ii(t,"entityTypeFullyQualifiedName",on,t);Ii(t,"enableFullScreen",rn,t);Ii(t,"enableExport",an,t);Ii(t,"frozenColumnCount",sn,t);Ii(t,"rowCountMode",ln,t);Ii(t,"rowCount",cn,t);Ii(t,"enablePaste",un,t);Ii(t,"disableCopyToClipboard",pn,t);Ii(t,"scrollThreshold",dn,t);Ii(t,"isSearchable",gn,t);Ii(t,"type",fn,t);Ii(t,"useCondensedLayout",hn,t);Ii(t,"selectionMode",bn,t);Ii(t,"condensedTableLayout",yn,t);Ii(t,"actions",mn,t);Ii(t,"columns",Cn,t);Ii(t,"readOnly",Pn,t);Ii(t,"filterBar",Sn,t);Ii(t,"enableAutoColumnWidth",wn,t);Ii(t,"widthIncludingColumnHeader",vn,t);Ii(t,"modeForNoDataMessage",Mn,t);Ii(t,"dataInitialized",Dn,t);Ii(t,"bindingSuspended",Tn,t);Ii(t,"outDatedBinding",xn,t);Ii(t,"isAlp",En,t);Ii(t,"variantManagement",An,t);Ii(t,"ignoredFields",In,t);Ii(t,"id",On,t);Ii(t,"fieldMode",Bn,t);Ii(t,"headerLevel",Fn,t);Ii(t,"headerStyle",_n,t);Ii(t,"exportRequestSize",Rn,t);Ii(t,"initialLoad",zn,t);Ii(t,"personalization",Ln,t);Ii(t,"header",Vn,t);Ii(t,"useBasicSearch",jn,t);Ii(t,"emptyRowsEnabled",Nn,t);Ii(t,"headerVisible",Hn,t);Ii(t,"tabTitle",kn,t);Ii(t,"associatedSelectionVariantPath",$n,t);Ii(t,"inMultiView",Un,t);Ii(t,"displaySegmentedButton",qn,t);Ii(t,"enablePastingOfComputedProperties",Gn,t);Ii(t,"enableSelectAll",Qn,t);Ii(t,"selectionLimit",Kn,t);Ii(t,"creationMode",Wn,t);Ii(t,"noData",Xn,t);Ii(t,"analyticalConfiguration",Yn,t);Ii(t,"quickVariantSelection",Jn,t);Ii(t,"massEdit",Zn,t);Ii(t,"beforeRebindTable",ei,t);Ii(t,"rowPress",ti,t);Ii(t,"segmentedButtonPress",ni,t);Ii(t,"variantSaved",ii,t);Ii(t,"variantSelected",oi,t);Ii(t,"listBindingChange",ri,t);Ii(t,"internalDataRequested",ai,t);t.ignoreContextChangeEvent=false;t.lock={};t.overrideRowPress=false;Ii(t,"selectionChange",si,t);t.enhancedPropertyInfos=[];t.propertyInfos=[];t.originalTableDefinition=t.tableDefinition;t.attachStateChangeHandler();t.attachManifestEvents();t.overrideRowPress=t.hasListeners("rowPress");return t}Oi(i,n);var a=i.prototype;a.getRowBinding=function e(){const t=this.content;const n=t.getModel();return t.getRowBinding()??n?.bindList(this.getRowCollectionPath())};a.attachStateChangeHandler=function e(){q.detachStateChange(this.stateChangeHandler);q.attachStateChange(this.stateChangeHandler)};a.stateChangeHandler=function e(t){const n=t.getParameter("control");if(n.isA("sap.ui.mdc.Table")){const e=n.getParent();if(e?.handleStateChange){e.handleStateChange()}}};a.attachManifestEvents=function t(){const n=(t,n)=>{if(!this.hasListeners(t)&&n!==undefined){this.attachEvent(t,i=>{h.loadModuleAndCallMethod(n.moduleName,n.methodName,i,i).catch(i=>{e.error(`Failed to call ${t} event handler ${n.moduleName} ${n.methodName}`,i)})})}};n("beforeRebindTable",bi(this.tableDefinition?.control?.beforeRebindTable,this.tableDefinition?.control));n("rowPress",bi(this.tableDefinition?.control?.rowPress,this.tableDefinition?.control));n("selectionChange",bi(this.tableDefinition?.control?.selectionChange,this.tableDefinition?.control))};a.setUpNoDataInformation=function e(){const t=this.content;if(!t||t.getNoData()){return}const n=this._getOwner();let i;let o;if(n){const e=fi(n);if(e){let t;const n=this.metaPath;if(n){t=n.startsWith("/")?n.substring(1):n}o=e.getText("T_ILLUSTRATED_MESSAGE_TITLE_BEFORESEARCH");i=e.getText("T_TABLE_AND_CHART_NO_DATA_TEXT",undefined,t)}}else{const e=N.getResourceBundleFor("sap.fe.templates");o=e.getText("T_ILLUSTRATED_MESSAGE_TITLE_BEFORESEARCH");i=e.getText("T_TABLE_AND_CHART_NO_DATA_TEXT")}if(this.getNoDataMessageMode()==="text"){this.setAggregation("noData",new z({text:i}))}else{const e=new B({title:o,description:i,illustrationType:F.BeforeSearch,illustrationSize:this.getNoDataMessageMode(),enableDefaultTitleAndDescription:false});this.setAggregation("noData",e)}};a.getSectionContentRole=function e(){return"consumer"};a.sendDataToConsumer=function e(t){if(this.content?.isA("sap.ui.mdc.Table")){this.content?.setHeader(t.title);this.content?.setHeaderStyle(t.headerStyle);this.content?.setHeaderLevel(t.titleLevel)}};a.getIgnoreContextChangeEvent=function e(){return this.ignoreContextChangeEvent};a.setIgnoreContextChangeEvent=function e(t){this.ignoreContextChangeEvent=t};i._getAPIExtension=function e(t){let n;if(t.isA("sap.ui.model.odata.v4.ODataListBinding")){n=this.instanceMap?.get(this)?.find(e=>e.content?.getRowBinding?.()===t||e.content?.getBinding("items")===t)}return n};a.getSelectedContexts=function e(){return this.isContextMenuActive()?this.getBindingContext("internal")?.getProperty("contextmenu/selectedContexts")??[]:this.content.getSelectedContexts()};a.addMessage=function e(t){const n=this._getMessageManager();const i=this.getContent();const o=new $({target:i.getRowBinding().getResolvedPath(),type:t.type,message:t.message,processor:i.getModel(),description:t.description,persistent:t.persistent});n.addMessages(o);return o.getId()};a.checkIfRecommendationRelevant=function e(t){const n=this.getProperty("readOnly");const i=r.getIsEditable(this);const o=r.getTargetView(this);const a=o.getViewData();if(!n&&i&&a.converterType!=="ListReport"){return true}return false};a.removeMessage=function e(t){const n=this._getMessageManager();const i=n.getMessageModel().getData();const o=i.find(e=>e.getId()===t);if(o){n.removeMessages(o)}};a.refresh=function e(){const t=this.content.getRowBinding();if(t&&(t.isRelative()||this.getTableDefinition().control.type==="TreeTable")){const e=r.getAppComponent(this.content);const n=t.getHeaderContext();if(n){e.getSideEffectsService().requestSideEffects([{$NavigationPropertyPath:""}],n,t.getGroupId())}}else{t?.refresh()}};a.getQuickFilter=function e(){return this.content?.getQuickFilter()};a.getPresentationVariant=async function t(){try{const e=this.content;const t=await q.retrieveExternalState(e);const n=t.sorters?.map(e=>({Property:e.name.replace("Property::",""),Descending:e.descending??false}));const i=t.groupLevels?.map(e=>e.name.replace("Property::",""));const o={Content:t.items?.map(e=>({Value:e.name})),Type:"LineItem"};const r={};let a=false;for(const e in t.aggregations){const n=e.replace("Property::","");r[n]=t.aggregations[e];a=true}const s=e.getPayload()?.initialExpansionLevel;const l=new O;l.setTableVisualization(o);const c={GroupBy:i||[],SortOrder:n||[]};if(a){c.Aggregations=r}if(s){c.initialExpansionLevel=s}l.setProperties(c);return l}catch(t){const n=this.getId();const i=t instanceof Error?t.message:String(t);e.error(`Table Building Block (${n}) - get presentation variant failed : ${i}`);throw Error(t)}};a.setPresentationVariant=async function t(n){try{const e=this.content;const t=await this.getPresentationVariant();const i=this.getEnhancedFetchedPropertyInfos();const o=i.map(e=>e.key);const r=ui(n,t,o);const a=n.getProperties();if(a?.initialExpansionLevel!==undefined){const t=e.getPayload();t.initialExpansionLevel=a.initialExpansionLevel}await q.applyExternalState(e,r)}catch(t){const n=this.getId();const i=t instanceof Error?t.message:String(t);e.error(`Table Building Block (${n}) - set presentation variant failed : ${i}`);throw Error(i)}};a.getCurrentVariantKey=function e(){return this.content.getVariant()?.getCurrentVariantKey()};a.setCurrentVariantKey=function e(t){const n=this.content.getVariant();n.setCurrentVariantKey(t)};a._getMessageManager=function e(){return H};a._getRowBinding=function e(){const t=this.getContent();return t.getRowBinding()};a.getCounts=async function e(){const t=this.getContent();return E.getListBindingForCount(t,t.getBindingContext(),{batchGroupId:!this.getProperty("bindingSuspended")?t.data("batchGroupId"):"$auto",additionalFilters:E.getHiddenFilters(t)}).then(e=>E.getCountFormatted(e)).catch(()=>"0")};a.onListBindingChange=function e(t){this.fireEvent("listBindingChange",t.getParameters());this.setFastCreationRowEnablement();this.getQuickFilter()?.refreshSelectedCount();x.setContextsAsync(this.content)};a.onFieldLiveChange=function e(t){this._onFieldLiveChange(t)};a.onQuickFilterSelectionChange=function e(){const t=this.content;const n=t.getFilter();const i=n&&V.getElementById(n);if(!i?.getSuspendSelection?.()){t.rebind()}r.getTargetView(this)?.getController()?.getExtensionAPI().updateAppState()};a.onTableNavigate=function e(t,n,i){if(this.isTableRowNavigationPossible(n)){if(this.fullScreenDialog){this.fullScreenDialog.close()}const e=Object.assign({},i,{reason:l.RowPress});t._routing.navigateForwardToContext(n,e)}else{return false}};a.onTableRowPress=async function e(t){const n=this.tableDefinition?.annotation.row?.navigationInfo;if(this.overrideRowPress===true){this.fireEvent("rowPress",t.getParameters())}else if(n!==undefined){const e=this.getPageController();const i=t.getParameter("bindingContext");if(n.type==="Outbound"){return this.avoidParallelCalls(async()=>e._intentBasedNavigation.onChevronPressNavigateOutBound(e,n.navigationTarget,i,""),"onChevronPressNavigateOutBound")}else{const t=n.checkEditable?!i.getProperty("IsActiveEntity"):undefined;const o={callExtension:true,targetPath:n.targetPath,editable:t,recreateContext:n.recreateContext};return this.onTableNavigate(e,i,o)}}};a.onSegmentedButtonPressed=function e(t){this.fireEvent("segmentedButtonPress",t.getParameters())};a.onVariantSelected=function e(t){this.fireEvent("variantSelected",t.getParameters())};a.onVariantSaved=function e(t){this.fireEvent("variantSaved",t.getParameters())};a.onRowPressed=function e(t){this.fireEvent("rowPress",t.getParameters())};a.isTableRowNavigationPossible=function e(t){const n=t.isInactive()==true&&t.isTransient()===true;const i=this.getTableDefinition().enableAnalytics===true&&t.isA("sap.ui.model.odata.v4.Context")&&typeof t.getProperty("@$ui5.node.isExpanded")==="boolean";return!(n||i)};a.onShareToCollaborationManagerPress=function e(t,n,i,o){return this._onShareToCollaborationManagerPress(n,i,o)};a.onOpenInNewTabPress=function e(t,n,i,o,r){if(i.length<=r){const e=this;i.forEach(async function(t){if(e.isTableRowNavigationPossible(t)){o.editable=!t.getProperty("IsActiveEntity");await n._routing.navigateForwardToContext(t,o)}else{return false}})}else{_.warning(N.getResourceBundleFor("sap.fe.macros").getText("T_TABLE_NAVIGATION_TOO_MANY_ITEMS_SELECTED",[r]))}};a.onInternalPatchCompleted=function e(){const t=this.getBindingContext("internal");const n=this.getSelectedContexts();f.updateDeleteInfoForSelectedContexts(t,n)};a.onInternalDataReceived=function e(t){const n=this.checkIfRecommendationRelevant(t);if(n){const e=this.getIdentifierColumn(n);const i=t.getSource().getAllCurrentContexts();const o=[];i.forEach(t=>{o.push({context:t,contextIdentifier:e})});this.getPageController().recommendations.fetchAndApplyRecommendations(o,true)}if(t.getParameter("error")){this.getPageController().messageHandler.showMessageDialog({control:this})}else{this.getPageController().messageHandler.releaseHoldByControl(this);this.setDownloadUrl()}};a.onInternalDataRequested=function e(t){this.setProperty("dataInitialized",true);this.fireEvent("internalDataRequested",t.getParameters());if(this.getQuickFilter()!==undefined&&this.getTableDefinition().control.filters?.quickFilters?.showCounts===true){this.getQuickFilter()?.setCountsAsLoading();this.getQuickFilter()?.refreshUnSelectedCounts()}this.getPageController().messageHandler.holdMessagesForControl(this)};a.onPaste=async function t(n,i){let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const a=n.getParameter("data"),s=n.getSource();let l;if(!o){l=s.isA("sap.ui.mdc.Table")?s:s.getParent()}else{const e=s.isA("sap.m.Menu")?s:s.getParent();l=e.getParent()?.getParent()}const c=l.getBindingContext("internal");if(!this.tableDefinition.control.enablePaste||l.getRowBinding().isRelative()&&!r.getIsEditable(this)){return}const u=c.getProperty("nodeUpdatesInfo/lastAction");const p=c.getProperty("nodeUpdatesInfo/pastableContexts");if(this.tableDefinition.control.type==="TreeTable"){let t=p[0];const n=!o?l.getSelectedContexts()[0]:c?.getProperty("contextmenu/selectedContexts")[0];t=l.getRowBinding().getAllCurrentContexts().find(e=>e.getPath()===t?.getPath());if(!t){e.error(`The ${u} operation is unsuccessful because the relevant context is no longer available`);return}try{await Promise.all([t.move({parent:n??null,copy:u==="Copy"}),u==="Copy"?this.requestSideEffectsForCopyAction(t):this.requestSideEffectsForChangeNextSiblingAction(t)])}catch(e){R.show(this.getTranslatedText("M_TABLEDROP_FAILED",[e.message??""]))}c.setProperty(`nodeUpdatesInfo/pastableContexts`,[]);c.setProperty(`nodeUpdatesInfo/pasteEnablement`,false);c.setProperty(`contextmenu/nodeUpdatesInfo/pasteEnablement`,false);c.setProperty(`nodeUpdatesInfo/lastAction`,undefined);return}if(l.getEnablePaste()===true&&!o){const e=l.getCellSelector()?.getSelection();if(e?.columns.length>0){b.pasteRangeData(a??[],e,l)}else{b.pasteData(a??[],l,i)}}else{const e=N.getResourceBundleFor("sap.fe.core");_.error(e.getText("T_OP_CONTROLLER_SAPFE_PASTE_DISABLED_MESSAGE"),{title:e.getText("C_COMMON_SAPFE_ERROR")})}};a.onCut=function e(t){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this._onCopyCut(t,n,"Cut")};a.onCopy=function e(t){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this._onCopyCut(t,n,"Copy")};a.onBeforeExport=function e(t){this._onBeforeExport(t)};a.dataStateIndicatorFilter=function e(t,n){const i=n;const o=i.getBindingContext()?.getPath();const r=(o?`${o}/`:"")+i.getRowBinding().getPath();return r===t.getTargets()[0]?true:false};a.onDataStateChange=function e(t){const n=t.getSource();const i=t.getParameter("filteredMessages");if(i){const e=i.map(e=>{const t=e.getTechnicalDetails()||{};return t.emptyRowMessage===true&&t.missingColumn}).filter(e=>!!e);if(e.length){const t=N.getResourceBundleFor("sap.fe.macros").getText(e.length===1?"M_MESSAGESTRIP_EMPTYROW_MANDATORY_HIDDEN":"M_MESSAGESTRIP_EMPTYROW_MANDATORY_HIDDEN_PLURAL",[e.join(", ")]);n.showMessage(t,"Error")}const t=n.getModel("internal");t.setProperty("filteredMessages",i,n.getBindingContext("internal"))}};a.resumeBinding=function e(t){this.setProperty("bindingSuspended",false);if(t&&!this.getDataInitialized()||this.getProperty("outDatedBinding")){this.setProperty("outDatedBinding",false);this.getContent()?.rebind()}};a.refreshNotApplicableFields=function e(t){const n=this.getContent();return v.getNotApplicableFilters(t,n)};a.suspendBinding=function e(){this.setProperty("bindingSuspended",true)};a.invalidateContent=function e(){this.setProperty("dataInitialized",false);this.setProperty("outDatedBinding",false)};a.setFastCreationRowEnablement=function e(){const t=this.content;const n=t.getCreationRow();if(n&&!n.getBindingContext()){const e=t.getRowBinding();const i=e.getContext();if(i){T.enableFastCreationRow(n,e.getPath(),i,i.getModel(),Promise.resolve())}}};a.onAddCardToInsightsPressed=async function e(){return this._onAddCardToInsightsPressed()};a.onMassEditButtonPressed=function e(t,n){const i=new I({table:this.content,onContextMenu:n,onClose:()=>{this.setMassEditDialogHelper()}});this.setMassEditDialogHelper(i);i.open()};a.onSelectionChanged=async function e(t){await x.setContexts(t);this.fireEvent("selectionChange",{...t.getParameters(),selectedContext:this.getSelectedContexts()})};a.onActionPress=async function t(n,i,o,r){r.model=n.getSource().getModel();let a=true;if(r.notApplicableContexts&&r.notApplicableContexts.length>0){const e=mi(r.model.getMetaModel());const t=e.resolvePath(this.entityTypeFullyQualifiedName).target;const n=new s({entityType:t,notApplicableContexts:r.notApplicableContexts,title:r.label,resourceModel:fi(this),entitySet:r.entitySetName,actionName:o});r.contexts=r.applicableContexts;a=await n.open(this)}if(a){try{return await i.editFlow.invokeAction(o,{...r,...{feFrameworkCall:true}})}catch(t){e.info(t)}}};a.onContextMenuPress=function e(t){this._onContextMenuPress(t)};a.getTableDefinition=function e(){return this.tableDefinition};a.setMassEditDialogHelper=function e(t){this.massEditDialogHelper=t};a.getMassEditDialogHelper=function e(){return this.massEditDialogHelper};a.updateFilterBar=function e(){const t=this.getContent();const n=this.getFilterBar();if(t&&n&&t.getFilter?.()!==n){this._setFilterBar(n)}};a.detachFilterBar=function e(){const t=this.content;t?.setFilter("")};a.getFilterBarControl=function e(t){const n=this?.getId();const i=this.data("tableAPILocalId");const o=i&&t&&n&&n.replace(new RegExp(i+"$"),t);return this.getPageController()?.byId(t)||V.getElementById(t)||V.getElementById(o)};a._setFilterBar=function e(t){const n=this.getContent();const i=this.getFilterBarControl(t);if(i){if(i.isA("sap.fe.macros.filterBar.FilterBarAPI")){n.setFilter(`${i.getId()}-content`)}else if(i.isA("sap.fe.macros.filterBar.FilterBar")&&i?.content?.isA("sap.fe.macros.filterBar.FilterBarAPI")){n.setFilter(`${i.content.getId()}-content`)}else if(i.isA("sap.ui.mdc.FilterBar")||i.isA("sap.fe.macros.table.BasicSearch")){n.setFilter(i.getId())}}};a.handleCreateActivate=async function e(t){await this._handleCreateActivate(t)};a.onDragEnterDocument=function e(t){this._onDragEnterDocument(t)};a.onDragStartDocument=function e(t){this._onDragStartDocument(t)};a.onDropDocument=async function e(t){await this._onDropDocument(t)};a.onCollapseExpandNode=async function e(t,n){await this._onCollapseExpandNode(t,n)};a.onMoveUpDown=async function e(t,n){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;await this._onMoveUpDown(t,n,i)};a.getSelectionVariant=async function e(){return G.getSelectionVariant(this.getContent())};a.setSelectionVariant=async function e(t){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return G.setSelectionVariantToMdcControl(this.getContent(),t,n)};a._createContentV2Mode=async function e(){const n=this._getOwner();const i=n?.preprocessorContext;if(n&&i){const e=n.getAppComponent().getMetaModel();const r=e.createBindingContext(this.metaPath);const a=e.createBindingContext(this.contextPath);this.tableDefinition=t(this.originalTableDefinition);this.updateColumnsVisibility(this.ignoredFields,this.tableDefinition);const s=mi(e);const l=s.resolvePath(this.tableDefinition.annotation.collection).target;this.contextObjectPath=yi(r,a);const c=new K(this,{collectionEntity:l,metaModel:e});const u=await U.process(Si(Pi`<root
			xmlns="sap.m"
			xmlns:mdc="sap.ui.mdc"
			xmlns:plugins="sap.m.plugins"
			xmlns:mdcTable="sap.ui.mdc.table"
			xmlns:macroTable="sap.fe.macros.table"
			xmlns:mdcat="sap.ui.mdc.actiontoolbar"
			xmlns:core="sap.ui.core"
			xmlns:control="sap.fe.core.controls"
			xmlns:dt="sap.ui.dt"
			xmlns:fl="sap.ui.fl"
			xmlns:variant="sap.ui.fl.variants"
			xmlns:p13n="sap.ui.mdc.p13n"
			xmlns:internalMacro="sap.fe.macros.internal">${o.renderAsXML(()=>M.getMDCTableTemplate(this,{convertedMetadata:i.getConvertedMetadata(),metaModel:e,handlerProvider:c,appComponent:n.getAppComponent(),metaPath:r}))}</root>`,true)[0],{models:{}},i);if(u.firstElementChild){this.detachFilterBar();this.content?.destroy();const e=await j.load({definition:u.firstElementChild,controller:n.getRootController(),containingView:n.getRootControl()});this.content=e;this.updateFilterBar()}}};a.setProperty=function e(t,i,o){if(!this._applyingSettings&&i!==undefined&&["ignoredFields","metaPath"].includes(t)){n.prototype.setProperty.call(this,t,i,true);this._createContentV2Mode()}else{n.prototype.setProperty.call(this,t,i,o)}return this};a.getDataModelAndConvertedTargetObject=function e(t){const n=this.getContent();const i=n.getModel()?.getMetaModel();if(!i){return}const o=n.data("metaPath");const r=this.getEnhancedFetchedPropertyInfos().find(e=>e.name===t)?.annotationPath;const a=i.getContext(r);const s=i.getContext(o);const l=p.convertMetaModelContext(a);let c=p.getInvolvedDataModelObjects(a,s);c=w.getDataModelObjectPathForValue(c)||c;return{dataModelPath:c,convertedtargetObject:l}};a.createAnyControl=function e(t,n){const i=this.getContent();const o=new c({any:t});o.setModel(n?.getModel());o.setModel(i.getModel("ui"),"ui");return o};a.getPropertyEditMode=function e(t,n){let i;if(!this.propertyEditModeCache[t]){const e=this.getDataModelAndConvertedTargetObject(t)?.dataModelPath;const o=this.getDataModelAndConvertedTargetObject(t)?.convertedtargetObject;if(e&&o){const r=e?.targetObject?.Value?(e?.targetObject).Value:e?.targetObject;const a=Ai(P.getEditMode(r,e,false,true,o));i=this.createAnyControl(a,n);this.propertyEditModeCache[t]=i;i.setBindingContext(null);this.addDependent(i)}}else{i=this.propertyEditModeCache[t]}i?.setBindingContext(n);const o=i?.getAny();i?.setBindingContext(null);return o};a.showColumns=async function e(t){for(const e of t){this.modifyDynamicVisibilityForColumn(e,true)}return this._createContentV2Mode()};a.hideColumns=async function e(t){for(const e of t){this.modifyDynamicVisibilityForColumn(e,false)}return this._createContentV2Mode()};a.setIgnoredFields=function e(t){return this.setProperty("ignoredFields",t)};a.getIgnoredFields=function e(){return this.getProperty("ignoredFields")??this.tableDefinition.control.ignoredFields};a.getControlState=function e(t){const n=this.initialControlState;if(t){return{fullState:t,initialState:n}}return t};a.getStateKey=function e(t){return r.getTargetView(this.content)?.getLocalId(t.getId())||t.getId()};i.updateColumnsVisibility=function e(t,n,i){W.updateColumnsVisibilityStatic(t,n,i)};a.getMDCTable=function e(){return this.content};a.handleStateChange=function e(){this.getPageController()?.getExtensionAPI().updateAppState()};a.avoidParallelCalls=async function e(t,n){if(this.lock[n]){return}this.lock[n]=true;try{await t()}catch{this.lock[n]=false}this.lock[n]=false};a.destroy=function e(t){this.getPageController(false)?.messageHandler?.releaseHoldByControl(this);n.prototype.destroy.call(this,t)};a.setFullScreenDialog=function e(t){this.fullScreenDialog=t};a.setEnhancedFetchedPropertyInfos=function e(t){this.enhancedPropertyInfos=t};a.getEnhancedFetchedPropertyInfos=function e(){return this.enhancedPropertyInfos};a.getPropertyInfos=function e(){const t=[];for(const e of this.enhancedPropertyInfos){let n={key:e.key,label:e.label,visible:e.visible,exportSettings:e.exportSettings,clipboardSettings:e.clipboardSettings,visualSettings:e.visualSettings,tooltip:e.tooltip,isKey:e.isKey};if(e.propertyInfos){n={...n,propertyInfos:e.propertyInfos}}else{let t;if(e.extension){t={technicallyGroupable:e.extension.technicallyGroupable,technicallyAggregatable:e.extension.technicallyAggregatable,customAggregate:e.extension.customAggregate};t=Object.fromEntries(Object.entries(t).filter(e=>{let[t,n]=e;return n!==undefined}))}n={...n,path:e.path,maxConditions:e.maxConditions,formatOptions:e.formatOptions,constraints:e.constraints,group:e.group,groupLabel:e.groupLabel,caseSensitive:e.caseSensitive,filterable:e.filterable,sortable:e.sortable,groupable:e.groupable,dataType:e.dataType,aggregatable:e.aggregatable,unit:e.unit,text:e.text,extension:t}}t.push(Object.fromEntries(Object.entries(n).filter(e=>{let[t,n]=e;return n!==undefined})))}return t};a.setCachedPropertyInfos=function e(t){this.propertyInfos=t};a.getCachedPropertyInfos=function e(){return this.propertyInfos};a.getRowCollectionPath=function e(){const t=this.getPageController();const n=t.getModel().getMetaModel();const i=n.createBindingContext(this.tableDefinition.annotation.collection);const o=n.createBindingContext(this.contextPath);const r=yi(i,o);return di(r)||pi(r)};a.getTableTemplateBindingInfo=function e(){const t=this.getPageController();const n=this.getRowCollectionPath();const i={suspended:false,path:n,parameters:{$count:true}};if(this.tableDefinition.enable$select){const e=Object.keys(this.tableDefinition.requestAtLeast).join(",");if(e){i.parameters.$select=e}}if(this.tableDefinition.enable$$getKeepAliveContext){i.parameters.$$getKeepAliveContext=true}i.parameters.$$clearSelectionOnFilter=true;i.parameters.$$groupId="$auto.Workers";i.parameters.$$updateGroupId="$auto";i.parameters.$$ownRequest=true;i.parameters.$$patchWithoutSideEffects=true;const o=t.editFlow;const r={};r.patchCompleted=this.onInternalPatchCompleted.bind(this);r.dataReceived=this.onInternalDataReceived.bind(this);r.dataRequested=this.onInternalDataRequested.bind(this);r.change=this.onListBindingChange.bind(this);r.createActivate=this.handleCreateActivate.bind(this);r.createSent=o.handleCreateSent.bind(o);if(this.tableDefinition.handlePatchSent){r.patchSent=o.handlePatchSent.bind(o)}else if(t.inlineEditFlow.isInlineEditPossible()){r.patchSent=t.inlineEditFlow.handleInlineEditPatchSent.bind(t.inlineEditFlow)}i.events=r;return i};i.addSetting=function e(t,n,i){if(i!==undefined){t[n]=i}};a.getSettingsForManifest=function e(){const t={};i.addSetting(t,"enableExport",this.enableExport);i.addSetting(t,"exportRequestSize",this.exportRequestSize);i.addSetting(t,"frozenColumnCount",this.frozenColumnCount);i.addSetting(t,"widthIncludingColumnHeader",this.widthIncludingColumnHeader);i.addSetting(t,"rowCountMode",this.rowCountMode);i.addSetting(t,"rowCount",this.rowCount);i.addSetting(t,"enableFullScreen",this.enableFullScreen);i.addSetting(t,"enablePaste",this.enablePaste);i.addSetting(t,"disableCopyToClipboard",this.disableCopyToClipboard);i.addSetting(t,"scrollThreshold",this.scrollThreshold);i.addSetting(t,"selectionMode",this.selectionMode);i.addSetting(t,"type",this.type);i.addSetting(t,"enablePastingOfComputedProperties",this.enablePastingOfComputedProperties);i.addSetting(t,"selectAll",this.enableSelectAll);i.addSetting(t,"ignoredFields",this.ignoredFields);i.addSetting(t,"selectionLimit",this.selectionLimit);i.addSetting(t,"condensedTableLayout",this.condensedTableLayout);if(this.creationMode){const e={};i.addSetting(e,"name",this.creationMode.name);i.addSetting(e,"creationFields",this.creationMode.creationFields);i.addSetting(e,"createAtEnd",this.creationMode.createAtEnd);i.addSetting(e,"inlineCreationRowsHiddenInEditMode",this.creationMode.inlineCreationRowsHiddenInEditMode);i.addSetting(e,"outbound",this.creationMode.outbound);if(Object.entries(e).length>0){t["creationMode"]=e}}if(this.massEdit){const e={};i.addSetting(e,"customFragment",this.massEdit.customContent);i.addSetting(e,"fromInline",true);i.addSetting(e,"visibleFields",this.massEdit.visibleFields?.join(","));i.addSetting(e,"ignoredFields",this.massEdit.ignoredFields?.join(","));i.addSetting(e,"operationGroupingMode",this.massEdit.operationGroupingMode);t["enableMassEdit"]=e}if(this.analyticalConfiguration?.aggregationOnLeafLevel===true){const e={};i.addSetting(e,"aggregationOnLeafLevel",this.analyticalConfiguration.aggregationOnLeafLevel);if(Object.entries(e).length>0){t["analyticalConfiguration"]=e}}if(this.quickVariantSelection?.paths?.length){i.addSetting(t,"quickVariantSelection",{paths:this.quickVariantSelection.paths.map(e=>({annotationPath:e})),showCounts:this.quickVariantSelection.showCounts})}return t};a.findSlotActionFromKey=function e(t){let n;for(const e of this.actions??[]){if(e.isA("sap.fe.macros.table.ActionGroup")||e.isA("sap.fe.macros.table.ActionGroupOverride")){n??=e.actions.find(e=>e.isA("sap.fe.macros.table.Action")&&e.key===t)}else if(e.isA("sap.fe.macros.table.Action")&&e.key===t){n=e;break}}return n};a.onMetadataAvailable=function e(){this.createContent()};a.getFullMetaPath=function e(){if(this.metaPath.startsWith("/")){return this.metaPath}else if(this.contextPath.endsWith("/")){return`${this.contextPath}${this.metaPath}`}else{return`${this.contextPath}/${this.metaPath}`}};a.createContent=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const n=this._getOwner();if(!n){return}this.contextPath??=this.getOwnerContextPath();const i=this.getFullMetaPath();if(!this.content||t){this.detachFilterBar();this.content?.destroy();const e=n.getAppComponent().getMetaModel();const t=e.createBindingContext(i);this.tableDefinition=li(this);this.updatePropertiesFromTableDefinition();this.updateColumnsVisibility(this.tableDefinition.control.ignoredFields,this.tableDefinition);const o=this.contextObjectPath.convertedTypes.resolvePath(this.tableDefinition.annotation.collection).target;const r=o?.entityType??o?.targetType;this.entityTypeFullyQualifiedName=r?.fullyQualifiedName;const a=new K(this,{metaModel:e,collectionEntity:o},this);this.content=this.createMDCTable({appComponent:n.getAppComponent(),metaPath:t,convertedMetadata:p.convertTypes(e),handlerProvider:a,metaModel:e})}this.updateFilterBar();this.setupOptimisticBatch();this.setUpNoDataInformation();this.getQuickFilter()?.setMetaPath(i)};a.createMDCTable=function e(t){return M.getMDCTableTemplate(this,t)};a.updatePropertiesFromTableDefinition=function e(){if(L.isGeneratedId(this.getId())){this.contentId??=this.tableDefinition.annotation.id}else{this.contentId??=`${this.getId()}-content`}if(this.useBasicSearch===undefined){if(!this.filterBar){this.filterBar=gi([this.contentId,"StandardAction","BasicSearch"]);this.useBasicSearch=true}else{this.useBasicSearch=false}}if(this.readOnly===undefined&&(this.tableDefinition.annotation.displayMode===true||this.tableDefinition.control.readOnly===true)){this.readOnly=true}if(this.emptyRowsEnabled===undefined){const e=this.creationMode?.name===Ci.InlineCreationRows?this.tableDefinition.actions.find(e=>e.key===hi.Create)?.enabled:undefined;if(e!==undefined&&e!=="false"){this.setProperty("emptyRowsEnabled",e)}}};a.getNoDataMessageMode=function e(){const t=this.modeForNoDataMessage??this.tableDefinition.control.modeForNoDataMessage??"illustratedMessage-Auto";return t==="text"?"text":t.split("-")[1]};return i}(S),Yt=Fi(Xt.prototype,"__implements__sap_fe_core_IRowBindingInterface",[de],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),Jt=Fi(Xt.prototype,"__implements__sap_fe_macros_controls_section_ISingleSectionContributor",[ge],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),Zt=Fi(Xt.prototype,"metaPath",[fe],{configurable:true,enumerable:true,writable:true,initializer:null}),en=Fi(Xt.prototype,"contextPath",[he],{configurable:true,enumerable:true,writable:true,initializer:null}),tn=Fi(Xt.prototype,"tableDefinition",[be],{configurable:true,enumerable:true,writable:true,initializer:null}),nn=Fi(Xt.prototype,"contentId",[ye],{configurable:true,enumerable:true,writable:true,initializer:null}),on=Fi(Xt.prototype,"entityTypeFullyQualifiedName",[me],{configurable:true,enumerable:true,writable:true,initializer:null}),rn=Fi(Xt.prototype,"enableFullScreen",[Ce],{configurable:true,enumerable:true,writable:true,initializer:null}),an=Fi(Xt.prototype,"enableExport",[Pe],{configurable:true,enumerable:true,writable:true,initializer:null}),sn=Fi(Xt.prototype,"frozenColumnCount",[Se],{configurable:true,enumerable:true,writable:true,initializer:null}),ln=Fi(Xt.prototype,"rowCountMode",[we],{configurable:true,enumerable:true,writable:true,initializer:null}),cn=Fi(Xt.prototype,"rowCount",[ve],{configurable:true,enumerable:true,writable:true,initializer:null}),un=Fi(Xt.prototype,"enablePaste",[Me],{configurable:true,enumerable:true,writable:true,initializer:null}),pn=Fi(Xt.prototype,"disableCopyToClipboard",[De],{configurable:true,enumerable:true,writable:true,initializer:null}),dn=Fi(Xt.prototype,"scrollThreshold",[Te],{configurable:true,enumerable:true,writable:true,initializer:null}),gn=Fi(Xt.prototype,"isSearchable",[xe],{configurable:true,enumerable:true,writable:true,initializer:null}),fn=Fi(Xt.prototype,"type",[Ee],{configurable:true,enumerable:true,writable:true,initializer:null}),hn=Fi(Xt.prototype,"useCondensedLayout",[Ae],{configurable:true,enumerable:true,writable:true,initializer:null}),bn=Fi(Xt.prototype,"selectionMode",[Ie],{configurable:true,enumerable:true,writable:true,initializer:null}),yn=Fi(Xt.prototype,"condensedTableLayout",[Oe],{configurable:true,enumerable:true,writable:true,initializer:null}),mn=Fi(Xt.prototype,"actions",[Be],{configurable:true,enumerable:true,writable:true,initializer:null}),Cn=Fi(Xt.prototype,"columns",[Fe],{configurable:true,enumerable:true,writable:true,initializer:null}),Pn=Fi(Xt.prototype,"readOnly",[_e],{configurable:true,enumerable:true,writable:true,initializer:null}),Sn=Fi(Xt.prototype,"filterBar",[Re],{configurable:true,enumerable:true,writable:true,initializer:null}),wn=Fi(Xt.prototype,"enableAutoColumnWidth",[ze],{configurable:true,enumerable:true,writable:true,initializer:null}),vn=Fi(Xt.prototype,"widthIncludingColumnHeader",[Le],{configurable:true,enumerable:true,writable:true,initializer:null}),Mn=Fi(Xt.prototype,"modeForNoDataMessage",[Ve],{configurable:true,enumerable:true,writable:true,initializer:null}),Dn=Fi(Xt.prototype,"dataInitialized",[je],{configurable:true,enumerable:true,writable:true,initializer:null}),Tn=Fi(Xt.prototype,"bindingSuspended",[Ne],{configurable:true,enumerable:true,writable:true,initializer:null}),xn=Fi(Xt.prototype,"outDatedBinding",[He],{configurable:true,enumerable:true,writable:true,initializer:null}),En=Fi(Xt.prototype,"isAlp",[ke],{configurable:true,enumerable:true,writable:true,initializer:null}),An=Fi(Xt.prototype,"variantManagement",[$e],{configurable:true,enumerable:true,writable:true,initializer:null}),In=Fi(Xt.prototype,"ignoredFields",[Ue],{configurable:true,enumerable:true,writable:true,initializer:null}),On=Fi(Xt.prototype,"id",[qe],{configurable:true,enumerable:true,writable:true,initializer:null}),Bn=Fi(Xt.prototype,"fieldMode",[Ge],{configurable:true,enumerable:true,writable:true,initializer:null}),Fn=Fi(Xt.prototype,"headerLevel",[Qe],{configurable:true,enumerable:true,writable:true,initializer:null}),_n=Fi(Xt.prototype,"headerStyle",[Ke],{configurable:true,enumerable:true,writable:true,initializer:null}),Rn=Fi(Xt.prototype,"exportRequestSize",[We],{configurable:true,enumerable:true,writable:true,initializer:null}),zn=Fi(Xt.prototype,"initialLoad",[Xe],{configurable:true,enumerable:true,writable:true,initializer:null}),Ln=Fi(Xt.prototype,"personalization",[Ye],{configurable:true,enumerable:true,writable:true,initializer:null}),Vn=Fi(Xt.prototype,"header",[Je],{configurable:true,enumerable:true,writable:true,initializer:null}),jn=Fi(Xt.prototype,"useBasicSearch",[Ze],{configurable:true,enumerable:true,writable:true,initializer:null}),Nn=Fi(Xt.prototype,"emptyRowsEnabled",[et],{configurable:true,enumerable:true,writable:true,initializer:null}),Hn=Fi(Xt.prototype,"headerVisible",[tt],{configurable:true,enumerable:true,writable:true,initializer:null}),kn=Fi(Xt.prototype,"tabTitle",[nt],{configurable:true,enumerable:true,writable:true,initializer:null}),$n=Fi(Xt.prototype,"associatedSelectionVariantPath",[it],{configurable:true,enumerable:true,writable:true,initializer:null}),Un=Fi(Xt.prototype,"inMultiView",[ot],{configurable:true,enumerable:true,writable:true,initializer:null}),qn=Fi(Xt.prototype,"displaySegmentedButton",[rt],{configurable:true,enumerable:true,writable:true,initializer:null}),Gn=Fi(Xt.prototype,"enablePastingOfComputedProperties",[at],{configurable:true,enumerable:true,writable:true,initializer:null}),Qn=Fi(Xt.prototype,"enableSelectAll",[st],{configurable:true,enumerable:true,writable:true,initializer:null}),Kn=Fi(Xt.prototype,"selectionLimit",[lt],{configurable:true,enumerable:true,writable:true,initializer:null}),Wn=Fi(Xt.prototype,"creationMode",[ct],{configurable:true,enumerable:true,writable:true,initializer:null}),Xn=Fi(Xt.prototype,"noData",[ut],{configurable:true,enumerable:true,writable:true,initializer:null}),Yn=Fi(Xt.prototype,"analyticalConfiguration",[pt],{configurable:true,enumerable:true,writable:true,initializer:null}),Jn=Fi(Xt.prototype,"quickVariantSelection",[dt],{configurable:true,enumerable:true,writable:true,initializer:null}),Zn=Fi(Xt.prototype,"massEdit",[gt],{configurable:true,enumerable:true,writable:true,initializer:null}),ei=Fi(Xt.prototype,"beforeRebindTable",[ft],{configurable:true,enumerable:true,writable:true,initializer:null}),ti=Fi(Xt.prototype,"rowPress",[ht],{configurable:true,enumerable:true,writable:true,initializer:null}),ni=Fi(Xt.prototype,"segmentedButtonPress",[bt],{configurable:true,enumerable:true,writable:true,initializer:null}),ii=Fi(Xt.prototype,"variantSaved",[yt],{configurable:true,enumerable:true,writable:true,initializer:null}),oi=Fi(Xt.prototype,"variantSelected",[mt],{configurable:true,enumerable:true,writable:true,initializer:null}),ri=Fi(Xt.prototype,"listBindingChange",[Ct],{configurable:true,enumerable:true,writable:true,initializer:null}),ai=Fi(Xt.prototype,"internalDataRequested",[Pt],{configurable:true,enumerable:true,writable:true,initializer:null}),si=Fi(Xt.prototype,"selectionChange",[St],{configurable:true,enumerable:true,writable:true,initializer:null}),Fi(Xt.prototype,"onFieldLiveChange",[wt],Object.getOwnPropertyDescriptor(Xt.prototype,"onFieldLiveChange"),Xt.prototype),Fi(Xt.prototype,"onTableRowPress",[vt],Object.getOwnPropertyDescriptor(Xt.prototype,"onTableRowPress"),Xt.prototype),Fi(Xt.prototype,"onSegmentedButtonPressed",[Mt],Object.getOwnPropertyDescriptor(Xt.prototype,"onSegmentedButtonPressed"),Xt.prototype),Fi(Xt.prototype,"onVariantSelected",[Dt],Object.getOwnPropertyDescriptor(Xt.prototype,"onVariantSelected"),Xt.prototype),Fi(Xt.prototype,"onVariantSaved",[Tt],Object.getOwnPropertyDescriptor(Xt.prototype,"onVariantSaved"),Xt.prototype),Fi(Xt.prototype,"onRowPressed",[xt],Object.getOwnPropertyDescriptor(Xt.prototype,"onRowPressed"),Xt.prototype),Fi(Xt.prototype,"onShareToCollaborationManagerPress",[Et],Object.getOwnPropertyDescriptor(Xt.prototype,"onShareToCollaborationManagerPress"),Xt.prototype),Fi(Xt.prototype,"onOpenInNewTabPress",[At],Object.getOwnPropertyDescriptor(Xt.prototype,"onOpenInNewTabPress"),Xt.prototype),Fi(Xt.prototype,"onInternalPatchCompleted",[It],Object.getOwnPropertyDescriptor(Xt.prototype,"onInternalPatchCompleted"),Xt.prototype),Fi(Xt.prototype,"onInternalDataReceived",[Ot],Object.getOwnPropertyDescriptor(Xt.prototype,"onInternalDataReceived"),Xt.prototype),Fi(Xt.prototype,"onInternalDataRequested",[Bt],Object.getOwnPropertyDescriptor(Xt.prototype,"onInternalDataRequested"),Xt.prototype),Fi(Xt.prototype,"onPaste",[Ft],Object.getOwnPropertyDescriptor(Xt.prototype,"onPaste"),Xt.prototype),Fi(Xt.prototype,"onCut",[_t],Object.getOwnPropertyDescriptor(Xt.prototype,"onCut"),Xt.prototype),Fi(Xt.prototype,"onCopy",[Rt],Object.getOwnPropertyDescriptor(Xt.prototype,"onCopy"),Xt.prototype),Fi(Xt.prototype,"onBeforeExport",[zt],Object.getOwnPropertyDescriptor(Xt.prototype,"onBeforeExport"),Xt.prototype),Fi(Xt.prototype,"onDataStateChange",[Lt],Object.getOwnPropertyDescriptor(Xt.prototype,"onDataStateChange"),Xt.prototype),Fi(Xt.prototype,"onAddCardToInsightsPressed",[Vt],Object.getOwnPropertyDescriptor(Xt.prototype,"onAddCardToInsightsPressed"),Xt.prototype),Fi(Xt.prototype,"onMassEditButtonPressed",[jt],Object.getOwnPropertyDescriptor(Xt.prototype,"onMassEditButtonPressed"),Xt.prototype),Fi(Xt.prototype,"onSelectionChanged",[Nt],Object.getOwnPropertyDescriptor(Xt.prototype,"onSelectionChanged"),Xt.prototype),Fi(Xt.prototype,"onActionPress",[Ht],Object.getOwnPropertyDescriptor(Xt.prototype,"onActionPress"),Xt.prototype),Fi(Xt.prototype,"onContextMenuPress",[kt],Object.getOwnPropertyDescriptor(Xt.prototype,"onContextMenuPress"),Xt.prototype),Fi(Xt.prototype,"handleCreateActivate",[$t],Object.getOwnPropertyDescriptor(Xt.prototype,"handleCreateActivate"),Xt.prototype),Fi(Xt.prototype,"onDragEnterDocument",[Ut],Object.getOwnPropertyDescriptor(Xt.prototype,"onDragEnterDocument"),Xt.prototype),Fi(Xt.prototype,"onDragStartDocument",[qt],Object.getOwnPropertyDescriptor(Xt.prototype,"onDragStartDocument"),Xt.prototype),Fi(Xt.prototype,"onDropDocument",[Gt],Object.getOwnPropertyDescriptor(Xt.prototype,"onDropDocument"),Xt.prototype),Fi(Xt.prototype,"onCollapseExpandNode",[Qt],Object.getOwnPropertyDescriptor(Xt.prototype,"onCollapseExpandNode"),Xt.prototype),Fi(Xt.prototype,"onMoveUpDown",[Kt],Object.getOwnPropertyDescriptor(Xt.prototype,"onMoveUpDown"),Xt.prototype),Xt))||Wt)||Wt)||Wt)||Wt)||Wt)||Wt)||Wt)||Wt)||Wt);return Ri},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableCreationOptions", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,a,o,l,u,c,s,b,p,f,d;var y={};var m=e.property;var v=e.defineUI5Class;function g(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function z(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,w(e,r)}function w(e,r){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},w(e,r)}function O(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function j(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let h=(t=v("sap.fe.macros.table.TableCreationOptions"),i=m({type:"string"}),n=m({type:"boolean"}),a=m({type:"boolean"}),o=m({type:"string"}),l=m({type:"string"}),t(u=(c=function(e){function r(r){var t;t=e.call(this,r)||this;g(t,"name",s,t);g(t,"createAtEnd",b,t);g(t,"inlineCreationRowsHiddenInEditMode",p,t);g(t,"outbound",f,t);g(t,"creationFields",d,t);return t}y=r;z(r,e);return r}(r),s=O(c.prototype,"name",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),b=O(c.prototype,"createAtEnd",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),p=O(c.prototype,"inlineCreationRowsHiddenInEditMode",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),f=O(c.prototype,"outbound",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),d=O(c.prototype,"creationFields",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||u);y=h;return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableDefinition", ["sap/base/Log","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","../MacroAPI"],function(t,e,a,n,o,i,r){"use strict";var c={};var s=i.getContextRelativeTargetObjectPath;var l=o.isAnnotationOfTerm;var p=n.getVisualizationsFromAnnotation;var m=n.getDataVisualizationConfiguration;var u=a.getInvolvedDataModelObjects;var d=e.VisualizationType;function f(e){const a=e._getOwner();const n=a?.getMetaModel();if(!a||!n){t.error("Cannot create a table definition for a TableAPI without an owner or a metamodel");throw new Error("Cannot create a table definition for a TableAPI without an owner or a metamodel")}const o=n.createBindingContext(e.getFullMetaPath());const i=n.createBindingContext(e.contextPath);if(!o||!i){t.error(`Incorrect metaPath (${e.metaPath}) or contextPath (${e.contextPath}) for tableAPI`);throw new Error("Incorrect metaPath or contextPath for tableAPI")}e.contextObjectPath=u(o,i);const c=r.getConverterContext(e.contextObjectPath,e.contextPath,{appComponent:a.getAppComponent(),models:a.preprocessorContext?.models});const l=h(e.contextObjectPath,c);const p=e.getSettingsForManifest();const f={actions:{},columns:{},tableSettings:p};g(e,f);v(e,f);const b={};b[l]=f;const x=r.getConverterContext(e.contextObjectPath,e.contextPath,{appComponent:a?.getAppComponent(),models:a?.preprocessorContext?.models},b);let A;if(e.associatedSelectionVariantPath){const t=u(n.createBindingContext(e.associatedSelectionVariantPath),i);A=t.targetObject}const P=m(e.inMultiView&&e.contextObjectPath.targetObject?x.getRelativeAnnotationPath(e.contextObjectPath.targetObject.fullyQualifiedName,x.getEntityType()):s(e.contextObjectPath),x,{isCondensedTableLayoutCompliant:e.useCondensedLayout,associatedSelectionVariant:A,isMacroOrMultipleView:e.inMultiView??true});return P.visualizations.find(t=>t.type===d.Table)}c.createTableDefinition=f;function h(e,a){const n=s(e);if(!n){t.error(`Missing meta path parameter for LineItem`);return`@${"com.sap.vocabularies.UI.v1.LineItem"}`}if(l(e.targetObject,"com.sap.vocabularies.UI.v1.LineItem")){return n}const o=a.getEntityTypeAnnotation(n);let i=[];if(l(e.targetObject,"com.sap.vocabularies.UI.v1.SelectionPresentationVariant")||l(e.targetObject,"com.sap.vocabularies.UI.v1.PresentationVariant")){i=p(e.targetObject,n,o.converterContext,true)}else{t.error(`Bad metapath parameter for table : ${e.targetObject.term}`)}const r=i.find(t=>t.visualization.term==="com.sap.vocabularies.UI.v1.LineItem");if(r){return r.annotationPath}else{t.error(`Bad meta path parameter for LineItem: ${e.targetObject.term}`);return`@${"com.sap.vocabularies.UI.v1.LineItem"}`}}function b(t){Object.keys(t).forEach(e=>{if(t[e]===undefined){delete t[e]}})}function g(t,e){let a;t.columns?.forEach(t=>{const n=t.isA("sap.fe.macros.table.Column");if(n){a={header:t.header,width:t.width,importance:t.importance,horizontalAlign:t.horizontalAlign,widthIncludingColumnHeader:t.widthIncludingColumnHeader,exportSettings:t.exportSettings,properties:t.properties,tooltip:t.tooltip,template:t.template,availability:t.availability,required:t.required,type:"Slot"}}else{a={key:t.key,width:t.width,importance:t.importance,horizontalAlign:t.horizontalAlign,widthIncludingColumnHeader:t.widthIncludingColumnHeader,exportSettings:t.exportSettings,availability:t.availability}}b(a);if(n&&(t.anchor||t.placement)){a.position={anchor:t.anchor,placement:t.placement??"After"}}e.columns[t.key]=a})}function v(t,e){function a(t){const a=e.actions;const n=t.key;a[n]={position:{placement:t.placement??"After",anchor:t.anchor},command:t.command,enableOnSelect:t.enableOnSelect,visible:t.visible,enabled:t.enabled};if(t.isA("sap.fe.macros.table.Action")){a[n]={...a[n],text:t.text,__noWrap:true,press:"some handler",requiresSelection:t.requiresSelection};return}const o={enableAutoScroll:t["enableAutoScroll"],navigateToInstance:t["navigateToInstance"]};b(o);a[n]={...a[n],afterExecution:Object.entries(o).length?o:undefined,defaultValuesFunction:t.defaultValuesFunction}}t.actions?.forEach(t=>{if(t.isA("sap.fe.macros.table.Action")||t.isA("sap.fe.macros.table.ActionOverride")){a(t)}else{const n=e.actions;const o=t.key;n[o]={position:{placement:t.placement??"After",anchor:t.anchor},menu:t.actions.map(t=>t.key)};if(t.isA("sap.fe.macros.table.ActionGroup")){n[o]={...n[o],text:t.text,defaultAction:t.defaultAction,__noWrap:true}}t.actions.forEach(t=>{a(t)})}})}return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableEventHandlerProvider", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/helpers/FPMHelper","sap/fe/macros/field/FieldTemplating","../CommonHelper","./TableHelper","./TableRuntime","./uploadTable/UploadTableRuntime"],function(e,t,n,o,i,a,l,r){"use strict";var s={};var c=o.formatValueRecursively;var d=t.isPathInModelExpression;var u=t.isConstant;var b=t.getExpressionFromAnnotation;var p=t.compileExpression;const h=1;const g=10;let P=function(){function t(e,t,n){this.tableBlockProperties=e;this.tableAPI=n;this.collectionEntity=t.collectionEntity;this.metaModel=t.metaModel;if(n){this.constructorWithFunctions(n)}else{this.constructorWithStrings()}}s=t;var o=t.prototype;o.constructorWithStrings=function e(){const t=this.tableBlockProperties.tableDefinition?.control?.type;this.addCardToInsightsPress="API.onAddCardToInsightsPressed($event, $controller)";this.beforeExport="API.onBeforeExport($event)";this.beforeOpenContextMenu="API.onContextMenuPress($event)";this.collapseNode=t==="TreeTable"?"API.onCollapseExpandNode($event, false)":undefined;this.contextMenuItemSelected="TableRuntime.onContextMenuItemSelected";const n=this.tableBlockProperties.tableDefinition?.annotation.row?.navigationInfo;if(n!==undefined){if(n.type==="Outbound"){this.contextMenuOpenInNewTab=`.onOpenInNewTabNavigateOutBound('${n.navigationTarget}', %{internal>contextmenu/selectedContexts}, "", ${g})`}else{this.contextMenuShareToCollaborationManager=`API.onShareToCollaborationManagerPress($event, $controller, %{internal>contextmenu/selectedContexts}, ${h})`;this.contextMenuOpenInNewTab=`API.onOpenInNewTabPress($event, $controller, %{internal>contextmenu/selectedContexts}, { callExtension: true, targetPath: '${n.targetPath}', navMode: 'openInNewTab' }, ${g})`}}this.dataStateChange="API.onDataStateChange";if(this.tableBlockProperties.tableDefinition?.control?.hasDataStateIndicatorFilter){this.dataStateIndicatorFilter="TableRuntime.dataStateIndicatorFilter"}this.dragStartDocument=t==="TreeTable"?"API.onDragStartDocument":undefined;this.dragEnterDocument=t==="TreeTable"?"API.onDragEnterDocument":undefined;this.dropDocument=t==="TreeTable"?"API.onDropDocument":undefined;this.expandNode=t==="TreeTable"?"API.onCollapseExpandNode($event, true)":undefined;this.fieldChangeInCreationRow=`TableRuntime.onFieldChangeInCreationRow($event, ${!!this.tableBlockProperties.tableDefinition.control.customValidationFunction})`;this.fieldLiveChange=this.tableBlockProperties.creationMode?.name==="InlineCreationRows"?"TableAPI.onFieldLiveChange($event)":undefined;this.rowPress="API.onTableRowPress";this.segmentedButtonPress="API.onSegmentedButtonPressed";this.selectionChange="API.onSelectionChanged";this.tableContextChange=t==="TreeTable"?`TableRuntime.onTreeTableContextChanged($event, ${this.tableBlockProperties.tableDefinition?.annotation?.initialExpansionLevel})`:undefined;this.uploadCompleted="UploadTableRuntime.onUploadCompleted";this.uploadFileNameLengthExceeded="UploadTableRuntime.onFileNameLengthExceeded";this.uploadFileSizeExceeded="UploadTableRuntime.onFileSizeExceeded";this.uploadItemValidationHandler="UploadTableRuntime.uploadFile";this.uploadMediaTypeMismatch="UploadTableRuntime.onMediaTypeMismatch";this.variantSaved="API.onVariantSaved";this.variantSelected="API.onVariantSelected"};o.constructorWithFunctions=function e(t){const n=this.tableBlockProperties.tableDefinition?.control?.type;this.addCardToInsightsPress=t.onAddCardToInsightsPressed.bind(t);this.beforeExport=t.onBeforeExport.bind(t);this.beforeOpenContextMenu=t.onContextMenuPress.bind(t);this.collapseNode=n==="TreeTable"?e=>{t.onCollapseExpandNode(e,false)}:undefined;this.contextMenuItemSelected=l.onContextMenuItemSelected.bind(l);const o=this.tableBlockProperties.tableDefinition?.annotation.row?.navigationInfo;if(o!==undefined){if(o.type==="Outbound"){this.contextMenuOpenInNewTab=e=>{const n=t.getPageController();const i=t.getBindingContext("internal");n?.onOpenInNewTabNavigateOutBound?.(o.navigationTarget,i?.getProperty("contextmenu/selectedContexts"),"",g)}}else{this.contextMenuShareToCollaborationManager=e=>{const n=t.getPageController();const o=t.getBindingContext("internal");t.onShareToCollaborationManagerPress(e,n,o?.getProperty("contextmenu/selectedContexts"),h)};this.contextMenuOpenInNewTab=e=>{const n=t.getPageController();const i=t.getBindingContext("internal");t.onOpenInNewTabPress(e,n,i?.getProperty("contextmenu/selectedContexts"),{callExtension:true,targetPath:o.targetPath,navMode:"openInNewTab"},g)}}}this.dataStateChange=t.onDataStateChange.bind(t);if(this.tableBlockProperties.tableDefinition?.control?.hasDataStateIndicatorFilter){this.dataStateIndicatorFilter=t.dataStateIndicatorFilter.bind(t)}this.dragStartDocument=n==="TreeTable"?t.onDragStartDocument.bind(t):undefined;this.dragEnterDocument=n==="TreeTable"?t.onDragEnterDocument.bind(t):undefined;this.dropDocument=n==="TreeTable"?t.onDropDocument.bind(t):undefined;this.expandNode=n==="TreeTable"?e=>{t.onCollapseExpandNode(e,true)}:undefined;this.fieldChangeInCreationRow=e=>{l.onFieldChangeInCreationRow(e,!!this.tableBlockProperties.tableDefinition.control.customValidationFunction)};this.fieldLiveChange=this.tableBlockProperties.creationMode?.name==="InlineCreationRows"?t.onFieldLiveChange.bind(t):undefined;this.rowPress=t.onTableRowPress.bind(t);this.segmentedButtonPress=t.onSegmentedButtonPressed.bind(t);this.selectionChange=t.onSelectionChanged.bind(t);this.tableContextChange=n==="TreeTable"?e=>{l.onTreeTableContextChanged(e,this.tableBlockProperties.tableDefinition?.annotation?.initialExpansionLevel)}:undefined;this.uploadCompleted=r.onUploadCompleted.bind(r);this.uploadFileNameLengthExceeded=r.onFileNameLengthExceeded.bind(r);this.uploadFileSizeExceeded=r.onFileSizeExceeded.bind(r);this.uploadItemValidationHandler=r.uploadFile.bind(r);this.uploadMediaTypeMismatch=r.onMediaTypeMismatch.bind(r);this.variantSaved=t.onVariantSaved.bind(t);this.variantSelected=t.onVariantSelected.bind(t)};o.getCreateButtonPressHandler=function e(t,n){if(this.tableAPI){return n?l.onCreateButtonPress.bind(l):e=>{const n=this.tableAPI.getBindingContext("internal");const o=t?"contextmenu/selectedContexts":"selectedContexts";l.onCreateButtonPress(e,n?.getProperty(o))}}else if(!n){return t?"TableRuntime.onCreateButtonPress($event, ${internal>contextmenu/selectedContexts})":"TableRuntime.onCreateButtonPress($event, ${internal>selectedContexts})"}else{return"TableRuntime.onCreateButtonPress($event)"}};o.getCreateMenuItemPressHandler=function e(t,n){const o=n?"contextmenu/selectedContexts":"selectedContexts";if(this.tableAPI){return e=>{l.onCreateMenuItemPress(e,t,this.tableAPI.getBindingContext("internal")?.getProperty(o))}}else{return`TableRuntime.onCreateMenuItemPress($event, ${t}, \${internal>${o}})`}};o.getCutHandler=function e(t){if(this.tableAPI){return e=>{this.tableAPI.onCut(e,t)}}else{return`API.onCut($event, ${t})`}};o.getCopyHandler=function e(t){if(this.tableAPI){return e=>{this.tableAPI.onCopy(e,t)}}else{return`API.onCopy($event, ${t})`}};o.getDataFieldForActionButtonPressHandler=function e(t,n,o,l){if(!t){return undefined}const r=n.annotationPath?i.getActionContext(this.metaModel.createBindingContext(n.annotationPath+"/Action")):undefined;const s=r?this.metaModel.createBindingContext(r):undefined;if(this.tableAPI){const e=t.Action;const i=this.tableBlockProperties.contextObjectPath.targetEntityType.fullyQualifiedName;const r=typeof s?.getObject()!=="string"&&(a._isStaticAction(s?.getObject(),e)||a._isActionOverloadOnDifferentType(e.toString(),i));const c=!l?"aApplicable":"aApplicableForContextMenu";const d=!l?"aNotApplicable":"aNotApplicableForContextMenu";const u=!l?"":"contextmenu/";return e=>{const i=this.tableAPI.getBindingContext("internal");const a={contexts:!r?i.getProperty(`${u}selectedContexts`):null,bStaticAction:r?r:undefined,entitySetName:this.collectionEntity.name,applicableContexts:!r?i.getProperty(`dynamicActions/${t.Action}/${c}/`):null,notApplicableContexts:!r?i.getProperty(`dynamicActions/${t.Action}/${d}/`):null,isNavigable:(o??n).isNavigable,enableAutoScroll:n.enableAutoScroll,defaultValuesExtensionFunction:n.defaultValuesExtensionFunction,invocationGrouping:t?.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated",controlId:this.tableBlockProperties.contentId,operationAvailableMap:this.tableBlockProperties.tableDefinition.operationAvailableMap,label:t.Label?.valueOf()??"",model:this.tableAPI.getPageController().getModel(),feFrameworkCall:true};this.tableAPI?.onActionPress(e,this.tableAPI.getPageController(),t.Action.valueOf(),a)}}else{return a.pressEventDataFieldForActionButton({contextObjectPath:this.tableBlockProperties.contextObjectPath,contentId:this.tableBlockProperties.contentId},t,this.collectionEntity.name,this.tableBlockProperties.tableDefinition.operationAvailableMap,s?.getObject(),(o??n).isNavigable,n.enableAutoScroll,n.defaultValuesExtensionFunction,l)}};o.getDataFieldForIBNPressHandler=function e(t,n){if(t.annotationPath===undefined){return undefined}const o=this.metaModel.createBindingContext(t.annotationPath);const a=o?.getObject();if(!a){return undefined}const l=this.tableBlockProperties.tableDefinition.enableAnalytics!==true;if(this.tableAPI){return e=>{const t=this.tableAPI.getBindingContext("internal");const o={};o.navigationContexts=n?t.getProperty("contextmenu/selectedContexts"):t.getProperty("selectedContexts");if(a.RequiresContext&&!a.Inline&&l){const e=!n?"aApplicable":"aApplicableForContextMenu";const i=!n?"aNotApplicable":"aNotApplicableForContextMenu";o.applicableContexts=t.getProperty(`ibn/${a.SemanticObject}-${a.Action}/${e}/`);o.notApplicableContexts=t.getProperty(`ibn/${a.SemanticObject}-${a.Action}/${i}/`);o.label=a.Label}o.semanticObjectMapping=a.Mapping;const i=this.tableAPI.getPageController();if(l){i?._intentBasedNavigation.navigateWithConfirmationDialog(a.SemanticObject,a.Action,o,e.getSource())}else{i?._intentBasedNavigation.navigate(a.SemanticObject,a.Action,o,e.getSource())}}}else{return i.getPressHandlerForDataFieldForIBN(a,n?"${internal>contextmenu/selectedContexts}":"${internal>selectedContexts}",l,n)}};o.getExpressionForDataFieldValue=function e(t,n){const o=t?.Value;if(!o){return undefined}if(typeof o==="string"){return this.tableAPI?o:i.addSingleQuotes(o,true)}else{const e=b(o);if(u(e)||d(e)){const t=c(e,n);return p(t)}}};o.getDeleteButtonPressHandler=function e(t){const n=(this.collectionEntity?.entityType||this.collectionEntity?.targetType)?.annotations?.UI?.HeaderInfo;const o=!t?"":"contextmenu/";const a=`${o}deletableContexts`;const l=`${o}selectedContextsIncludingInactive`;const r=!t?`numberOfSelectedContexts`:`${o}numberOfSelectedContextsForDelete`;const s=`${o}unSavedContexts`;const c=`${o}lockedContexts`;const d=`${o}draftsWithDeletableActive`;const u=`${o}draftsWithNonDeletableActive`;const b=this.getExpressionForDataFieldValue(n?.Title,this.tableBlockProperties.contextObjectPath);const p=this.getExpressionForDataFieldValue(n?.Description,this.tableBlockProperties.contextObjectPath);if(this.tableAPI){return e=>{const t=this.tableAPI.getBindingContext("internal");const n={id:this.tableBlockProperties.contentId,numberOfSelectedContexts:t?.getProperty(r),unSavedContexts:t?.getProperty(s),lockedContexts:t?.getProperty(c),draftsWithDeletableActive:t?.getProperty(d),draftsWithNonDeletableActive:t?.getProperty(u),controlId:t?.getProperty("controlId"),title:b,description:p,selectedContexts:t?.getProperty(l)};this.tableAPI.getPageController()?.editFlow.deleteMultipleDocuments(t?.getProperty(a),n)}}else{const e={id:i.addSingleQuotes(this.tableBlockProperties.contentId),numberOfSelectedContexts:`\${internal>${r}}`,unSavedContexts:`\${internal>${s}}`,lockedContexts:`\${internal>${c}}`,draftsWithDeletableActive:`\${internal>${d}}`,draftsWithNonDeletableActive:`\${internal>${u}}`,controlId:"${internal>controlId}",title:b,description:p,selectedContexts:`\${internal>${l}}`};return i.generateFunction(".editFlow.deleteMultipleDocuments",`\${internal>${a}}`,i.objectToString(e))}};o.getManifestActionPressHandler=function t(o,a){if(this.tableAPI){if(o.noWrap===true){const t=this.tableAPI.findSlotActionFromKey(o.key);if(t){return e=>{const n=a?"contextmenu/selectedContexts":"selectedContexts";const o=this.tableAPI.getBindingContext("internal");const i={...e.getParameters(),contexts:o.getProperty(n)};t.fireEvent("press",i)}}else{e.error("Couldn't find action with key "+o.key);return undefined}}else{return t=>{const i=a?"contextmenu/selectedContexts":"selectedContexts";const l=this.tableAPI.getBindingContext("internal");n.actionWrapper(t,o.handlerModule,o.handlerMethod,{contexts:l.getProperty(i)}).catch(t=>{e.error("Error while executing custom action",t)})}}}else{return o.noWrap===true?o.press:i.buildActionWrapper(o,{id:this.tableBlockProperties.contentId},a)}};o.getMassEditButtonPressHandler=function e(t){if(this.tableAPI){return e=>{this.tableAPI.onMassEditButtonPressed(e,t)}}else{return`API.onMassEditButtonPressed($event, ${t})`}};o.getMoveUpDownHandler=function e(t,n){if(this.tableAPI){return e=>{this.tableAPI.onMoveUpDown(e,t,n)}}else{return`API.onMoveUpDown($event, ${t}, ${n})`}};o.getPasteHandler=function e(t){if(this.tableAPI){const e=this.tableAPI.getPageController();return n=>{this.tableAPI.onPaste(n,e,t)}}else{return`API.onPaste($event, $controller, ${t})`}};return t}();s=P;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableFullScreenButton", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/converters/controls/Common/Action","sap/fe/core/helpers/ResourceModelHelper","sap/m/Button","sap/m/Dialog","sap/m/Page","sap/m/Panel","sap/ui/core/Component","sap/ui/core/util/reflection/JsControlTreeModifier","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,n,o,a,r,l,s,g,c){"use strict";var u,f,h,b,d;var p={};var T=n.getResourceModel;var P=i.ButtonType;var A=e.property;var C=e.defineUI5Class;function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,M(e,t)}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}function D(e,t,i,n,o){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function S(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let v=(u=C("sap.fe.macros.table.TableFullScreenButton"),f=A({type:"string"}),u(h=(b=function(e){function t(t,i){var n;n=e.call(this,t,i)||this;m(n,"id",d,n);n.tablePlaceHolderPanel=new l;n.tablePlaceHolderPanel.data("FullScreenTablePlaceHolder",true);return n}p=t;y(t,e);var i=t.prototype;i.getTableAPI=function e(){if(!this.tableAPI){let e=this.content;do{e=e.getParent()}while(!e.isA("sap.fe.macros.table.TableAPI"));this.tableAPI=e;return this.tableAPI}else{return this.tableAPI}};i.onMetadataAvailable=function e(){if(!this.content){this.initializeContent()}};i.afterDialogOpen=function e(){this.content?.focus()};i.beforeDialogClose=function e(){this.getTableAPI().setFullScreenDialog(undefined);this.restoreNormalState()};i.afterDialogClose=function e(){this.fullScreenDialog?.destroy();this.fullScreenDialog=undefined;const t=s.getOwnerComponentFor(this.getTableAPI());const i=s.getOwnerComponentFor(t);this.content?.focus();i?.getRootViewController()._scrollTablesToLastNavigatedItems()};i.createDialog=function e(){const t=c(o,{text:this.resourceModel.getText("M_COMMON_TABLE_FULLSCREEN_CLOSE"),type:P.Transparent,press:()=>{this.fullScreenDialog?.close()}});const i=c(a,{showHeader:false,stretch:true,afterOpen:this.afterDialogOpen.bind(this),beforeClose:this.beforeDialogClose.bind(this),afterClose:this.afterDialogClose.bind(this),endButton:t,content:c(r,{})});i.data("FullScreenDialog",true);return i};i.restoreNormalState=function e(){const t=this.getTableAPI();try{t.setIgnoreContextChangeEvent(true);this.content?.setIcon("sap-icon://full-screen");this.content?.setTooltip(this.resourceModel.getText("M_COMMON_TABLE_FULLSCREEN_MAXIMIZE"));if(t.getTableDefinition().control.type==="GridTable"||t.getTableDefinition().control.type==="TreeTable"&&t.getTableDefinition().control.rowCountMode){t.getContent().getType().setRowCountMode(t.getTableDefinition().control.rowCountMode)}const e=this.originalTableParent.getAggregation(this.originalAggregationName);if(Array.isArray(e)){this.originalTableParent.removeAggregation(this.originalAggregationName,this.tablePlaceHolderPanel);this.originalTableParent.addAggregation(this.originalAggregationName,t)}else{this.originalTableParent.setAggregation(this.originalAggregationName,t)}}finally{t.setIgnoreContextChangeEvent(false)}};i.setFullScreenState=async function e(){const t=this.getTableAPI();try{t.setIgnoreContextChangeEvent(true);this.content?.setIcon("sap-icon://exit-full-screen");this.content?.setTooltip(this.resourceModel.getText("M_COMMON_TABLE_FULLSCREEN_MINIMIZE"));this.tablePlaceHolderPanel.data("tableAPIreference",t);this.originalTableParent=t.getParent();this.originalAggregationName=await g.getParentAggregationName(t);const e=this.originalTableParent.getAggregation(this.originalAggregationName);if(Array.isArray(e)){this.originalTableParent.removeAggregation(this.originalAggregationName,t);this.originalTableParent.addAggregation(this.originalAggregationName,this.tablePlaceHolderPanel)}else{this.originalTableParent.setAggregation(this.originalAggregationName,this.tablePlaceHolderPanel)}this.fullScreenDialog=this.createDialog();this.originalTableParent?.addDependent(this.fullScreenDialog);if(t.getTableDefinition().control.type==="GridTable"||t.getTableDefinition().control.type==="TreeTable"){t.getContent().getType().setRowCountMode("Auto")}this.fullScreenDialog.getContent()[0].addContent(this.getTableAPI());this.fullScreenDialog.open();t.setFullScreenDialog(this.fullScreenDialog)}finally{t.setIgnoreContextChangeEvent(false)}};i.onFullScreenToggle=async function e(){if(this.fullScreenDialog){this.fullScreenDialog.close()}else{await this.setFullScreenState()}};i.initializeContent=function e(){this.resourceModel=T(this);this.content=c(o,{id:this.createId("_btn"),tooltip:this.resourceModel.getText("M_COMMON_TABLE_FULLSCREEN_MAXIMIZE"),icon:"sap-icon://full-screen",press:this.onFullScreenToggle.bind(this),type:"Transparent",visible:true,enabled:true})};return t}(t),d=D(b.prototype,"id",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),b))||h);p=v;return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableHelper", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/SizeHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/formatters/TableFormatter","sap/fe/macros/internal/helpers/ActionHelper","sap/fe/macros/table/TableSizeHelper","sap/ui/mdc/enums/FieldEditMode"],function(e,t,n,a,i,r,o,l,s,c,u,d,f){"use strict";var g=s.getEditMode;var p=l.isImageURL;var b=l.hasText;var v=o.isPathAnnotationExpression;var h=o.isAnnotationOfType;var m=r.generate;var y=a.UI;var I=t.resolveBindingString;var A=t.ref;var F=t.pathInModel;var $=t.or;var C=t.ifElse;var T=t.formatResult;var O=t.fn;var S=t.equal;var x=t.constant;var U=t.compileExpression;var D=t.and;const E={_isStaticAction:function(e,t){let n;if(e){if(Array.isArray(e)){const a=this._getActionOverloadEntityType(t.toString());if(a){n=e.find(function(e){return e.$IsBound&&e.$Parameter[0].$Type===a})}else{n=e[0]}}else{n=e}}return!!n&&typeof n!=="string"&&n.$IsBound&&!!n.$Parameter[0].$isCollection},_getActionOverloadEntityType:function(e){if(e&&e.includes("(")){const t=e.split("(");return t[t.length-1].replaceAll(")","")}return undefined},_isActionOverloadOnDifferentType:function(e,t){const n=this._getActionOverloadEntityType(e);return!!n&&t!==n},getNavigationAvailableMap:function(e){const t={};e?.forEach(e=>{if("SemanticObject"in e){const n=`${e.SemanticObject}-${e.Action}`;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&!e.Inline&&e.RequiresContext){if(e.NavigationAvailable!==undefined){t[n]=v(e.NavigationAvailable)?e.NavigationAvailable.path:e.NavigationAvailable}}}});return Object.keys(t).length>0?t:undefined},getUiLineItemObject:function(e,t){const n=t.resolvePath(e.getPath()).target;if(!n)return undefined;const a=t.resolvePath(e.getPath()).target.Visualizations;const i=a?a?.find(e=>e.value.indexOf("@"+"com.sap.vocabularies.UI.v1.LineItem")===0)?.$target:n;return i?.term==="com.sap.vocabularies.UI.v1.LineItem"?i:undefined},createBindingToLoadProperties:function(e){if(e===undefined||e.length===0){return undefined}const t=e?.map(e=>F(e))??[];return U(T(t,"sap.fe.core.formatters.StandardFormatter#loadProperties"))},getColumnWidth:function(e,t,n,a,i,r,o){if(t.width){return t.width}if(e.enableAutoColumnWidth===true){let l;l=this.getColumnWidthForImage(i)||this.getColumnWidthForDataField(e,t,n,a,i,o)||undefined;if(l){return r?`${l}rem`:l}l=U(T([F("/editMode","ui"),F("tablePropertiesAvailable","internal"),t.name,r,this._shouldIncludeHeaderInColumnwidhCalculation(e,t),t.sortable??false,I(t.required??false,"boolean")],c.getColumnWidth));return l}return undefined},getColumnWidthForImage:function(e){let t=null;const n=e.targetObject?.Value?.$target?.annotations;const a=e.targetObject?.Value?.$target?.type;if(e.targetObject?.Value&&g(e.targetObject.Value?.$target,e,false,false,e.targetObject)===f.Display&&e.targetObject.Value?.$target){const i=b(e.targetObject.Value.$target);if(a==="Edm.Stream"&&!i&&n?.Core?.MediaType?.includes?.("image/")){t=6.2}}else if(n&&(p(e.targetObject?.Value?.$target)||n?.Core?.MediaType?.includes?.("image/"))){t=6.2}return t},_shouldIncludeHeaderInColumnwidhCalculation(e,t){return t.widthIncludingColumnHeader!==undefined?t.widthIncludingColumnHeader:e.widthIncludingColumnHeader},getColumnWidthForDataField:function(e,t,n,a,r,o){const l=r.targetObject?.annotations;const s=r.targetObject?.$Type;let c=null;if(s==="com.sap.vocabularies.UI.v1.DataFieldForAction"||s==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||s==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&!n.Target?.$AnnotationPath.includes(`@${"com.sap.vocabularies.UI.v1.FieldGroup"}`)){let s;s=i.getButtonWidth(a)||i.getButtonWidth(n?.Label?.toString())||i.getButtonWidth(l?.Label);const u=d.getWidthForDataFieldForAnnotation(r.targetObject,this._shouldIncludeHeaderInColumnwidhCalculation(e,t)).propertyWidth;if(u>s){c=u}else if(a||l&&(h(l,"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")||h(l,"com.sap.vocabularies.UI.v1.DataFieldForAction"))){s+=1.8;c=s}c=c??this.getColumnWidthForChart(e,t,n,s,o)}return c},getColumnWidthForChart(e,t,n,a,r){let o,l=null;if(n.Target?.$AnnotationPath?.includes(`@${"com.sap.vocabularies.UI.v1.Chart"}`)){switch(this.getChartSize(e,t)){case"XS":o=4.4;break;case"S":o=4.6;break;case"M":o=5.5;break;case"L":o=6.9;break;default:o=5.3}a+=1.8;if(!this.getShowOnlyChart(e,t)&&(r?.title.length||r?.description.length)){const e=r.title.length>r.description.length?r.title:r.description;const t=i.getButtonWidth(e)+7;const n=t>a?t:a;l=n}else if(a>o){l=a}else{l=o}}return l},getMarginClass:function(e,t){let n="";if(t){if(e=="com.sap.vocabularies.UI.v1.VisualizationType/Rating"){n="sapUiNoMarginBottom sapUiNoMarginTop"}}else if(e==="com.sap.vocabularies.UI.v1.VisualizationType/Rating"){n="sapUiNoMarginTop"}else{n="sapUiTinyMarginBottom"}return n},getVBoxVisibility:function(e,t,n){let a=true;const i=[];if(n[`@${"com.sap.vocabularies.UI.v1.Hidden"}`]){return t}for(const n of e){const e=n[`@${"com.sap.vocabularies.UI.v1.Hidden"}`];if(e===undefined||e===false){i.push(false);continue}if(e===true){i.push(true);continue}if(e.$Path){i.push(F(e.$Path));a=false;continue}if(typeof e==="object"){return t}}const r=x(i.length>0&&a!==true);const o=x(i.length>0&&!i.includes(false)&&a);return U(C(r,T(i,c.getVBoxVisibility),C(o,x(false),x(true))))},getElementStableId:function(e,t,n){if(!e){return undefined}const a=n.targetObject;let i;switch(a?.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":i=a.Target.value;break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":i=a;break;default:i=a.Value?.path??"";break}return m([e,t,i])},getColumnStableId:function(e,t){return E.getElementStableId(e,"C",t)},getFieldGroupLabelStableId:function(e,t){return E.getElementStableId(e,"FGLabel",t)},pressEventDataFieldForActionButton:function(e,t,n,a,i){let r=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let o=arguments.length>6?arguments[6]:undefined;let l=arguments.length>7?arguments[7]:undefined;let s=arguments.length>8?arguments[8]:undefined;if(!t)return undefined;const c=t.Action,u=e.contextObjectPath.targetEntityType.fullyQualifiedName,d=typeof i!=="string"&&(this._isStaticAction(i,c)||this._isActionOverloadOnDifferentType(c.toString(),u)),f=!s?"aApplicable":"aApplicableForContextMenu",g=!s?"aNotApplicable":"aNotApplicableForContextMenu",p=!s?"":"contextmenu/",b=F(`${p}selectedContexts`,"internal"),v={contexts:!d?b:null,bStaticAction:d?d:undefined,entitySetName:n,applicableContexts:!d?F(`dynamicActions/${t.Action}/${f}/`,"internal"):null,notApplicableContexts:!d?F(`dynamicActions/${t.Action}/${g}/`,"internal"):null,isNavigable:r,enableAutoScroll:o,defaultValuesExtensionFunction:l,invocationGrouping:t?.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated",controlId:e.contentId,operationAvailableMap:a,label:t.Label};return U(O("API.onActionPress",[A("$event"),A("$controller"),t.Action,v]))},isDataFieldForActionEnabled:function(e,t,n,a,i,r,o,l){if(!r)return false;const s=this._isStaticAction(a,t);if(this._isActionOverloadOnDifferentType(t.toString(),r.fullyQualifiedName)){const n=e&&JSON.parse(e.operationAvailableMap);if(n?.hasOwnProperty(t)){return!o?`{= \${internal>dynamicActions/${t}/bEnabled} }`:`{= \${internal>dynamicActions/${t}/bEnabledForContextMenu} }`}return true}if(!n||s){return true}const c=l?u.getNumberOfContextsExpression("single",o):u.getNumberOfContextsExpression(i??"multiselect",o);let d="";const f=!o?`\${internal>dynamicActions/${t}/bEnabled}`:`\${internal>dynamicActions/${t}/bEnabledForContextMenu}`;d=`${c} && ${f}`;return`{= ${d}}`},isDataFieldForIBNEnabled:function(t,n,a,i,r){let o=null;if(v(i)){o=i.path}const l=t?.tableDefinition?.enableAnalytics;if(!a){const a=t.collection.getPath();const r=t.collection.getModel();if(i===false&&!l){e.warning("NavigationAvailable as false is incorrect usage");return false}else if(o&&!l&&v(n?.NavigationAvailable)&&r.getObject(a+"/$Partner")===n.NavigationAvailable.path.split("/")[0]){return`{= \${${o.substring(o.indexOf("/")+1,o.length)}}}`}return true}let s="",c,u;if(i===true||l){s=!(r??false)?"%{internal>numberOfSelectedContexts} >= 1":"%{internal>contextmenu/numberOfSelectedContexts} >= 1"}else if(i===false){e.warning("NavigationAvailable as false is incorrect usage");return false}else{c=!(r??false)?"%{internal>numberOfSelectedContexts} >= 1":"%{internal>contextmenu/numberOfSelectedContexts} >= 1";u=!(r??false)?`\${internal>ibn/${n.SemanticObject}-${n.Action}/bEnabled}`:`\${internal>ibn/${n.SemanticObject}-${n.Action}/bEnabledForContextMenu}`;s=c+" && "+u}return`{= ${s}}`},buildExpressionForMultiValueFieldReadOnly:function(e){return U(C($(e.readOnly===true,D(y.IsInactive,e.creationMode.name==="InlineCreationRows")),x(true),S(e.fieldMode,"nowrapper")))},setHeaderLabelVisibility:function(e,t){if(!t){if(e.$Type?.includes("DataFieldForAction")&&e.Inline){return false}if(e.$Type?.includes("DataFieldForIntentBasedNavigation")&&e.Inline){return false}return true}return t.some(function(e){if((e.$Type==="com.sap.vocabularies.UI.v1.DataField"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation")&&e[`@${"com.sap.vocabularies.UI.v1.Hidden"}`]!==true){return true}})},getTextOnActionField:function(e,t){if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){return e.Label}if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&t.context.getObject("Target/$AnnotationPath").indexOf("@"+"com.sap.vocabularies.UI.v1.FieldGroup")>-1){const e="Target/$AnnotationPath/Data/";const n=[];for(const a in t.context.getObject(e)){if(t.context.getObject(`${e+a}/$Type`)==="com.sap.vocabularies.UI.v1.DataFieldForAction"||t.context.getObject(`${e+a}/$Type`)==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){n.push(t.context.getObject(`${e+a}/Label`))}}if(n.length>1){return n.reduce(function(e,t){return e.length>t.length?e:t})}else{return n.length===0?undefined:n.toString()}}return undefined},_getResponsiveTableColumnSettings:function(e,t){if(e.tableType==="ResponsiveTable"){return t.settings}return undefined},getChartSize:function(e,t){const n=this._getResponsiveTableColumnSettings(e,t);if(n&&n.microChartSize){return n.microChartSize}return"XS"},getShowOnlyChart:function(e,t){const n=this._getResponsiveTableColumnSettings(e,t);if(n&&n.showMicroChartLabel){return!n.showMicroChartLabel}return true},getDelegate:function(e,t,n,a){let i;if(t){if(e.control.type==="TreeTable"){throw new Error("TreeTable not supported in Analytical ListPage")}i={name:"sap/fe/macros/table/delegates/ALPTableDelegate",payload:{collectionName:n}};if(e.enableAnalytics&&a){i.payload.filterOnActiveEntities=true}}else if(e.control.type==="TreeTable"){if(!e.control.hierarchyQualifier){throw new Error("A hierarchy qualifier is mandatory with a TreeTable")}i={name:"sap/fe/macros/table/delegates/TreeTableDelegate",payload:{hierarchyQualifier:e.control.hierarchyQualifier,initialExpansionLevel:e.annotation.initialExpansionLevel,filterOnActiveEntities:a,createInPlace:e.control.createInPlace===true}}}else{i={name:"sap/fe/macros/table/delegates/TableDelegate"};if(e.enableAnalytics&&a){i.payload={filterOnActiveEntities:a}}}if(e.enableAnalytics===true&&e.control.analyticalConfiguration?.aggregationOnLeafLevel===true){i.payload={...i.payload,...{aggregationConfiguration:{leafLevel:true}}}}return JSON.stringify(i)},enableFastCreationRow:async function(t,a,i,r,o){let l,s;if(t){try{await o;if(n.getIsEditable(t)&&!i.isDeleted()){l=r.bindList(a,i,[],[],{$$updateGroupId:"doNotSubmit",$$groupId:"doNotSubmit"});l.refreshInternal=function(){};s=l.create();t.setBindingContext(s);try{await s.created()}catch(t){e.trace("transient fast creation context deleted")}}}catch(t){e.error("Error while computing the final UI state",t)}}},isActionShownInContextMenu:function(e,t){const n=e.annotationPath?t.convertedTypes.resolvePath(e.annotationPath).target:undefined;switch(n?.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":{const e=n.ActionTarget;return e?.isBound===true&&!e.parameters[0].isCollection&&e.sourceEntityType===t.targetEntityType}case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":return n.RequiresContext?.valueOf()===true;default:if(e.type==="Default"){return e.requiresSelection===true}}return false}};E.getNavigationAvailableMap.requiresIContext=true;E.getTextOnActionField.requiresIContext=true;return E},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableRuntime", ["sap/base/Log","sap/fe/core/ActionRuntime","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/DeleteHelper","sap/fe/core/helpers/FPMHelper","sap/fe/core/library","sap/fe/macros/table/Utils","sap/ui/core/Messaging","../field/FieldRuntimeHelper"],function(e,t,n,o,a,i,r,l,s,c,d){"use strict";const g=l.CreationMode;const u={executeConditionalActionShortcut:function(e,t){const o=t.getParent();if(e!==g.CreationRow){const t=o.getActions().reduce(function(e,t){return e.concat(t.getAction())},[]).find(function(t){return t.getId().endsWith(e)});n.fireButtonPress(t)}else{const e=o.getAggregation("creationRow");if(e&&e.getApplyEnabled()&&e.getVisible()){e.fireApply()}}},setContexts:async function(t){const n=t.getSource();const a=n;o.lock(a);try{await u.setContextsAsync(a)}catch(t){e.error(t)}finally{o.unlock(a)}},setContextsAsync:async function(e){const n=e.getModel()?.getMetaModel();const o=e.getParent();if(!o||!n){return}const r=o.tableDefinition;const l=a.convertTypes(n).resolvePath(r.annotation.collection).target;const s=r.annotation.updatablePropertyPath;const c=e.data("actionsMultiselectDisabled")?.split(",")??[];const d=JSON.parse(r.operationAvailableMap||"{}");const g=e.data("navigationAvailableMap");const f=e.getSelectedContexts();const b=[];const p=e.data("displayModePropertyBinding")==="true"&&!!l?.annotations.Common?.DraftRoot;const C=[];const m={};const y={};const h=e.getBindingContext("internal");if(!h){return}i.updateDeleteInfoForSelectedContexts(h,f);const x=f.filter(function(e){return!e.isInactive()});const P=Object.assign(h.getObject()||{},{selectedContexts:x,selectedContextsIncludingInactive:f,numberOfSelectedContexts:x.length,dynamicActions:m,ibn:y,deleteEnabled:true,deletableContexts:b,unSavedContexts:[],lockedContexts:[],draftsWithNonDeletableActive:[],draftsWithDeletableActive:[],controlId:"",updatableContexts:C,pasteAuthorized:true,pasteFromCopyAutorized:true,semanticKeyHasDraftIndicator:h.getProperty("semanticKeyHasDraftIndicator")?h.getProperty("semanticKeyHasDraftIndicator"):undefined});P.nodeUpdatesInfo=P.nodeUpdatesInfo||{};for(const e of x){const t=e.getObject();for(const e in t){if(e.indexOf("#")===0){let t=e;t=t.substring(1,t.length);P.dynamicActions[t]={enabled:true};h.setProperty("",P)}}if(this.isUpdatableContext(s,e,p)){C.push(e)}}if(!e.data("enableAnalytics")){u.setIntentBasedNavigationEnablement(h,g,x)}if(x.length>1){this.disableAction(c,m)}if(P){P["updatableContexts"]=C;P["controlId"]=e.getId();h.setProperty("",P)}if(x.length<=1&&r.control.createEnablement){const t=x.length?x[0]:null;this._updateCreateEnablement(h,r.control.createEnablement,e,t,r.control.nodeType)}this.updateCutCopyPasteEnablement(P,e);this.updateMoveUpDownEnablement(P,e);return t.setActionEnablement(h,d,x,"table")},isUpdatableContext:function(e,t,n){const o=t.getObject();const a=e.length===0||!!t.getProperty(e);const i=!n||o.IsActiveEntity;if(a&&i){return true}return false},checkIfNodeIsMovable:function(t,n){const o=n.getParent().getTableDefinition().control.isNodeMovable;const a=o?r.getCustomFunction(o.moduleName,o.methodName,n):undefined;try{return a===undefined||a(t)}catch(t){e.warning(`Error in custom function for isNodeMovable: ${t}`);return true}},checkIfNodeIsCopyable:function(t,n){const o=n.getParent().getTableDefinition().control.isNodeCopyable;const a=o?r.getCustomFunction(o.moduleName,o.methodName,n):undefined;try{return a===undefined||a(t)}catch(t){e.warning(`Error in custom function for isNodeMovable: ${t}`);return true}},updateCutCopyPasteEnablement:function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const o=t.getParent().getTableDefinition();if(o.control.type!=="TreeTable"){return}const a=!t.getRowBinding().isRelative();if(n){e.contextmenu.nodeUpdatesInfo={}}const i=e.nodeUpdatesInfo;const l=(!n?e:e.contextmenu).nodeUpdatesInfo;const s=!n?e:e.contextmenu;const c=s.updatableContexts.filter(e=>u.checkIfNodeIsMovable(e,t)&&(!a||e.getProperty("HasDraftEntity")!==true));const d=s.selectedContexts.filter(e=>u.checkIfNodeIsCopyable(e,t));l.cutEnablement=c.length===1;l.copyEnablement=d.length===1;if(i.lastAction&&i.pastableContexts.length>0){let e;const n=i.lastAction==="Cut"?o.control.isMoveToPositionAllowed:o.control.isCopyToPositionAllowed;if(n){e=[...s.selectedContexts].filter(e=>r.getCustomFunction(n.moduleName,n.methodName,t)(i.pastableContexts[0],e))}else{e=[...s.selectedContexts]}l.pasteEnablement=s.selectedContexts.length<=1&&e.length===s.selectedContexts.length}},updateMoveUpDownEnablement:function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const o=!n?e:e.contextmenu;const a=o.selectedContexts;const i=t.getParent().getTableDefinition();const r=i.annotation.changeSiblingForRootsSupported;if(a.length!==1||i.control.type!=="TreeTable"||t.getBindingContext("internal")?.getProperty("isSorted")===true||a[0].getProperty("@$ui5.node.level")===1&&!r){o.singleContextMovableUp=false;o.singleContextMovableDown=false}else{const e=a[0];const n=t.getRowBinding().isRelative()||e.getProperty("HasDraftEntity")!==true;const i=e.isTransient()!==undefined;const r=u.checkIfNodeIsMovable(e,t);o.singleContextMovableUp=n&&r&&!i&&e.getSibling(-1)!==null;o.singleContextMovableDown=n&&r&&!i&&e.getSibling(1)!==null}},_updateCreateEnablement:function(e,t,n,o,a){let i=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let l;if(a!==undefined){l=a.values.map(e=>e.value)}else{l=[undefined]}const s=r.getCustomFunction(t.moduleName,t.methodName,n);if(!s){return}const c=l.map(e=>{let t=false;try{t=!!(s(e,o)??true)}catch(e){t=true}return t});const d={};d["Create"]=c.some(e=>e);c.forEach((e,t)=>{d[`Create_${t}`]=e});const g=i?"contextmenu/":"";e.setProperty(g+"createEnablement",d)},clearSelection:function(e){e.clearSelection();const t=e.getBindingContext("internal");if(t){t.setProperty("deleteEnabled",false);t.setProperty("numberOfSelectedContexts",0);t.setProperty("selectedContexts",[]);t.setProperty("deletableContexts",[])}const n=e.getParent();if(n.tableDefinition.control.createEnablement){this._updateCreateEnablement(t,n.tableDefinition.control.createEnablement,e,null,n.tableDefinition.control.nodeType)}},disableAction:function(e,t){e.forEach(function(e){t[e]={bEnabled:false}})},onFieldChangeInCreationRow:function(e,t){const n=d.getFieldStateOnChange(e),o=n.field,a=o.getId();const i=o.getBindingContext("internal"),r=i.getProperty("creationRowFieldValidity"),l=Object.assign({},r);l[a]=n.state;i.setProperty("creationRowFieldValidity",l);if(t){const e=i.getProperty("creationRowCustomValidity"),t=Object.assign({},e);t[o.getBinding("value").getPath()]={fieldId:o.getId()};i.setProperty("creationRowCustomValidity",t);const n=`${o.getBindingContext()?.getPath()}/${o.getBindingPath("value")}`;c.getMessageModel().getData().forEach(function(e){if(e.getTargets()[0]===n){c.removeMessages(e)}})}},onTreeTableContextChanged:function(e,t){const n=e.getSource();const o=n;const a=o.getParent();const i=o.getRowBinding();if(!i?.getContext()||a.getIgnoreContextChangeEvent()){return}const r=i.getAggregation()??{};const l=s.getAllFilterInfo(o);r.expandTo=l.search?Number.MAX_SAFE_INTEGER:t;i.setAggregation(r)},onCreateMenuItemPress:async function(t,o,a){const i=r.getMdcTable(t.getSource());const l=i?.getParent();if(!l||!i){return}const s=l.tableDefinition.control.nodeType;if(!s){return}const c=n.getTargetView(l);const d={};d[s.propertyName]=s.values[o].value;const u={selectedContexts:a,creationMode:l.tableDefinition.annotation.create.mode,data:d,tableId:i?.getId()};if(u.creationMode===g.CreationDialog){u.creationDialogFields=s.values[o].creationDialogFields;if(!u.creationDialogFields||u.creationDialogFields.length===0){u.creationDialogFields=l.tableDefinition.control.creationDialogFields}if(!i.getRowBinding()){await i.rebind()}}c.getController().editFlow.createDocument(l.getRowBinding(),u).catch(t=>{e.error(`Failed to create new document: ${t}`)})},onCreateButtonPress:async function(t,o){const a=r.getMdcTable(t.getSource());const i=a?.getParent();if(!i||!a){return}const l={creationMode:i.tableDefinition.annotation.create.mode};switch(l.creationMode){case g.External:l.outbound=i.tableDefinition.annotation.create.outbound;break;case g.CreationRow:l.creationRow=t.getSource();l.createAtEnd=i.tableDefinition.control.createAtEnd??false;break;case g.NewPage:case g.Inline:case g.CreationDialog:l.createAtEnd=i.tableDefinition.control.createAtEnd??false;l.tableId=a?.getId();l.selectedContexts=o;break;case g.InlineCreationRows:break;default:return}if(l.creationMode===g.CreationDialog){l.creationDialogFields=i.tableDefinition.control.creationDialogFields;if(!a.getRowBinding()){await a.rebind()}}const s=n.getTargetView(i);if(l.creationMode===g.InlineCreationRows){s.getController().editFlow.createEmptyRowsAndFocus(a).catch(t=>{e.error(`Failed to create new empty row: ${t}`)})}else{s.getController().editFlow.createDocument(i.getRowBinding(),l).catch(t=>{e.error(`Failed to create new document: ${t}`)})}},setIntentBasedNavigationEnablement:function(e,t,n){let o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;for(const a in t){if(!o){e.setProperty(`ibn/${a}`,{bEnabled:false,aApplicable:[],aNotApplicable:[]})}else{e.setProperty(`ibn/${a}`,{bEnabled:e.getProperty(`${e.getPath()}/ibn/${a}/bEnabled`),aApplicable:e.getProperty(`${e.getPath()}/ibn/${a}/aApplicable`),aNotApplicable:e.getProperty(`${e.getPath()}/ibn/${a}/aNotApplicable`),bEnabledForContextMenu:false,aApplicableForContextMenu:[],aNotApplicableForContextMenu:[]})}const i=[],r=[];const l=t[a];for(const t of n){if(t.getObject(l)){const n=!o?"bEnabled":"bEnabledForContextMenu";e.getModel().setProperty(`${e.getPath()}/ibn/${a}/${n}`,true);i.push(t)}else{r.push(t)}}const s=!o?"aApplicable":"aApplicableForContextMenu";const c=!o?"aNotApplicable":"aNotApplicableForContextMenu";e.getModel().setProperty(`${e.getPath()}/ibn/${a}/${s}`,i);e.getModel().setProperty(`${e.getPath()}/ibn/${a}/${c}`,r)}},onContextMenuItemSelected:function(e){const t=r.getMdcTable(e.getSource());const n=t?.getParent();n?.setContextMenuActive(true);setTimeout(()=>{n?.setContextMenuActive(false)},0)},dataStateIndicatorFilter:function(e,t){const n=t.getParent();return n.dataStateIndicatorFilter(e,t)}};return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableSizeHelper", ["sap/base/Log","sap/fe/core/helpers/SizeHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DisplayModeFormatter","sap/m/table/Util","sap/ui/mdc/odata/v4/TypeMap"],function(e,t,a,n,i,o){"use strict";var l=n.getDisplayMode;var r=a.isPathAnnotationExpression;var s=a.isAnnotationOfType;const p={getMDCColumnWidthFromDataField:function(e,t,a){let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const i=t.find(t=>t.annotationPath&&a.resolvePath(t.annotationPath)?.target?.fullyQualifiedName===e?.fullyQualifiedName);return i?this.getMDCColumnWidthFromProperty(i,t,n):0},getMDCColumnWidthFromProperty:function(t,a){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let l=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const s=Object.assign({headerGap:n&&l,gap:0,truncateLabel:!n,excludeProperties:[],required:r},t.visualSettings?.widthCalculation);let p,u=null;if(t.dataType&&!t.typeConfig){u=o.getTypeConfig(t.dataType,t.formatOptions,t.constraints)}if(t.propertyInfos?.length){p=t.propertyInfos.map(e=>{const t=a.find(t=>t.key===e);return u?u.typeInstance:t?.typeConfig?.typeInstance}).filter(e=>e)}else if(t.typeConfig?.typeInstance||u){p=u?[u.typeInstance]:[t.typeConfig?.typeInstance]}const c=p?i.calcColumnWidth(p,t.label,s):null;if(!c){e.error(`Cannot compute the column width for property: ${t.key}`)}return c?parseFloat(c.replace("Rem","")):0},getWidthForDataFieldForAnnotation:function(e,a,n,i){let o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const l=s(e,"com.sap.vocabularies.UI.v1.DataFieldForAnnotation")?e?.Target?.$target:undefined;let p=0,u=0;if(s(l,"com.sap.vocabularies.UI.v1.DataPointType")&&l?.Visualization){switch(l.Visualization){case"UI.VisualizationType/Rating":const e=l.TargetValue;p=parseInt(e,10)*1.375;break;case"UI.VisualizationType/Progress":default:p=5}const a=l?l.label:e?.Label?.toString()||"";u=o&&a?t.getButtonWidth(a):0}else if(i&&n&&s(l,"com.sap.vocabularies.Communication.v1.ContactType")&&r(l.fn)){p=this.getMDCColumnWidthFromDataField(l.fn.$target,n,i,a)}return{labelWidth:u,propertyWidth:p}},getWidthForDataField:function(a,n,i,o,r){const s=a.Value?.$target,p=s?.annotations?.Common?.Text,u=l(a.Value?.$target);let c=0,d=0;if(s){switch(u){case"Description":c=this.getMDCColumnWidthFromDataField(p.$target,i,o,r)-1;break;case"DescriptionValue":case"ValueDescription":case"Value":default:c=this.getMDCColumnWidthFromDataField(s,i,o,r)-1}const e=a.Label?a.Label:s.label;d=n&&e?t.getButtonWidth(e):0}else{e.error(`Cannot compute width for type object: ${a.$Type}`)}return{labelWidth:d,propertyWidth:c}}};return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TreeTable.block", ["sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","./Table.block"],function(e,i){"use strict";var t,r,o,a,n,l,u,s,c,b,d,p,f,y,g,h,m;var v={};var T=e.defineBuildingBlock;var w=e.blockAttribute;function P(e,i,t,r){t&&Object.defineProperty(e,i,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function M(e,i){e.prototype=Object.create(i.prototype),e.prototype.constructor=e,z(e,i)}function z(e,i){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},z(e,i)}function C(e,i,t,r,o){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,r){return r(e,i,t)||t},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,i,a),null):a}function N(e,i){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let S=(t=T({name:"TreeTable",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros",returnTypes:["sap.fe.macros.table.TableAPI"]}),r=w({type:"string",required:true,isPublic:true}),o=w({type:"string",isPublic:true}),a=w({type:"string",isPublic:true}),n=w({type:"string",isPublic:true}),l=w({type:"string",isPublic:true}),u=w({type:"object",underlyingType:"sap.fe.macros.table.TreeTableCreationOptions",isPublic:true,validate:function(e){if(e.name&&!["NewPage","Inline","External","CreationDialog"].includes(e.name)){throw new Error(`Allowed value ${e.name} for creationMode does not match`)}return e}}),s=w({type:"string",isPublic:true,allowedValues:["TreeTable"]}),t(c=(b=function(e){function t(i,t,r){var o;o=e.call(this,i,t,r)||this;P(o,"hierarchyQualifier",d,o);P(o,"isMoveToPositionAllowed",p,o);P(o,"isCopyToPositionAllowed",f,o);P(o,"isNodeMovable",y,o);P(o,"isNodeCopyable",g,o);P(o,"creationMode",h,o);P(o,"type",m,o);return o}v=t;M(t,e);var r=t.prototype;r.getTableSettings=function t(){const r=e.prototype.getTableSettings.call(this);i.addSetting(r,"type","TreeTable");i.addSetting(r,"hierarchyQualifier",this.hierarchyQualifier);i.addSetting(r,"isMoveToPositionAllowed",this.isMoveToPositionAllowed);i.addSetting(r,"isCopyToPositionAllowed",this.isCopyToPositionAllowed);i.addSetting(r,"isNodeMovable",this.isNodeMovable);i.addSetting(r,"isNodeCopyable",this.isNodeCopyable);const o=r["creationMode"]??{};i.addSetting(o,"createInPlace",this.creationMode.createInPlace);if(this.creationMode.nodeType){i.addSetting(o,"nodeType",{propertyName:this.creationMode.nodeType.propertyName,values:Object.assign({},...(this.creationMode.nodeType.values??[]).map(e=>({[e.key]:{label:e.label,creationFields:e.creationFields}})))})}i.addSetting(o,"isCreateEnabled",this.creationMode.isCreateEnabled);if(Object.entries(o).length>0){r["creationMode"]=o}return r};return t}(i),d=C(b.prototype,"hierarchyQualifier",[r],{configurable:true,enumerable:true,writable:true,initializer:null}),p=C(b.prototype,"isMoveToPositionAllowed",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),f=C(b.prototype,"isCopyToPositionAllowed",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),y=C(b.prototype,"isNodeMovable",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),g=C(b.prototype,"isNodeCopyable",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),h=C(b.prototype,"creationMode",[u],{configurable:true,enumerable:true,writable:true,initializer:function(){return{}}}),m=C(b.prototype,"type",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),b))||c);v=S;return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TreeTable", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/macros/controls/BuildingBlockWithTemplating","sap/fe/macros/table/TreeTable.block","sap/m/FlexItemData"],function(t,e,n,r,i){"use strict";var o,a,s,c;var u={};var l=e.convertBuildingBlockMetadata;var g=t.xmlEventHandler;var f=t.defineUI5Class;function p(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,d(t,e)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function v(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(t,e,o),null):o}let h=(o=f("sap.fe.macros.table.TreeTable",l(r)),a=g(),o(s=(c=function(t){function e(e,n){var r;r=t.call(this,e,n)||this;r.createProxyMethods(["getSelectedContexts","addMessage","removeMessage","refresh","getPresentationVariant","setPresentationVariant","getCurrentVariantKey","setCurrentVariantKey","getSelectionVariant","setSelectionVariant"]);return r}u=e;p(e,t);var n=e.prototype;n._fireEvent=function t(e,n,r){this.fireEvent(r,e.getParameters())};n.getLayoutData=function t(){return new i({maxWidth:"100%"})};n.setMetaPath=function t(e){return this.setProperty("metaPath",e)};n.getMetaPath=function t(){return this.getProperty("metaPath")};n.setIgnoredFields=function t(e){return this.setProperty("ignoredFields",e)};n.getIgnoredFields=function t(){return this.getProperty("ignoredFields")};n.addColumn=function t(e){return this.addAggregation("columns",e)};n.removeColumn=function t(e){return this.removeAggregation("columns",e)};n.addAction=function t(e){return this.addAggregation("actions",e)};n.removeAction=function t(e){return this.removeAggregation("actions",e)};n.createContent=async function e(n){const r=this.content?.content.getRowBinding()?.getCurrentContexts().length>0;await t.prototype.createContent.call(this,n);if(r){this.content?.content.rebind?.()}};return e}(n),v(c.prototype,"_fireEvent",[a],Object.getOwnPropertyDescriptor(c.prototype,"_fireEvent"),c.prototype),c))||s);u=h;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TreeTableAPI", ["sap/fe/base/ClassSupport","./TableAPI","./TreeTableCreationOptions"],function(e,t,i){"use strict";var r,o,a,n,l,s,u,c,p,d,b,f,y,g,h,v,T;var w=e.property;var M=e.defineUI5Class;var m=e.aggregation;function P(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function z(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function A(e,t,i,r,o){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function O(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let S=(r=M("sap.fe.macros.table.TreeTableAPI",{returnTypes:["sap.fe.macros.MacroAPI"]}),o=w({type:"string",required:true}),a=w({type:"string"}),n=w({type:"string"}),l=w({type:"string"}),s=w({type:"string"}),u=m({type:"sap.fe.macros.table.TreeTableCreationOptions",defaultClass:i}),c=w({type:"string",allowedValues:["TreeTable"]}),r(p=(d=function(e){function i(t){var i;for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++){o[a-1]=arguments[a]}i=e.call(this,t,...o)||this;P(i,"hierarchyQualifier",b,i);P(i,"isMoveToPositionAllowed",f,i);P(i,"isCopyToPositionAllowed",y,i);P(i,"isNodeMovable",g,i);P(i,"isNodeCopyable",h,i);P(i,"creationMode",v,i);P(i,"type",T,i);return i}z(i,e);var r=i.prototype;r.getSettingsForManifest=function i(){const r=e.prototype.getSettingsForManifest.call(this);t.addSetting(r,"type","TreeTable");t.addSetting(r,"hierarchyQualifier",this.hierarchyQualifier);t.addSetting(r,"isMoveToPositionAllowed",this.isMoveToPositionAllowed);t.addSetting(r,"isCopyToPositionAllowed",this.isCopyToPositionAllowed);t.addSetting(r,"isNodeMovable",this.isNodeMovable);t.addSetting(r,"isNodeCopyable",this.isNodeCopyable);const o=r["creationMode"]??{};t.addSetting(o,"createInPlace",this.creationMode?.createInPlace);if(this.creationMode?.nodeType){t.addSetting(o,"nodeType",{propertyName:this.creationMode.nodeType.propertyName,values:Object.assign({},...(this.creationMode.nodeType.values??[]).map(e=>({[e.key]:{label:e.label,creationFields:e.creationFields}})))})}t.addSetting(o,"isCreateEnabled",this.creationMode?.isCreateEnabled);if(Object.entries(o).length>0){r["creationMode"]=o}return r};return i}(t),b=A(d.prototype,"hierarchyQualifier",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),f=A(d.prototype,"isMoveToPositionAllowed",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),y=A(d.prototype,"isCopyToPositionAllowed",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),g=A(d.prototype,"isNodeMovable",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),h=A(d.prototype,"isNodeCopyable",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),v=A(d.prototype,"creationMode",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),T=A(d.prototype,"type",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return"TreeTable"}}),d))||p);return S},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TreeTableCreationOptions", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,a,l,o,u,c,s,b,p,f,y;var d={};var m=e.property;var v=e.defineUI5Class;function g(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function z(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,O(e,r)}function O(e,r){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},O(e,r)}function w(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function j(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let P=(t=v("sap.fe.macros.table.TreeTableCreationOptions"),i=m({type:"string"}),n=m({type:"string"}),a=m({type:"object"}),l=m({type:"string"}),o=m({type:"boolean"}),t(u=(c=function(e){function r(r){var t;t=e.call(this,r)||this;g(t,"name",s,t);g(t,"creationFields",b,t);g(t,"nodeType",p,t);g(t,"isCreateEnabled",f,t);g(t,"createInPlace",y,t);return t}d=r;z(r,e);return r}(r),s=w(c.prototype,"name",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),b=w(c.prototype,"creationFields",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),p=w(c.prototype,"nodeType",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),f=w(c.prototype,"isCreateEnabled",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),y=w(c.prototype,"createInPlace",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||u);d=P;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/Utils", ["sap/fe/core/CommonUtils","sap/fe/macros/DelegateUtil","sap/fe/macros/filter/FilterUtils","sap/ui/core/format/NumberFormat","sap/ui/model/Filter","../CollectionBindingInfo"],function(t,e,n,o,r,i){"use strict";function a(e){let n=[];const o=e.data("hiddenFilters");if(o&&Array.isArray(o.paths)){o.paths.forEach(function(o){const r=t.getFiltersFromAnnotation(e,o.annotationPath);n=n.concat(r)})}return n}function s(e){let n=a(e);const o=e.getQuickFilter();if(o){n=n.concat(t.getFiltersFromAnnotation(e,o.getSelectedKey()))}return n}async function c(e,n,o){const a=e.getModel();const s=e.getParent();const c=v.getFilterInfo(e);const l=(Array.isArray(o.additionalFilters)?o.additionalFilters:[]).concat(c.filters).concat(v.getP13nFilters(e));const f={path:c.bindingPath?c.bindingPath:s.getRowCollectionPath(),filters:new r({filters:l,and:true})};e.getParent()?.fireEvent("beforeRebindTable",{collectionBindingInfo:new i(f)});const u=n&&!f.path.startsWith("/")?`${n.getPath()}/${f.path}`:f.path;const d=a.bindList(u,e.getBindingContext(),[],f.filters);const g=await d.fetchFilter(d.getContext());const h=a.bindProperty(`${d.getPath()}/$count`,d.getContext(),{$$groupId:o.batchGroupId??"$auto",$filter:g[0],$search:c.search?t.normalizeSearchTerm(c.search):undefined});const p=await h.requestValue();h.destroy();d.destroy();return p}function l(t){const e=o.getIntegerInstance({groupingEnabled:true});return e.format(t)}function f(t,e){const o=t.getParent().getTableDefinition();let r=e||[];if(o.enableAnalytics){if(!o.enableBasicSearch){r=r.concat(["search"])}r=r.concat(["$editState"])}else if(o.control.type==="TreeTable"){r=r.concat(["$editState"])}return n.getFilterInfo(t.getFilter(),{ignoredProperties:r,targetControl:t})}function u(t){const o=t.getP13nMode();let r;if(o&&o.includes("Filter")){if(t.isA("sap.ui.mdc.Table")){const e=t.getParent();r=e.getEnhancedFetchedPropertyInfos().filter(function(t){return t?.filterable!==false})}else{r=(e.getCustomData(t,"sap_fe_ControlDelegate_propertyInfoMap")||[]).filter(function(t){return t&&!(t.filterable===false)})}const o=n.getFilterInfo(t,{propertiesMetadata:r});if(o&&o.filters){return o.filters}}return[]}function d(t,e){const n=v.getFilterInfo(t,e);return{filters:n.filters.concat(s(t),v.getP13nFilters(t)),search:n.search,bindingPath:n.bindingPath}}function g(t,e,n){if(t[e]){n.push(t[e])}const o=Object.keys(t);for(const r of o){if(typeof t[r]==="object"){n=n.concat(g(t[r],e,[]))}}return n}function h(t,e){return g(t,e,[])}function p(t,e){if(!e){return false}const n=v.getAllFilterInfo(t);const o=e.getConditions();const r=Object.keys(o);const i=t.data("metaPath");const a=t.getModel()?.getMetaModel();let s=false;const c=P(i,n);const l=b(i,r);const f=["Edm.Date","Edm.DateTimeOffset","Edm.TimeOfDay"];const u=l.concat(c);for(const t of u){if(a?.getObject(`${t}@com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive`)||a?.getObject(`${t}@com.sap.vocabularies.PersonalData.v1.IsPotentiallyPersonal`)){s=true;break}if(f.includes(a?.getObject(`${t}/$Type`))){s=true;break}}return s}function b(t,e){const n=[];for(const o of e){n.push(`${t}/${o}`)}return n}function m(t){const e=t.getFilters();let n={};if(e){n=m(e[e.length-1]);for(let t=e.length-2;t>=0;t--){n={left:m(e[t]),right:n}}}else{return{path:t.getPath()}}return n}function P(t,e){let n;const o=[];for(const r of e.filters){n=h(m(r),"path");for(const e of n){o.push(`${t}/${e}`)}}return o}async function F(t){return $(t).promise}function y(t){const e=$(t);if(e.resolve){e.resolve(t);t.data("boundPromiseResolve",null)}}function $(t){if(!t.data("boundPromise")){let e;t.data("boundPromise",new Promise(function(t){e=t}));if(t.isBound?.()){e(t)}else{t.data("boundPromiseResolve",e)}}return{promise:t.data("boundPromise"),resolve:t.data("boundPromiseResolve")}}function I(t,e,n){e?.forEach(e=>{const o=e.getFilters();if(o){I(t,o,n)}else{const o=t.getObject(n+e.sPath+"@com.sap.vocabularies.Common.v1.ExternalID")?.$Path;if(o){e.sPath=o}}})}const v={getCountFormatted:l,getHiddenFilters:a,getListBindingForCount:c,getFilterInfo:f,getP13nFilters:u,getAllFilterInfo:d,isFilterEligibleForOptimisticBatch:p,whenBound:F,onTableBound:y,updateFiltersForExternalID:I};return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/adapter/TablePVToState", [],function(){"use strict";var e={};const t=function(e,t,r){const n=e.map(e=>e);const o=e.map(e=>({name:r.includes(`Property::${e}`)?`Property::${e}`:e}))||[];o.push(...t.filter(e=>!n.includes(e)).map(e=>({name:r.includes(`Property::${e}`)?`Property::${e}`:e,grouped:false})));return o};const r=function(e,t,r){const n=e.map(e=>e.Property);const o=e.map(e=>({name:r.includes(`Property::${e.Property}`)?`Property::${e.Property}`:e.Property,descending:e.Descending}));o.push(...t.filter(e=>!n.includes(e.Property)).map(e=>({name:r.includes(`Property::${e.Property}`)?`Property::${e.Property}`:e.Property,descending:e.Descending,sorted:false})));return o};const n=function(e,t,r){const n=Object.keys(e);const o={};for(const t in e){let n=t;if(r.includes(`Property::${t}`)){n=`Property::${t}`}o[n]=e[t]}for(const e in t){if(!n.includes(e)){let t=e;if(r.includes(`Property::${e}`)){t=`Property::${e}`}o[t]={aggregated:false}}}return o};const o=function(e,t){const r=e.map(e=>e["Value"])||[];const n=e?.map((e,t)=>({name:e.Value,visible:true,position:t}))||[];n.push(...t.filter(e=>!r.includes(e.Value)).map(e=>({name:e.Value,visible:false})));return n};const s=function(e,s,i){const c=e.getProperties()??{};const p=s.getProperties()??{};const a=e.getTableVisualization()?.Content||[];const u=s.getTableVisualization()?.Content||[];const l={items:o(a,u),groupLevels:t(c.GroupBy??[],p.GroupBy??[],i),sorters:r(c.SortOrder??[],p.SortOrder??[],i)};const y=n(c.Aggregations??{},p.Aggregations??{},i);if(Object.keys(y).length>0){l.aggregations=y}return l};e.convertPVToState=s;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/delegates/ALPTableDelegate", ["sap/fe/core/CommonUtils","sap/fe/macros/chart/ChartUtils","sap/fe/macros/table/Utils","sap/fe/macros/table/delegates/TableDelegate","sap/ui/model/Filter"],function(t,e,n,i,s){"use strict";const a=Object.assign({},i,{apiVersion:2,_internalUpdateBindingInfo:function(o,r){let l;let c;Object.assign(r,i._computeRowBindingInfoFromTemplate(o));if(o.getRowBinding()){r.suspended=false}const f=t.getTargetView(o);const g=f.getController().getChartControl?.();const d=g?.getParent();const h=d?.hasSelections();const p=n.getAllFilterInfo(o);const u=p&&p.filters;l=p;if(h){const t=e.getAllFilterInfo(g);if(t&&t.filters){t.filters.forEach(t=>{if(t.getPath()){t.sPath=d.getChartPropertiesWithoutPrefixes(t.getPath())}})}c=t?.filters??null;l=t}const P=(u&&c?u.concat(c):c||u)||[];const b=P.length>0?new s({filters:P,and:true}):null;if(l.bindingPath){r.path=l.bindingPath}a.updateBindingInfoWithSearchQuery(r,l,b);i.addFilterOnActiveEntities(o,r)},rebind:function(t,e){const n=t.getBindingContext("pageInternal");const s=n?.getProperty(`${n.getPath()}/alpContentView`);if(s!=="Chart"){i.rebind(t,e)}}});return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/delegates/TableDelegate", ["sap/base/Log","sap/base/util/deepEqual","sap/base/util/deepExtend","sap/fe/base/BindingToolkit","sap/fe/base/jsx-runtime/jsx","sap/fe/core/ActionRuntime","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/controllerextensions/cards/CollaborationManager","sap/fe/core/converters/controls/Common/table/Columns","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/DeleteHelper","sap/fe/core/helpers/ExcelFormatHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/PromiseKeeper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/SizeHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/type/EDM","sap/fe/macros/CollectionBindingInfo","sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/fe/macros/filterBar/FilterBarDelegate","sap/fe/macros/table/MdcTableTemplate","sap/fe/macros/table/TableHelper","sap/fe/macros/table/TableRuntime","sap/fe/macros/table/TableSizeHelper","sap/fe/macros/table/Utils","sap/m/IllustratedMessage","sap/m/IllustratedMessageType","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","sap/ui/mdc/odata/v4/TableDelegate","sap/ui/mdc/odata/v4/TypeMap","sap/ui/model/Filter","sap/ui/model/Sorter","sap/ui/model/json/JSONModel","../TableEventHandlerProvider"],function(e,t,n,i,a,o,r,s,l,c,p,d,u,f,g,m,h,y,b,P,T,C,v,I,D,E,_,S,A,F,x,M,O,B,L,w,R,N){"use strict";var U=I.getSlotColumn;var k=I.getComputedColumn;var H=I.getColumnTemplate;var $=b.isTypeFilterable;var V=y.isPathFilterable;var W=m.getResourceModel;var j=m.getLocalizedText;var G=c.ColumnType;var K=s.getInvolvedDataModelObjects;var X=i.isConstant;const z="/semanticKeyHasDraftIndicator";const q="searchFired";const J="columnAdded";const Q="previousSorters";return Object.assign({},O,{apiVersion:2,_computeVisualSettingsForFieldGroup:function(e,t,i){if(t.key.indexOf("DataFieldForAnnotation::FieldGroup::")===0){const a=e.getColumns().find(e=>e.getPropertyKey()===t.key);const o=a?a.data("showDataFieldsLabel")==="true":false;const r=e.getModel().getMetaModel();const s=K(r.getContext(t.annotationPath));const l=s.convertedTypes;const c=s.targetObject;const p=c.Target.$target;const d=[];p.Data.forEach(function(e){let t;switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":t=_.getWidthForDataFieldForAnnotation(e,false,i,l,o);break;case"com.sap.vocabularies.UI.v1.DataField":t=_.getWidthForDataField(e,o,i,l,false);break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":t={labelWidth:0,propertyWidth:h.getButtonWidth(e.Label?.toString())};break;default:}if(t){d.push(t.labelWidth+t.propertyWidth)}});const u=d.reduce(function(e,t){return Math.max(e,t)},0);t.visualSettings=n(t.visualSettings,{widthCalculation:{verticalArrangement:true,minWidth:Math.ceil(u)}})}},_computeVisualSettingsForPropertyWithValueHelp:function(e,t){const i=e.getParent();if(!t.propertyInfos){const a=e.getModel().getMetaModel();if(t.annotationPath&&a){const e=a.getObject(`${t.annotationPath}@`);if(e&&e["@com.sap.vocabularies.Common.v1.ValueList"]){t.visualSettings=n(t.visualSettings||{},{widthCalculation:{gap:i.getProperty("readOnly")?0:4}})}}}},_computeVisualSettingsForPropertyWithUnit:function(e,t,i,a,o){const r=e?e.getParent():null;const s=a||o;if(s){t.visualSettings=n(t.visualSettings,{widthCalculation:{gap:Math.ceil(h.getButtonWidth(s))}})}if(i){t.visualSettings=n(t.visualSettings,{widthCalculation:{gap:r&&r.getReadOnly()?0:6}})}},_computeLabel:function(e,t){if(e.label){const n=t[e.label];const i=n?.some(t=>t.text===e.path&&t?.mode==="Description");if(n?.length>1&&e.path?.includes("/")&&e.additionalLabels&&!i&&!(e?.mode==="Description"&&e.filterable)){e.label=e.label+" ("+e.additionalLabels.join(" / ")+")"}delete e.additionalLabels}},_updatePropertyInfo:function(e,t){const n={};const i=e.getP13nMode();t.forEach(e=>{if(!e.propertyInfos&&e.label){if(i?.includes("Sort")&&e.sortable||i?.includes("Filter")&&e.filterable||i?.includes("Group")&&e.groupable){n[e.label]=n[e.label]!==undefined?n[e.label].concat([e]):[e]}}});t.forEach(i=>{this._computeVisualSettingsForFieldGroup(e,i,t);this._computeVisualSettingsForPropertyWithValueHelp(e,i);this._computeLabel(i,n)});t.push({key:"$editState",path:"$editState",groupLabel:"",group:"",label:"",dataType:"sap.ui.model.odata.type.String",visible:false,groupable:false,sortable:false,filterable:false});return t},getColumnsFor:function(e){return e.getParent().getTableDefinition().columns},fetchExportCapabilities:async function(t){const n={XLSX:{}};let i;return C.fetchModel(t).then(function(e){i=e;return i.getMetaModel().getObject("/$EntityContainer@Org.OData.Capabilities.V1.SupportedFormats")}).then(function(e){const t=(e||[]).map(e=>e.toLowerCase());if(t.includes("application/pdf")){return i.getMetaModel().getObject("/$EntityContainer@com.sap.vocabularies.PDF.v1.Features")}return undefined}).then(function(e){if(e){n["PDF"]=Object.assign({},e)}return}).catch(function(t){e.error(`An error occurs while computing export capabilities: ${t}`)}).then(function(){return n})},_isFilterableNavigationProperty:function(e,t){const n=V(t);return!e.relativePath.includes("/")||(e.isPartOfLineItem===true||e.isPartOfCustomColumn===true)&&!(X(n)&&n.value===false)},_fetchPropertyInfo:function(e,t,n,i){const a=t.annotationPath,o=e.getObject(a),r=e.createBindingContext(a),s=t.typeConfig?.className&&t.typeConfig.className?.indexOf("Edm.")!==0,l=T.isPropertyFilterable(r,o),c=C.getCustomData(n,"enableAnalytics")==="true",p=j(t.label??"",i??n),d=j(t.tooltip??"",i??n),u=this._getTypeConfig(t,s),f={name:t.name,key:t.name,annotationPath:a,groupLabel:t.groupLabel,group:t.group,label:p,tooltip:d,dataType:u.className,typeConfig:u,formatOptions:t.typeConfig?.baseType==="Edm.DateTimeOffset"?{style:"medium/short"}:t.typeConfig?.formatOptions,constraints:u.typeInstance?.oConstraints,visible:t.availability!=="Hidden"&&!s,exportSettings:this._setPropertyInfoExportSettings(t.exportSettings,t),unit:t.unit,type:G.Annotation,relativePath:t.relativePath};if(f.exportSettings?.template){f.clipboardSettings={template:f.exportSettings.template}}if(t.visualSettings&&Object.keys(t.visualSettings).length>0){f.visualSettings=t.visualSettings}if(t.exportDataPointTargetValue){f.exportDataPointTargetValue=t.exportDataPointTargetValue}if(t.propertyInfos?.length){f.propertyInfos=t.propertyInfos}else{const a=K(e.getContext(t.annotationPath),e.getContext(C.getCustomData(n,"metaPath")));f.path=t.relativePath;f.sortable=t.sortable;if(c){this._updateAnalyticalPropertyInfoAttributes(f,t)}f.filterable=t.filterable!==false&&!!l&&this._isFilterableNavigationProperty(t,a);f.isKey=t.isKey;f.groupable=t.isGroupable;if(t.textArrangement){this._setTextArrangementInfo(f,t,n)}if(f.isKey){f.extension={technicallyGroupable:true}}f.caseSensitive=t.caseSensitive;if(t.additionalLabels){f.additionalLabels=t.additionalLabels.map(e=>j(e,i||n))}}this._computeVisualSettingsForPropertyWithUnit(n,f,t.unit,t.unitText,t.timezoneText);return f},_setPropertyInfoExportSettings:function(e,t){const n=this._getExportFormat(t.typeConfig?.className);if(n&&e){e.format=n}return e},_getTypeConfig(e,t){let n=B.getTypeConfig("sap.ui.model.odata.type.String");if(e.typeConfig?.className&&$(e.typeConfig.className)){n=B.getTypeConfig(e.typeConfig.className,e.typeConfig.formatOptions,e.typeConfig.constraints)}else if(e.typeConfig?.className&&e.typeConfig?.className!=="Edm.Stream"&&!t){n=B.getTypeConfig(e.typeConfig.className)}return n},_setTextArrangementInfo:function(e,t,n){const i=this.getColumnsFor(n).find(function(e){return e.name===t.textArrangement?.textProperty});if(i){e.mode=t.textArrangement.mode;e.valueProperty=t.relativePath;e.descriptionProperty=i.relativePath}e.text=t.textArrangement?.textProperty},_updateAnalyticalPropertyInfoAttributes(e,t){if(t.aggregatable){e.aggregatable=t.aggregatable}if(t.extension){e.extension=t.extension}},_fetchComputedPropertyInfo:function(e,t){const n=j(e.label,t);const i={key:e.name,label:n.toString(),dataType:"sap.ui.model.odata.type.String",visible:e.availability!=="Hidden",filterable:false,sortable:false,groupable:false,exportSettings:e.exportSettings,clipboardSettings:e.clipboardSettings};if(e.propertyInfos!==undefined&&e.propertyInfos.length>0){i.propertyInfos=e.propertyInfos}return i},_fetchCustomPropertyInfo:function(e,t,n){let i;if(e.header){if(e.header.startsWith("{metaModel>")){i=f.fetchTextFromMetaModel(e.header,undefined,t.getModel().getMetaModel())}else{i=j(e.header,n)}}const a={key:e.name,groupLabel:undefined,group:undefined,label:i??"",dataType:"sap.ui.model.odata.type.String",visible:e.availability!=="Hidden",exportSettings:e.exportSettings,visualSettings:e.visualSettings};if(e.propertyInfos&&e.propertyInfos.length){a.propertyInfos=e.propertyInfos}else{a.path=e.name;a.sortable=false;a.filterable=false}return a},_bColumnHasPropertyWithDraftIndicator:function(e){return!!(e.formatOptions&&e.formatOptions.hasDraftIndicator||e.formatOptions&&e.formatOptions.fieldGroupDraftIndicatorPropertyPath)},_updateDraftIndicatorModel:function(e,t){const n=e.getColumns();const i=e.getBindingContext("internal");const a=i&&i.getPath();if(n&&i){for(const e in n){if(this._bColumnHasPropertyWithDraftIndicator(t)&&t.name===n[e].getPropertyKey()){if(i.getProperty(a+z)===undefined){i.setProperty(a+z,t.name);break}}}}},_fetchPropertiesForEntity:async function(t,n,i,a){const o=f.getEntitySetPath(n);let s=[];const l=r.getFilterRestrictionsByPath(o,i).NonFilterableProperties;return Promise.resolve(this.getColumnsFor(t)).then(e=>{if(e){let n;e.forEach(e=>{this._updateDraftIndicatorModel(t,e);switch(e.type){case"Annotation":n=this._fetchPropertyInfo(i,e,t,a);if(n&&!l.includes(n.name)){n.maxConditions=C.isMultiValue(n)?-1:1}break;case"Computed":n=this._fetchComputedPropertyInfo(e,t);break;case"Slot":case"Default":n=this._fetchCustomPropertyInfo(e,t,a);break;default:throw new Error(`unhandled switch case ${e.type}`)}s.push(n)})}return}).then(()=>{s=this._updatePropertyInfo(t,s);const e=t.getParent();e.setEnhancedFetchedPropertyInfos(s);s=e.getPropertyInfos();return}).catch(function(t){e.error(`An error occurs while updating fetched properties: ${t}`)}).then(function(){return s})},_getCachedOrFetchPropertiesForEntity:async function(e,t,n,i){const a=e.getParent();const o=a.getCachedPropertyInfos();if(o.length){return Promise.resolve(o)}return this._fetchPropertiesForEntity(e,t,n,i).then(function(e){a.setCachedPropertyInfos(e);return e})},setNoDataInformation:function(e,t){const n=e.getNoData();if(typeof n!="string"&&n?.isA("sap.m.IllustratedMessage")){const e=n;e.setTitle(t.title);e.setDescription(t.description);e.setIllustrationType(t.illustrationType);e.setIllustrationSize(t.illustrationSize)}else{const n=new A({...t});e.setNoData(n)}},setTableNoDataIllustratedMessage:function(e,t){const n=S.getAllFilterInfo(e);const i=W(e);const a=t.path?.startsWith("/")?t.path.substring(1):t.path;let o;const s=function(){if(e.data("hiddenFilters")||e.getQuickFilter()){return{title:i.getText("T_ILLUSTRATED_MESSAGE_TITLE_NOSEARCHRESULTS"),description:i.getText("M_TABLE_AND_CHART_NO_DATA_TEXT_MULTI_VIEW",undefined,a),illustrationType:F.NoSearchResults}}return{title:i.getText("T_ILLUSTRATED_MESSAGE_TITLE_NOSEARCHRESULTS"),description:i.getText("T_TABLE_AND_CHART_NO_DATA_TEXT_WITH_FILTER",undefined,a),illustrationType:F.NoSearchResults}};const l=e.getFilter();const c=n.search||n.filters?.length;if(l&&!/BasicSearch$/.test(l)){if(c){o=s()}else{o={title:i.getText("T_ILLUSTRATED_MESSAGE_TITLE_NOSEARCHRESULTS"),description:i.getText("T_TABLE_AND_CHART_NO_DATA_TEXT",undefined,a),illustrationType:F.NoSearchResults}}}else if(c){o=s()}else{o={title:i.getText("T_ILLUSTRATED_MESSAGE_TITLE_NODATA"),description:i.getText("M_TABLE_AND_CHART_NO_FILTERS_NO_DATA_TEXT",undefined,a),illustrationType:F.NoData}}if(r.getTargetView(e).getViewData().liveMode){o={title:i.getText("T_ILLUSTRATED_MESSAGE_TITLE_NOSEARCHRESULTS"),description:i.getText("T_TABLE_AND_CHART_NO_DATA_TEXT_WITH_FILTER"),illustrationType:F.NoSearchResults}}o.illustrationSize=e.getParent().getNoDataMessageMode();if(o.illustrationSize==="text"){const t=e.getNoData();if(typeof t==="string"&&t===o.description){return}e.setNoData(o.description)}else{this.setNoDataInformation(e,o)}},handleTableDataReceived:function(e,t){const n=e&&e.getRowBinding(),i=t&&t.getProperty("dataReceivedAttached");if(t&&!i){n.attachDataReceived(()=>{if(!t.getProperty("dataReceivedTimeoutSet")){t.setProperty("dataReceivedTimeoutSet",true);setTimeout(()=>{t.setProperty("dataReceivedTimeoutSet",false);t.setProperty("selectedContexts",[]);const n=e.getSelectedContexts();t.setProperty("selectedContexts",n);t.setProperty("numberOfSelectedContexts",n.length);const i=e.getParent();const a=JSON.parse(i.tableDefinition.operationAvailableMap);o.setActionEnablement(t,a,n,"table");d.updateDeleteInfoForSelectedContexts(t,n);const r=e?e.getParent():null;if(r){r.setUpEmptyRows(e)}this._updateAvailableCards(e)},0)}});t.setProperty("dataReceivedAttached",true)}},setOptimisticBatchPromiseForModel:function(e,t){const n=e.getAppComponent().getModel();if(n){t.setOptimisticBatchEnablerPromise(new g);this.setOptimisticBatchForModel(e,n,t)}},enableOptimisticBatchMode:function(e,t){const n=t&&S.isFilterEligibleForOptimisticBatch(t,e._getFilterBarControl());t.getParent().getOptimisticBatchEnablerPromise()?.resolve(!n)},setOptimisticBatchForModel:function(e,t,n){const i=e.getAppComponent().getShellServices().isFlpOptimisticBatchPluginLoaded();if(t.getOptimisticBatchEnabler()===null&&!n.isOptimisticBatchDisabled()&&i){const e=n.getOptimisticBatchEnablerPromise();t.setOptimisticBatchEnabler(function(){return e?.promise})}},rebind:async function(t,n){const i=t.getParent();const a=i?.getProperty("bindingSuspended");i?.setProperty("outDatedBinding",a);if(!a){E.clearSelection(t);O.rebind.apply(this,[t,n]);S.onTableBound(t);return S.whenBound(t).then(e=>{this.handleTableDataReceived(e,e.getBindingContext("internal"));return}).catch(function(t){e.error("Error while waiting for the table to be bound",t)})}return Promise.resolve()},fetchProperties:async function(e){return C.fetchModel(e).then(async t=>{const n=r.getAppComponent(e);return this._getCachedOrFetchPropertiesForEntity(e,C.getCustomData(e,"entityType")??"",t.getMetaModel(),n)}).then(t=>{e.getBindingContext("internal")?.setProperty("tablePropertiesAvailable",true);return t})},preInit:async function(e){return O.preInit.apply(this,[e]).then(()=>{const t=e.getCreationRow();if(t){t.setBindingContext(null)}return})},updateBindingInfo:function(t,n){const i=t.getBindingContext("internal");i?.setProperty("isInsightsEnabled",true);O.updateBindingInfo.apply(this,[t,n]);try{this._handleSortersOnCurrenciesOrUoM(t,n);this._internalUpdateBindingInfo(t,n);this.setTableNoDataIllustratedMessage(t,n);this._handleRecommendationOutputFields(t,n);this._handleFiltersForExternalID(t,n);t.getParent()?.fireEvent("beforeRebindTable",{collectionBindingInfo:new P(n)});const e=t.getBindingContext();if(t.getCreationRow()?.getBindingContext()===null&&n.path&&e){D.enableFastCreationRow(t.getCreationRow(),n.path,e,t.getModel(),Promise.resolve())}}catch(t){e.error("Error while updating the binding info",t)}},_handleSortersOnCurrenciesOrUoM:function(e,t){const n=t.sorter;const i=[];if(n?.length){const a=e.getParent();const o=a.getCachedPropertyInfos();for(const e of n){const t=o?.find(t=>t.path===e.getPath());if(t?.unit){const e=o?.find(e=>e.key===t?.unit);const a=e?.path&&n.some(t=>t.getPath()===e.path);if(!a&&e?.sortable!==false&&e?.path){i.push(new w(e.path,false))}}i.push(e)}t.sorter=i}},_handleFiltersForExternalID:function(e,t){const n=e.getModel()?.getMetaModel();const i=t.path+"/";const a=t.filters?.getFilters();if(a!==undefined){S.updateFiltersForExternalID(n,a,i)}},_handleRecommendationOutputFields:function(e,t){const n=e.getParent();const i=n?.getPageController();if(i?.recommendations.isRecommendationEnabled()){const e=i.getAppComponent();const a=n.getTableDefinition();const o=e.getSideEffectsService().getRecommendationOutputFields(a.annotation.entityTypeName);if(o&&o.length>0&&t.parameters){t.parameters.$select=t.parameters?.$select?.concat(",",o.join())}}},_updateAvailableCards:async function(e){const t=e.getParent();if(t.getPageController().getView().getViewData()?.converterType==="ListReport"){const e=t?.getPageController()?.getAppComponent();const n=[];await t.collectAvailableCards(n);const i=new l;const a=i.updateCards(n);const o=e.getId();e.getCollaborationManagerService().addCardsToCollaborationManager(a,o);e.getCollaborationManagerService().shareAvailableCards()}},getInResultPropertyKeys:function(e){const t=e.getParent();if(t.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel){const n=this.checkAllKeysAreRequested(t);const i=e.getBindingContext("internal");i?.setProperty("isNodeLevelNavigable",t.overrideRowPress?true:n);return Object.keys(t.tableDefinition.requestAtLeast).filter(e=>!n?t.tableDefinition.requestAtLeast[e].some(e=>e!=="restriction"&&e!=="semanticKey"):true)}return Object.keys(t.tableDefinition.requestAtLeast??{})},checkAllKeysAreRequested:function(e){const t=e.getContent();const n=e.getTableDefinition().columns;const i=n.filter(e=>e.isKey&&e.relativePath&&e.relativePath!=="IsActiveEntity").map(e=>e.relativePath);const a=t.getColumns().map(t=>e.getTableDefinition().columns.find(e=>e.name===t.getPropertyKey()));const o=new Set;function r(e){if(e.relativePath&&e.propertyInfos===undefined){o.add(e.relativePath)}e.extension?.additionalProperties?.forEach(e=>{const t=n.find(t=>t.name===e);if(t?.relativePath){o.add(t.relativePath)}})}a.forEach(e=>{if(!e){return}r(e);e.propertyInfos?.forEach(e=>{const t=n.find(t=>t.name===e);if(t){r(t)}})});return i.every(e=>e&&o.has(e))},updateBinding:function(n,i,a){const o=n.getParent();const s=o?.getProperty("bindingSuspended");if(!s){let s=false;const l=r.getTargetView(n);const c=n.getBindingContext("internal");const p="pendingManualBindingUpdate";const d=c?.getProperty(p);const u=JSON.stringify(i.sorter??[]);if(a){const e=l?.getViewData();const n=a.getFilters("Application");const o=c?.getProperty(Q)??"[]";const r=t(i.filters,n[0])&&u===o&&i.path===a.getPath()&&a.getQueryOptionsFromParameters().$search===i?.parameters?.$search;const p=!!e.views;s=r&&(c?.getProperty(q)||c?.getProperty(J)||p)&&!d}if(o.getTableDefinition().enableAnalytics!==true){n.setAggregateConditions();if(o.getTableDefinition().control.type==="GridTable"||o.getTableDefinition().control.type==="TreeTable"){n.setGroupConditions()}}O.updateBinding.apply(this,[n,i,a]);o.setTableBindingInfo(i);o.setDownloadUrl();n.fireEvent("bindingUpdated");if(s&&n.getFilter()&&a){a.requestRefresh(a.getGroupId()).finally(()=>{c?.setProperty(p,false)}).catch(function(t){e.error("Error while refreshing the table",t)});c?.setProperty(p,true)}c?.setProperty(q,false);c?.setProperty(J,false);c?.setProperty(Q,u);if(o.getTableDefinition().control.type==="TreeTable"){c?.setProperty("pastableContexts",[])}}o?.setProperty("outDatedBinding",s)},_computeRowBindingInfoFromTemplate:function(e){const t=e.getParent();const n=t.getTableTemplateBindingInfo();const i=e.getBindingContext();let a=false;if(i===undefined&&e.getBindingContext("ui")?.getProperty("isEditable")===false&&e.getModel("viewData")?.getProperty("/isInlineEditEnabled")){a=true}else if(i?.getBinding().getUpdateGroupId()==r.INLINEEDIT_UPDATEGROUPID){a=true}if(a){n.parameters??={};n.parameters.$$updateGroupId=r.INLINEEDIT_UPDATEGROUPID}if(n.parameters?.$$getKeepAliveContext===true){const t=C.getCustomData(e,"targetCollectionPath")??"";const i=e.getModel("internal");const a=i?.getObject("/keptAliveLists")??{};if(!a[t]){a[t]=e.getId();i?.setProperty("/keptAliveLists",a)}else if(a[t]!==e.getId()){delete n.parameters.$$getKeepAliveContext}}return n},_internalUpdateBindingInfo:function(e,t){const n=e.getBindingContext("internal");Object.assign(t,this._computeRowBindingInfoFromTemplate(e));if(e.getRowBinding()){t.suspended=false}if(n){n.setProperty("dataReceivedAttached",false)}let i;const a=S.getAllFilterInfo(e);if(a.filters.length>0){i=new L({filters:a.filters,and:true})}if(a.bindingPath){t.path=a.bindingPath}const o=e.getDataStateIndicator();if(o&&o.isFiltering()){if(t.filters.length>0){i=new L({filters:t.filters.concat(a.filters),and:true});this.updateBindingInfoWithSearchQuery(t,a,i)}}else{this.updateBindingInfoWithSearchQuery(t,a,i)}this.addFilterOnActiveEntities(e,t)},updateBindingInfoWithSearchQuery:function(e,t,n){e.filters=n;e.parameters??={};if(t.search){e.parameters.$search=r.normalizeSearchTerm(t.search)}else{e.parameters.$search=undefined}},addFilterOnActiveEntities:function(e,t){const n=e.getPayload();if(n?.filterOnActiveEntities===true){const e=new L({path:"IsActiveEntity",operator:"EQ",value1:true});if(t.filters){t.filters=new L({filters:[e,t.filters],and:true})}else{t.filters=e}}},_templateSlotColumnFragment:async function(t,n,i,o){const r=(new DOMParser).parseFromString(a.renderAsXML(()=>U(o,t,false)),"text/xml");if(!r){return Promise.resolve(null)}const s=r.getElementsByTagName("slot")[0];if(t.template){if(s){const e=(new DOMParser).parseFromString(t.template,"text/xml");if(e.firstElementChild&&e.firstElementChild.nodeName!=="html"){s.replaceWith(e.firstElementChild)}else{s.remove()}}}else{e.error(`Please provide content inside this Building Block Column: ${t.header}`);return Promise.resolve(null)}const l=await M.process(r.firstElementChild,{models:{}},n.getController().getOwnerComponent().getPreprocessorContext());if(i?.targets!=="jsControlTree"){return l.firstElementChild}return x.load({type:"XML",definition:l,controller:n.getController()})},_getExportFormat:function(e){switch(e){case"Edm.Date":return u.getExcelDatefromJSDate();case"Edm.DateTimeOffset":return u.getExcelDateTimefromJSDateTime();case"Edm.TimeOfDay":return u.getExcelTimefromJSTime();default:return undefined}},_getVHRelevantFields:function(e,t,n){let i=[],a=e.getObject(t);if(a.$kind&&a.$kind==="Property"){a=e.getObject(`${t}@com.sap.vocabularies.UI.v1.DataFieldDefault`);t=`${t}@com.sap.vocabularies.UI.v1.DataFieldDefault`}switch(a.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(e.getObject(`${t}/Target/$AnnotationPath`).includes("com.sap.vocabularies.UI.v1.FieldGroup")){e.getObject(`${t}/Target/$AnnotationPath/Data`).forEach((n,a)=>{i=i.concat(this._getVHRelevantFields(e,`${t}/Target/$AnnotationPath/Data/${a}`))})}break;case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":i.push(e.getObject(`${t}/Value/$Path`));break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":break;default:if(n&&t.indexOf(n)===0){i.push(t.substring(n.length+1));break}i.push(T.getNavigationPath(t,true));break}return i},_setDraftIndicatorOnVisibleColumn:function(e,t,n){const i=e.getBindingContext("internal");if(!i){return}const a=i.getPath();const o=t.filter(e=>this._bColumnHasPropertyWithDraftIndicator(e));const r=e.getColumns();let s,l,c,p;for(const e in r){l=r[e].getPropertyKey();for(const e in o){p=o[e].name;if(l===p){c=true;break}if(n&&n.name===p){s=n.name}}if(c){i.setProperty(a+z,l);break}}if(!c&&s){i.setProperty(a+z,s)}},removeItem:async function(e,t,n){let i=true;if(!t){return Promise.resolve(i)}const a=n.modifier;const o=await a.getProperty(t,"dataProperty");if(o&&o.includes&&o.includes("InlineXML")){a.insertAggregation(e,"dependents",t);i=false}if(e.isA&&a.targets==="jsControlTree"){this._setDraftIndicatorStatus(a,e,this.getColumnsFor(e))}return Promise.resolve(i)},_getMetaModel:function(e){return e.appComponent&&e.appComponent.getModel().getMetaModel()},_setDraftIndicatorStatus:function(e,t,n,i){if(e.targets==="jsControlTree"){this._setDraftIndicatorOnVisibleColumn(t,n,i)}},_getGroupId:function(e){return e||undefined},_insertAggregation:async function(e,t,n){if(e){return t.insertAggregation(n,"dependents",e,0)}return},addItem:async function(t,n,i){const o=this._getMetaModel(i),s=i.modifier,l=s.getId(t),c=t.isA?this.getColumnsFor(t):null;if(!c){return Promise.resolve(null)}const p=c.find(function(e){return e.name===n});if(!p){e.error(`${n} not found while adding column`);return Promise.resolve(null)}if(p.availability==="Hidden"){e.warning(`Column for ${n} not added because it's hidden`);return Promise.resolve(null)}const d=t.getBindingContext("internal");d?.setProperty(J,true);this._setDraftIndicatorStatus(s,t,c,p);const u=await C.getCustomDataWithModifier(t,"metaPath",s);const f=o.createBindingContext(u);const g=i.view||r.getTargetView(t)||(i.appComponent?r.getCurrentPageView(i.appComponent):undefined);if(p.type==="Default"){e.error("Custom columns defined in the manifest are not supported when using a table building block.");throw new Error("Custom columns defined in the manifest are not supported when using a table building block.")}if(p.type==="Slot"){return this._templateSlotColumnFragment(p,g,s,l)}if(p.type==="Computed"){const e=t.getParent().getTableDefinition().enableAnalytics;return k(l,p,f,e)}if(!o){return Promise.resolve(null)}const m=t.getParent().getEnhancedFetchedPropertyInfos().find(function(e){return e.name===n});const h=o.createBindingContext(m.annotationPath);const y=async(e,r)=>{let c;let d;let g;return Promise.all([C.getCustomDataWithModifier(t,"displayModePropertyBinding",s),C.getCustomDataWithModifier(t,"tableType",s),C.getCustomDataWithModifier(t,"creationMode",s)]).then(async e=>{c=e[0];d=e[1];g=e[2];if(c!==undefined&&typeof c!=="boolean"){c=c==="true"}const m=t.getParent();const y=new R({enableAutoColumnWidth:m.getTableDefinition().control.enableAutoColumnWidth,readOnly:c,tableType:d,id:l,navigationPropertyPath:n,columnInfo:p,collection:o.createBindingContext(u),creationMode:{name:g},widthIncludingColumnHeader:m.getTableDefinition().control.widthIncludingColumnHeader}),b={bindingContexts:{entitySet:f,collection:f,dataField:h,this:y.createBindingContext("/"),column:y.createBindingContext("/columnInfo")},models:{this:y,entitySet:o,collection:o,dataField:o,metaModel:o,column:y},appComponent:i.appComponent};const P=K(o.createBindingContext(m.tableDefinition.annotation.collection));const T=new N(m,{collectionEntity:P.targetObject,metaModel:o},m);const v=(new DOMParser).parseFromString(a.renderAsXML(()=>H(l,m,p,o.createBindingContext(u),T)??""),"text/xml");return C.templateControlFragment(v.firstElementChild,b,{view:r},s).finally(function(){y.destroy()})})};return y(m,g)},getFilterDelegate:function(){return Object.assign({apiVersion:2},v,{addItem:async function(e,t){if(t.indexOf("Property::")===0){t=t.replace("Property::","")}return v.addItem(e,t)}})},getTypeMap:function(){return B},formatGroupHeader(e,t,n){const i=e.getParent().getEnhancedFetchedPropertyInfos();const a=i?.find(e=>e.name===n);const o=B.getTypeConfig(a?.dataType).baseType;const s=o==="DateTime"||o==="Date"||o==="Boolean"||o==="Numeric";let l;if(!t){l=W(r.getTargetView(e)).getText("M_TABLE_GROUP_HEADER_TITLE_VALUE");return W(e).getText("M_TABLE_GROUP_HEADER_TITLE",[a?.label,l])}if(a?.mode){switch(a.mode){case"Description":l=a.descriptionProperty?t.getProperty(a.descriptionProperty,s):null;break;case"DescriptionValue":l=p.formatWithBrackets(a.descriptionProperty?t.getProperty(a.descriptionProperty,s):null,a.valueProperty?t.getProperty(a.valueProperty,s):null);break;case"ValueDescription":l=p.formatWithBrackets(a.valueProperty?t.getProperty(a.valueProperty,s):null,a.descriptionProperty?t.getProperty(a.descriptionProperty,s):null);break;default:break}}else{l=a?.path?t.getProperty(a.path,s):null}if(l===null||l===""){l=W(r.getTargetView(e)).getText("M_TABLE_GROUP_HEADER_TITLE_VALUE")}return W(e).getText("M_TABLE_GROUP_HEADER_TITLE",[a?.label,l])}})},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/delegates/TreeTableDelegate", ["sap/fe/core/CommonUtils","sap/fe/macros/table/delegates/TableDelegate"],function(e,a){"use strict";const r=Object.assign({},a,{apiVersion:2,_internalUpdateBindingInfo:function(e,r){a._internalUpdateBindingInfo.apply(this,[e,r]);const n=e.getRowBinding()?.getAggregation();const t=e.getPayload();r.parameters.$$aggregation={...r.parameters.$$aggregation,...{hierarchyQualifier:t?.hierarchyQualifier,createInPlace:t?.createInPlace?true:undefined},...{expandTo:r.parameters.$$aggregation?.search?Number.MAX_SAFE_INTEGER:n?.expandTo??t?.initialExpansionLevel}};const i=e.getBindingContext("internal");i.setProperty("isSorted",r.sorter!==undefined&&r.sorter.length>0)},updateBindingInfoWithSearchQuery:function(a,r,n){a.filters=n;if(r.search){a.parameters.$$aggregation={...a.parameters.$$aggregation,...{search:e.normalizeSearchTerm(r.search)}}}else{delete a.parameters?.$$aggregation?.search}}});return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/designtime/Table.designtime.helper", ["sap/fe/core/CommonUtils","sap/fe/core/converters/ManifestSettings"],function(e,t){"use strict";var _={};var A=t.TemplateType;function T(e){const t="";const _=n(e);const A=e.metaPath.split(e.getProperty("contextPath"))[1];if(A){return t.concat("controlConfiguration/",A.split("@")[0],_,"/tableSettings")}else{return t.concat("controlConfiguration",e.metaPath,_,"/tableSettings")}}_.getPropertyPath=T;function n(e){const t=e.getModel()?.getMetaModel()?.getObject(e.metaPath);let _;if(!t.Visualizations&&!t.PresentationVariant){_=e.metaPath.split("/").pop()}else if(t.Visualizations){_=t.Visualizations[0].$AnnotationPath}else if(t.PresentationVariant){if(t.PresentationVariant.Visualizations)_=t.PresentationVariant.Visualizations[0].$AnnotationPath;else{const A=e.metaPath.startsWith("/")?e.metaPath.split("@")[0]:e.contextPath;const T=A+t.PresentationVariant.$Path;const n=e.getModel()?.getMetaModel()?.getObject(T);_=n.Visualizations[0].$AnnotationPath}}return _}_.getLineItemAnnotation=n;function E(){const e={id:"type",name:"RTA_CONFIGURATION_TABLE_TYPE_NAME",description:"RTA_CONFIGURATION_TABLE_TYPE_DESC",value:"ResponsiveTable",type:"string",enums:[{id:"ResponsiveTable",name:"RTA_CONFIGURATION_TABLE_TYPE_ENUM_RESP"},{id:"GridTable",name:"RTA_CONFIGURATION_TABLE_TYPE_ENUM_GRID"},{id:"TreeTable",name:"RTA_CONFIGURATION_TABLE_TYPE_ENUM_TREE"},{id:"AnalyticalTable",name:"RTA_CONFIGURATION_TABLE_TYPE_ENUM_ANLT"}]};const t={id:"headerVisible",name:"RTA_CONFIGURATION_TABLE_HEADER_VIS_NAME",description:"RTA_CONFIGURATION_HEADER_VIS_DESC",type:"boolean",value:true};const _={id:"header",name:"RTA_CONFIGURATION_TABLE_HEADER_TEXT_NAME",description:"RTA_CONFIGURATION_HEADER_TEXT_DESC",type:"string",value:"This should be actually retrieved from HeaderInfo>TypeNamePlural if not yet set"};const T={id:"enableFullScreen",name:"RTA_CONFIGURATION_TABLE_FULL_SCREEN_NAME",description:"RTA_CONFIGURATION_FULL_SCREEN_DESC",restrictedTo:[A.ObjectPage],type:"boolean",value:true};const n={id:"enableExport",name:"RTA_CONFIGURATION_TABLE_ENABLEEXPORT_NAME",description:"RTA_CONFIGURATION_TABLE_ENABLEEXPORT_DESC",type:"boolean",value:true,keyUser:true};const E={id:"creationModeName",path:"creationMode/name",name:"RTA_CONFIGURATION_TABLE_CREATE_MODE_NAME",description:"RTA_CONFIGURATION_TABLE_CREATE_MODE_DESC",restrictedTo:[A.ObjectPage],type:"string",value:"NewPage",enums:[{id:"NewPage",name:"RTA_CONFIGURATION_TABLE_TYPE_ENUM_CREATE_NEW"},{id:"Inline",name:"RTA_CONFIGURATION_TABLE_TYPE_ENUM_CREATE_INLINE"},{id:"CreationRow",name:"RTA_CONFIGURATION_TABLE_TYPE_ENUM_CREAT_ROW"},{id:"External",name:"RTA_CONFIGURATION_TABLE_TYPE_ENUM_EXTERNAL"},{id:"InlineCreationRows",name:"RTA_CONFIGURATION_TABLE_TYPE_ENUM_INLINE_ROW"}],keyUser:true};const N={id:"creationModeCreateAtEnd",path:"creationMode/createAtEnd",name:"RTA_CONFIGURATION_TABLE_CREATE_WHERE_NAME",description:"RTA_CONFIGURATION_TABLE_WHERE_MODE_DESC",restrictedTo:[A.ObjectPage],type:"boolean",value:false};const i={id:"frozenColumnCount",name:"RTA_CONFIGURATION_TABLE_FROZENCOLUMNCOUNT_NAME",description:"RTA_CONFIGURATION_TABLE_FROZENCOLUMNCOUNT_DESC",type:"number",value:0,keyUser:true};const a={id:"showCounts",path:"quickVariantSelection/showCounts",name:"RTA_CONFIGURATION_TABLE_QUICK_COUNT_NAME",description:"RTA_CONFIGURATION_TABLE_QUICK_COUNT_DESC",type:"boolean",value:false};const O={id:"personalization",name:"RTA_CONFIGURATION_TABLE_PERSONALIZATION_NAME",description:"RTA_CONFIGURATION_TABLE_PERSONALIZATION_DESC",type:"booleanOrString",value:undefined,enums:[{id:"True",name:"RTA_CONFIGURATION_TABLE_PERSONALIZATION_ENUM_TRUE"},{id:"False",name:"RTA_CONFIGURATION_TABLE_PERSONALIZATION_ENUM_FALSE"},{id:"Own Settings",name:"RTA_CONFIGURATION_TABLE_PERSONALIZATION_ENUM_OWNSETTINGS"}],writeObjectFor:"Own Settings",writeObject:[{id:"personalizationSort",path:"sort"},{id:"personalizationColumn",path:"column"},{id:"personalizationFilter",path:"filter"},{id:"personalizationGroup",path:"group"},{id:"personalizationAggregate",path:"aggregate"}],keyUser:true};const o={id:"personalizationSort",path:"personalization/sort",name:"RTA_CONFIGURATION_TABLE_PERSONALIZATIONSORT_NAME",description:"RTA_CONFIGURATION_TABLE_PERSONALIZATIONSORT_DESC",type:"boolean",value:true,skipChange:true,keyUser:true};const R={id:"personalizationColumn",path:"personalization/column",name:"RTA_CONFIGURATION_TABLE_PERSONALIZATIONCOLUMN_NAME",description:"RTA_CONFIGURATION_TABLE_PERSONALIZATIONCOLUMN_DESC",type:"boolean",value:true,skipChange:true,keyUser:true};const I={id:"personalizationFilter",path:"personalization/filter",name:"RTA_CONFIGURATION_TABLE_PERSONALIZATIONFILTER_NAME",description:"RTA_CONFIGURATION_TABLE_PERSONALIZATIONFILTER_DESC",type:"boolean",value:true,skipChange:true,keyUser:true};const r={id:"personalizationGroup",path:"personalization/group",name:"RTA_CONFIGURATION_TABLE_PERSONALIZATIONGROUP_NAME",description:"RTA_CONFIGURATION_TABLE_PERSONALIZATIONGROUP_DESC",type:"boolean",value:true,skipChange:true,keyUser:true};const s={id:"personalizationAggregate",path:"personalization/aggregate",name:"RTA_CONFIGURATION_TABLE_PERSONALIZATIONAGGREGATE_NAME",description:"RTA_CONFIGURATION_TABLE_PERSONALIZATIONAGGREGATE_DESC",type:"boolean",value:true,skipChange:true};const C={id:"rowCount",name:"RTA_CONFIGURATION_TABLE_ROWCOUNT_NAME",description:"RTA_CONFIGURATION_TABLE_ROWCOUNT_DESC",restrictedTo:[A.ObjectPage],type:"number",value:5,keyUser:true};const l={id:"rowCountMode",name:"RTA_CONFIGURATION_TABLE_ROWCOUNTMODE_NAME",description:"RTA_CONFIGURATION_TABLE_ROWCOUNTMODE_DESC",restrictedTo:[A.ObjectPage],type:"string",value:"Fixed",keyUser:true,enums:[{id:"Fixed",name:"RTA_CONFIGURATION_TABLE_ROWCOUNTMODE_ENUM_FIXED"},{id:"Auto",name:"RTA_CONFIGURATION_TABLE_ROWCOUNTMODE_ENUM_AUTO"},{id:"Interactive",name:"RTA_CONFIGURATION_TABLE_ROWCOUNTMODE_ENUM_INTERACTIVE"}]};const L={id:"condensedTableLayout",name:"RTA_CONFIGURATION_TABLE_CONDENSEDLAYOUT_NAME",description:"RTA_CONFIGURATION_TABLE_CONDENSEDLAYOUT_DESC",type:"boolean",value:false,keyUser:true};const U={id:"widthIncludingColumnHeader",name:"RTA_CONFIGURATION_TABLE_WIDTHCOLUMNHEADER_NAME",description:"RTA_CONFIGURATION_TABLE_WIDTHCOLUMNHEADER_DESC",type:"boolean",value:false,keyUser:true};const c={id:"selectionMode",name:"RTA_CONFIGURATION_TABLE_SELECTIONMODE_NAME",description:"RTA_CONFIGURATION_TABLE_SELECTIONMODE_DESC",type:"string",value:"Single",enums:[{id:"Auto",name:"RTA_CONFIGURATION_TABLE_SELECTIONMODE_ENUM_AUTO"},{id:"Single",name:"RTA_CONFIGURATION_TABLE_SELECTIONMODE_ENUM_SINGLE"},{id:"Multi",name:"RTA_CONFIGURATION_TABLE_SELECTIONMODE_ENUM_MULTI"},{id:"None",name:"RTA_CONFIGURATION_TABLE_SELECTIONMODE_ENUM_NONE"}]};const d={id:"selectAll",name:"RTA_CONFIGURATION_TABLE_SELECTALL_NAME",description:"RTA_CONFIGURATION_TABLE_SELECTALL_DESC",type:"boolean",value:false,keyUser:true};const p={id:"selectionLimit",name:"RTA_CONFIGURATION_TABLE_SELECTIONLIMIT_NAME",description:"RTA_CONFIGURATION_TABLE_SELECTIONLIMIT_DESC",type:"number",value:300,keyUser:true};const u={id:"scrollThreshold",name:"RTA_CONFIGURATION_TABLE_SCROLL_THRESHOLD_NAME",description:"RTA_CONFIGURATION_TABLE_SCROLL_THRESHOLD_NAME_DESC",type:"number",value:200,keyUser:true};const F={id:"hierarchyQualifier",name:"RTA_CONFIGURATION_TABLE_HIERQUALIF_NAME",description:"RTA_CONFIGURATION_TABLE_HIERQUALIF_DESC",type:"string",value:""};const G={id:"enableAddCardToInsights",name:"RTA_CONFIGURATION_TABLE_ENABLEADDCARD_NAME",description:"RTA_CONFIGURATION_TABLE_ENABLEADDCARD_DESC",type:"boolean",value:false,keyUser:true};const M={id:"beforeRebindTable",name:"RTA_CONFIGURATION_TABLE_BEFOREREBIND_NAME",description:"RTA_CONFIGURATION_TABLE_BEFOREREBIND_DESC",type:"string",value:""};const S={id:"selectionChange",name:"RTA_CONFIGURATION_TABLE_SELECTIONCHANGE_NAME",description:"RTA_CONFIGURATION_TABLE_SELECTIONCHANGE_DESC",type:"string",value:""};return[e,t,_,T,n,E,N,i,a,O,o,R,I,r,s,C,l,L,U,c,d,p,u,F,G,M,S]}_.getDesigntimeProperties=E;function N(t){const _=[];const T=e.getTargetView(t).getControllerName()==="sap.fe.templates.ListReport.ListReportController";E().forEach(e=>{if(!T||!e.restrictedTo||e.restrictedTo.includes(A.ListReport)){_.push(e)}});return _}_.getDesigntimeSettings=N;return _},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/massEdit/MassEditDialog", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/converters/ManifestSettings","sap/fe/core/helpers/PromiseKeeper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/library","sap/m/Button","sap/m/Dialog","sap/m/Label","sap/m/MessageBox","sap/m/MessageStrip","sap/m/MessageToast","sap/ui/core/Fragment","sap/ui/core/Lib","sap/ui/core/util/XMLPreprocessor","sap/ui/layout/form/Form","sap/ui/layout/form/FormContainer","sap/ui/layout/form/FormElement","sap/ui/layout/form/ResponsiveGridLayout","sap/ui/model/json/JSONModel","./MassEditField","./MassEditSideEffects","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/Fragment","sap/fe/base/jsx-runtime/jsxs"],function(e,t,s,n,i,o,r,a,l,d,c,h,g,u,p,f,m,C,M,E,x,b,S,w,_,y){"use strict";var T={};var P=n.OperationGroupingMode;let O=function(){function n(e){this.requiredDataPromise=new i;this.updatedProperties=new Set;this.dialog=undefined;this.table=e.table;this.contexts=e.contexts;this.isAdaptation=t.getAppComponent(this.table).isAdaptationMode();this.fieldProperties=e.fieldProperties;this.view=t.getTargetView(this.table);this.transientListBinding=this.generateListBinding();this.bindingContext=this.transientListBinding.create({},true);this.resourceBundle=p.getResourceBundleFor("sap.fe.macros");this.contextsOnError=[];this.fieldControls=[]}T=n;var O=n.prototype;O.generateListBinding=function e(){const t=this.table.getRowBinding();const s=this.table.getModel().bindList(t.getPath(),t.getContext(),[],[],{$$updateGroupId:"submitLater"});s.refreshInternal=()=>{};return s};O.create=async function e(){if(!this.dialog){const e=p.getResourceBundleFor("sap.fe.core");const t=this.view.getViewData().converterType==="ListReport"?this.resourceBundle.getText("C_MASS_EDIT_SAVE_BUTTON_TEXT"):e.getText("C_COMMON_DIALOG_OK");const s=await this.createContent();const n=w(l,{"dt:designtime":"sap/fe/macros/table/massEdit/designtime/MassEdit.designtime",id:o.generate([this.table.getId(),"MED_","Dialog"]),contentWidth:"27rem",class:"sapUiContentPadding",horizontalScrolling:"false",title:this.resourceBundle.getText("C_MASS_EDIT_DIALOG_TITLE",[this.contexts.length.toString()]),content:s,escapeHandler:this.onClose.bind(this),beforeOpen:this.beforeOpen.bind(this),beginButton:w(a,{text:t,type:"Emphasized",press:this.onApply.bind(this)}),endButton:w(a,{text:e.getText("C_COMMON_OBJECT_PAGE_CANCEL"),press:this.onClose.bind(this)})});this.dialog=n;n.setModel(new x({isEditable:true}),"ui");n.bindElement({path:"/",model:"ui"});return n}return this.dialog};O.beforeOpen=function e(t){const s=t.getSource();s.setModel(this.table.getModel());s.setBindingContext(this.bindingContext);this.table.addDependent(s)};O.onClose=function e(){this.transientListBinding.destroy();if(this.dialog){this.dialog.close();this.dialog.destroy()}};O.getRequiredDataPromise=function e(){return this.requiredDataPromise};O.manageMessage=async function e(){const n=p.getResourceBundleFor("sap.fe.core");const i=this.view.getController();const o=r.DraftStatus;const a=this.view.getBindingContext("internal");a?.setProperty("getBoundMessagesForMassEdit",true);await i.messageHandler.showMessages({onBeforeShowMessage:(e,n)=>{n.fnGetMessageSubtitle=s.setMessageSubtitle.bind({},this.table,this.contexts);if(!this.contextsOnError.length){if(this.updatedProperties.size>0){i.editFlow.setDraftStatus(o.Saved);if(this.view.getViewData().converterType==="ListReport"){g.show(this.resourceBundle.getText("C_MASS_EDIT_SUCCESS_TOAST"))}else{g.show(this.resourceBundle.getText("C_OBJECT_PAGE_MASS_EDIT_SUCCESS_TOAST"))}}else{g.show(this.resourceBundle.getText("C_MASS_EDIT_NO_CHANGE"))}}else if(this.contextsOnError.length<this.contexts.length){i.editFlow.setDraftStatus(o.Saved)}else if(this.contextsOnError.length===this.contexts.length){i.editFlow.setDraftStatus(o.Clear)}if(t.getIsEditable(i)&&!e.some(e=>!e.getTargets())){n.showMessageBox=false;n.showMessageDialog=false}return n}});if(!!this.contextsOnError.length&&this.contextsOnError.length<this.contexts.length){const e=n.getText("C_COMMON_DIALOG_OK");c.success(this.resourceBundle.getText("C_MASS_EDIT_CHANGES_WITH_ERROR",[this.contexts.length-this.contextsOnError.length,this.contexts.length]),{actions:[e],emphasizedAction:e})}a?.setProperty("getBoundMessagesForMassEdit",false)};O.saveChanges=async function t(s){const n=this.table.getParent().getTableDefinition().control.massEdit;const i=n.operationGroupingMode===P.Isolated;const o="$auto.Isolated";const r=new S(this);const a=[];const l=this.table.getModel();if(i){l.setContinueOnError(o)}this.contexts.forEach(t=>{const n=[];const d=[];for(const{control:r,values:l}of s.fieldControlReference){let s=false;if(!r.isReadOnlyOnContext(t)){const c=i?o:"$auto";for(const i in l){if(t.getProperty(i)!==l[i]){s=true;a.push(t.setProperty(i,l[i],c).then(()=>this.updatedProperties.add(i)).catch(s=>{this.contextsOnError.push(t);e.error("Mass Edit: Something went wrong in updating entries.",s)}));n.push({propertyPath:i,groupId:c})}}if(s){d.push({control:r,groupId:c})}}}a.push(...n.map(async e=>r.executeImmediateSideEffects(t,e.propertyPath,e.groupId)));a.push(...d.map(async e=>r.refreshDescription(e.control,t,e.groupId)));if(i){l.submitBatch(o)}});await Promise.allSettled(a);if(this.updatedProperties.size){r.executeDeferredSideEffects(new Set(["genericField",...Array.from(this.updatedProperties)]))}};O.getFieldValuesInfos=function e(){const t={values:{},fieldControlReference:[]};for(const e of this.fieldControls){const s=e.getFieldValues();t.values={...t.values,...s};t.fieldControlReference.push({control:e,values:s})}return t};O.applyChanges=async function t(){await this.requiredDataPromise.promise;this.view.getBindingContext("internal")?.setProperty("skipPatchHandlers",true);const s=this.getFieldValuesInfos();let n=false;try{n=await this.view.getController().editFlow.customMassEditSave({aContexts:this.contexts,oUpdateData:s.values})}catch(t){e.error("Mass Edit: Something went wrong in updating entries.",t)}if(!n){await this.saveChanges(s)}this.view.getBindingContext("internal")?.setProperty("skipPatchHandlers",false);return n};O.onApply=async function e(){if(this.fieldControls.some(e=>!e.isFieldValid())){return}if(!this.isAdaptation){s.removeBoundTransitionMessages();s.removeUnboundTransitionMessages();const e=await this.applyChanges();if(!e){this.manageMessage()}}this.onClose()};O.createContent=async function e(){const t=await this.createCustomContainer();return y(_,{children:[this.getAdaptationMessage(),w(m,{children:{layout:w(E,{labelSpanM:"12",labelSpanL:"12",labelSpanXL:"12"}),formContainers:y(_,{children:[t,w(C,{children:{formElements:this.createFormElements()}})]})}})]})};O.getAdaptationMessage=function e(){if(this.isAdaptation){return w(h,{text:this.resourceBundle.getText("C_MASS_EDIT_ADAPTATION_MODE")})}return undefined};O.createCustomContainer=async function e(){const t=this.table.getParent().getTableDefinition().control.massEdit;if(t.customFragment){if(t.fromInline===true){if(typeof t.customFragment==="string"){const e=await f.process((new DOMParser).parseFromString(t.customFragment,"text/xml").firstElementChild,{models:{}},this.view.getController().getOwnerComponent().getPreprocessorContext());return await u.load({type:"XML",definition:e,controller:this.view.getController()})}else{return t.customFragment.clone()}}return await this.view.getController().getExtensionAPI().loadFragment({id:"customMassEdit",name:t.customFragment,contextPath:this.transientListBinding.getModel().getMetaModel().getMetaPath(this.transientListBinding.getResolvedPath())})}return undefined};O.createFormElements=function e(){return this.fieldProperties.map(this.createFormElement.bind(this))};O.createFormElement=function e(t){return w(M,{visible:t.visible,children:{label:w(d,{text:t.label,id:o.generate(["MED_",t.propertyInfo.key,"Label"])}),fields:this.createFields(t)}})};O.createFields=function e(t){const s=this.table.getModel().getMetaModel();const n=s.createBindingContext(s.getMetaPath(this.bindingContext.getPath()));const i=new b(t,n);this.fieldControls.push(i);return i.getControls()};return n}();T=O;return T},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/massEdit/MassEditDialogHelper", ["sap/base/Log","sap/base/util/deepClone","sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/controls/Any","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/FieldControlHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldTemplating","sap/m/MessageBox","sap/ui/core/Component","sap/ui/core/Lib","sap/ui/mdc/enums/FieldEditMode","sap/ui/model/BindingMode","./MassEditDialog","./library"],function(e,t,n,i,s,o,a,r,l,d,c,g,p,u,f,h,y,m,x,E,T,C){"use strict";var M={};var b=C.SpecificSelectKeys;var P=f.setEditStyleProperties;var _=f.getTextBinding;var A=u.isVisible;var I=u.isMultiValueField;var D=u.getRequiredExpression;var F=u.getEditMode;var S=p.hasValueHelp;var v=p.getAssociatedUnitPropertyPath;var O=p.getAssociatedUnitProperty;var B=p.getAssociatedTextPropertyPath;var w=p.getAssociatedCurrencyPropertyPath;var R=g.isReadOnlyExpression;var L=c.getDisplayMode;var V=d.getRelativePaths;var N=d.getContextRelativeTargetObjectPath;var k=d.enhanceDataModelPath;var U=l.isProperty;var z=a.isDataFieldTypes;var j=o.getInvolvedDataModelObjects;var G=o.convertMetaModelContext;var H=n.pathInModel;var q=n.getExpressionFromAnnotation;var K=n.formatWithTypeInformation;var $=n.constant;var W=n.compileExpression;let X=function(){function n(e){this.maxAnalyzedRows=30;this.analyzedContexts=[];this.fieldProperties=[];const t=e.table.getParent().getTableDefinition().annotation.collection,n=e.table.getModel().getMetaModel();this.table=e.table;this.manifestSettings=this.table.getParent().getTableDefinition().control.massEdit;this.onContextMenu=e.onContextMenu;this.onDialogClose=e.onClose;this.view=i.getTargetView(this.table);this.contexts=this.fetchContextsForEdit();this.degradedMode=this.contexts.length>this.maxAnalyzedRows;this.analyzedContexts=this.degradedMode?this.contexts.slice(0,this.maxAnalyzedRows):this.contexts;this.isAdaptation=i.getAppComponent(this.table).isAdaptationMode();this.headerInfo=j(n.getContext(t)).targetEntityType.annotations.UI?.HeaderInfo}M=n;var o=n.prototype;o.open=async function t(){try{const t=y.getOwnerComponentFor(this.view);const n=this.table.getBindingContext("internal"),i=!this.onContextMenu?"numberOfSelectedContexts":"contextmenu/numberOfSelectedContexts",s=n.getProperty(i)||0;this.fieldProperties=await this.getFieldsPropertiesFromInfo(this.getFieldsInfo());if(!this.isAdaptation){if(!this.fieldProperties.some(e=>e.visible)){this.noFieldInformation();return}if(this.contexts.length!==s){this.contexts=await this.confirmSelection(this.contexts,s);if(!this.contexts.length){this.onDialogClose?.();return}}}await t.runAsOwner(async()=>{this.massEditDialog=new T({table:this.table,contexts:this.contexts,fieldProperties:this.fieldProperties});const t=await this.massEditDialog.create();t.attachBeforeClose(()=>{this.onDialogClose?.()});t.open();const n=this.massEditDialog.getRequiredDataPromise();try{await this.getDataAfterOpeningDialog(this.fieldProperties);n.resolve()}catch(t){e.error("Mass Edit: Something went wrong in mass edit dialog to get required data.",t);n.reject()}})}catch(t){e.error("Mass Edit: Something went wrong in mass edit dialog creation.",t)}};o.noFieldInformation=function e(){const t=this.table.getParent().getTableDefinition().control.massEdit.visibleFields;const n=m.getResourceBundleFor("sap.fe.macros");let i="",s;if(t.length>0){i=n.getText("C_MASS_EDIT_NO_EDITABLE_FIELDS_WITH_MANIFEST",[this.getResourceText(this.headerInfo?.TypeName)??n.getText("C_MASS_EDIT_DIALOG_DEFAULT_TYPENAME")]);s=`<ul>\n\t\t\t${this.fieldProperties.reduce((e,n)=>{if(t.includes(n.propertyInfo.relativePath)){e.push(`<li>${n.label}</li>`)}return e},[]).join("")} </ul>`}else{i=n.getText("C_MASS_EDIT_NO_EDITABLE_FIELDS_DEFAULT")}h.information(i,{details:s,onClose:()=>{this.onDialogClose?.()}})};o.confirmSelection=async function t(n,i){const s=m.getResourceBundleFor("sap.fe.macros");const o=m.getResourceBundleFor("sap.fe.core");const a=n.length;return new Promise(t=>{try{const e=this.table.getParent();const l=s.getText("C_MASS_EDIT_CONFIRM_BUTTON_TEXT"),d=o.getText("C_COMMON_OBJECT_PAGE_CANCEL"),c=this.table.getModel().getMetaModel(),g=this.getResourceText(this.headerInfo?.TypeName)??s.getText("C_MASS_EDIT_DIALOG_DEFAULT_TYPENAME"),p=this.getResourceText(this.headerInfo?.TypeNamePlural)??s.getText("C_MASS_EDIT_DIALOG_DEFAULT_TYPENAME_PLURAL"),u=r.isDraftSupported(c,this.table.data("targetCollectionPath"))&&e.readOnly?this.getMessageDetailForNonEditable(g,p):"";h.warning(s.getText("C_MASS_EDIT_CONFIRM_MESSAGE",[i-a,i,a,p]),{details:u,actions:[l,d],emphasizedAction:l,onClose:function(e){t(e===l?n:[])}})}catch(t){e.error(t)}})};o.getResourceText=function e(t){if(!t){return undefined}return i.getTranslatedTextFromExpBindingString(W(q(t)),this.view)?.toLocaleLowerCase()};o.getMessageDetailForNonEditable=function e(t,n){const i=m.getResourceBundleFor("sap.fe.macros");return`<p><strong>${i.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_HEADER")}</strong></p>\n\n\t\t\t<p>${i.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_REASON",[n])}</p>\n\n\t\t\t<ul>\n\t\t\t\t<li>${i.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_REASON_DRAFT",[t])}</li>\n\t\t\t\t<li>${i.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_REASON_NON_EDITABLE",[t])}</li>\n\t\t\t</ul>`};o.getEntityFieldsInfo=function e(){const t=this.table.getParent();const n=t.getTableDefinition().columns;const i=new Set(n.reduce((e,t)=>{if(t.type==="Annotation"){e.push(t.name)}return e},[]));return this.transformPathsToInfo(i)};o.getFieldsInfo=function e(){const t=this.manifestSettings.visibleFields.length>0?new Set(this.manifestSettings.visibleFields):new Set(this.table.getColumns().map(e=>e.getPropertyKey()));if(this.manifestSettings.ignoredFields.length>0){for(const e of this.manifestSettings.ignoredFields){t.delete(e)}}return this.transformPathsToInfo(t)};o.transformPathsToInfo=function e(t){return Array.from(t).reduce((e,t)=>{const n=this.getFieldInfo(t);if(n){e.push(n)}return e},[])};o.getFieldInfo=function e(t){const n=this.table.getParent().getTableDefinition().columns;const i=this.table.getModel().getMetaModel();const s=i.getMetaPath(this.table.data("metaPath"));const o=j(i.getContext(s));const a=n.find(e=>e.name===t&&e.type==="Annotation");if(a){const e=a.annotationPath;if(e&&t){const n=k(o,t);const s=G(i.getContext(e));const r=this.getCompliantProperty(n,s);if(r&&o.targetEntityType.entityProperties.includes(r))return{key:a.key,propertyDataModel:n,targetProperty:r,label:a.label??a.key,convertedAnnotation:s}}}return undefined};o.getCompliantProperty=function e(t,n){const i=t.targetObject;let s;if(U(i)){s=i;if(i.annotations.UI?.IsImageURL){return}}else if(z(n)&&!n.hasOwnProperty("Action")){s=n.Value.$target}else{return}const o=O(s);if(I(t)||S(s)&&s.annotations?.Common?.ValueListRelevantQualifiers||o&&S(o)&&o.annotations?.Common?.ValueListRelevantQualifiers){return}return s};o.isHiddenForContexts=function e(t){if(t==="true"){return false}else if(t==="false"){return true}const n=new s({anyBoolean:t});n.setModel(this.analyzedContexts[0].getModel());const i=!this.analyzedContexts.find(e=>{n.setBindingContext(e);return n.getBinding("anyBoolean").getExternalValue()});n.destroy();return i};o.fetchContextsForEdit=function e(){const t=this.table.getBindingContext("internal"),n=!this.onContextMenu?"updatableContexts":"contextmenu/updatableContexts";return t?.getProperty(n)??[]};o.getFieldProperties=function e(){return t(this.fieldProperties)};o.getFieldsPropertiesFromInfo=async function e(t){const n=[];for(const e of t){const{targetProperty:t,propertyDataModel:i,convertedAnnotation:s}=e;const o=N(i);if(o){const a=v(t)||w(t);const r=this.getInputType(s,i);if(r&&i.targetObject){const l=V(i);const d={visibilityBindings:{isVisible:W(A(s)),editMode:F(t,i,false,false,s,$(true))},visible:true,label:e.label||t.annotations.Common?.Label||o,isFieldRequired:D(t,s,true,false,{},i),descriptionPath:B(i.targetObject),textBinding:{expression:_(i,{displayMode:L(t,i)}),type:t.type==="Edm.DateTimeOffset"||t?.annotations?.Common?.IsTimezone?"anyText":"any"},readOnlyExpression:R(t,l),inputType:r,propertyInfo:{clearable:this.isPropertyClearable(t),emptyValue:this.getEmptyValueForProperty(t,o),key:e.key,relativePath:o,unitOrCurrencyPropertyPath:a},selectItems:[]};n.push(d)}}}await this.getDataForOpeningDialog(n);await Promise.all(n.map(async e=>{e.visible=this.manifestSettings.visibleFields.length===0?this.isFieldVisible(e):true;const t=!this.isAdaptation?await this.getRuntimeSelection(e):[];e.selectItems=[...this.getDefaultSelectOptions(e),...t]}));return n};o.generateFieldsProperties=async function e(){return this.getFieldsPropertiesFromInfo(this.getFieldsInfo())};o.generateEntityFieldsProperties=async function e(){return this.getFieldsPropertiesFromInfo(this.getEntityFieldsInfo())};o.getDataAfterOpeningDialog=async function e(t){if(this.degradedMode){const e=this.contexts.slice(this.maxAnalyzedRows,this.contexts.length);const n=[].concat(...t.map(t=>[{expression:W(t.readOnlyExpression),contexts:this.contexts},{expression:W(H(t.propertyInfo.relativePath)),contexts:e},{expression:W(H(t.propertyInfo.unitOrCurrencyPropertyPath)),contexts:e}]));await this.getMissingData(n)}};o.getDataForOpeningDialog=async function e(t){const n=[].concat(t.reduce((e,t)=>{e=e.concat([{expression:t.textBinding.expression},{expression:W(H(t.propertyInfo.relativePath)),type:t.textBinding.type},{expression:W(H(t.propertyInfo.unitOrCurrencyPropertyPath))}]);if(!this.manifestSettings.visibleFields.length){e=e.concat([{expression:t.visibilityBindings.isVisible},{expression:t.visibilityBindings.editMode}])}if(!this.degradedMode){e.push({expression:W(t.readOnlyExpression)})}return e},[]));await this.getMissingData(n)};o.getMissingData=async function e(t){if(this.isAdaptation){return}if(this.view.getViewData().converterType==="ObjectPage"){const e=this.table.getColumns().map(e=>e.getPropertyKey());if(this.manifestSettings.visibleFields.every(t=>e.includes(t))){return}}const n=[];const i=[];const o=this.contexts[0].getModel();for(const e of t.filter(e=>e.expression?.startsWith("{"))){const t={};const a=e.contexts??this.analyzedContexts;const r=e.type??"any";t[r]=e.expression;for(const e of a){const a=new s(t);a.setModel(o);a.setBindingContext(e);i.push(a);n.push(async()=>{const e=a.getBinding(r);if(e){e.setBindingMode(E.OneTime);if(e.isA("sap.ui.model.CompositeBinding")){await Promise.all(e.getBindings().map(e=>e.requestValue?.()))}else{await(e.requestValue?.())}}})}}await Promise.all(n.map(async e=>e()));for(const e of i){e.destroy()}};o.getEmptyValueForProperty=function e(t,n){if(t.nullable!==false){return null}else{const e=this.contexts[0];const i=new s({any:W(K(t,H(n)))});i.setModel(e.getModel());i.setBindingContext(e);const o=i.getBindingInfo("any").binding.getType().parseValue("","string");i.destroy();return o}};o.isPropertyClearable=function e(t){if(t.nullable!==false){return true}else{return!["Edm.DateTime","Edm.DateTimeOffset","Edm.TimeOfDay","Edm.Time","Edm.Date","Edm.DateTimeWithTimezone"].includes(t.type)}};o.getRuntimeSelection=async function e(t){const n=new Set;const i=[];if(t.inputType==="CheckBox"){return[]}const o=new s({anyText:t.textBinding.expression});o.setModel(this.contexts[0].getModel());for(const e of this.analyzedContexts){o.setBindingContext(e);const s=o.getBinding("anyText");if(s?.isA("sap.ui.model.CompositeBinding")){s.setBindingMode(E.OneTime);await Promise.all(s.getBindings().map(e=>e.requestValue?.()))}const a=o.getBinding("anyText")?.getExternalValue();if(a&&!n.has(a)){n.add(a);i.push({text:a,key:a,unitOrCurrencyValue:t.propertyInfo.unitOrCurrencyPropertyPath?e.getObject(t.propertyInfo.unitOrCurrencyPropertyPath):"",propertyValue:e.getObject(t.propertyInfo.relativePath)})}}o.destroy();return i};o.getDefaultSelectOptions=function e(t){const n=m.getResourceBundleFor("sap.fe.macros");const i={text:n.getText("C_MASS_EDIT_COMBOBOX_KEEP_VALUES"),key:b.KeepKey};const s=[];s.push(i);if(t.inputType==="CheckBox"){s.push({text:n.getText("yes"),key:"true"},{text:n.getText("no"),key:"false"})}else{s.push({text:n.getText("C_MASS_EDIT_COMBOBOX_REPLACE_VALUES"),key:b.ReplaceKey});if(t.isFieldRequired!=="true"&&t.propertyInfo.clearable){s.push({text:n.getText("C_MASS_EDIT_COMBOBOX_CLEAR_VALUES"),key:b.ClearFieldValueKey})}}return s};o.getFieldEditable=function e(t){if(t===x.Editable){return true}else if(Object.keys(x).includes(t)){return false}else if(t){const e=new s({any:t});const n=this.analyzedContexts[0].getModel();e.setModel(n);const i=this.analyzedContexts.some(t=>{e.setBindingContext(t);return e.getBinding("any").getExternalValue()===x.Editable});e.destroy();return i}else{return true}};o.getInputType=function e(t,n){const i={};P(i,t,n,true);return i?.editStyle};o.isFieldVisible=function e(t){if(this.isAdaptation||this.manifestSettings.visibleFields.length&&this.degradedMode){const e=Object.keys(x).includes(t.visibilityBindings.editMode);const n=!e||e&&t.visibilityBindings.editMode===x.Editable;return n&&t.visibilityBindings.isVisible!=="false"}return this.getFieldEditable(t.visibilityBindings.editMode)&&!this.isHiddenForContexts(t.visibilityBindings.isVisible)};return n}();M=X;return M},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/massEdit/MassEditField", ["sap/fe/base/BindingToolkit","sap/fe/core/controls/Any","sap/fe/core/helpers/StableIdHelper","sap/fe/macros/Field","sap/fe/macros/table/massEdit/library","sap/m/Select","sap/ui/core/Item","sap/ui/mdc/enums/FieldEditMode","../../field/FieldRuntimeHelper","sap/fe/base/jsx-runtime/jsx"],function(e,t,r,i,s,n,o,p,a,l){"use strict";var c={};var h=s.SpecificSelectKeys;var u=e.isConstant;var d=e.compileExpression;var y=e.compileConstant;let f=function(){function e(e,t){this.isValid=true;this.properties=e;this.context=t;this.context=t;this.select=this.createSelect();this.field=this.createField()}c=e;var s=e.prototype;s.getControls=function e(){const t=[this.select];if(this.field){t.push(this.field)}return t};s.getFieldValues=function e(){const t=this.select.getSelectedKey();const r=this.properties.selectItems.find(e=>t===e.key);const i={};let s="";let n="";const o=this.field?.getBindingContext()?.getProperty(this.properties.propertyInfo.relativePath);if(!this.select.getParent()?.getVisible()||!r){return{}}switch(r.key){case h.ClearFieldValueKey:s=this.getFormattedValue(o);break;case h.ReplaceKey:if(this.field){const e=this.properties.propertyInfo.unitOrCurrencyPropertyPath?this.field.getBindingContext()?.getProperty(this.properties.propertyInfo.unitOrCurrencyPropertyPath):undefined;const t=this.properties.selectItems.find(t=>this.properties.propertyInfo.unitOrCurrencyPropertyPath&&t.propertyValue===o&&t.unitOrCurrencyValue===e||!this.properties.propertyInfo.unitOrCurrencyPropertyPath&&t.text===o);const r=t?.propertyValue??o;const i=t?.unitOrCurrencyValue??e;if(r===null&&i===null){return{}}s=this.getFormattedValue(r);n=i}break;case h.KeepKey:return{};default:if(this.properties.inputType==="CheckBox"){s=this.getFormattedValue(r.key)}else{return{}}break}i[this.properties.propertyInfo.relativePath]=s;if(this.properties.propertyInfo.unitOrCurrencyPropertyPath){i[this.properties.propertyInfo.unitOrCurrencyPropertyPath]=n}return i};s.isReadOnlyOnContext=function e(r){const i=this.properties.readOnlyExpression;let s=false;if(u(i)){s=y(i,false,undefined,true)}else{const e=new t({anyBoolean:d(i)});e.setModel(r.getModel());e.setBindingContext(r);s=e.getBinding("anyBoolean")?.getExternalValue();e.destroy()}return s};s.getFormattedValue=function e(t){if(this.properties.inputType==="CheckBox"){return t==="true"}return t??this.properties.propertyInfo.emptyValue};s.createField=function e(){if(this.properties.inputType!=="CheckBox"){return l(i,{contextPath:this.context,metaPath:this.properties.propertyInfo.relativePath,id:r.generate(["MED_",this.properties.propertyInfo.key,"_Field"]),editMode:p.Editable,visible:false,change:this.handleFieldChange.bind(this)})}};s.handleFieldChange=function e(t){this.isValid=!!a.getFieldStateOnChange(t).state["validity"]};s.isFieldValid=function e(){return this.isValid};s.createSelect=function e(){return l(n,{id:r.generate(["MED_",this.properties.propertyInfo.key]),items:this.properties.selectItems.map(e=>l(o,{text:e.text},e.key)),required:this.properties.isFieldRequired,change:this.handleSelectionChange.bind(this),width:"100%",ariaLabelledBy:[r.generate(["MED_",this.properties.propertyInfo.key,"Label"])]})};s.handleSelectionChange=function e(){const t=this.select.getSelectedItem();if(this.field&&t){this.isValid=true;const e=this.field.getBindingContext();const r=t.getKey();let i;this.field.setVisible(![h.KeepKey,h.ClearFieldValueKey].includes(t.getKey()));if(!(r in h)){i=this.properties.selectItems.find(e=>e.key===r);this.select.setSelectedKey(h.ReplaceKey)}if(e){const t=this.properties.propertyInfo.unitOrCurrencyPropertyPath;e.setProperty(this.properties.propertyInfo.relativePath,this.properties.descriptionPath?i?.text:i?.propertyValue);if(t){e.setProperty(t,i?.unitOrCurrencyValue)}}}};return e}();c=f;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/massEdit/MassEditSideEffects", ["sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/table/TableHelper"],function(e,t,i,s,n){"use strict";var r={};var f=s.getTargetEntitySetInfo;var o=s.enhanceDataModelPath;var c=i.isProperty;var a=i.isNavigationProperty;var d=t.getInvolvedDataModelObjects;let g=function(){function t(t){this.immediateActionExecution=new Set;this.massEditDialog=t;this.massEditDialog=t;this.referenceRowContext=t.contexts[0];this.table=t.table;this.view=e.getTargetView(this.table);this.sideEffectsDefinition=this.generateSideEffectsDefinition()}r=t;var i=t.prototype;i.refreshDescription=async function t(i,s,n){const r=i.properties.descriptionPath;if(r&&!this.sideEffectsDefinition["genericField"]){return e.getAppComponent(this.table).getSideEffectsService().requestSideEffects(r.includes("/")?[{$NavigationPropertyPath:r.substring(0,r.lastIndexOf("/"))}]:[r],s,n)}};i.generateSideEffectsDefinition=function t(){const i=this.getSideEffectsMap();const s={};const n=this.table.getParent().getTableDefinition();const r=e.getTargetView(this.table);for(const t in i){const f=i[t];for(const i in f){const o=f[i];const c=i.split("#")[0];const a=r.getController()._sideEffects.getContextForSideEffects(this.referenceRowContext,c);if(a){const i=this.getSpecificTargetsAndActions(o.sideEffects,a,this.table.getModel().getMetaModel().getContext(n.annotation.collection),e.getAppComponent(this.table).getSideEffectsService());const r={...i,...{onRowContext:this.referenceRowContext===a}};s[t]=s[t]||[];s[t].push(r);if(!s["genericField"]&&i.tableRefresh.isRequested){s["genericField"]=[r]}}}}return s};i.getSideEffectsInformation=function e(t,i,s,r){const g=s.getModel();const l=t.targetProperties??[];const E=t.targetEntities??[];const u=!r.isControlSideEffects(t)?t.triggerAction:undefined;let h=[];const p=d(s);const m=d(g.getContext(g.getMetaPath(i.getPath())));const{parentEntitySet:y}=f(p);let S=false;let T;h=E.reduce((e,t)=>{const i=m.targetEntityType.resolvePath(t.$NavigationPropertyPath);if(a(i)){if(i.targetType==p.targetEntityType){S=true;T=t;return e}if(m.targetEntityType===y?.entityType){return e}if(i.targetType!==y?.entityType){e.push(t)}}return e},[]);for(const e of l){const t=o(m,e);if(c(t.targetObject)||e==="*"){if(y?.entityType!==t.targetEntityType){h.push(e)}}}const C=!!u&&m.targetEntityType===p.targetEntityType&&!n._isStaticAction(g.getObject(`/${u}`),u);return{immediateTargets:h,isImmediateTriggerAction:C,isRequestingTableEntityRefresh:S,tableTargetEntity:T}};i.getSpecificTargetsAndActions=function e(t,i,s,n){const r=this.getSideEffectsInformation(t,i,s,n);const f=!n.isControlSideEffects(t)?t.triggerAction:undefined;const o=[...t.targetProperties??[],...t.targetEntities??[]].filter(e=>!r.immediateTargets.includes(e)&&e!==r.tableTargetEntity);return{sideEffects:t,tableRefresh:{isRequested:r.isRequestingTableEntityRefresh,targetEntity:r.tableTargetEntity},immediate:{targets:r.isRequestingTableEntityRefresh?[]:r.immediateTargets,triggerAction:r.isImmediateTriggerAction?f:undefined},deferred:{targets:o,triggerAction:!r.isImmediateTriggerAction?f:undefined}}};i.getSideEffectsMap=function t(){const i=this.table.getModel(),s=i.getMetaModel(),n=s.getMetaPath(this.massEditDialog.bindingContext.getPath()),r=s.getContext(n);const f=d(r);const c={};const a=e.getAppComponent(this.view);const g=this.massEditDialog.fieldProperties.filter(e=>e.visible).map(e=>[e.propertyInfo.relativePath,e.propertyInfo.unitOrCurrencyPropertyPath]).flat().filter(e=>!!e);for(const e of g){const t=o(f,e);const i=a.getSideEffectsService().computeFieldGroupIds(f.targetEntityType.fullyQualifiedName,t.targetObject.fullyQualifiedName)??[];c[e]=this.view.getController()._sideEffects.getSideEffectsMapForFieldGroups(i)}return c};i.executeImmediateSideEffects=async function e(t,i,s){const n=[];const r=this.view.getController();for(const e of(this.sideEffectsDefinition[i]??[]).filter(e=>e.immediate.targets.length||e.immediate.triggerAction)){const i=e.onRowContext?t:r._sideEffects.getContextForSideEffects(t,e.sideEffects.fullyQualifiedName.split("@")[0]);if(i){const t=e.immediate.triggerAction;const f=i.getPath();n.push(r._sideEffects.requestSideEffects(e.sideEffects,i,s,()=>{let i=false;if(t){i=this.immediateActionExecution.has(`${f}_${t}`);this.immediateActionExecution.add(`${f}_${t}`)}return{targets:this.sideEffectsDefinition["genericField"]?[]:e.immediate.targets,triggerAction:t&&!i?e.immediate.triggerAction:undefined}}));r._sideEffects.unregisterFailedSideEffects(e.sideEffects.fullyQualifiedName,i)}}const f=r._sideEffects.getRegisteredFailedRequests();for(const e of[t,this.view.getBindingContext()]){if(e){const t=e.getPath();const i=f[t]??[];r._sideEffects.unregisterFailedSideEffectsForAContext(t);for(const t of i){n.push(r._sideEffects.requestSideEffects(t,e))}}}return Promise.allSettled(n)};i.executeDeferredSideEffects=function e(t){const i=this.sideEffectsDefinition["genericField"]?.[0];const s=i?.tableRefresh.targetEntity;const n=new Set;const r=this.view.getController();for(const e of Object.keys(this.sideEffectsDefinition).filter(e=>t.has(e))){for(const t of this.sideEffectsDefinition[e].filter(e=>e.deferred.targets.length||e.deferred.triggerAction)){const e=t.onRowContext?this.referenceRowContext:r._sideEffects.getContextForSideEffects(this.referenceRowContext,t.sideEffects.fullyQualifiedName.split("@")[0]);if(e&&!n.has(t.sideEffects.fullyQualifiedName)){n.add(t.sideEffects.fullyQualifiedName);r._sideEffects.requestSideEffects(t.sideEffects,e,"$auto.massEditDeferred",()=>({targets:s?t.deferred.targets.filter(e=>typeof e==="string"||e!==s):t.deferred.targets,triggerAction:t.deferred.triggerAction}))}}}if(i&&s){const e=r._sideEffects.getContextForSideEffects(this.referenceRowContext,i.sideEffects.fullyQualifiedName.split("@")[0]);if(e){r._sideEffects.requestSideEffects(i.sideEffects,e,"$auto.massEditDeferred",()=>({targets:[s],triggerAction:undefined}))}}};return t}();r=g;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/massEdit/designtime/MassEditDesignDialog", ["sap/m/p13n/Popup","sap/m/p13n/SelectionPanel","sap/ui/core/Lib","sap/fe/base/jsx-runtime/jsx"],function(e,t,s,i){"use strict";var a={};let n=function(){function n(e){this.tableAPI=e;this.massEditDialogHelper=this.tableAPI.getMassEditDialogHelper();this.popup=this.createDialog();this.selectionPanel=this.popup.getPanels()[0];this.dialogPromise=new Promise((e,t)=>{this._fnResolve=e;this._fnReject=t})}a=n;var o=n.prototype;o.createDialog=function a(){return i(e,{title:s.getResourceBundleFor("sap.fe.macros").getText("C_MASS_EDIT_DESIGN_DIALOG_TITLE"),mode:"Dialog",panels:[i(t,{title:"Columns",enableCount:"true",showHeader:"true"})],close:this.onClose.bind(this)})};o.getPopup=function e(){return this.popup};o.openDialog=async function e(t,s){await this.setData(s);this.popup.open(t);this.popup.getDependents().find(e=>e.isA("sap.m.Dialog"))?.addStyleClass("sapUiRTABorder");return this.dialogPromise};o.setData=async function e(t){const s=Object.assign({},...t.split(",").map(e=>({[e]:true})));const i=await this.massEditDialogHelper.generateEntityFieldsProperties();const a=i.map(e=>({visible:!!s[e.propertyInfo.relativePath],name:e.propertyInfo.relativePath,label:e.label}));this.selectionPanel.setP13nData(a)};o.onClose=function e(t){if(t.getParameter("reason")==="Ok"){this._fnResolve(this.selectionPanel.getP13nData(true).map(e=>e.name).join(","))}else{this._fnReject(undefined)}if(this.popup){this.popup.destroy()}};return n}();a=n;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/massEdit/library", [],function(){"use strict";var e={};let l=function(e){e["KeepKey"]="KeepKey";e["ReplaceKey"]="ReplaceKey";e["ClearFieldValueKey"]="ClearFieldValueKey";return e}({});e.SpecificSelectKeys=l;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/mixin/ColumnManagement", ["sap/fe/base/BindingToolkit","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StandardRecommendationHelper","sap/fe/core/templating/DataFieldFormatters"],function(e,i,t,n,s){"use strict";var l={};var o=s.generateVisibleExpression;var c=n.standardRecommendationHelper;var a=t.getResourceModel;var r=i.getInvolvedDataModelObjectEntityKeys;var u=e.compileExpression;let f=function(){function e(){}l=e;var i=e.prototype;i.setupMixin=function e(i){};i.getPropertyUIHiddenCache=function e(){if(this.propertyUIHiddenCache===undefined){this.propertyUIHiddenCache={}}return this.propertyUIHiddenCache};i.getDynamicVisibilityForColumns=function e(){if(this.dynamicVisibilityForColumns===undefined){this.dynamicVisibilityForColumns=[]}return this.dynamicVisibilityForColumns};i.checkIfColumnExists=function e(i,t){return i.some(function(e){if(e?.columnName===t&&e?.sColumnNameVisible||e?.sTextArrangement!==undefined&&e?.sTextArrangement===t){return t}})};i.getTableIdentifierColumnInfo=function e(){const i=this.getContent();const t=this.getTableDefinition().headerInfoTitle;const n=i&&i.getModel()?.getMetaModel(),s=i.data("metaPath");const l=n.getObject(`${s}/$Type/$Key`);const o=[];if(l&&l.length>0){l.forEach(function(e){if(e!=="IsActiveEntity"){o.push(e)}})}const c=this.getTableDefinition().semanticKeys;const a=[];const r=[];const u=i.getColumns();u.forEach(function(e){const i=e?.getPropertyKey?.();if(i){a.push(i)}});a.forEach(function(e){const i=n.getObject(`${s}/$Type/${e}@`);const t=i&&i["@com.sap.vocabularies.Common.v1.Text"]?.$Path;const l=i&&i["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"]?.$EnumMember;r.push({columnName:e,sTextArrangement:t,sColumnNameVisible:!(l==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly")})});return{headerInfoTitlePath:t,filteredTechnicalKeys:o,semanticKeyColumns:c,aFilteredColummns:r}};i.getIdentifierColumn=function e(i){const{headerInfoTitlePath:t,filteredTechnicalKeys:n,semanticKeyColumns:s,aFilteredColummns:l}=this.getTableIdentifierColumnInfo();let o;if(i){const e=c.getCurrentRootContext();const i=r(e);if(s.length>0){o=s.filter(e=>!i.semanticKeys.includes(e))}else if(n.length>0){o=n.filter(e=>!i.technicalKeys.includes(e))}return o}if(t!==undefined&&this.checkIfColumnExists(l,t)){o=t}else if(s!==undefined&&s.length===1&&this.checkIfColumnExists(l,s[0])){o=s[0]}else if(n.length===1&&this.checkIfColumnExists(l,n[0])){o=n[0]}return o};i.computeColumnValue=function e(i,t,n,s){const l=t.getObject(i);let o;let c=l;if(n){if(i.lastIndexOf("/")>0){i=i.slice(0,i.lastIndexOf("/")+1);i=i.concat(n)}else{i=n}o=t.getObject(i);if(o){if(s){const e=s.slice(s.indexOf("/")+1);switch(e){case"TextOnly":c=o;break;case"TextFirst":c=`${o} (${l})`;break;case"TextLast":c=`${l} (${o})`;break;case"TextSeparate":c=l;break;default:}}else{c=`${o} (${l})`}}}return c};i.getTableColValue=function e(i,t,n,s){const l=a(this.getContent());let o="";const[{key:c,visibility:r}]=s;const u=this.getKeyColumnInfo(c)?.label;const f=this.computeColumnValue(c,i,t,n);o=r?`${u}: ${f}`:`${u} (${l.getText("T_COLUMN_INDICATOR_IN_TABLE_DEFINITION")}): ${f}`;return o};i.getKeyColumnInfo=function e(i){return this.getTableDefinition().columns.find(function(e){return e.key.split("::").pop()===i})};i.isColumnValueVisible=function e(i,t){let n;if(!this.getPropertyUIHiddenCache()[i]){const e=this.getDataModelAndConvertedTargetObject(i)?.dataModelPath;if(!e){return false}const s=u(o(e));n=this.createAnyControl(s,t);this.getPropertyUIHiddenCache()[i]=n;n.setBindingContext(null);this.addDependent(n)}else{n=this.getPropertyUIHiddenCache()[i]}n.setBindingContext(t);const s=n.getAny();n.setBindingContext(null);return s};i.checkColumnValueVisible=function e(i,t){const n=Array.isArray(i)?i:[i];const s=[];for(const e of n){const i=this.isColumnValueVisible(e,t);if(i==="true"||i===true){s.push(e)}}if(s.length>0){return s}};i.checkVisibility=function e(i,t){const n=t.find(e=>e.columnName===i);if(n){return{visibility:n.sColumnNameVisible}}return{visibility:false}};i.getTableColumnVisibilityInfo=function e(i){const{headerInfoTitlePath:t,filteredTechnicalKeys:n,semanticKeyColumns:s,aFilteredColummns:l}=this.getTableIdentifierColumnInfo();const o=[];if(t!==undefined&&this.checkColumnValueVisible(t,i)){const{visibility:e}=this.checkVisibility(t,l);o.push({key:t,visibility:e})}else if(s!==undefined&&s.length===1&&this.checkColumnValueVisible(s[0],i)){const{visibility:e}=this.checkVisibility(s[0],l);o.push({key:s[0],visibility:e})}else if(n.length===1&&this.checkColumnValueVisible(n[0],i)){const{visibility:e}=this.checkVisibility(n[0],l);o.push({key:n[0],visibility:e})}else if(s!==undefined&&s.length>0&&this.checkColumnValueVisible(s,i)){const e=this.checkColumnValueVisible(s,i);if(e){for(const i of e){const{visibility:e}=this.checkVisibility(i,l);o.push({key:i,visibility:e})}}}else if(n.length>0&&this.checkColumnValueVisible(n,i)){const e=this.checkColumnValueVisible(n,i);if(e){for(const i of e){const{visibility:e}=this.checkVisibility(i,l);o.push({key:i,visibility:e})}}}return o};i.modifyDynamicVisibilityForColumn=function e(i,t){const n=this.getDynamicVisibilityForColumns().find(e=>e.columnKey===i);if(n){n.visible=t}else{this.getDynamicVisibilityForColumns().push({columnKey:i,visible:t})}};i.updateColumnsVisibility=function i(t,n){e.updateColumnsVisibilityStatic(t,this.getDynamicVisibilityForColumns(),n)};e.updateColumnsVisibilityStatic=function e(i,t,n){if(!i&&!t.length){return}const s=i?i.split(",").map(e=>e.trim()):[];const l=n.columns;l.forEach(e=>{let i=s.includes(e.relativePath);if(!i&&e.propertyInfos){i=e.propertyInfos.some(e=>{const i=l.find(i=>i.name===e);return i?.relativePath&&s.includes(i.relativePath)})}if(i){e.availability="Hidden";if("sortable"in e){e.sortable=false}if("filterable"in e){e.filterable=false}if("isGroupable"in e){e.isGroupable=false}}const n=t.find(i=>i.columnKey===e.key);if(n){e.availability=n.visible?"Default":"Hidden"}})};return e}();l=f;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/mixin/ContextMenuHandler", ["sap/fe/core/ActionRuntime","sap/fe/core/CommonUtils","sap/fe/core/helpers/DeleteHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/m/MenuItem","sap/ui/fl/util/ManagedObjectModel","sap/ui/performance/trace/FESRHelper","../TableRuntime"],function(t,e,n,o,i,s,a,c,r){"use strict";var l={};var u=i.generate;let d=function(){function i(){this.contextMenuActive=false}l=i;var d=i.prototype;d.setupMixin=function t(e){};d.alignContextMenuWithTableToolbarChanges=function t(e){const n=e.getContextMenu();const o=[];const i=e.getActions();i?.forEach(t=>{const i=t.getAggregation("action");if(this._isActionSplit(i)){this._splitActionsInContextMenu(i,n)}if(this._isActionCombined(i)){this._combineActionInContextMenu(i,n,e)}const s=this._getCorrespondingContextMenuAction(i,n);if(s){this._alignTextAndVisiblityInContextMenu(i,s,t);o.push(s)}});if(o.length){o.forEach((t,e)=>{const o=n.indexOfItem(t);if(o!==e){n.removeItem(t);n.insertItem(t,e)}})}};d._isActionCombined=function t(e){if(e.getMetadata().getName()==="sap.m.MenuButton"){const t=e.getDependents();const n=t.filter(t=>t instanceof a);return n.some(t=>t.getName().includes("$sap.m.flexibility.MenuButtonModel"))}return false};d._combineActionInContextMenu=function t(e,n,o){const i=n.getItems();const s=this._findOrCreateMenuButtonInContextMenu(e,o);const a=e.getMenu().getItems();for(const t of a){const o=t;for(const t of i){const i=t.data("actionId");const a=o.data("actionId");if(i===a+"::ContextMenu"||i===a.replace("::ActionMenu","::ContextMenu")){t.setText(o.getText());n.removeItem(t);s.addItem(t)}if(t.getItems().length>0&&!t.getId().includes(e.getId())){const e=this._findActionInSubMenu(t.getItems(),o);if(e){e.setText(o.getText());s.addItem(e);if(t.getItems().length===0){t.destroy()}}}}}};d._findActionInSubMenu=function t(e,n){for(const t of e){if(t.data("actionId")===n.data("actionId").replace("::ActionMenu","::ContextMenu")||t.data("actionId")===n.data("actionId")+"::ContextMenu"){const n=t;e.splice(e.indexOf(t),1);return n}}return undefined};d._findOrCreateMenuButtonInContextMenu=function t(e,n){const o=n.getContextMenu();const i=o.getItems();for(const t of i){if(t.getId().includes(e.getId())){return t}}const a=new s({id:u([n.getId(),e.getId(),"::ContextMenu"]),text:e.getText()});o.addItem(a);return a};d._splitActionsInContextMenu=function t(e,n){const o=n.getItems();for(let t=0;t<o.length;t++){if(o[t].getItems().length>0){if(o[t].getItems().some(t=>t.data("actionId")===e.data("actionId").replace("::ActionMenu","::ContextMenu"))){const e=o[t];const i=e.getItems();n.removeItem(e);i.forEach((e,o)=>{n.insertItem(e,t+o)})}}}};d._getCorrespondingContextMenuAction=function t(e,n){const o=n.getItems();for(const t of o){if(e.getId()+"::ContextMenu"===t.getId()||t.data("actionId")===e.data("actionId")?.replace("::ActionMenu","::ContextMenu")){return t}if(t.getId().includes(e.getId())){return t}}return null};d._alignTextAndVisiblityInContextMenu=function t(e,n,o){n.setText(e.getText());const i=e.getVisible()&&o.getVisible();if(i!==n.getVisible()){n.setVisible(i)}};d._isActionSplit=function t(e){if(e.getMetadata().getName()==="sap.m.MenuButton"){return false}const n=e.getDependents();const o=n.filter(t=>t instanceof a);return o.some(t=>t.getName()==="$sap.m.flexibility.SplitButtonsModel")};d.setContextMenuActive=function t(e){this.contextMenuActive=e};d.isContextMenuActive=function t(){return this.contextMenuActive};d.setCollaborationManagerMenuItemVisibility=function t(n,i){const s=n.getContextMenu();const a=s.getItems();const r=a?.find(t=>t.getId().includes("ContextMenu::CollaborationManager"));if(r){const t=e.getAppComponent(n);const s=t?.getCollaborativeToolsService();const a=s?.collaborationService.cmHelperService?.getOptions();const l=n?.getParent()?.getTableDefinition();const u=l?.annotation?.row?.navigationInfo?.type;if(a&&u==="Navigation"&&i.length>0){const t=e.getTargetView(n);const s=t.getController().collaborativeDraft;const a=i[0].getModel()?.getMetaModel();const l=o.isDraftSupported(a,i[0].getPath());const u=s.isCollaborationEnabled()||!l?true:i.some(t=>t.getObject().IsActiveEntity||t.getObject().HasActiveEntity);r.setVisible(u);c.setSemanticStepname(r,"press","CM:ShareLink")}else{r.setVisible(false)}}};d._onContextMenuPress=function e(o){const i=o.getSource(),s=i.getSelectedContexts(),a=o.getParameter("bindingContext"),c=this.getBindingContext("internal");const l=this.getRelevantSelection(s,a);let u=true;u=l.some(t=>!t.isInactive());c?.setProperty("contextmenu/inactiveContext",!u);const d=l.filter(function(t){return!t.isInactive()});c?.setProperty("contextmenu/selectedContexts",d);c?.setProperty("contextmenu/numberOfSelectedContexts",d.length);c?.setProperty("contextmenu/numberOfSelectedContextsForDelete",l.length);if(d.length>0){this.alignContextMenuWithTableToolbarChanges(i)}this.setCollaborationManagerMenuItemVisibility(i,d);const g=i.getContextMenu();const f=g.getItems();const p=f.filter(t=>t.getVisible());if(p.length===0){o.preventDefault()}const m=l.some(t=>t.isExpanded()!==undefined);const x=l.some(t=>t.isExpanded());c?.setProperty("contextmenu/isExpandable",m);c?.setProperty("contextmenu/isCollapsable",x);c?.setProperty("controlId",i.getId());n.updateDeleteInfoForSelectedContexts(c,l,true);if(!i.data("enableAnalytics")){const t=i?.data("navigationAvailableMap");r.setIntentBasedNavigationEnablement(c,t,d,true)}const I=i?.data("updatablePropertyPath");const M=i?.data("draft");const b=i.data("displayModePropertyBinding")==="true"&&M!=="undefined";const C=[];for(const t of d){if(r.isUpdatableContext(I,t,b)){C.push(t)}}c?.setProperty("contextmenu/updatableContexts",C);const h=this.getTableDefinition();if(h.control.createEnablement&&l.length===1){r._updateCreateEnablement(c,h.control.createEnablement,i,l[0],h.control.nodeType,true)}r.updateCutCopyPasteEnablement(c.getObject(),i,true);r.updateMoveUpDownEnablement(c.getObject(),i,true);t.setActionEnablement(c,JSON.parse(h.operationAvailableMap),d,"table",true)};d.getRelevantSelection=function t(e,n){let o;if(e.includes(n)){o=e}else{o=[n]}return o};return i}();l=d;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/mixin/EmptyRowsHandler", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/ui/core/Lib","sap/ui/core/Messaging","sap/ui/core/message/Message","sap/ui/core/message/MessageType"],function(t,e,n,o,s,i,a,r,c){"use strict";var g={};var l=s.getInvolvedDataModelObjects;var d=o.CreationMode;var f=n.Activity;let u=function(){function n(){}g=n;var o=n.prototype;o.setupMixin=function t(e){};o._onFieldLiveChange=function t(e){const n=e.getSource(),o=n.getBindingContext(),s=o.getBinding();if(o.isInactive()){const t=this?.getContent();this?.createEmptyRows(s,t,true)}};o._handleCreateActivate=async function n(o){const s=o.getParameter("context");this.createEmptyRows(o.getSource(),this.getContent(),true);if(!this.validateEmptyRow(s)){o.preventDefault();return}try{const n=s.getPath(),o=e.getTargetView(this),i=o.getController(),a=i.editFlow;try{await(s.created()??Promise.resolve());await a.onAfterCreate({context:s})}catch(e){t.warning(`Failed to activate context ${s.getPath()}`);return}const r=s.getPath();const c=o.getController().collaborativeDraft;c.send({action:f.Create,content:r});c.updateLocksForContextPath(n,s.getPath())}catch(e){t.error("Failed to activate new row -",e)}};o.getDefaultValuesFunction=function t(e){const n=e.getModel();const o=n.getMetaModel();const s=o.getMetaContext(e.getResolvedPath());const i=l(s);const a=i.targetObject.annotations.Common?.DefaultValuesFunction;const r=i.targetEntitySet?.annotations.Common?.DefaultValuesFunction;return a??r};o.setEmptyRowsEnabled=function t(n){this.setProperty("emptyRowsEnabled",n);const o=this.getContent().data().navigationPath,s=e.getAppComponent(this.getContent());if(n){const t=this.getContent().getRowBinding();const e=t?.getResolvedPath()?this.getDefaultValuesFunction(t):undefined;if(e){s.getSideEffectsService().registerTargetCallback(o,this.updateEmptyRows.bind(this))}}else{s.getSideEffectsService().deregisterTargetCallback(o)}this.setUpEmptyRows(this.getContent())};o.updateEmptyRows=async function t(){const e=this.getContent();const n=e.getRowBinding();const o=n.getHeaderContext();if(n&&n.isResolved()&&n.isLengthFinal()&&o){const t=o.getPath();this._deleteEmptyRows(n,t);await this.createEmptyRows(n,e)}return};o.setUpEmptyRows=async function t(n){let o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this.getTableDefinition().control?.creationMode!==d.InlineCreationRows){return}const s=n.getModel("ui");if(!s){return}if(s.getProperty("/isEditablePending")){const t=s.bindProperty("/isEditablePending");await new Promise(e=>{const n=()=>{t.detachChange(n);t.destroy();e()};t.attachChange(n)})}const i=n.getRowBinding();const a=i?.getHeaderContext();if(i&&i.isResolved()&&i.isLengthFinal()&&a){const t=a.getPath();if(!this.emptyRowsEnabled){this.removeEmptyRowsMessages();return this._deleteEmptyRows(i,t)}if(!e.getIsEditable(n)){return}if(this.getTableDefinition().control?.inlineCreationRowsHiddenInEditMode&&!n.getBindingContext("pageInternal")?.getProperty("createMode")&&!o){return}const s=i.getAllCurrentContexts().find(function(e){return e.isInactive()&&e.getPath().startsWith(t)});if(!s){this.removeEmptyRowsMessages();await this.createEmptyRows(i,n)}}};o._deleteEmptyRows=function t(e,n){for(const t of e.getAllCurrentContexts()){if(t.isInactive()&&t.getPath().startsWith(n)){t.delete()}}};o.getInactiveContextNumber=function t(e){return e.getAllCurrentContexts().filter(t=>t.isInactive()).length};o.validateEmptyRow=function t(e){const n=this.getTableDefinition().annotation.requiredProperties;if(n?.length){this.removeEmptyRowsMessages(e);const t=n.filter(t=>!e.getObject(t));if(t.length){const n=i.getResourceBundleFor("sap.fe.macros");const o=[];let s;for(const i of t){let t;const a=this.getTableDefinition().columns.find(t=>t.relativePath===i||t.propertyInfos&&t.propertyInfos.includes(i));if(!a){t=n.getText("M_TABLE_EMPTYROW_MANDATORY",[i])}else{s=this.getContent().getColumns().find(t=>t.getPropertyKey()===a.name);t=n.getText(s?"M_TABLE_EMPTYROW_MANDATORY":"M_TABLE_EMPTYROW_MANDATORY_HIDDEN",[s?.getHeader()||a.label])}o.push(new r({message:t,processor:this.getModel(),type:c.Error,technical:false,persistent:true,technicalDetails:{tableId:this.getContent().getId(),emptyRowMessage:true,missingColumn:s?undefined:i},target:`${e?.getPath()}/${i}`}))}a.addMessages(o);return false}}return true};o.removeEmptyRowsMessages=function t(e){a.removeMessages(a.getMessageModel().getData().filter(t=>{const n=t.getTechnicalDetails()||{};const o=Array.isArray(e)?e.some(e=>t.getTargets().some(t=>t.startsWith(e.getPath()))):!e||t.getTargets().some(t=>t.startsWith(e.getPath()));return o&&n.emptyRowMessage&&n.tableId===this.getContent().getId()}))};o.createEmptyRows=async function n(o,s){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let a=arguments.length>3?arguments[3]:undefined;let r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const c=a??(this.getTableDefinition().control?.inlineCreationRowCount||1);if(this.creatingEmptyRows||this.getInactiveContextNumber(o)>c){return}const g=Array.from({length:c},()=>({})),l=s.data("tableType")!=="ResponsiveTable",d=true,f=e.getTargetView(s),u=f.getController(),h=u.editFlow,p=e.getAppComponent(s);this.creatingEmptyRows=true;try{const t=i?[{}]:g;const e=await h.createMultipleDocuments(o,t,i||r?true:l,false,u.editFlow.onBeforeCreate,d);p.getSideEffectsService().requestSideEffectsForNavigationProperty(o.getPath(),f.getBindingContext());e?.forEach(async function(t){try{await t.created()}catch(t){if(!t.canceled){throw t}}});return e}catch(e){t.error(e)}finally{this.creatingEmptyRows=false}};return n}();g=u;return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/mixin/TableAPIStateHandler", ["sap/base/Log","sap/fe/core/controllerextensions/viewState/IViewStateContributorMixin","sap/ui/mdc/p13n/StateUtil"],function(t,e,i){"use strict";function n(t){return new Promise((e,i)=>{sap.ui.require([t],i=>{if(!(i&&i.__esModule)){i=i===null||!(typeof i==="object"&&t.endsWith("/library"))?{default:i}:i;Object.defineProperty(i,"__esModule",{value:true})}e(i)},t=>{i(t)})})}var a={};function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}let l=function(e){function o(){return e.apply(this,arguments)||this}a=o;r(o,e);var l=o.prototype;l.retrieveState=async function t(){const e={};e.innerTable=this.getControlState(await i.retrieveExternalState(this.content));const n=this.getQuickFilter();if(n){const t=n.getSelectedKey();if(!e.quickFilter){e.quickFilter={}}e.quickFilter.selectedKey=t}const a=this.content.getVariant()?.getId();if(a){const t=this.content.getVariant();if(!e.variantManagement){e.variantManagement={variantId:t?.getCurrentVariantKey()}}else{e.variantManagement.variantId=t?.getCurrentVariantKey()}}return e};l.setInitialState=async function e(){try{const t=await i.retrieveExternalState(this.content);this.initialControlState=t}catch(e){t.error(e)}};l.applyLegacyState=async function t(e,i,n){const a=this.content;const r=a.getVariant();const o=this.getQuickFilter();const l=e(a);const s=r?e(r):null;const c=o?.content?e(o.content):null;const u={};if(l){u.innerTable={...u.innerTable,...l,fullState:{...u.innerTable?.fullState,...l.fullState},initialState:{...u.innerTable?.initialState,...l.initialState}}}if(s?.variantId){u.variantManagement={...u.variantManagement,variantId:s.variantId.toString()}}if(c?.selectedKey){u.quickFilter={...u.quickFilter,selectedKey:c.selectedKey.toString()}}if(u&&Object.keys(u).length>0){await this.applyState(u,i,n)}};l.applyState=async function e(a,r,o){if(!a)return;await this.content.initialized();const l=a?.innerTable;const s=a?.variantManagement?.variantId;const c=this.content?.getVariant();const u=a?.quickFilter?.selectedKey;const f=this.getQuickFilter();if(s!==undefined&&s!==c.getCurrentVariantKey()){const e=this.content?.getVariant();const i=e?.getVariants();const a=i?.some(t=>t.getKey()===s)?s:e?.getStandardVariantKey;try{const t=(await n("sap/ui/fl/apply/api/ControlVariantApplyAPI")).default;await t.activateVariant({element:e,variantReference:a});await this.setInitialState()}catch(e){t.error(e);await this.setInitialState()}}else{await this.setInitialState()}let p;if(l){if(o&&l.initialState){if(!l.initialState.supplementaryConfig){l.initialState.supplementaryConfig={}}p=await i.diffState(this.content,l.initialState,l.fullState)}else{if(a&&!a?.supplementaryConfig){a.supplementaryConfig={}}p=l.fullState}await i.applyExternalState(this.content,p)}if(u&&u!==f?.getSelectedKey()){f?.setSelectedKey(u);this.onQuickFilterSelectionChange()}if(this.initialLoad&&this.filterBar){const e=this.getFilterBarControl(this.filterBar);if(e&&e.isA("sap.fe.macros.filterBar.FilterBarAPI")){e.waitForInitialState().then(()=>{this.content.rebind();return}).catch(()=>{t.error("Error while waiting for initial state of filter bar")})}}};return o}(e);a=l;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/mixin/TableExport", ["sap/base/Log","sap/fe/core/helpers/ResourceModelHelper","sap/ui/core/Lib"],function(t,e,r){"use strict";var o={};var n=e.getLocalizedText;let i=function(){function e(){}o=e;var i=e.prototype;i.setupMixin=function t(e){};i.setTableBindingInfo=function t(e){this.tableBindingInfo=e};i.setDownloadUrl=async function e(){this.downloadUrl=undefined;if(this.getTableDefinition().enableAnalytics===true){return}let r;const o=this.getContent();try{const t=o.getPropertyHelper();let e=[];for(const r of o.getColumns()){e=e.concat(t.getColumnExportSettings(r))}const n={};const i=this.getDataModelObjectForMetaPath(this.metaPath,this.contextPath)?.targetEntityType.keys.map(t=>t.name);const a=e.map(t=>Array.isArray(t.property)?t.property.join(","):t.property);i?.forEach(t=>{if(!a.includes(t)){a.push(t)}});const s=Object.keys(this.getTableDefinition().requestAtLeast);s?.forEach(t=>{if(!a.includes(t)){a.push(t)}});n["$select"]=a.join(",");if(this.tableBindingInfo?.parameters?.$search){n.$search=this.tableBindingInfo.parameters.$search}if(this.tableBindingInfo?.parameters?.$$aggregation){n.$$aggregation=this.tableBindingInfo.parameters.$$aggregation}const l=o.getRowBinding();const p=l.getModel().bindList(l.getPath(),l.getContext(),this.tableBindingInfo?.sorter,this.tableBindingInfo?.filters,n);r=await p.requestDownloadUrl();p.destroy()}catch(e){t.debug("Error while computing the download URL for the export",e)}if(r){this.downloadUrl=r}};i._onBeforeExport=function t(r){const o=r.getParameter("userExportSettings")?.splitCells===true;const n=r.getSource(),i=r.getParameter("exportSettings"),a=this.getTableDefinition();e.updateExportSettings(i,a,n,o)};e.updateExportSettings=function t(e,o,i,a){const s=o.columns;this.setStaticSizeLimit(o,e);const l=e.workbook.columns;for(let t=l.length-1;t>=0;t--){const e=l[t];const o=r.getResourceBundleFor("sap.fe.macros");e.label=n(e.label,i);this.translateBooleanValueForExport(e,o);if(a){this.setExportConfig(s,l,t);this.addTargetValueColumn(s,l,o,t)}}const p=i.getParent().downloadUrl;if(p){e.dataSource.dataUrl=p}return e};e.setStaticSizeLimit=function t(e,r){if(!e.enableAnalytics&&(e.control.type==="ResponsiveTable"||e.control.type==="GridTable")){r.dataSource.sizeLimit=e.control.exportRequestSize??1e3}};e.translateBooleanValueForExport=function t(e,r){if(e.type==="Boolean"){e.falseValue=r.getText("no");e.trueValue=r.getText("yes")}};e.setExportConfig=function t(e,r,o){const n=e.find(t=>!t.propertyInfos&&t.relativePath===r[o].property.toString());if(n?.exportSettings){const t=["scale","delimiter","format","utc","type","inputFormat"];for(const e of t){if(n.exportSettings[e]){r[o]={...r[o],...{[e]:n.exportSettings[e]}};if(r[o].type==="Currency"){r[o].type="Number"}}}}};e.addTargetValueColumn=function t(e,r,o,n){const i=e?.find(t=>{if(!this.isPropertyFromExport(t,r[n])){return false}return this.columnWithTargetValueToBeAdded(t,r[n])});if(i){const t={label:o.getText("TargetValue"),property:Array.isArray(r[n].property)?r[n].property:[r[n].property],template:i.exportDataPointTargetValue};r.splice(n+1,0,t)}};e.isPropertyFromExport=function t(e,r){if(e.relativePath===r.property||r.property.includes(e.relativePath)||r.property.includes(e.name)){return true}if(e.propertyInfos?.length===1&&r.property[0]===e.propertyInfos[0]){return true}return false};e.columnWithTargetValueToBeAdded=function t(e,r){let o=false;if(e.exportDataPointTargetValue&&e.propertyInfos?.length===1){delete r.template;o=true}return o};return e}();o=i;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/mixin/TableHierarchy", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/ResourceModelHelper","sap/m/MessageToast","../TableRuntime"],function(e,t,n,o,r,i,s,a){"use strict";var l={};var c=function(e){e["On"]="On";e["Between"]="Between";e["OnOrBetween"]="OnOrBetween";return e}(c||{});let f=function(){function f(){}l=f;var u=f.prototype;u.setupMixin=function e(t){};u._onCopyCut=function t(n,o,r){let l;if(!o){l=n.getSource().getParent()}else{const e=n.getSource().getParent();l=e.getParent()?.getParent()}const c=l.getBindingContext("internal");const f=this.getSelectedContexts();if(f.length>1){e.error(`Multi ${r==="Cut"?"cutting":"copying"} is not supported`);return}c.setProperty("nodeUpdatesInfo/pastableContexts",f);c.setProperty("nodeUpdatesInfo/lastAction",r);s.show(i.getResourceModel(l).getText("M_CUTCOPY_READY"));if(!o||c.getProperty("numberOfSelectedContexts")>0){a.clearSelection(l);l.fireSelectionChange()}c.setProperty("nodeUpdatesInfo/cutEnablement",false);c.setProperty("contextmenu/nodeUpdatesInfo/cutEnablement",false);c.setProperty("nodeUpdatesInfo/copyEnablement",false);c.setProperty("contextmenu/nodeUpdatesInfo/copyEnablement",false)};u._onDragEnterDocument=function e(t){const n=t.getParameter("dragSource");if(this.getContent().getRowBinding()!==n.getBinding()){t.preventDefault();return}const o=t.getParameter("bindingContext");if(n.isAncestorOf(o)){t.preventDefault();return}let i=false;let s=false;const a=this.getTableDefinition();const l=a.control.isMoveToPositionAllowed;const f=l?r.getCustomFunction(l.moduleName,l.methodName,t.getSource().getParent()):undefined;if(o===this.getContent().getBindingContext()){s=!this.safeIsMoveAllowed(f,n,null);i=true}else{s=!this.safeIsMoveAllowed(f,n,o);i=a.annotation.allowDropBetweenNodes!==true;if(Math.abs(o.getIndex()-n.getIndex())===1&&!(o.getIndex()===0&&t.getParameter("dropPosition")==="Before")&&!(o.getIndex()===this.getContent().getRowBinding().getLength()-1&&t.getParameter("dropPosition")==="After")){i=true}if(!i&&!a.annotation.changeSiblingForRootsSupported&&o.getProperty("@$ui5.node.level")===1){i=true}if(f&&!i){i=!this.isDropBetweenAllowedForDrag(f,n,o)}}let u=c.OnOrBetween;if(i&&s){t.preventDefault();return}if(i){u=c.On}else if(s){u=c.Between}t.getSource().setDropPosition(u)};u._onDragStartDocument=function e(t){const n=t.getParameter("bindingContext");const o=this.getTableDefinition().annotation.updatablePropertyPath;let i=!!o&&!n.getProperty(o);if(!i&&!n.getBinding().isRelative()){i=n.getProperty("HasDraftEntity")===true}const s=this.getTableDefinition().control.isNodeMovable;try{if(s&&!i){i=r.getCustomFunction(s.moduleName,s.methodName,t.getSource())(n)===false}}catch(e){i=false}if(i){t.preventDefault()}};u._onDropDocument=async function e(t){n.lock(this.getContent());try{const e=t.getParameter("bindingContext");let n;if(e===this.getContent().getBindingContext()){n={position:c.On,parentContext:null}}else if(t.getParameter("dropPosition")===c.On){n={position:c.On,parentContext:e}}else{let o;let r;if(t.getParameter("dropPosition")==="After"){o=e;r=this.getContextAfter(e)}else{o=this.getContextBefore(e);r=e}n={position:c.Between,contextAfter:r,contextBefore:o}}const o=t.getParameter("dragSource");await Promise.all([this.dropContext(o,n),this.requestSideEffectsForChangeNextSiblingAction(o)])}catch(e){s.show(this.getTranslatedText("M_TABLEDROP_FAILED",[e.message??""]))}finally{n.unlock(this.getContent())}};u._onCollapseExpandNode=async function e(t,n){const o=this.getSelectedContexts();if(n){const e=o.map(async e=>{if(e.isExpanded()!==undefined){if(e.isExpanded()===true){await e.collapse()}return e.expand(Number.MAX_SAFE_INTEGER)}});await Promise.all(e)}else{await Promise.all(o.map(async e=>{if(e.isExpanded()===true){return e.collapse(true)}}))}};u._onMoveUpDown=async function e(t,n){let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const r=this.getSelectedContexts();if(r.length!==1){return}const i=r[0];const s=await i.requestParent();let a=false;let l=null;if(n){const e=await i.requestSibling(-1);if(e){l=i.move({nextSibling:e,parent:s});a=true}}else{const e=await i.requestSibling(1);if(e){l=e.move({nextSibling:i,parent:s});a=true}}await Promise.all([l,this.requestSideEffectsForChangeNextSiblingAction(i)]);const c=i.getIndex();if(a&&c!==undefined&&c>=0){const e=this.getContent();if(!o){e.scrollToIndex(c)}else{e.focusRow(c)}}};u.requestSideEffectsForChangeNextSiblingAction=async function e(t){return this._requestSideEffectsForHierarchyActions(t,"ChangeNextSiblingAction")};u.requestSideEffectsForCopyAction=async function e(t){return this._requestSideEffectsForHierarchyActions(t,"CopyAction")};u._requestSideEffectsForHierarchyActions=async function e(n,r){const i=this.getContent().data("metaPath");const s=n.getModel().getMetaModel();const a=s.getContext(i);const l=o.convertMetaModelContext(a);const c=l.targetType??l.entityType;const f=c.annotations.Hierarchy?.[`RecursiveHierarchyActions#${this.getTableDefinition().control.hierarchyQualifier??""}`]?.[r];if(f){const e=t.getAppComponent(this.getContent());const o=e.getSideEffectsService();const r=o.getODataActionSideEffects(f,n);if(r){await o.requestSideEffectsForODataAction(r,n)}}};u.safeIsMoveAllowed=function t(n,o,r){if(!n){return true}let i=true;try{i=n(o,r)===true}catch(t){e.error("Cannot execute function related to isMoveToPositionAllowed",t);i=true}return i};u.isDropBetweenAllowedForDrag=function e(t,n,o){let r=true;const i=this.getContextBefore(o);const s=i===null?null:i.getParent();const a=this.getDropBetweenParameters(i,s,o,o.getParent());const l=this.getContextAfter(o);const c=l===null?null:l.getParent();const f=this.getDropBetweenParameters(o,o.getParent(),l,c);if(a!==undefined&&f!==undefined){if(a.parent===f.parent){r=this.safeIsMoveAllowed(t,n,a.parent)}else{r=this.safeIsMoveAllowed(t,n,a.parent)||this.safeIsMoveAllowed(t,n,f.parent)}}return r};u.getContextBefore=function e(t){const n=t.getIndex();if(n===undefined){throw new Error("Unexpected error")}const o=t.getBinding();return n===0?null:o.getAllCurrentContexts().find(e=>e.getIndex()===n-1)??null};u.getContextAfter=function e(t){const n=t.getIndex();if(n===undefined){throw new Error("Unexpected error")}const o=t.getBinding();return o.getAllCurrentContexts().find(e=>e.getIndex()===n+1)??null};u.getDropBetweenParameters=function e(t,n,o,r){if(t===null){return{parent:null,nextSibling:o}}else if(o===null){return n!==undefined?{parent:n,nextSibling:null}:undefined}else if(r===t){return{parent:t,nextSibling:o}}else if(n===undefined||r===undefined){return undefined}else if(n===r){return{parent:n,nextSibling:o}}else{return{parent:n,nextSibling:null}}};u.dropContext=async function e(t,n){const o=this.getTableDefinition().control.isMoveToPositionAllowed;const i=o?r.getCustomFunction(o.moduleName,o.methodName,this.getContent()):undefined;const a=this.getContent().getBindingContext("internal");const l=a.getProperty("isSorted")===true;const f=async(e,n)=>{if(this.safeIsMoveAllowed(i,t,e)){return t.move({parent:e,nextSibling:l?undefined:n})}else{s.show(this.getTranslatedText("M_TABLE_DROP_NOT_ALLOWED"))}};if(n.position===c.On){return f(n.parentContext)}else{const[e,t]=await Promise.all([n.contextBefore?.requestParent()??null,n.contextAfter?.requestParent()??null]);const o=this.getDropBetweenParameters(n.contextBefore,e,n.contextAfter,t);return f(o.parent,o.nextSibling)}};return f}();l=f;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/mixin/TableOptimisticBatch", ["sap/base/Log","sap/fe/macros/table/delegates/TableDelegate","sap/ui/core/Element"],function(t,e,i){"use strict";var n={};let s=function(){function s(){}n=s;var a=s.prototype;a.setupMixin=function t(e){};a.enableOptimisticBatchMode=function i(){try{const t=this.getPageController();e.setOptimisticBatchPromiseForModel(t,this);e.enableOptimisticBatchMode(t,this.getContent())}catch(e){t.warning(e)}};a.setupOptimisticBatch=async function t(){const e=this.getContent();const n=this.getPageController();if(!e||!n){return}const s=i.getElementById(e?.getFilter());const a=n.getView().getViewData()?.hideFilterBar!==true?s?.getParent():null;const c=n.extension;a?.attachEvent("search",()=>{const t=e.getBindingContext("internal");t?.setProperty("searchFired",true)});if(s&&n.isA("sap.fe.templates.ListReport.ListReportController")&&(c===undefined||this.getTableDefinition().control?.disableRequestCache===false)){if(a){a.attachEventOnce("search",this.enableOptimisticBatchMode,this);await n.pageReady.waitPageReady();a.detachEvent("search",this.enableOptimisticBatchMode,this)}else{this.enableOptimisticBatchMode()}}};a.setOptimisticBatchEnablerPromise=function t(e){this.optimisticBatchEnablerPromise=e};a.getOptimisticBatchEnablerPromise=function t(){return this.optimisticBatchEnablerPromise};a.isOptimisticBatchDisabled=function t(){return this.getTableDefinition().control.disableRequestCache||false};return s}();n=s;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/mixin/TableSharing", ["sap/base/Log","sap/fe/base/HookSupport","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/macros/insights/CommonInsightsHelper","sap/fe/macros/insights/InsightsService","sap/fe/macros/insights/TableInsightsHelper","sap/fe/macros/table/Utils","sap/m/MessageBox","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/routing/HashChanger","sap/ui/model/Filter","../../filterBar/SemanticDateOperators"],function(e,t,n,o,r,i,a,s,l,c,g,u,f,d,h,p){"use strict";var C,b;var m={};var v=a.showGenericErrorMessage;var A=a.hasInsightActionEnabled;var E=t.controllerExtensionHandler;function M(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(e,t,i),null):i}let S=(C=E("collaborationManager","collectAvailableCards"),b=function(){function t(){}m=t;var a=t.prototype;a.setupMixin=function e(t){};a._onShareToCollaborationManagerPress=function e(t,n,o){if(n.length<=o){n.forEach(async e=>{const n=await this.getUrlForCollaborationManager(e);if(this.isTableRowNavigationPossible(e)&&n){const e=t.getAppComponent();const o=e.getManifestEntry("sap.app").title;const r=e?.getCollaborativeToolsService();const i=r?.collaborationService.cmHelperService;i?.triggerH2HChat(o,n)}else{g.warning(f.getResourceBundleFor("sap.fe.macros").getText("T_TABLE_SHARE_TO_COLLABORATION_MANAGER_NO_NAVIGATION_POSSIBLE"))}})}else{g.warning(f.getResourceBundleFor("sap.fe.macros").getText("T_TABLE_SHARE_TO_COLLABORATION_MANAGER_TOO_MANY_ITEMS_SELECTED",[o]))}};a.getUrlForCollaborationManager=async function e(t){let i;const a=n.getTargetView(this.getContent());const s=a.getController().collaborativeDraft;const l=t.getModel()?.getMetaModel();const c=r.isDraftSupported(l,t.getPath());if(c&&!s.isCollaborationEnabled()&&t.getObject().IsActiveEntity===false){if(t.getObject().HasActiveEntity===false){return undefined}else{const e=t.getPath();const n=e.substring(0,e.indexOf("/",1));const r=n?t.getModel().bindContext(n).getBoundContext():t;const a=await o.computeSiblingInformation(r,t);i=a?.targetContext?.getPath()}}else{i=t.getPath()}if(i){if(i[0]==="/"){i=i.substring(1)}const e=n.getAppComponent(this.getContent());if(e._isFclEnabled()){const t=this.getFCLLayoutForCM(e);i+=`?layout=${t}`}const t=d.getInstance();const o=t.hrefForAppSpecificHash?t.hrefForAppSpecificHash(""):"";return window.location.origin+window.location.pathname+window.location.search+o+i}return undefined};a.getFCLLayoutForCM=function e(t){const o=n.getTargetView(this.getContent()).getController()._routing.getFCLLevel();if(t.getRootViewController().getFclConfig().maxColumnsCount===2){return"MidColumnFullScreen"}return o===0?"MidColumnFullScreen":"EndColumnFullScreen"};a.collectAvailableCards=async function e(t){const n=this.getContent().getActions();if(A(n,this.getContent().getFilter(),l.getInsightsRelevantColumns(this))){const e=await this.getCardManifestTable();if(Object.keys(e).length>0){t.push({card:e,title:this.getTableDefinition().headerInfoTypeName??"",callback:this.onAddCardToCollaborationManagerCallback.bind(this)})}}};a.getCardManifestTable=async function e(){const t=l.getInsightsRelevantColumns(this);const n=await l.createTableCardParams(this,t,this.getSortConditionsQuery());return s.getCardManifest(n)};a.onAddCardToCollaborationManagerCallback=async function t(n){try{if(n){await s.showCollaborationManagerCardPreview(n,this.getPageController().collaborationManager.getService());return}}catch(t){v(this.getContent());e.error(t)}};a._onAddCardToInsightsPressed=async function t(){try{const e=l.getInsightsRelevantColumns(this);const t=await l.createTableCardParams(this,e,this.getSortConditionsQuery());if(t){const e=t.parameters.isNavigationEnabled?undefined:{type:"Warning",text:this.createNavigationErrorMessage(this.getContent())};s.showInsightsCardPreview(t,e);return}}catch(t){v(this.getContent());e.error(t)}};a.createNavigationErrorMessage=function e(t){const n=i.getResourceModel(t);return n.getText("M_ROW_LEVEL_NAVIGATION_DISABLED_MSG_REASON_EXTERNAL_NAVIGATION_CONFIGURED")};a.getDownloadUrlWithFilters=async function e(){const t=this.getContent();const o=u.getElementById(t.getFilter());if(!o){throw new Error("filter bar is not available")}const r=t.getRowBinding();const i=t.getModel();const a=await o.getParent().getSelectionVariant();const s=p.getSemanticOpsFilterProperties(a._getSelectOptions());const l=c.getAllFilterInfo(t,s.map(e=>e.filterName));const g=o.getPropertyInfoSet();const[f,d]=p.getSemanticDateFiltersWithFlpPlaceholders(s,g);let C=[];if(l.filters.length>0){C=C.concat(l.filters)}if(d.length>0){C.push(...d)}const b=new h({filters:C,and:true});const m={$search:n.normalizeSearchTerm(o.getSearch())||undefined};const v=i.bindList(r.getPath(),undefined,undefined,b,m);let A=await v.requestDownloadUrl()??"";for(const[e,t]of Object.entries(f)){A=A.replace(e,t)}return A};a.getSortConditionsQuery=function e(){const t=this.getContent();const n=t.getSortConditions()?.sorters;return n?n.map(function(e){const n=t.getPropertyHelper().getProperty(e.name)?.path;if(n){return`${n}${e.descending?" desc":""}`}return""}).join(","):""};return t}(),M(b.prototype,"collectAvailableCards",[C],Object.getOwnPropertyDescriptor(b.prototype,"collectAvailableCards"),b.prototype),b);m=S;return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/uploadTable/UploadTableRuntime", ["sap/fe/core/CommonUtils","sap/fe/macros/internal/helpers/Upload","../../field/FieldRuntimeHelper"],function(e,t,o){"use strict";var a=t.showTypeMismatchDialog;var n=t.showFileSizeExceedDialog;var r=t.showFileNameLengthExceedDialog;var i=t.setHeaderFields;var s=t.displayMessageForFailedUpload;const l={async uploadFile(t){const a=t.oItem,n=t.oSource,r=n.getParent(),s=r.getRowBinding(),l=n.getRowConfiguration().getFileNamePath(),g=l?{[l]:a.getFileName()}:{},d=s.create(g,true);try{const t=n.getBindingContext("internal");const r=new Promise((e,o)=>{t.setProperty(`UploadPromises/${a.getId()}`,{resolve:e,reject:o})});t.setProperty("uploadInstance",d);const s=e.getTargetView(n);const l=o.getExtensionController(s.getController());l.editFlow.syncTask(r);await d.created();return await new Promise(e=>{const t=n.getUploadUrl();let o=d.getProperty(t);o=o.replace(d.getPath(),d.getCanonicalPath());i(a,a.getMediaType(),d);a.setUploadUrl(o);e(a)})}catch(e){this.onUploadFailed(n,a,String(e));return Promise.reject("The new instance could not be created")}},onUploadFailed(e,t,o){s(e,o);e.getBindingContext("internal").getProperty(`UploadPromises/${t.getId()}`).reject()},async onUploadCompleted(e){const t=e.getParameter("item"),o=Number(e.getParameter("status")),a=t.getBindingContext("internal");if(o===0||o>=400){const o=t.getParent();const n=e.getParameter("responseText")||e.getParameter("response");l.onUploadFailed(o,t,n);const r=a.getProperty("uploadInstance");if(r){await r.delete()}}else{const e=t.getBindingContext();if(e&&!e.hasPendingChanges()){await e.requestRefresh()}a.getProperty(`UploadPromises/${t.getId()}`).resolve()}a.setProperty("uploadInstance",null)},onMediaTypeMismatch(e){const t=e.getSource();const o=e.getParameter("item").getProperty("mediaType");const n=t.getMediaTypes();a(t,o,n)},onFileSizeExceeded(e){const t=e.getSource();n(t,t.getMaxFileSize().toString())},onFileNameLengthExceeded(e){const t=e.getSource();r(t,t.getMaxFileNameLength().toString())}};return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/uploadTable/UploadTableTemplate", ["sap/fe/base/BindingToolkit","sap/fe/macros/field/FieldHelper","sap/m/plugins/UploadSetwithTable","sap/m/upload/UploadItemConfiguration","sap/fe/base/jsx-runtime/jsx"],function(e,a,l,o,t){"use strict";var n={};var i=e.not;function d(e){if(e.annotation?.uploadTable?.uploadAction?.isTemplated&&e.annotation?.uploadTable?.uploadAction?.visibleExpression){return i(e.annotation.uploadTable.uploadAction.visibleExpression)}else{return true}}function p(e,n,i){return t(l,{"core:require":"{UploadTableRuntime: 'sap/fe/macros/table/uploadTable/UploadTableRuntime'}",httpRequestMethod:"Put",multiple:false,uploadButtonInvisible:d(e),itemValidationHandler:i.uploadItemValidationHandler,mediaTypeMismatch:i.uploadMediaTypeMismatch,fileSizeExceeded:i.uploadFileSizeExceeded,maxFileSize:a.calculateMBfromByte(e.annotation?.uploadTable?.maxLength),uploadCompleted:i.uploadCompleted,uploadEnabled:e.annotation?.uploadTable?.uploadAction?.enabled,mediaTypes:e.annotation?.uploadTable?.acceptableMediaTypes,actions:[`${n}-uploadButton`],uploadUrl:e.annotation?.uploadTable?.stream,maxFileNameLength:e.annotation?.uploadTable?.fileNameMaxLength,fileNameLengthExceeded:i.uploadFileNameLengthExceeded,children:{rowConfiguration:t(o,{fileNamePath:e.annotation?.uploadTable?.fileName})}})}n.getUploadPlugin=p;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/valuehelp/ValueHelpDelegate", ["sap/base/Log","sap/base/util/ObjectPath","sap/base/util/deepEqual","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/fe/macros/filter/FilterUtils","sap/fe/macros/internal/valuehelp/ValueListHelper","sap/m/inputUtils/highlightDOMElements","sap/ui/mdc/ValueHelpDelegate","sap/ui/mdc/condition/Condition","sap/ui/mdc/enums/ConditionValidated","sap/ui/mdc/odata/v4/TypeMap","sap/ui/mdc/p13n/StateUtil","sap/ui/model/FilterType","../internal/valuehelp/AdditionalValueHelper"],function(t,e,n,i,a,o,s,r,l,c,u,d,f,g,p,h,y){"use strict";var m=y.additionalValueHelper;var P=y.AdditionalValueGroupKey;var C=s.isPathAnnotationExpression;var v=o.convertTypes;var V=a.Activity;const F="sap.fe.macros.controls.FilterBar";const x="@com.sap.vocabularies.Common.v1.IsDigitSequence";return Object.assign({},u,{apiVersion:2,updateBindingDonePromises:new WeakMap,isSearchSupported:function(t,e,n){return!!e.data("searchSupported")},updateBindingInfo:function(t,e,n){u.updateBindingInfo(t,e,n);if(e.data("searchSupported")){const t=e.getFilterValue();const a=i.normalizeSearchTerm(t);if(n.parameters){n.parameters.$search=a||undefined}}},_getValueHelpHistoryService(t){const e=i.getAppComponent(i.getTargetView(t));return e.getValueHelpHistoryService()},_getHistoryData:async function(e,n){if(e.history?.enabled&&e.isPotentiallySensitive!==true){const i=this._getValueHelpHistoryService(n);try{const t=await i.getFieldData(e.propertyPath+"/"+e.valueHelpQualifier);e.history.data=t;return t}catch(e){t.error(e instanceof Error?e.message:String(e))}}return[]},_setHistoryData:async function(e,n,i){if(e.history?.enabled&&e.isPotentiallySensitive!==true&&n.length){const a=this._getValueListPropertyFromPayloadQualifier(e);if(a){const a=[];for(const t of n){if(e.isUnitValueHelp||t.validated===f.Validated){const e=this._getConditionPayloadList(t)?.[0];if(e){a.push(this.convertConditionPayloadToNestedObject(e))}}}if(a.length){const n=this._getValueHelpHistoryService(i);try{await n.setFieldData(e.propertyPath+"/"+e.valueHelpQualifier,a)}catch(e){t.error(e instanceof Error?e.message:String(e))}}}}},convertConditionPayloadToNestedObject:function(t){const n={};for(const i in t){e.set(i.split("/"),t[i],n)}return n},updateBinding:async function(t,e,n,i){if(!e.isA("sap.ui.model.odata.v4.ODataListBinding")){return}const a=t.getPayload();if(i.isTypeahead()){let t;const o=new Promise(function(e){t=e});const s=this.updateBindingDonePromises.get(e);this.updateBindingDonePromises.set(e,s?s.then(async()=>o):o);const r=this._getValueListPropertyFromPayloadQualifier(a);const l=i.getControl();const c=l.isA("sap.ui.mdc.FilterField")||l.isA("sap.ui.mdc.MultiValueField");const u=!c&&l.getValue();const d=[];const f=l.getModel().getMetaModel().getObject(`${a.propertyPath}${x}`)??false;if(!u||l.hasPendingUserInput()||f&&u==="0"){const t=this.getRelevantRecommendations(i,a);if(t.length){d.push({propertyPath:r,values:t,groupKey:P.recommendation})}}const g=i.getTable().getCustomData().filter(t=>t.getKey()==="sorters");let p=[];if(g.length)p=g[0].getValue().sorters;await this._updateBindingWithTransientContexts(a,e,n,d,r,l,p);if(t){t()}}else{this._updateBinding(e,n)}},executeFilter:async function(t,e,n){e.getContexts(0,n);await this.checkListBindingPending(t,e,n);return e},checkListBindingPending:async function(t,e,n){let i=false;if(e&&this.updateBindingDonePromises.has(e)){await this.updateBindingDonePromises.get(e)}if(e&&!e.isSuspended()){try{const t=await e.requestContexts(0,n);i=t.length===0}catch(t){if(t&&t?.canceled){return i}throw t}}return i},getTypeMap:function(t){return g},retrieveContent:async function(t,e,n){const i=t.getPayload();return l.showValueList(i,e,n)},_getConditionPayloadList:function(t){const e=t.payload||{},n=Object.keys(e),i=n.length?e[n[0]]:[];return i},_getValueListPropertyFromPayloadQualifier:function(t){const e=t.qualifiers[t.valueHelpQualifier]?.vhParameters||[];const n=t.qualifiers[t.valueHelpQualifier]?.vhKeys||[];const i=t.valueHelpKeyPath;let a=[...n];const o=[];if(e.length>0){e.forEach(function(t){o.push(t.helpPath)});a=n.filter(t=>!o.includes(t))}return i&&a.includes(i)?i:""},_onConditionPropagationToFilterBar:async function(e,i,a,o,s){try{const t=await p.retrieveExternalState(s);const l=t.items;const c=r.getFilterPropertyInfo(a);const u=a.getModel()?.getMetaModel();for(const e of i){const n=this._findFilterBarPropertyByAnnotationPath(e,o.propertyPath,u,c);if(n&&l?.find(t=>t.name===n.name)){const e=n.conditionPath;t.filter[e]?.forEach(t=>{t.filtered=false})}}for(const a of e){const e=this._getConditionPayloadList(a);for(const a of i){const i=this._findFilterBarPropertyByAnnotationPath(a,o.propertyPath,u,c);if(i&&l?.find(t=>t.name===i.name)){for(const o of e){const e=d.createCondition("EQ",[o[a.helpPath]],null,null,f.Validated);const s=i.conditionPath;const r=t.filter[s]?.find(t=>{delete t.filtered;if(n(t,e)){return true}t.filtered=false;return false});if(!r){t.filter[s]||=[];t.filter[s].push(e)}}}}}p.applyExternalState(a,t)}catch(e){const n=e instanceof Error?e.message:String(e);t.error(`ValueHelpDelegate: ${n}`)}},_findFilterBarPropertyByAnnotationPath:function(t,e,n,i){const a=`/${e.split("/")[1]}`;const o=t.source.split("conditions/").pop()||"";const s=e.lastIndexOf("/");const r=s>0?`${e.substring(0,s)}/${o}`:o;const l=n?.getReducedPath(r,a);return i.find(t=>t.annotationPath===l)},_onConditionPropagationToBindingContext:function(e,n,i,a){const o=i.getModel().getMetaModel();for(const s of e){const e=this._getConditionPayloadList(s),r=e.length===1?e[0]:undefined;if(e.length>1){t.warning("ValueHelpDelegate: ParameterOut in multi-value-field not supported")}if(r){this._onConditionPropagationUpdateProperty(o,r,n,i,a)}}},_onConditionPropagationUpdateProperty:function(t,e,n,a,o){const s=v(t);const r=t.getMetaContext(a.getPath()).getPath();const l=a.isTransient()!==true&&!a.isInactive();const c=[];for(const t of n){if(a.getProperty(t.source)!==e[t.helpPath]){this._updatePropertyViaOutParameter(s,r,e,t,a,l)}c.push(t.source)}const u=i.getTargetView(o);const d=u.getController().collaborativeDraft;if(d.isConnected()){let t;if(a.getBinding().isA("sap.ui.model.odata.v4.ODataListBinding")){t=a.getBinding()}else{t=u.getBindingContext().getBinding()}t.attachEventOnce("patchCompleted",()=>{d.send({action:V.Change,content:c.map(t=>a.getPath()+"/"+t)})})}},_updatePropertyViaOutParameter:function(t,e,n,i,a,o){const s=`${e}/${i.source}`;const r=t.resolvePath(s).target;const l=r?.annotations?.Common?.FieldControl;const c=C(l)?a.getProperty(l.path)===1:false;if(c&&o){const t=i.source.lastIndexOf("/");const e=t>0?i.source.substring(0,t):i.source;a.requestSideEffects([e])}else{a.setProperty(i.source,n[i.helpPath])}const u=C(r?.annotations?.Common?.Text)?r?.annotations?.Common?.Text.path:undefined;if(u!==undefined&&o){const t=u.lastIndexOf("/");const e=t>0?u.substring(0,t):u;a.requestSideEffects([e])}},getFilterConditions:function(t,e,n){if(this.getInitialFilterConditions){return this.getInitialFilterConditions(t,e,n&&n.control||e&&e.getControl())}return{}},onConditionPropagation:async function(t,e,n){const i=t.getPayload();if(e!=="ControlChange"||i.isDefineConditionValueHelp){return}const a=i.qualifiers[i.valueHelpQualifier];const o=a?.vhParameters!==undefined?l.getOutParameters(a.vhParameters):[],s=t.getControl(),r=s.getParent();let c=s.getConditions();if(!i.isValueListWithFixedValues){this._setHistoryData(i,c,s)}c=c.filter(function(t){const e=t.payload||{};return e[i.valueHelpQualifier]});const u=s.getParent();if(u.isA(F)&&o.length&&c.length){await this._onConditionPropagationToFilterBar(c,o,r,i,u)}else{const e=s.getBindingContext();if(e){const n=s.getModel().getMetaModel();const a=n?.getObject(`${i.propertyPath}@sapui.name`);const r=c.length>0?c[0]:{};const l=r?.payload?Object.keys(r.payload):[];l.forEach(t=>{const n=r.payload;const i=n?.[t]?.[0]||{};const o=Object.keys(i);const s=o.find(t=>t.includes("@$ui5.fe.@Common/ExternalID"));if(s){const t=i[s];e.setProperty(a,t)}});this._onConditionPropagationToBindingContext(c,o,e,t)}}},_createInitialFilterCondition:function(e,n){let i;if(e===undefined){t.error("ValueHelpDelegate: value of the property could not be requested")}else if((e===""||e===null)&&n){i=d.createCondition("Empty",[],null,null,f.Validated)}else if(e!==undefined&&e!==""&&e!==null){i=d.createCondition("EQ",[e],null,null,f.Validated)}return i},_getInitialFilterConditionsFromBinding:async function(e,n,i,a){const o=n.getBindingContext();if(!o){t.error("ValueHelpDelegate: No BindingContext");return e}const s=n.getModel()?.getMetaModel();const r=s.getMetaPath(o.getPath());let l=i.map(t=>t.source);let c=false;const u=a.propertyPath.split("/").pop();let d;let f;if(o.getBinding().getPath()!=="$Parameter"){d=a.propertyPath.replace(`/${u}`,"");f=s.getObject(d)}if(n.isA("sap.ui.mdc.MultiValueField")&&f&&f.$Partner===undefined){t.error(`ValueHelpDelegate: Because of missing partner definition, the filter value for ValueListParameterIn property can not requested.`);c=true}else if(f&&f.$kind==="NavigationProperty"&&f.$Partner!==undefined){l=this._buildPropertiesToRequest(l,r,s,a.propertyPath)}if(!c){const t=o.isTransient()===true&&!o.isInactive()&&o.getUpdateGroupId()?.startsWith("$auto");if(t){await(o?.created())}const n=await o.requestProperty(l);for(let t=0;t<i.length;t++){const a=i[t];const o=this._createInitialFilterCondition(n[t],a.initialValueIsSignificant);if(o){e[a.helpPath]=[o]}}}return e},_buildPropertiesToRequest:function(t,e,n,i){let a=n.createBindingContext(e);const o=i.slice(e.length).split("/").slice(1,-1).map(t=>{a=n.createBindingContext(t,a);return{part:t,partner:a.getObject().$Partner}});return t.map(t=>{const e=t.split("/");const n=e.findIndex((t,e)=>o[-e]?.partner!==t);return o.slice(0,-n).map(t=>t.part).concat(e.slice(n)).join("/")})},_getInitialFilterConditionsFromFilterBar:async function(t,e,n,i){const a=e.getParent();const o=r.getFilterPropertyInfo(a);const s=await p.retrieveExternalState(a);const l=a.getModel().getMetaModel();for(const e of n){const n=this._findFilterBarPropertyByAnnotationPath(e,i.propertyPath,l,o);const a=n?n.conditionPath:e.source.split("conditions/").pop();const r=this._getConditionsFromInParameter(a,s);if(r){t[e.helpPath]=r}}return t},_getConditionsFromInParameter:function(t,e){const n=Object.keys(e.filter).find(e=>e===t);return n&&e.filter[n]},_partitionInParameters:function(t){const e={constant:[],binding:[],filter:[]};for(const n of t){if(n.constantValue!==undefined){e.constant.push(n)}else if(n.source.indexOf("$filter")===0){e.filter.push(n)}else{e.binding.push(n)}}return e},_tableAfterRenderDelegate:{onAfterRendering:function(t){const e=t.srcControl,n=e.$().find("tbody .sapMText"),i=e.getParent();c(n,i.getFilterValue(),true)}},getInitialFilterConditions:async function(e,n,i){if(n?.isA("sap.ui.mdc.valuehelp.content.MTable")){const t=n.getTable();t?.removeEventDelegate(this._tableAfterRenderDelegate);t?.addEventDelegate(this._tableAfterRenderDelegate,this)}const a=e.getPayload();const o={};if(a.isDefineConditionValueHelp){return o}if(!i){t.error("ValueHelpDelegate: Control undefined");return o}const s=a.qualifiers[a.valueHelpQualifier];const r=s?.vhParameters!==undefined?l.getInParameters(s.vhParameters):[];const c=this._partitionInParameters(r);const u=i.getBindingContext();for(const t of c.constant){const e=this._createInitialFilterCondition(t.constantValue,u?t.initialValueIsSignificant:false);if(e){o[t.helpPath]=[e]}}if(c.binding.length){await this._getInitialFilterConditionsFromBinding(o,i,c.binding,a)}if(c.filter.length){await this._getInitialFilterConditionsFromFilterBar(o,i,c.filter,a)}return o},createConditionPayload:function(t,e,n,i){const a=t.getPayload();const o=a.qualifiers[a.valueHelpQualifier],s={},r={};const l=e.getControl();const c=l?.isA("sap.ui.mdc.MultiValueField");if(a.externalIdPath&&a.valueHelpKeyPath){const t=a.valueHelpKeyPath;const e=o.vhKeys&&i.getObject(o.vhKeys[0]||t);s[a.propertyPath+"@$ui5.fe.@Common/ExternalID"]=e;r[a.valueHelpQualifier]=[s]}else if(!o.vhProperties||c){return undefined}o.vhProperties?.forEach(function(t){const e=i.getObject(t);if(e!=null){s[t]=e?.length===0?"":e}});if(Object.keys(s).length){r[a.valueHelpQualifier]=[s]}return r},findConditionsForContext:function(t,e,n,i){const a=t.getPayload();if(a.isValueListWithFixedValues!==true&&e.getConfig()?.maxConditions===1){return[]}i=i.filter(t=>t.validated===f.Validated);const o=a.qualifiers[a.valueHelpQualifier]?.vhKeys||[];const s=e.getKeyPath();const r=a.valueHelpQualifier||"";const l=i.find(function(t){if(n?.getObject(s)===t?.values[0]){const e=t.payload;const i=e?.[r]?.[0]||{};if(o.length===1||a?.useMultiValueField||!e){return n?.getObject(s)===t?.values[0]}else{const t=Object.keys(n.getObject());return o.every(function(e){return!t.includes(e)||n?.getObject(e)===i[e]})}}});return l?[l]:[]},_updateBindingWithTransientContexts:async function(t,e,n,i,a,o,s){try{await this._updateBindingAttributes(e,n,s);const{recommendationValuesContextData:r,recentValuesContextData:l,othersValuesContextData:c}=await this._getRelevantAdditionalValueContextData(i,e,n,t,a,o,s);if(r.length===0&&l.length===0){e.sort()}if(t?.history?.enabled){t.history.hasRelevantData=l.length!==0}m.createTransientContextsForAdditionalValueContextData(r,l,c,e)}catch(t){}},_updateBindingAttributes:async function(t,e,n){const i=t.getRootBinding()||t;if(!i.isSuspended()){i.suspend()}m.sortAndFilterListBinding(t,n);if(e.parameters){t.changeParameters(e.parameters)}await m.resumeValueListBindingAndResetChanges(t)},_getRelevantAdditionalValueContextData:async function(t,e,n,i,a,o,s){let{recommendationValuesContextData:r,othersValuesContextData:l}=await m.requestForAdditionalValueContextData(t,e,n,i,s,o);const c=i.qualifiers[i.valueHelpQualifier].vhKeys||[];r=m.getRelevantRecommendationValuesContextData(r,t[0]?.values,a);let u=[];if(!i.isValueListWithFixedValues){u=await this._getHistoryData(i,o);u=m.getRelevantRecentValuesContextData(l,u,c,n.parameters.$search?.replaceAll('"',""),n)}l=m.getRelevantOthersValuesContextData(r,u,l,c);return{recommendationValuesContextData:r,recentValuesContextData:u,othersValuesContextData:l}},_updateBinding:function(t,e){const n=t.getRootBinding()||t;if(!n.isSuspended()){n.suspend()}if(e.parameters){t.changeParameters(e.parameters)}t.filter(e.filters,h.Application);t.sort(e.sorter);if(n.isSuspended()){n.resume();n.resetChanges()}},_checkIfAdditionalValuesExists:async function(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(e.isDefineConditionValueHelp){return false}const i=n?this.getRelevantRecommendations(t,e):[];if(i?.length>0){return true}if(e.history?.enabled){if(e.history.hasRelevantData!==undefined){return e.history.hasRelevantData}const n=await this._getHistoryData(e,t.getControl());if(n.length){return true}}return false},getRelevantRecommendations(t,e){let n=[];const i=t.getControl().isA("sap.ui.mdc.FilterField")||t.getControl().isA("sap.ui.mdc.MultiValueField");if(!i){const i=t.getModel();const a=i.getLocalAnnotationModel&&i.getLocalAnnotationModel();if(a){const e=t.getControl().getBindingContext()?.getPath();const i=t.getControl().getBinding("value")?.getPath();n=a.getObject(`${e}/${i}@$ui5.fe.recommendations.typeAheadValues`)??[]}if(!n.length){const i=t.getModel("internal").getProperty("/recommendationsData")||{};const a=t.getBindingContext();n=m.getRelevantRecommendations(i,a,e.propertyPath,t.getControl().getBinding("value")?.getPath())||[]}}return n},showTypeahead:async function(t,e){let n=true;const i=e?.getFilterValue();const a=e.getControl();const o=t.getPayload();if(a.isA("sap.ui.mdc.FilterField")||a.isA("sap.ui.mdc.MultiValueField")){if(!i){n=await this._checkIfAdditionalValuesExists(e,o,false)}}else{const t=a.getValue();const s=a.getAdditionalValue();if(t||s){const s=a.getModel().getMetaModel().getObject(`${o.propertyPath}${x}`)??false;if(a.hasPendingUserInput()||s&&t.match(/^0+$/)){n=i!==""||await this._checkIfAdditionalValuesExists(e,o)}else{n=await this._checkIfAdditionalValuesExists(e,o,false)}}else if(!i){n=await this._checkIfAdditionalValuesExists(e,o)}}return n},shouldOpenOnFocus:async function(e,n){try{const t=e.getControl();if(t&&t?.isA("sap.ui.mdc.FilterField")){const e=t.getContent()?.getId();const n=e?e.includes("VisualFilter"):false;if(n){return false}}const i=n?.getContent()[0];let a;const o=function(t){a=t?.getParent();if(a&&a.isA("sap.m.Dialog")){return a}else if(a===undefined||a===null){return undefined}return o(a)};a=o(n);if(a&&a.data("fe_InitialTypeAheadFocusDone")===null&&n.getControl().getDomRef()?.getElementsByTagName("input")[0].id===a.getInitialFocus()){a.data("fe_InitialTypeAheadFocusDone",true);return false}else{const t=e.getPayload();t.history=t.history||{};t.history.hasRelevantData=undefined;t.history.enabled=t.history.enabled??l.checkHistoryEnabled(e,t);return await this._checkIfAdditionalValuesExists(i,t)}}catch(e){t.error(e)}}})},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/valuehelp/ValueHelpFilterBar.block", ["sap/fe/core/TemplateModel","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/ListReport/FilterBar"],function(e,t,r,i,n){"use strict";var l,a,o,u,c,s,p,b,f,d,g,m,y,v,h,z,F,w,B,x,P,C,k,M,O,S,j,_,E,D,L,R,q;var H={};var T=n.getSelectionFields;var V=n.getExpandFilterFields;var A=i.getInvolvedDataModelObjects;var I=t.defineBuildingBlock;var G=t.blockEvent;var J=t.blockAttribute;function K(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function N(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Q(e,t)}function Q(e,t){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Q(e,t)}function U(e,t,r,i,n){var l={};return Object.keys(i).forEach(function(e){l[e]=i[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},l),n&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(n):void 0,l.initializer=void 0),void 0===l.initializer?(Object.defineProperty(e,t,l),null):l}function W(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let X=(l=I({name:"ValueHelpFilterBar",namespace:"sap.fe.macros.valuehelp",fragment:"sap.fe.macros.valuehelp.ValueHelpFilterBar"}),a=J({type:"string"}),o=J({type:"sap.ui.model.Context",required:true}),u=J({type:"sap.ui.model.Context"}),c=J({type:"boolean"}),s=J({type:"boolean"}),p=J({type:"sap.ui.mdc.FilterBarP13nMode[]"}),b=J({type:"boolean"}),f=J({type:"boolean"}),d=J({type:"sap.ui.model.Context",required:true}),g=J({type:"sap.ui.model.Context"}),m=J({type:"string"}),y=J({type:"boolean"}),v=J({type:"boolean"}),h=G(),z=G(),l(F=(w=function(t){function r(r,i,n){var l;l=t.call(this,r)||this;K(l,"id",B,l);K(l,"contextPath",x,l);K(l,"metaPath",P,l);K(l,"hideBasicSearch",C,l);K(l,"enableFallback",k,l);K(l,"p13nMode",M,l);K(l,"useSemanticDateRange",O,l);K(l,"liveMode",S,l);K(l,"_valueList",j,l);K(l,"selectionFields",_,l);K(l,"filterConditions",E,l);K(l,"suspendSelection",D,l);K(l,"expandFilterFields",L,l);K(l,"search",R,l);K(l,"filterChanged",q,l);const a=l.contextPath.getModel();const o=l.metaPath;const u=o?.getPath();const c=A(l.contextPath);const s=l.getConverterContext(c,undefined,n);if(!l.selectionFields){const t=T(s,[],u).selectionFields;l.selectionFields=new e(t,a).createBindingContext("/")}const p=c.targetEntitySet;l.expandFilterFields=V(s,p.annotations.Capabilities?.FilterRestrictions,l._valueList);return l}H=r;N(r,t);return r}(r),B=U(w.prototype,"id",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),x=U(w.prototype,"contextPath",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),P=U(w.prototype,"metaPath",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),C=U(w.prototype,"hideBasicSearch",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),k=U(w.prototype,"enableFallback",[s],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),M=U(w.prototype,"p13nMode",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return[]}}),O=U(w.prototype,"useSemanticDateRange",[b],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),S=U(w.prototype,"liveMode",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),j=U(w.prototype,"_valueList",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),_=U(w.prototype,"selectionFields",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),E=U(w.prototype,"filterConditions",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),D=U(w.prototype,"suspendSelection",[y],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),L=U(w.prototype,"expandFilterFields",[v],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),R=U(w.prototype,"search",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),q=U(w.prototype,"filterChanged",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),w))||F);H=X;return H},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/visualfilters/InteractiveChartHelper", ["sap/base/util/JSTokenizer","sap/fe/core/CommonUtils","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/CriticalityFormatters","sap/fe/macros/CommonHelper","sap/fe/macros/controls/filterbar/utils/VisualFilterUtils","sap/fe/macros/filter/FilterFieldHelper","sap/fe/macros/filterBar/FilterHelper","sap/m/library","sap/ui/core/Lib","sap/ui/core/format/NumberFormat","sap/ui/mdc/condition/ConditionConverter","sap/ui/mdc/odata/v4/TypeMap","sap/ui/model/Filter","sap/ui/model/odata/v4/ODataUtils","../field/FieldTemplating"],function(e,t,a,r,n,i,o,s,l,u,c,g,f,p,m,d,h){"use strict";var y=h.getTextBinding;var C=l.getFiltersConditionsFromSelectionVariant;var M=s.formatOptions;var T=s.constraints;var v=n.buildExpressionForCriticalityColorMicroChart;var P=r.isSingleton;var $=r.isPathAnnotationExpression;var b=r.isNavigationProperty;var F=r.isEntitySet;var E=a.generate;const D={getChartDisplayedValue:function(e,t,a){const r=E([a]);return"{parts:[{path:'"+e+"',type:'sap.ui.model.odata.type.Decimal', constraints:{'nullable':false}}"+(t&&t.ScaleFactor?",{value:'"+t.ScaleFactor.valueOf()+"'}":",{path:'internal>scalefactorNumber/"+r+"'}")+(t&&t.NumberOfFractionalDigits?",{value:'"+t.NumberOfFractionalDigits+"'}":",{value:'0'}")+",{path:'internal>currency/"+r+"'}"+",{path:'"+e+"',type:'sap.ui.model.odata.type.String', constraints:{'nullable':false}}"+"], formatter:'sap.fe.macros.visualfilters.VisualFilterRuntime.scaleVisualFilterValue'}"},getChartValue:function(e){return"{path:'"+e+"',type:'sap.ui.model.odata.type.Decimal', constraints:{'nullable':false}}"},_getCollectionName:function(e,t,a){const r=e?.targetObject;if(b(r)){return a?t:r.name}else if(F(r)){return"/"+r.name}else{return r.name}},_getBindingPathForParameters:function(a,r,n,i,s){const l=[];const u=o.convertFilterCondions(a);const c=t.getParameterInfo(r,n).parameterProperties;if(c){for(const t in i){const a=i[t];const n=c[a];const o=s.split("/")[1];const g=r?.createBindingContext(`/${o}/${a}`);let m;if(g){m=p.getTypeConfig(n.$Type,e.parseJS(M(n,{context:g})||"{}"),e.parseJS(T(n,{context:g})||"{}"))}const h=u[a];const y=h?h[0]:undefined;if(y){const e=f.toType(y,m,p);const t=n.$Type;let r=encodeURIComponent(d.formatLiteral(e.values[0],t));l.push(`${a}=${r}`)}}}const g=n.slice(0,n.lastIndexOf("/"));const m=n.substring(n.lastIndexOf("/")+1);return`${g}(${l.toString()})/${m}`},_getUOMAggregationExpression:function(e,t,a,r){let n,i;const o=a&&$(a)&&a.path;if(e){if(t){n=o?{unit:o}:{};i={}}else{n={};i=o?{[o]:{}}:{}}}else if(r&&r.AggregatableProperty&&r.AggregatableProperty.value&&r.AggregationMethod){n={name:r.AggregatableProperty.value,with:r.AggregationMethod};i=o?{[o]:{}}:{}}return{aggregationExpression:n,UOMExpression:i}},getAggregationBinding:function(e,t,a,r,n,i,s,l,u,c,g,f,p,d,h){const y=s;const M=f;const T=a;const v=e.Dimensions[0].value;const P=[];let $;let b=this._getCollectionName(t,a,g);const F=D.getUoM(e,t,undefined,l,u);if(p){P.push(new m({operator:"EQ",value1:"true",value2:null,path:"IsActiveEntity"}))}if(y){$=C(T,h,y,o.getCustomConditions.bind(o));for(const e in $){const t=$[e];t.forEach(function(e){if(!e.isParameter){P.push(new m({operator:e.operator,value1:e.value1,value2:e.value2,path:e.path}))}})}}if(M!==`${b}/`&&g&&g.length&&$){const e=this._getBindingPathForParameters($,h,b,g,T);b=e}const E=this._getUOMAggregationExpression(l,c,F,u);const I=E.aggregationExpression;const O=E.UOMExpression;const V=r?{additionally:[r.path]}:{};const A={...this.getSortOrder(e,n,i,d),$$aggregation:{aggregate:{[d]:I},group:{[v]:{...V},...O}}};return{path:b,templateShareable:true,suspended:true,filters:P,parameters:A,...D.getMaxItems(e)}},_getOrderExpressionFromMeasure:function(e,t){let a;if(e&&e.length){if(e[0].DynamicProperty){a=e[0].DynamicProperty.$target?.Name}else{a=e[0].Property?.value}if(a===t){return{$orderby:t+(e[0].Descending?" desc":"")}}return{$orderby:t+" desc"}}return{$orderby:t+" desc"}},getSortOrder:function(e,t,a,r){if(e.ChartType==="UI.ChartType/Donut"||e.ChartType==="UI.ChartType/Bar"){return this._getOrderExpressionFromMeasure(a,r)}else if(t==="Edm.Date"||t==="Edm.Time"||t==="Edm.DateTimeOffset"){return{$orderby:e.Dimensions[0].value}}else if(a&&a.length&&a[0].Property?.$target?.path===e.Dimensions[0].value){return{$orderby:a[0].Property?.$target?.name+(a[0].Descending?"desc'":"'")}}else{return{$orderby:e.Dimensions[0].$target?.name}}},getMaxItems:function(e){if(e.ChartType==="UI.ChartType/Bar"){return{startIndex:0,length:3}}else if(e.ChartType==="UI.ChartType/Line"){return{startIndex:0,length:6}}else{return""}},getColorBinding:function(e,t){const a=t?.$target?.annotations?.UI?.ValueCriticality;if(e?.Criticality){return v(e)}else if(e?.CriticalityCalculation){const t=e.CriticalityCalculation.ImprovementDirection;const a=e.Value;const r=e.CriticalityCalculation.DeviationRangeLowValue.valueOf();const n=e.CriticalityCalculation.ToleranceRangeLowValue.valueOf();const o=e.CriticalityCalculation.AcceptanceRangeLowValue.valueOf();const s=e.CriticalityCalculation.AcceptanceRangeHighValue.valueOf();const l=e.CriticalityCalculation.ToleranceRangeHighValue.valueOf();const u=e.CriticalityCalculation.DeviationRangeHighValue.valueOf();return i.getCriticalityCalculationBinding(t,a,r,n,o,s,l,u)}else if(a&&a.length){return D.getValueCriticality(t.value,a)}else{return undefined}},getValueCriticality:function(e,t){let a;const r=[];if(t&&t.length>0){t.forEach(function(t){if(t.Value&&t.Criticality){const a="${"+e+"} === '"+t.Value+"' ? '"+D._getCriticalityFromEnum(t.Criticality)+"'";r.push(a)}});a=r.length>0&&r.join(" : ")+" : undefined"}return a?"{= "+a+" }":undefined},_getCriticalityFromEnum:function(e){const t=u.ValueColor;let a;if(e==="UI.CriticalityType/Negative"){a=t.Error}else if(e==="UI.CriticalityType/Positive"){a=t.Good}else if(e==="UI.CriticalityType/Critical"){a=t.Critical}else{a=t.Neutral}return a},getScaleUoMTitle:function(e,t,a,r,n,i,o){const s=e?.MeasureAttributes?e.MeasureAttributes[0]?.DataPoint?.$target?.ValueFormat?.ScaleFactor?.valueOf():undefined;const l=E([a]);const u=g.getIntegerInstance({style:"short",showScale:false,shortRefNumber:s});let c=u.getScale();let f=D.getUoM(e,t,undefined,r,n);f=f&&(f.path?"${internal>uom/"+l+"}":"'"+f+"'");c=c?"'"+c+"'":"${internal>scalefactor/"+l+"}";if(!i){i="|"}i="' "+i+" ' + ";const p=c&&f?i+c+" + ' ' + "+f:i+(c||f);return o?p:"{= "+p+"}"},getMeasureDimensionTitle:function(e,t,a){let r;let n;if(t){n=e?.Measures[0]?.$target?.name}if(e?.DynamicMeasures&&e.DynamicMeasures.length>0){n=e.DynamicMeasures[0]?.$target?.AggregatableProperty?.value}else if(!t&&e?.Measures&&e?.Measures.length>0){n=e.Measures[0]?.$target?.name}const i=e?.Dimensions[0]?.value;let o=e?.Dimensions[0]?.$target?.annotations?.Common?.Label;if(!t&&a){r=a.annotations&&a.annotations.Common&&a.annotations.Common.Label;if(r===undefined){r=e?.Measures?.[0]?.$target?.annotations?.Common?.Label}}else{r=e?.Measures?.[0]?.$target?.annotations?.Common?.Label}if(r===undefined){r=n}if(o===undefined){o=i}return c.getResourceBundleFor("sap.fe.macros").getText("M_INTERACTIVE_CHART_HELPER_VISUALFILTER_MEASURE_DIMENSION_TITLE",[r,o])},getToolTip:function(e,t,a,r,n,o){const s=e&&e["ChartType"];let l=D.getMeasureDimensionTitle(e,r,n);l=i.escapeSingleQuotes(l);if(o===false&&s==="UI.ChartType/Line"){return`{= '${l}'}`}const u=c.getResourceBundleFor("sap.fe.macros")?.getText("M_INTERACTIVE_CHART_HELPER_VISUALFILTER_TOOLTIP_SEPERATOR");const g=E([a]);const f=D.getScaleUoMTitle(e,t,g,r,n,u,true);return"{= '"+l+(f?"' + "+f:"'")+"}"},_getUOM:function(e,t,a,r,n){const i={};const o=a?.targetObject;if(e&&t&&$(e)){i[t]={$Path:e.path};return r&&e.path?i:e}else if(n){const a=F(o)||P(o)?o.entityType.entityProperties:o?.targetType?.entityProperties;const s=a?.find(e=>e.name==n);if(s?.annotations?.Measures&&t){e=s?.annotations?.Measures[t];i[t]={$Path:e?.path}}return e&&r&&$(e)&&e.path?i:e}},getUoM:function(e,t,a,r,n){let i={};if(r){i=e?.Measures[0]}if(e?.DynamicMeasures&&e.DynamicMeasures.length>0){i=e.DynamicMeasures[0]?.$target?.AggregatableProperty?.$target?.annotations?.Measures}else if(!r&&e?.Measures&&e.Measures.length>0){i=e.Measures[0]}const o=i?.ISOCurrency;const s=i?.Unit;let l;if(!r&&n){l=n.AggregatableProperty&&n.AggregatableProperty.value}else{l=i?.value}return this._getUOM(o,"ISOCurrency",t,a,l)||this._getUOM(s,"Unit",t,a,l)},getScaleFactor:function(e){if(e&&e.ScaleFactor){return e.ScaleFactor.valueOf()}return undefined},getUoMVisiblity:function(e,t){const a=e&&e["ChartType"];if(t){return false}else if(!(a==="UI.ChartType/Bar"||a==="UI.ChartType/Line")){return false}else{return true}},getInParameterFiltersBinding:function(e){if(e.length>0){const t=[];let a="";e.forEach(function(e){if(e.localDataProperty){t.push(`{path:'$filters>/conditions/${e.localDataProperty}'}`)}});if(t.length>0){a=t.join();return`{parts:[${a}], formatter:'sap.fe.macros.visualfilters.VisualFilterRuntime.getFiltersFromConditions'}`}else{return undefined}}else{return undefined}},getfilterCountBinding:function(e){const t=e?.Dimensions[0]?.$target?.name;return"{path:'$filters>/conditions/"+t+"', formatter:'sap.fe.macros.visualfilters.VisualFilterRuntime.getFilterCounts'}"},getInteractiveChartProperties:function(e){const t=e.chartAnnotation;const a={};if(e.chartMeasure&&t?.Dimensions&&t.Dimensions[0]){const r=E([e.metaPath]);a.showErrorExpression="{= ${internal>"+r+"/showError}}";a.errorMessageExpression="{= ${internal>"+r+"/errorMessage}}";a.errorMessageTitleExpression="{= ${internal>"+r+"/errorMessageTitle}}";let n;if(t?.MeasureAttributes&&t?.MeasureAttributes[0]){n=t?.MeasureAttributes[0]?.DataPoint?t?.MeasureAttributes[0].DataPoint.$target:t?.MeasureAttributes[0]}const o=t?.Dimensions[0];const s=i.getParameters(e.contextPath,e.getMetaModel());const l=o?.$target?.annotations?.Common?.Text;a.aggregationBinding=D.getAggregationBinding(t,e.collection,e.contextPath,l,o.$target?.type,e?.sortOrder,e.selectionVariant,e.customAggregate,e.aggregateProperties,e.UoMHasCustomAggregate,s,e.filterBarEntityType,e.draftSupported,e.chartMeasure,e.getMetaModel());a.scalefactor=D.getScaleFactor(n?.ValueFormat);a.uom=D.getUoM(t,e.collection,true,e.customAggregate,e.aggregateProperties);a.inParameters=e.inParameters;const u=i.parseCustomData(e.inParameters);a.inParameterFilters=e.inParameters?D.getInParameterFiltersBinding(u):undefined;a.selectionVariant=e.selectionVariant?e.selectionVariant:undefined;a.stringifiedParameters=s;const c=e.getMetaModel()?.createBindingContext(e.contextPath+"/@"+o.fullyQualifiedName.split("@")[1]);if(c){const t=e.getDataModelObjectForMetaPath(c.getPath(),e.contextPath);a.chartLabel=y(t,{})}a.measure=D.getChartValue(e.chartMeasure);a.displayedValue=D.getChartDisplayedValue(e.chartMeasure,n?.ValueFormat,e.metaPath);a.color=D.getColorBinding(n,o)}return a}};return D},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/visualfilters/VisualFilter", ["sap/base/Log","sap/base/util/merge","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/converters/ConverterContext","sap/fe/core/converters/ManifestWrapper","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/converters/helpers/Aggregation","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/m/Button","sap/m/Label","sap/m/OverflowToolbar","sap/m/OverflowToolbarLayoutData","sap/m/Title","sap/m/ToolbarSpacer","sap/m/VBox","sap/ui/core/CustomData","../controls/filterbar/VisualFilter","./InteractiveChartHelper","./VisualFilterRuntime","./fragments/InteractiveCharts","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/Fragment","sap/fe/base/jsx-runtime/jsxs"],function(e,t,r,i,n,a,o,l,s,u,c,h,p,g,f,b,m,d,y,A,w,T,M,v,C){"use strict";var I,V,P,_,S,H,z,D,E,U,O,x,F,L,B,R,j,q,N,$,k,W,Y,G,J,K,Q,X,Z,ee,te,re,ie,ne,ae,oe,le,se,ue,ce,he,pe,ge,fe,be,me,de,ye,Ae,we,Te,Me,ve,Ce,Ie,Ve,Pe,_e,Se,He,ze;var De={};var Ee=T.getVisualFilterChart;var Ue=u.generate;var Oe=l.AggregationHelper;var xe=o.getDefaultSelectionVariant;var Fe=r.property;var Le=r.implementInterface;var Be=r.event;var Re=r.defineUI5Class;function je(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function qe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ne(e,t)}function Ne(e,t){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ne(e,t)}function $e(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function ke(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let We=(I=Re("sap.fe.macros.visualfilters.VisualFilter"),V=Le("sap.ui.core.IFormContent"),P=Fe({type:"boolean"}),_=Fe({type:"string"}),S=Be(),H=Fe({type:"string",required:true}),z=Fe({type:"string"}),D=Fe({type:"string",required:true}),E=Fe({type:"string",required:true}),U=Fe({type:"string"}),O=Fe({type:"string"}),x=Fe({type:"string"}),F=Fe({type:"array"}),L=Fe({type:"boolean"}),B=Fe({type:"boolean"}),R=Fe({type:"boolean"}),j=Fe({type:"boolean"}),q=Fe({type:"array"}),N=Fe({type:"string"}),$=Fe({type:"boolean"}),k=Fe({type:"string"}),W=Fe({type:"boolean"}),Y=Fe({type:"boolean"}),G=Fe({type:"boolean"}),J=Fe({type:"string"}),K=Fe({type:"string"}),Q=Fe({type:"string"}),X=Fe({type:"string"}),Z=Fe({type:"boolean"}),ee=Fe({type:"boolean"}),I(te=(re=function(r){function i(e,t){var i;i=r.call(this,e,t)||this;je(i,"__implements__sap_ui_core_IFormContent",ie,i);je(i,"showValueHelp",ne,i);je(i,"valueHelpIconSrc",ae,i);je(i,"valueHelpRequest",oe,i);je(i,"id",le,i);je(i,"title",se,i);je(i,"contextPath",ue,i);je(i,"metaPath",ce,i);je(i,"outParameter",he,i);je(i,"valuelistProperty",pe,i);je(i,"selectionVariantAnnotation",ge,i);je(i,"inParameters",fe,i);je(i,"multipleSelectionAllowed",be,i);je(i,"required",me,i);je(i,"showOverlayInitially",de,i);je(i,"renderLineChart",ye,i);je(i,"requiredProperties",Ae,i);je(i,"filterBarEntityType",we,i);je(i,"showError",Te,i);je(i,"chartMeasure",Me,i);je(i,"UoMHasCustomAggregate",ve,i);je(i,"showValueHelpButton",Ce,i);je(i,"customAggregate",Ie,i);je(i,"groupId",Ve,i);je(i,"errorMessageTitle",Pe,i);je(i,"errorMessage",_e,i);je(i,"_contentId",Se,i);je(i,"draftSupported",He,i);je(i,"isValueListWithFixedValues",ze,i);return i}De=i;qe(i,r);var o=i.prototype;o.onMetadataAvailable=function r(i){this.groupId="$auto.visualFilters";this.path=this.metaPath;const o=this._getOwner();this.contextPath=this.contextPath??o?.preprocessorContext?.fullContextPath;const l=this.getDataModelObjectForMetaPath(this.metaPath,this.contextPath);if(this.contextPath){this._resolvedContextPath=this.contextPath.endsWith("/")?this.contextPath:this.contextPath+"/"}const u=this.getMetaModel();const c=this.getAppComponent()?.getDiagnostics()??{};const h=this._getOwner()?.getRootController()?.getView().getViewData()??this._getOwner()?.getViewData();const p=n.createConverterContextForMacro(l?.startingEntitySet?.name,u,c,t,l?.contextLocation,new a(h,this.getAppComponent()));const g=new Oe(p.getEntityType(),p);const f=g.getCustomAggregateDefinitions();const b=l?.targetObject;let m;const d=b&&b.Visualizations;this.getChartAnnotation(d,p);let y=[],w=[];if(this.chartAnnotation?.Measures?.length){w=f.filter(e=>e.qualifier===this.chartAnnotation?.Measures[0].value);m=w.length>0?w[0].qualifier:this.chartAnnotation.Measures[0].value;y=g.getAggregatedProperties()[0]}if(y&&y.length>0&&!this.chartAnnotation?.DynamicMeasures&&w.length===0&&this.chartAnnotation?.Measures&&this.chartAnnotation?.Measures.length>0){e.warning("The transformational aggregate measures are configured as Chart.Measures but should be configured as Chart.DynamicMeasures instead. Please check the SAP Help documentation and correct the configuration accordingly.")}if(this.chartAnnotation?.DynamicMeasures){if(w.length===0){m=p.getConverterContextFor(p.getAbsoluteAnnotationPath(this.chartAnnotation.DynamicMeasures[0].value)).getDataModelObjectPath().targetObject?.Name.toString();y=g.getAggregatedProperty()}else{e.warning("The dynamic measures have been ignored as visual filters can deal with only 1 measure and the first (custom aggregate) measure defined under Chart.Measures is considered.")}}if(f.some(function(e){return e.qualifier===m})){this.customAggregate=true}const T=xe(p.getEntityType());this.checkSelectionVariant(T);const M=this.getAggregateProperties(y,m);if(M){this.aggregateProperties=M}const v=d&&this.chartAnnotation?.Measures&&this.chartAnnotation?.Measures[0]?.$target?.annotations;const C=M?.AggregatableProperty?.$target?.annotations;this.checkIfUOMHasCustomAggregate(f,v,C);const I=v?.UI?.Hidden;const V=I?.valueOf();const P=this.chartAnnotation?.ChartType;this.chartType=P;this.showValueHelpButton=this.getshowValueHelpButton(P,V);this.draftSupported=s.isDraftSupported(u,this.contextPath);this.errorMessage=this.getErrorMessage(V,m);this.chartMeasure=m;this.measureDimensionTitle=A.getMeasureDimensionTitle(this.chartAnnotation,this.customAggregate,this.aggregateProperties);const _=this.getDataModelObjectForMetaPath(this.contextPath);this.toolTip=A.getToolTip(this.chartAnnotation,_,this.path,this.customAggregate,this.aggregateProperties,this.renderLineChart);this.UoMVisibility=A.getUoMVisiblity(this.chartAnnotation,this.showError);this.scaleUoMTitle=A.getScaleUoMTitle(this.chartAnnotation,_,this.path,this.customAggregate,this.aggregateProperties);this.collection=_;this.sortOrder=b?.SortOrder;this.filterCountBinding=A.getfilterCountBinding(this.chartAnnotation);const S=this.getPageController()?.getView().getId();if(this._contentId){this._contentId=`${S}--${this._contentId}`}this.selectionVariant=this.selectionVariantAnnotation?this.getDataModelObjectForMetaPath(this.selectionVariantAnnotation)?.targetObject:undefined;this.content=this.createContent()};o.checkIfUOMHasCustomAggregate=function e(t,r,i){const n=r?.Measures;const a=i?.Measures;const o=this.getUoM(n,a);if(o&&t.some(function(e){return e.qualifier===o})){this.UoMHasCustomAggregate=true}else{this.UoMHasCustomAggregate=false}};o.getChartAnnotation=function e(t,r){if(t){for(let e of t){const t=e&&e.value;this.chartAnnotation=r.getEntityTypeAnnotation(t)&&r.getEntityTypeAnnotation(t).annotation}}};o.setShowValueHelp=function e(t){if(this.content?.isA("sap.fe.macros.controls.filterbar.VisualFilter")){if(this.content?.getItems().length>0){const e=this.getVisualFilterControl();e?.getContent().some(function(e){if(e.isA("sap.m.Button")){e.setVisible(t)}});this.setProperty("showValueHelp",t)}}};o.setValueHelpIconSrc=function e(t){if(this.content?.isA("sap.fe.macros.controls.filterbar.VisualFilter")){if(this.content?.getItems().length>0){const e=this.getVisualFilterControl();e?.getContent().some(function(e){if(e.isA("sap.m.Button")){e.setIcon(t)}});this.setProperty("valueHelpIconSrc",t)}}};o.getVisualFilterControl=function e(){if(this.content?.isA("sap.fe.macros.controls.filterbar.VisualFilter")){return(this.content?.getItems()[0]).getItems()[0]}};o.getErrorMessage=function e(t,r){let i;if(this.chartAnnotation){if(this.chartAnnotation.ChartType==="UI.ChartType/Line"||this.chartAnnotation.ChartType==="UI.ChartType/Bar"){i=true}else{i=false}}if(typeof t==="boolean"&&t||!i||this.renderLineChart===false){this.showError=true;this.errorMessageTitle=t||!i?this.getTranslatedText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"):this.getTranslatedText("M_VISUAL_FILTER_LINE_CHART_INVALID_DATATYPE");if(t){return this.getTranslatedText("M_VISUAL_FILTER_HIDDEN_MEASURE",[r])}else if(!i){return this.getTranslatedText("M_VISUAL_FILTER_UNSUPPORTED_CHART_TYPE")}else{return this.getTranslatedText("M_VISUAL_FILTER_LINE_CHART_UNSUPPORTED_DIMENSION")}}};o.getshowValueHelpButton=function e(t,r){const i=this.chartAnnotation?.Dimensions[0]&&this.chartAnnotation?.Dimensions[0].$target&&this.chartAnnotation.Dimensions[0].$target.type;if(i==="Edm.Date"||i==="Edm.Time"||i==="Edm.DateTimeOffset"){return false}else if(typeof r==="boolean"&&r){return false}else if(!(t==="UI.ChartType/Bar"||t==="UI.ChartType/Line")){return false}else if(this.renderLineChart===false&&t==="UI.ChartType/Line"){return false}else if(this.isValueListWithFixedValues===true){return false}else{return true}};o.checkSelectionVariant=function t(r){let i;if(this.selectionVariantAnnotation){i=this.getDataModelObjectForMetaPath(this.selectionVariantAnnotation)?.targetObject}if(!i&&r){i=r}if(i&&i.SelectOptions&&!this.multipleSelectionAllowed){for(const t of i.SelectOptions){if(t.PropertyName?.value===this.chartAnnotation?.Dimensions[0].value){if(t.Ranges.length>1){e.error("Multiple SelectOptions for FilterField having SingleValue Allowed Expression")}}}}};o.getAggregateProperties=function e(t,r){let i;if(!t){return}t.some(function(e){if(e.Name===r){i=e;return true}});return i};o.getUoM=function e(t,r){let i=t?.ISOCurrency;let n=t?.Unit;if(!i&&!n&&r){i=r.ISOCurrency;n=r.Unit}return i?.path||n?.path};o.getRequired=function e(){if(this.required){return M(h,{text:"",width:"0.5rem",required:"true",children:{layoutData:M(g,{priority:"Never"})}})}else{return""}};o.getTitle=function e(){return M(f,{id:Ue([this._contentId,"MeasureDimensionTitle"]),text:this.measureDimensionTitle,tooltip:this.toolTip,titleStyle:"H6",level:"H3",class:"sapUiTinyMarginEnd sapUiNoMarginBegin"})};o.getUoMTitle=function e(t){if(this.UoMVisibility){return M(f,{id:Ue([this._contentId,"ScaleUoMTitle"]),visible:t,text:this.scaleUoMTitle,titleStyle:"H6",level:"H3",width:"4.15rem"})}else{return""}};o.getToolBarSpacer=function e(){if(this.showValueHelpButton){return M(b,{})}else{return""}};o.getValueHelp=function e(t){if(this.showValueHelpButton){return M(c,{id:Ue([this._contentId,"VisualFilterValueHelpButton"]),type:"Transparent",ariaHasPopup:"Dialog",text:this.filterCountBinding,enabled:t,press:e=>{w.fireValueHelp(e)},children:{layoutData:M(g,{priority:"Never"}),customData:M(d,{value:this.multipleSelectionAllowed},"multipleSelectionAllowed")}})}else{return""}};o.getToolbar=function e(t){return M(p,{style:"Clear",children:{content:C(v,{children:[this.getRequired(),this.getTitle(),this.getUoMTitle(t),this.getToolBarSpacer(),this.getValueHelp(t)]})}})};o.createContent=function e(){const t=Ue([this.path]);const r="{= !${internal>"+t+"/showError}}";const i=document.body.classList.contains("sapUiSizeCozy");const n=i?"13rem":"100%";const a=i?"100%":"7.5rem";const o=this._contentId?Ue([this._contentId]):undefined;return M(y,{id:o,height:n,width:"20.5rem",class:"sapUiSmallMarginBeginEnd",children:{customData:M(d,{value:Ue([this.path])},"infoPath"),items:C(v,{children:[M(m,{height:"2rem",class:"sapUiTinyMarginTopBottom",children:this.getToolbar(r)}),M(m,{height:a,width:"100%",children:Ee(this)})]})}})};return i}(i),ie=$e(re.prototype,"__implements__sap_ui_core_IFormContent",[V],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),ne=$e(re.prototype,"showValueHelp",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),ae=$e(re.prototype,"valueHelpIconSrc",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),oe=$e(re.prototype,"valueHelpRequest",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),le=$e(re.prototype,"id",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),se=$e(re.prototype,"title",[z],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),ue=$e(re.prototype,"contextPath",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),ce=$e(re.prototype,"metaPath",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),he=$e(re.prototype,"outParameter",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),pe=$e(re.prototype,"valuelistProperty",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),ge=$e(re.prototype,"selectionVariantAnnotation",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),fe=$e(re.prototype,"inParameters",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),be=$e(re.prototype,"multipleSelectionAllowed",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),me=$e(re.prototype,"required",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),de=$e(re.prototype,"showOverlayInitially",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),ye=$e(re.prototype,"renderLineChart",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),Ae=$e(re.prototype,"requiredProperties",[q],{configurable:true,enumerable:true,writable:true,initializer:null}),we=$e(re.prototype,"filterBarEntityType",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),Te=$e(re.prototype,"showError",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),Me=$e(re.prototype,"chartMeasure",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),ve=$e(re.prototype,"UoMHasCustomAggregate",[W],{configurable:true,enumerable:true,writable:true,initializer:null}),Ce=$e(re.prototype,"showValueHelpButton",[Y],{configurable:true,enumerable:true,writable:true,initializer:null}),Ie=$e(re.prototype,"customAggregate",[G],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),Ve=$e(re.prototype,"groupId",[J],{configurable:true,enumerable:true,writable:true,initializer:function(){return"$auto.visualFilters"}}),Pe=$e(re.prototype,"errorMessageTitle",[K],{configurable:true,enumerable:true,writable:true,initializer:null}),_e=$e(re.prototype,"errorMessage",[Q],{configurable:true,enumerable:true,writable:true,initializer:null}),Se=$e(re.prototype,"_contentId",[X],{configurable:true,enumerable:true,writable:true,initializer:null}),He=$e(re.prototype,"draftSupported",[Z],{configurable:true,enumerable:true,writable:true,initializer:null}),ze=$e(re.prototype,"isValueListWithFixedValues",[ee],{configurable:true,enumerable:true,writable:true,initializer:null}),re))||te);De=We;return De},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/visualfilters/VisualFilterRuntime", ["sap/base/Log","sap/base/util/ObjectPath","sap/fe/macros/CommonHelper","sap/fe/macros/controls/filterbar/utils/VisualFilterUtils","sap/fe/macros/filter/FilterUtils","sap/fe/macros/filterBar/FilterHelper","sap/ui/core/Lib","sap/ui/mdc/condition/Condition","sap/ui/mdc/odata/v4/TypeMap","sap/ui/mdc/util/FilterUtil","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,r,n,i,s,o,a,l,f,c,g){"use strict";var u=s.getFiltersConditionsFromSelectionVariant;const d={selectionChanged(t){const r=t.getSource();const i=r.data("outParameter");const s=r.data("valuelistProperty");const o=r.data("dimension");const l=r.data("dimensionText");const f=r.data("multipleSelectionAllowed");const c=r.data("dimensionType");const g=t.getParameter("bar")||t.getParameter("point")||t.getParameter("segment");const u=t.getParameter("selected");const d=r.getModel("$field");let p=d.getProperty("/conditions");if(!i||s!==o){e.error("VisualFilter: Cannot sync values with regular filter as out parameter is not configured properly!")}else{let t=g?.getBindingContext()?.getObject(s);if(t){let e=g?.getBindingContext()?.getObject(l);if(typeof e!=="string"&&!(e instanceof String)){e=undefined}if(u){if(f===false){p=[]}if(c==="Edm.DateTimeOffset"){t=n._parseDateTime(t)}const r=a.createItemCondition(t,e||undefined,{},{});p.push(r)}else{p=p.filter(function(e){if(c==="Edm.DateTimeOffset"){return e.operator!=="EQ"||Date.parse(e.values[0])!==Date.parse(t)}return e.operator!=="EQ"||e.values[0]!==t})}d.setProperty("/conditions",p)}else{e.error("VisualFilter: No vaue found for the outParameter")}}},getAggregationSelected(e){let t=[];if(!this.getBindingContext()){return}for(let r=0;r<=e.length-1;r++){const n=e[r];if(n.operator==="EQ"){t.push(n.values[0])}}const r=this.getParent();const i=r.data("dimension");const s=r.data("dimensionType");let o=this.getBindingContext()?.getObject(i);if(s==="Edm.DateTimeOffset"){o=n._parseDateTime(o)}if(r.data("multipleSelectionAllowed")===false&&t.length>1){t=[t[0]]}return t.includes(o)},getFiltersFromConditions(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++){s[a]=arguments[a]}const d=this.getParent();const p=d.getParent()?.getParent()?.getParent()?.getParent()?.getParent();const m=d.data("inParameters").customData;const h=d.data("draftSupported")===true;const P=i.getFilterPropertyInfo(p);const y={};const E=[];let T;let F=[];const C=d.data("parameters");const v=d.data("selectionVariantAnnotation");const L=d.getBinding("bars")||d.getBinding("points")||d.getBinding("segments");const _=L.getPath();const b=d.getModel().getMetaModel();const S=L.getPath();const M=u(S,b,v,n.getCustomConditions.bind(n));for(const e in P){P[e].typeConfig=l.getTypeConfig(P[e].dataType,{},{})}const I=n.convertFilterCondions(M);Object.keys(I).forEach(function(e){y[e]=I[e];const t=m.find(function(t){return t.valueListProperty===e});const r=t?t.localDataProperty:e;if(!C||C&&!C.includes(e)){for(const t in P){const i=P[t];if(r===i.name){if(i?.typeConfig?.baseType==="DateTime"){if(y[e]){y[e].forEach(function(e){e.values[0]=n._formatDateTime(e.values[0])})}}E.push({name:e,typeConfig:i.typeConfig})}}}});m.forEach(function(e,t){if(s[t].length>0){y[e.valueListProperty]=s[t];if(!C||C&&!C.includes(e.valueListProperty)){for(const t in P){const r=P[t];if(r.name===e.localDataProperty){if(r?.typeConfig?.baseType==="DateTime"){if(y[e.valueListProperty]){y[e.valueListProperty].forEach(function(e){e.values[0]=n._formatDateTime(e.values[0])})}}E.push({name:e.valueListProperty,typeConfig:r.typeConfig})}}}}});const V=d.getBindingContext("internal");const D=d.data("infoPath");let O;const R=o.getResourceBundleFor("sap.fe.macros");const A=r.parseCustomData(d.data("requiredProperties"));if(A.length){const e=Object.keys(y)||[];const t=[];A.forEach(function(r){if(!e.includes(r)){t.push(r)}});if(!t.length){O=V.getProperty(`${D}/showError`);V.setProperty(D,{errorMessageTitle:"",errorMessage:"",showError:false})}else if(t.length>1){V.setProperty(D,{errorMessageTitle:R.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:R.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_MULTIPLEVF"),showError:true});return}else{const e=b.getObject(`${S}/${t[0]}@com.sap.vocabularies.Common.v1.Label`)||t[0];V.setProperty(D,{errorMessageTitle:R.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:R.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_SINGLEVF",e),showError:true});return}}else{O=V.getProperty(`${D}/showError`);V.setProperty(D,{errorMessageTitle:"",errorMessage:"",showError:false})}const w=p.data("entityType").split("/")[1];const B=_.split("/")[1].split("(")[0];if(C&&C.length&&w===B){const e=O?i.getBindingPathForParameters(p,y,P,C):undefined;if(e){L.sPath=e}}if(C&&C.length){C.forEach(function(e){if(y[e]){delete y[e]}})}if(Object.keys(y).length>0&&E.length){try{T=f.getFilterInfo(p,y,E,[]).filters}catch(t){e.debug("VisualFilter: Error while getting filters from MDCFilterUtil")}if(T){if(!T.getFilters()){F.push(T)}else if(T.getFilters()){F=T.getFilters()}}}if(h){F.push(new c("IsActiveEntity",g.EQ,true))}if(F&&F.length>0){L?.filter(F)}else if(!Object.keys(y).length){L?.filter()}if(O&&L?.isSuspended()){L?.resume()}return F},getFilterCounts(e){if(this.data("multipleSelectionAllowed")===false&&e.length>0){return`(1)`}if(e.length>0){return`(${e.length})`}else{return undefined}},scaleVisualFilterValue(e,t,r,i,s){if(t){return n.getFormattedNumber(s,t,r)}else if(i){return n.getFormattedNumber(s,undefined,undefined,i)}else if(r>0){r=r>2?2:r;return n.getFormattedNumber(s,undefined,r)}else{return e}},fireValueHelp(e){e.getSource().getParent()?.getParent()?.getParent()?.getParent()?.fireEvent("valueHelpRequest")}};t.set("sap.fe.macros.visualfilters.VisualFilterRuntime",d);return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/visualfilters/fragments/InteractiveCharts", ["sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/suite/ui/microchart/InteractiveBarChart","sap/suite/ui/microchart/InteractiveBarChartBar","sap/suite/ui/microchart/InteractiveLineChart","sap/suite/ui/microchart/InteractiveLineChartPoint","sap/ui/core/CustomData","../InteractiveChartHelper","../VisualFilterRuntime","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,r,t,a,i,s,n,o,l,u,c){"use strict";var p={};var h=r.isPathAnnotationExpression;var d=e.generate;function m(e){if(e.showError){return g(e)}else if(e.chartType){return v(e)}else{return""}}p.getVisualFilterChart=m;function g(e){const r=e.chartAnnotation;if(e.chartMeasure&&r?.Dimensions&&r.Dimensions[0]){return u(i,{showError:e.showError,errorMessageTitle:e.errorMessageTitle,errorMessage:e.errorMessage})}return""}p.getInteractiveChartWithError=g;function v(e){const r=o.getInteractiveChartProperties(e);if(e.chartType==="UI.ChartType/Bar"){return c(t,{selectionChanged:e=>{l.selectionChanged(e)},...f(r,e),children:[y(r),{customData:T(e,r)}]})}else if(e.chartType==="UI.ChartType/Line"){return c(i,{selectionChanged:e=>{l.selectionChanged(e)},...f(r,e),children:[C(r),{customData:T(e,r)}]})}return""}p.getInteractiveChart=v;function f(e,r){const t={visible:e.showErrorExpression,showError:e.showErrorExpression,errorMessageTitle:e.errorMessageTitleExpression,errorMessage:e.errorMessageExpression};if(r.chartType==="UI.ChartType/Bar"){t.bars=e.aggregationBinding}else if(r.chartType==="UI.ChartType/Line"){t.points=e.aggregationBinding}return t}function y(e){const r={};r.bars=u(a,{label:e.chartLabel,value:e.measure,displayedValue:e.displayedValue,color:e.color,selected:"{path: '$field>/conditions', formatter: 'sap.fe.macros.visualfilters.VisualFilterRuntime.getAggregationSelected'}"});return r}function C(e){const r={};r.points=u(s,{label:e.chartLabel,value:e.measure,displayedValue:e.displayedValue,color:e.color,selected:"{path: '$field>/conditions', formatter: 'sap.fe.macros.visualfilters.VisualFilterRuntime.getAggregationSelected'}"});return r}function T(e,r){const t=d([e.metaPath]);const a=e.chartAnnotation?.Dimensions[0];return[u(n,{value:e.outParameter},"outParameter"),u(n,{value:e.valuelistProperty},"valuelistProperty"),u(n,{value:e.multipleSelectionAllowed},"multipleSelectionAllowed"),u(n,{value:a?.$target?.name},"dimension"),u(n,{value:h(a?.$target?.annotations.Common?.Text)?a?.$target?.annotations.Common?.Text.path:undefined},"dimensionText"),u(n,{value:r.scalefactor},"scalefactor"),u(n,{value:e.chartMeasure},"measure"),u(n,{value:r.uom},"uom"),u(n,{value:r.inParameters},"inParameters"),u(n,{value:r.inParameterFilters},"inParameterFilters"),u(n,{value:a?.$target?.type},"dimensionType"),u(n,{value:r.selectionVariant},"selectionVariantAnnotation"),u(n,{value:e.required},"required"),u(n,{value:e.showOverlayInitially},"showOverlayInitially"),u(n,{value:e.requiredProperties},"requiredProperties"),u(n,{value:t},"infoPath"),u(n,{value:r.stringifiedParameters},"parameters"),u(n,{value:e.draftSupported},"draftSupported")]}return p},false);
sap.ui.require.preload({
	"sap/fe/macros/contact/ContactQuickView.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:contact="sap.fe.macros.contact"\n\ttemplate:require="{\n\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\'\n\t\t\t\t}"\n><template:if test="{contact>}"><VBox class="sapUiSmallMarginTop"><contact:CollaborativeHeader\n\t\t\t\tfullName="{contact>fn@@MODEL.format}"\n\t\t\t\trole="{contact>role@@MODEL.format}"\n\t\t\t\tphotoSrc="{= ${contact>photo@@MODEL.format} ? ${contact>photo@@MODEL.format} : \'sap-icon://person-placeholder\' }"\n\t\t\t\tmail="{payload>/mail}"\n\t\t\t\tisNaturalPerson="{payload>/isNaturalPerson}"\n\t\t\t/><contact:TeamContactOptions mail="{payload>/mail}" /><f:SimpleForm editable="false" layout="ResponsiveGridLayout" maxContainerCols="1" class="sapMQuickViewPage sapUiSmallMarginTop"><core:Fragment fragmentName="sap.fe.macros.contact.ContactQuickViewGroup" type="XML" /></f:SimpleForm></VBox></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/contact/ContactQuickViewGroup.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\ttemplate:require="{\n\t\t\t\t\tCONTACT: \'sap/fe/macros/contact/ContactHelper\',\n\t\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\'\n\t}"\n><Label text="{sap.fe.i18n>POPOVER_CONTACT_SECTION_JOBTITLE}" visible="{= !!${contact>title}}" /><Text text="{contact>title@@MODEL.format}" visible="{= !!${contact>title}}" emptyIndicatorMode="On" /><Label text="{sap.fe.i18n>POPOVER_CONTACT_SECTION_DEPARTMENT}" visible="{= !!${contact>org}}" /><Text text="{contact>org@@MODEL.format}" visible="{= !!${contact>org}}" emptyIndicatorMode="On" /><template:if test="{contact>tel}"><template:with path="contact>tel" var="tels"><template:repeat\n\t\t\t\tlist="{path:\'tels>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'preferred\'}}"\n\t\t\t\tvar="tel"\n\t\t\t><Label text="{= CONTACT.computePhoneLabel(${tel>type/$EnumMember})}" /><Link\n\t\t\t\t\ttext="{tel>uri/@@MODEL.format}"\n\t\t\t\t\thref="{= CONTACT.formatUri(\'phone\', ${tel>uri/@@MODEL.format})}"\n\t\t\t\t\twrapping="true"\n\t\t\t\t\temptyIndicatorMode="On"\n\t\t\t\t/></template:repeat><template:repeat list="{path:\'tels>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'work\'}}" var="tel"><Label text="{= CONTACT.computePhoneLabel(${tel>type/$EnumMember})}" /><Link\n\t\t\t\t\ttext="{tel>uri/@@MODEL.format}"\n\t\t\t\t\thref="{= CONTACT.formatUri(\'phone\', ${tel>uri/@@MODEL.format})}"\n\t\t\t\t\twrapping="true"\n\t\t\t\t\temptyIndicatorMode="On"\n\t\t\t\t/></template:repeat><template:repeat list="{path:\'tels>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'cell\'}}" var="tel"><Label text="{= CONTACT.computePhoneLabel(${tel>type/$EnumMember})}" /><Link\n\t\t\t\t\ttext="{tel>uri/@@MODEL.format}"\n\t\t\t\t\thref="{= CONTACT.formatUri(\'phone\', ${tel>uri/@@MODEL.format})}"\n\t\t\t\t\twrapping="true"\n\t\t\t\t\temptyIndicatorMode="On"\n\t\t\t\t/></template:repeat><template:repeat list="{path:\'tels>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'fax\'}}" var="tel"><Label text="{= CONTACT.computePhoneLabel(${tel>type/$EnumMember})}" /><Link\n\t\t\t\t\ttext="{tel>uri/@@MODEL.format}"\n\t\t\t\t\thref="{= CONTACT.formatUri(\'phone\', ${tel>uri/@@MODEL.format})}"\n\t\t\t\t\twrapping="true"\n\t\t\t\t\temptyIndicatorMode="On"\n\t\t\t\t/></template:repeat></template:with></template:if><template:if test="{contact>email}"><template:with path="contact>email" var="emails"><template:repeat\n\t\t\t\tlist="{path:\'emails>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'preferred\'}}"\n\t\t\t\tvar="mail"\n\t\t\t><Label text="{sap.fe.i18n>POPOVER_CONTACT_SECTION_EMAIL}" /><Link\n\t\t\t\t\ttext="{mail>address/@@MODEL.format}"\n\t\t\t\t\thref="{= CONTACT.formatUri(\'mail\', ${mail>address/@@MODEL.format})}"\n\t\t\t\t\twrapping="true"\n\t\t\t\t\temptyIndicatorMode="On"\n\t\t\t\t/></template:repeat><template:repeat list="{path:\'emails>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'work\'}}" var="mail"><Label text="{sap.fe.i18n>POPOVER_CONTACT_SECTION_EMAIL}" /><Link\n\t\t\t\t\ttext="{mail>address/@@MODEL.format}"\n\t\t\t\t\thref="{= CONTACT.formatUri(\'mail\', ${mail>address/@@MODEL.format})}"\n\t\t\t\t\twrapping="true"\n\t\t\t\t\temptyIndicatorMode="On"\n\t\t\t\t/></template:repeat></template:with></template:if><template:if test="{contact>adr}"><template:with path="contact>adr" var="adrs"><template:repeat list="{adrs>}" var="adr"><template:if test="{adr>label}"><template:then><Label text="{sap.fe.i18n>POPOVER_CONTACT_SECTION_ADR}" /><Text text="{adr>label/@@MODEL.format}" emptyIndicatorMode="On" /></template:then><template:else><Label text="{sap.fe.i18n>POPOVER_CONTACT_SECTION_ADR}" /><Text\n\t\t\t\t\t\t\ttext="{= CONTACT.formatAddress(${adr>street/@@MODEL.format}, ${adr>code/@@MODEL.format}, ${adr>locality/@@MODEL.format}, ${adr>region/@@MODEL.format}, ${adr>country/@@MODEL.format})}"\n\t\t\t\t\t\t\temptyIndicatorMode="On"\n\t\t\t\t\t\t/></template:else></template:if></template:repeat></template:with></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/filter/CustomFilter.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:core="sap.ui.core"\n\txmlns:controls="sap.fe.macros.controls"\n\txmlns:macros="sap.fe.macros.table"\n\txmlns:fpm="sap.fe.macros.fpm"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:fieldhelp="sap.ui.core.fieldhelp"\n\ttemplate:require="{\n\t\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\t\tFILTERFIELD: \'sap/fe/macros/filter/FilterFieldHelper\',\n\t\t\tFILTER: \'sap/fe/macros/filter/FilterUtils\',\n\t\t\tMACRO: \'sap/fe/macros/MacroTemplating\',\n\t\t\tFORMATTER: \'sap/fe/core/formatters/StandardFormatter\'\n\t\t}"\n><template:with path="item>annotationPath" var="property"><mdc:FilterField\n\t\t\tid="{= ID.generate([${this>id}, \'CustomFilterField\', ${item>key}]) }"\n\t\t\tdelegate="{name: \'sap/fe/macros/field/FieldBaseDelegate\'}"\n\t\t\tpropertyKey="{item>conditionPath}"\n\t\t\tlabel="{item>label}"\n\t\t\tdataType="Edm.String"\n\t\t\tmaxConditions="{= ${property>@@FILTERFIELD.maxConditions} || -1 }"\n\t\t\tconditions="{= \'{$filters>/conditions/\' + ${item>conditionPath} + \'}\'}"\n\t\t\toperators="{parts : [{path: \'property>\'}, {path: \'item>useSemanticDateRange\'}, {path: \'item>settings\'}, {path: \'contextPath>@@MACRO.getPath\'}], formatter: \'FIELD.operators\'}"\n\t\t\tdataTypeConstraints="{item>constraints}"\n\t\t\tdataTypeFormatOptions="{item>formatOptions}"\n\t\t\tvalueHelp="undefined"\n\t\t\trequired="{item>required}"\n\t\t\tcustomData:isSlot="{= ${item>type} === \'Slot\'}"\n\t\t><template:if\n\t\t\t\ttest="{= ${item>documentRefText} !== null &amp;&amp; ${item>documentRefText} !== \'null\' &amp;&amp; ${item>documentRefText} !== undefined &amp;&amp; ${item>documentRefText} !== \'undefined\'}"\n\t\t\t><fieldhelp:FieldHelpCustomData value="{parts:[{path: \'item>documentRefText\'}], formatter: \'FORMATTER.asArray\'}" /></template:if><controls:CustomFilterFieldContentWrapper\n\t\t\t\tcore:require="{handler: \'sap/fe/macros/filter/FilterUtils\'}"\n\t\t\t\tid="{= ID.generate([${this>id}, \'FilterFieldContentWrapper\', ${item>key}]) }"\n\t\t\t\tbinding="{= \'{filterValues>/\' + FILTER.conditionToModelPath(${item>conditionPath}) + \'}\' }"\n\t\t\t\tconditions="{path: \'$field>/conditions\'}"\n\t\t\t><template:if test="{= ${item>type} === \'Slot\'}"><template:then><macros:SlotColumn templateId="{item>template}"><slot name="{item>slotName}" /></macros:SlotColumn></template:then><template:elseif test="{= !!${item>template}}"><fpm:CustomFragment\n\t\t\t\t\t\t\tfragmentName="{item>template}"\n\t\t\t\t\t\t\tid="{= ID.generate([${this>id}, \'CustomFilterField\', ${item>key}]) }"\n\t\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\t/></template:elseif></template:if></controls:CustomFilterFieldContentWrapper></mdc:FilterField></template:with></core:FragmentDefinition>\n',
	"sap/fe/macros/filterBar/DraftEditState.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcf="sap.ui.mdc.field"\n\txmlns:mdcv="sap.ui.mdc.valuehelp"\n\txmlns:mdcvc="sap.ui.mdc.valuehelp.content"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tEDITSTATE: \'sap/fe/macros/filterBar/DraftEditState\'\n\t}"\n><mdc:FilterField\n\t\tlabel="{sap.fe.i18n>FILTERBAR_EDITING_STATUS}"\n\t\tmaxConditions="1"\n\t\tid="{= ID.generate([${this>id}, \'FilterField\', \'DraftEditingStatus\' ]) }"\n\t\toperators="EQ"\n\t\tdataType="sap.ui.model.odata.type.String"\n\t\tpropertyKey="$editState"\n\t\tconditions="{$filters>/conditions/$editState}"\n\t\tdisplay="Description"\n\t><mdc:content><Select\n\t\t\t\tid="{= ID.generate([${this>id}, \'FilterField\', \'DraftEditingStatusSelect\' ]) }"\n\t\t\t\twidth="100%"\n\t\t\t\tforceSelection="true"\n\t\t\t\tselectedKey="{path: \'$field>/conditions\', type: \'sap.ui.mdc.field.ConditionsType\'}"\n\t\t\t><template:with path="this>" helper="EDITSTATE.getEditStatesContext" var="states"><template:repeat list="{states>}" var="state"><core:ListItem key="{state>id}" text="{state>display}" /></template:repeat></template:with></Select></mdc:content></mdc:FilterField></core:FragmentDefinition>\n',
	"sap/fe/macros/form/AddressSection.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns="sap.m"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFORM: \'sap/fe/macros/form/FormHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><template:with path="facet>Target/$AnnotationPath" var="annotationPath"><f:FormContainer\n\t\t\tid="{= ${this>id} ? ID.generate([\'fe\', \'FormContainer\', ${facet>ID}]) : undefined }"\n\t\t\tbinding="{= FORM.generateBindingExpression((MODEL.getNavigationPath(${facet>Target/$AnnotationPath}) ? MODEL.getNavigationPath(${facet>Target/$AnnotationPath}) : \'\'),${contextPath>@@UI.getDataModelObjectPath})}"\n\t\t\tvisible="{= ${facet>./@com.sap.vocabularies.UI.v1.Hidden/$Path} ? (\'{= !${\' + ${facet>./@com.sap.vocabularies.UI.v1.Hidden/$Path} + \'} }\') : true }"\n\t\t\tmacrodata:navigationPath="{= MODEL.getNavigationPath(${annotationPath>}) ? MODEL.getNavigationPath(${annotationPath>}) : \'\'}"\n\t\t\tmacrodata:etName="{contextPath>./@sapui.name}"\n\t\t><template:if test="{= ${facet>@@MODEL.label} }"><f:title><core:Title level="{this>titleLevel}" text="{= ${facet>@@MODEL.label} }" /></f:title></template:if><f:formElements><f:FormElement id="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${facet>ID}]) : undefined}"><f:fields><Text text="{facet>Target/$AnnotationPath/label@@MODEL.format}" class="sapMITBFilterNeutral" /></f:fields></f:FormElement></f:formElements></f:FormContainer></template:with></core:FragmentDefinition>\n',
	"sap/fe/macros/form/FormActionButtons.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:dt="sap.ui.dt"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tACTION: \'sap/fe/core/converters/controls/Common/Action\',\n\t\tDEFAULTACTIONHANDLER: \'sap/fe/macros/internal/helpers/DefaultActionHandler\'\n\t}"\n><template:if test="{= ${action>type} === \'Menu\'}"><template:then><MenuButton\n\t\t\t\ttext="{action>text}"\n\t\t\t\ticon="{= ${action>isAIOperation} ? COMMON.getAIIcon() : undefined }"\n\t\t\t\tmenuPosition="BeginBottom"\n\t\t\t\tid="{= ID.generate([\'fe\',${action>id}])}"\n\t\t\t\tvisible="{action>visible}"\n\t\t\t\tenabled="{action>enabled}"\n\t\t\t\tclass="sapUiSmallMarginBegin"\n\t\t\t\tuseDefaultActionOnly="{= DEFAULTACTIONHANDLER.getUseDefaultActionOnly(${action>})}"\n\t\t\t\tbuttonMode="{= DEFAULTACTIONHANDLER.getButtonMode(${action>})}"\n\t\t\t\tdefaultAction="{= DEFAULTACTIONHANDLER.getDefaultActionHandler(undefined, undefined, ${action>}, undefined, undefined, \'Form\')}"\n\t\t\t\ttype="Transparent"\n\t\t\t><menu><Menu><template:repeat list="{action>menu}" var="menuItemAction"><template:if test="{= ${menuItemAction>type} === \'Default\'}"><template:then><MenuItem\n\t\t\t\t\t\t\t\t\t\tcore:require="{FPM: \'sap/fe/core/helpers/FPMHelper\'}"\n\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([\'fe\',${menuItemAction>id}])}"\n\t\t\t\t\t\t\t\t\t\ttext="{menuItemAction>text}"\n\t\t\t\t\t\t\t\t\t\tpress="{= ${menuItemAction>command} ? (\'cmd:\' + ${menuItemAction>command}) : COMMON.buildActionWrapper(${menuItemAction>})}"\n\t\t\t\t\t\t\t\t\t\tvisible="{menuItemAction>visible}"\n\t\t\t\t\t\t\t\t\t\tenabled="{menuItemAction>enabled}"\n\t\t\t\t\t\t\t\t\t/></template:then><template:else><MenuItem\n\t\t\t\t\t\t\t\t\t\tid="{menuItemAction>id}"\n\t\t\t\t\t\t\t\t\t\tbinding="{menuItemAction>binding}"\n\t\t\t\t\t\t\t\t\t\ttext="{menuItemAction>text}"\n\t\t\t\t\t\t\t\t\t\tpress="{= ${menuItemAction>command} ? (\'cmd:\' + ${menuItemAction>command}) : ${menuItemAction>press}}"\n\t\t\t\t\t\t\t\t\t\tariaHasPopup="{menuItemAction>requiresDialog}"\n\t\t\t\t\t\t\t\t\t\tvisible="{menuItemAction>visible}"\n\t\t\t\t\t\t\t\t\t\tenabled="{menuItemAction>enabled}"\n\t\t\t\t\t\t\t\t\t\tmacrodata:IBNData="{menuItemAction>customData}"\n\t\t\t\t\t\t\t\t\t/></template:else></template:if></template:repeat></Menu></menu></MenuButton></template:then><template:elseif test="{= ${action>type} === \'Default\'}"><Button\n\t\t\t\tcore:require="{FPM: \'sap/fe/core/helpers/FPMHelper\'}"\n\t\t\t\tid="{= ID.generate([\'fe\',${action>id}])}"\n\t\t\t\tdt:designtime="{= (${action>visible} === \'true\' || ${action>visible} === \'false\')  ? undefined : \'not-adaptable-visibility\'}"\n\t\t\t\ttext="{action>text}"\n\t\t\t\tpress="{= ${action>command} ? (\'cmd:\' + ${action>command}) : COMMON.buildActionWrapper(${action>})}"\n\t\t\t\ttype="Transparent"\n\t\t\t\tvisible="{action>visible}"\n\t\t\t\tenabled="{action>enabled}"\n\t\t\t\ticon="{= ${action>isAIOperation} ? COMMON.getAIIcon() : undefined }"\n\t\t\t/></template:elseif><template:else><Button\n\t\t\t\tid="{action>id}"\n\t\t\t\tdt:designtime="{= (${action>visible} === \'true\' || ${action>visible} === \'false\')  ? undefined : \'not-adaptable-visibility\'}"\n\t\t\t\tbinding="{action>binding}"\n\t\t\t\ttext="{action>text}"\n\t\t\t\ticon="{= ${action>isAIOperation} ? COMMON.getAIIcon() : undefined }"\n\t\t\t\tpress="{= ${action>command} ? (\'cmd:\' + ${action>command}) : ${action>press}}"\n\t\t\t\ttype="{= ${action>buttonType} === \'Ghost\' ? \'Transparent\' : ${action>buttonType}}"\n\t\t\t\tariaHasPopup="{action>requiresDialog}"\n\t\t\t\tvisible="{action>visible}"\n\t\t\t\tenabled="{action>enabled}"\n\t\t\t\tmacrodata:IBNData="{action>customData}"\n\t\t\t/></template:else></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/form/FormContainer.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:macro="sap.fe.macros"\n\txmlns:macroForm="sap.fe.macros.form"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:core="sap.ui.core"\n\txmlns:controls="sap.fe.macros.controls"\n\txmlns:dt="sap.ui.dt"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:fpm="sap.fe.macros.fpm"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFORM: \'sap/fe/macros/form/FormHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tDataField: \'sap/fe/core/templating/DataFieldFormatters\',\n\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tMACRO: \'sap/fe/macros/MacroTemplating\'\n\t}"\n><f:FormContainer\n\t\tcore:require="{FormContainerRuntime: \'sap/fe/macros/form/FormContainerAPI\'}"\n\t\tdt:designtime="{this>designtimeSettings}"\n\t\tid="{= ${this>id} || undefined}"\n\t\tvisible="{this>visible}"\n\t\tmacrodata:navigationPath="{this>navigationPath}"\n\t\tmacrodata:etName="{contextPath>./@sapui.name}"\n\t\tmacrodata:UiHiddenPresent="{this>hasUiHiddenAnnotation}"\n\t><template:if test="{this>title}"><f:title><core:Title level="{this>titleLevel}" text="{this>title}" /></f:title></template:if><template:if test="{actions>}"><template:then><f:toolbar><OverflowToolbar\n\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'FormActionsToolbar\']) : undefined}"\n\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t><Title level="{this>titleLevel}" text="{this>title}" /><ToolbarSpacer /><template:repeat list="{actions>}" var="action"><core:Fragment fragmentName="sap.fe.macros.form.FormActionButtons" type="XML" /></template:repeat></OverflowToolbar></f:toolbar></template:then></template:if><f:dependents><macroForm:FormContainerAPI formContainerId="{this>id}" showDetails="{internal>showDetails}" /></f:dependents><f:formElements><template:with path="dataFieldCollection>" var="formElements"><template:if test="{= ${formElements>0/annotationPath}.indexOf(\'com.sap.vocabularies.UI.v1.DataPoint\') > -1 }"><template:then><template:with path="formElements>0/annotationPath" var="dataPoint"><f:FormElement\n\t\t\t\t\t\t\t\tdt:designtime="{= ${dataPoint>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' :  \'sap/fe/macros/form/FormElement.designtime\' }"\n\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${dataPoint>@@UI.getDataModelObjectPath}]) : undefined}"\n\t\t\t\t\t\t\t\tlabel="{dataPoint>@@FIELD.computeLabelText}"\n\t\t\t\t\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${dataPoint>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t><f:fields><macro:Field\n\t\t\t\t\t\t\t\t\t\tidPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${dataPoint>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\tvhIdPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FieldValueHelp\']) : \'\'}"\n\t\t\t\t\t\t\t\t\t\tcontextPath="{contextPath>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\tmetaPath="{dataPoint>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\teditMode="{= ${this>displayMode} === \'true\' ? \'Display\' : undefined}"\n\t\t\t\t\t\t\t\t\t\tonChange="{this>onChange}"\n\t\t\t\t\t\t\t\t\t><formatOptions textAlignMode="Form" showEmptyIndicator="true" /></macro:Field></f:fields></f:FormElement></template:with></template:then><template:elseif\n\t\t\t\t\t\ttest="{= ${formElements>0/annotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') > -1 }"\n\t\t\t\t\t><template:with path="formElements>0/annotationPath" var="metaPath"><f:FormElement\n\t\t\t\t\t\t\t\tdt:designtime="{= ${metaPath>./@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' :  \'sap/fe/macros/form/FormElement.designtime\' }"\n\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t><f:label><Label\n\t\t\t\t\t\t\t\t\t\ttext="{metaPath>fn/$Path@com.sap.vocabularies.Common.v1.Label}"\n\t\t\t\t\t\t\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t\t><layoutData><f:ColumnElementData cellsLarge="12" /></layoutData></Label></f:label><f:fields><macro:Contact\n\t\t\t\t\t\t\t\t\t\tmetaPath="{metaPath>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\tcontextPath="{contextPath>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\tvisible="true"\n\t\t\t\t\t\t\t\t\t/></f:fields></f:FormElement></template:with></template:elseif><template:else><template:repeat list="{path: \'formElements>\'}" var="dataField"><template:if test="{= ${dataField>type} === \'Annotation\'}"><template:then><template:with path="dataField>annotationPath" var="annotationDataField"><template:if test="{annotationDataField>Target@@DataField.isSemanticallyConnectedFields}"><template:then><f:FormElement\n\t\t\t\t\t\t\t\t\t\t\t\t\tdt:designtime="{= ${annotationDataField>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' : \'sap/fe/macros/form/FormElement.designtime\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'SemanticFormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{= (${dataField>isPartOfPreview}) ? FieldTemplating.visibleExpressionsForConnectedFieldsFormElement(${annotationDataField>@@UI.getDataModelObjectPath}) : \'{= ${internal>showDetails} === true}\'}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t\t\t\t\t><f:label><Label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext="{annotationDataField>@@FIELD.computeLabelText}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'SemanticFormElementLabel\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></f:label><f:fields><controls:FieldWrapper\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired="{= UI.getRequiredExpressionForConnectedDataField(${annotationDataField>Target@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t><HBox wrap="Wrap"><template:repeat\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlist="{annotationDataField>Target/$AnnotationPath/Data}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar="data"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t><template:with\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath="data>"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelper="COMMON.getDataFromTemplate"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar="element"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.macros.internal.field.ConnectedDataField"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></template:with></template:repeat></HBox></controls:FieldWrapper></f:fields></f:FormElement></template:then><template:elseif\n\t\t\t\t\t\t\t\t\t\t\t\ttest="{= ${annotationDataField>Value} &amp;&amp; ${annotationDataField>Value/$Path} &amp;&amp; UI.isMultiValueField(${annotationDataField>Value@@Property.getPropertyObjectPath})}"\n\t\t\t\t\t\t\t\t\t\t\t><f:FormElement\n\t\t\t\t\t\t\t\t\t\t\t\t\txmlns:macros="sap.fe.macros"\n\t\t\t\t\t\t\t\t\t\t\t\t\txmlns:multivaluefield="sap.fe.macros.multivaluefield"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdt:designtime="{= ${annotationDataField>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' :  \'sap/fe/macros/form/FormElement.designtime\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : undefined }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel="{annotationDataField>@@FIELD.computeLabelText}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{= (${dataField>isPartOfPreview}) ? FieldTemplating.getVisibleExpression(${annotationDataField>@@UI.getDataModelObjectPath}) : \'{= ${internal>showDetails} === true}\'}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t\t\t\t\t><f:fields><macros:MultiValueField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}, \'MultiValueField\']) : undefined }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvhIdPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FieldValueHelp\']) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontextPath="{= ${contextPath>@@MACRO.getPath} }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaPath="{= ${annotationDataField>@@MACRO.getPath} }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t><macros:formatOptions><multivaluefield:FormatOptions showEmptyIndicator="true" /></macros:formatOptions></macros:MultiValueField></f:fields></f:FormElement></template:elseif><template:else><f:FormElement\n\t\t\t\t\t\t\t\t\t\t\t\t\tdt:designtime="{= ${annotationDataField>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' :  \'sap/fe/macros/form/FormElement.designtime\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : undefined }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel="{annotationDataField>@@FIELD.computeLabelText}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{= (${dataField>isPartOfPreview}) ? FieldTemplating.getVisibleExpression(${annotationDataField>@@UI.getDataModelObjectPath}) : \'{= ${internal>showDetails} === true}\'}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t\t\t\t\t><f:fields><macro:Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tidPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvhIdPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FieldValueHelp\']) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontextPath="{contextPath>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaPath="{annotationDataField>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange="{this>onChange}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly="{dataField>readOnly}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsemanticObject="{dataField>semanticObject}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t><formatOptions\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextLinesEdit="{dataField>formatOptions/textLinesEdit}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextMaxLines="{dataField>formatOptions/textMaxLines}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextMaxLength="{dataField>formatOptions/textMaxLength}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextMaxCharactersDisplay="{dataField>formatOptions/textMaxCharactersDisplay}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextExpandBehaviorDisplay="{dataField>formatOptions/textExpandBehaviorDisplay}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextAlignMode="Form"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowEmptyIndicator="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldEditStyle="{dataField>formatOptions/fieldEditStyle}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tradioButtonsHorizontalLayout="{dataField>formatOptions/radioButtonsHorizontalLayout}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateTimePattern="{dataField>formatOptions/pattern}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></macro:Field></f:fields></f:FormElement></template:else></template:if></template:with></template:then><template:elseif test="{= ${dataField>type} === \'Default\'}"><f:FormElement\n\t\t\t\t\t\t\t\t\t\tdt:designtime="{= ${dataField>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' :  \'sap/fe/macros/form/FormElement.designtime\' }"\n\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, ${dataField>id}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\tlabel="{dataField>label}"\n\t\t\t\t\t\t\t\t\t\tvisible="{dataField>visible}"\n\t\t\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t\t><f:fields><macroForm:CustomFormElement\n\t\t\t\t\t\t\t\t\t\t\t\tmetaPath="{dataField>propertyPath}"\n\t\t\t\t\t\t\t\t\t\t\t\tcontextPath="{contextPath>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\t\t\tformElementKey="{= ID.generate([${this>id}, ${dataField>key}]) }"\n\t\t\t\t\t\t\t\t\t\t\t><fpm:CustomFragment\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([${this>id}, ${dataField>key}]) }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="{dataField>template}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontextPath="{entitySet>}"\n\t\t\t\t\t\t\t\t\t\t\t\t/></macroForm:CustomFormElement></f:fields></f:FormElement></template:elseif><template:elseif test="{= ${dataField>type} === \'Slot\'}"><slot name="{dataField>key}" /></template:elseif></template:if></template:repeat></template:else></template:if></template:with></f:formElements></f:FormContainer></core:FragmentDefinition>\n',
	"sap/fe/macros/form/FormElementFlexibility.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:macro="sap.fe.macros"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:dt="sap.ui.dt"\n\txmlns:f="sap.ui.layout.form"\n\ttemplate:require="{\n        FIELD: \'sap/fe/macros/field/FieldHelper\',\n        FORM: \'sap/fe/macros/form/FormHelper\',\n        MODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n        COMMON: \'sap/fe/macros/CommonHelper\',\n        UI: \'sap/fe/core/templating/UIFormatters\',\n\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\'\n    }"\n><template:if test="{dataField>@com.sap.vocabularies.UI.v1.DataFieldDefault}"><template:then><template:with path="dataField>@com.sap.vocabularies.UI.v1.DataFieldDefault" var="dataField"><core:Fragment fragmentName="sap.fe.macros.form.FormElementFlexibility" type="XML" /></template:with></template:then><template:else><f:FormElement\n\t\t\t\tid="{= ${this>_flexId} + \'_FormElement\'}"\n\t\t\t\tlabel="{= ${dataField>@com.sap.vocabularies.Common.v1.Label} || ${dataField>@@MODEL.label} || \'[LABEL_MISSING: \' + ${dataField>@@FIELD.propertyName} +\']\'}"\n\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${entitySet>@@UI.getDataModelObjectPath})}"\n\t\t\t\tdt:designtime="{= ${dataField>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' :  \'sap/fe/macros/form/FormElement.designtime\' }"\n\t\t\t><macro:Field\n\t\t\t\t\teditMode="{= ${this>displayMode} === \'true\' ? \'Display\' : undefined}"\n\t\t\t\t\t_flexId="{this>_flexId}"\n\t\t\t\t\tvhIdPrefix="FieldValueHelp"\n\t\t\t\t\tcontextPath="{entitySet>@@COMMON.getMetaPath}"\n\t\t\t\t\tmetaPath="{dataField>@@COMMON.getMetaPath}"\n\t\t\t\t\tonChange="{this>onChange}"\n\t\t\t\t><formatOptions textAlignMode="Form" showEmptyIndicator="true" /></macro:Field></f:FormElement></template:else></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/field/ConnectedDataField.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:macroField="sap.fe.macros.field"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><macro:Field\n\t\tidPrefix="{= ${this>id} ? ID.generate([${this>id}, \'SemanticFormElement\', ${annotationDataField>@@UI.getDataModelObjectPath},${element>Value/$Path}]) : \'\' }"\n\t\tvhIdPrefix="{= ${this>id} ? ID.generate([${this>id},${annotationDataField>@@UI.getDataModelObjectPath}, \'FieldValueHelp\']) : \'\' }"\n\t\tcontextPath="{entitySet>@@COMMON.getMetaPath}"\n\t\tmetaPath="{element>@@COMMON.getMetaPath}"\n\t\tonChange="{this>onChange}"\n\t\tariaLabelledBy="{= ${this>id} ? ID.generate([${this>id}, \'SemanticFormElementLabel\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t><macro:formatOptions><macroField:FieldFormatOptions\n\t\t\t\ttextLinesEdit="{element>formatOptions/textLinesEdit}"\n\t\t\t\ttextMaxLines="{element>formatOptions/textMaxLines}"\n\t\t\t\ttextMaxCharactersDisplay="{dataField>formatOptions/textMaxCharactersDisplay}"\n\t\t\t\ttextMaxLength="{dataField>formatOptions/textMaxLength}"\n\t\t\t\ttextExpandBehaviorDisplay="{dataField>formatOptions/textExpandBehaviorDisplay}"\n\t\t\t\ttextAlignMode="Form"\n\t\t\t\tshowEmptyIndicator="true"\n\t\t\t\tfieldEditStyle="{dataField>formatOptions/fieldEditStyle}"\n\t\t\t\tradioButtonsHorizontalLayout="{datafield>formatOptions/radioButtonsHorizontalLayout}"\n\t\t\t/></macro:formatOptions><macro:layoutData><FlexItemData growFactor="{= %{ui>/isEditable} ? 1 : 0}" /></macro:layoutData></macro:Field><template:if test="{= COMMON.notLastIndex(${annotationDataField>Target/$AnnotationPath/}, ${element>})}"><template:then><Text\n\t\t\t\ttext="{= COMMON.getDelimiter(${annotationDataField>Target/$AnnotationPath/Template})}"\n\t\t\t\tclass="sapUiSmallMarginBeginEnd"\n\t\t\t\twidth="100%"\n\t\t\t/></template:then></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/filterField/FilterFieldTemplate.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\ttemplate:require="{\n\t\tCOMMON_HELPER: \'sap/fe/macros/CommonHelper\'\n\t}"\n><internalMacro:FilterField\n\t\tidPrefix="{this>idPrefix}"\n\t\tvhIdPrefix="{this>vhIdPrefix}"\n\t\tproperty="{property>}"\n\t\tcontextPath="{contextPath>}"\n\t\tuseSemanticDateRange="{this>useSemanticDateRange}"\n\t\tsettings="{= COMMON_HELPER.stringifyCustomData(${this>settings}) }"\n\t\tvisualFilter="{visualFilter>}"\n\t\teditMode="{this>editMode}"\n\t/></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/valuehelp/ValueListDialogTable.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:plugins="sap.m.plugins"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tVLH: \'sap/fe/macros/internal/valuehelp/ValueListHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tTableHelper: \'sap/fe/macros/table/TableHelper\',\n\t\tDevice: \'sap/ui/Device\'\n\t}"\n><template:with path="valueList>" helper="VLH.getValueListCollectionEntitySet" var="entitySet"><mdc:Table\n\t\t\tid="{source>id}::Table"\n\t\t\tdelegate="{parts: [{path:\'valueList>\'}], formatter:\'VLH.getTableDelegate\'}"\n\t\t\tthreshold="20"\n\t\t\tp13nMode="Sort"\n\t\t\tshowRowCount="true"\n\t\t\tsortConditions="{parts: [{path:\'valueList>\'},{path:\'source>/bSuggestion\'}], formatter:\'VLH.getSortConditionsFromPresentationVariant\'}"\n\t\t\tmacrodata:columns="{= COMMON.stringifyCustomData(${viewData>/columns})}"\n\t\t\tautoBindOnInit="false"\n\t\t><mdc:columns><template:repeat list="{valueList>Parameters}" var="parameter"><template:if\n\t\t\t\t\t\ttest="{= ${parameter>$Type} !== \'com.sap.vocabularies.Common.v1.ValueListParameterIn\'  &amp;&amp; ${parameter>$Type} !== \'com.sap.vocabularies.Common.v1.ValueListParameterConstant\'}"\n\t\t\t\t\t><template:with path="parameter>ValueListProperty" var="property" helper="VLH.getValueListProperty"><template:if\n\t\t\t\t\t\t\t\ttest="{parts:[{path:\'valueList>\'}, {path:\'parameter>\'}, {path:\'source>\'}],formatter:\'VLH.getColumnVisibility\'}"\n\t\t\t\t\t\t\t><mdc:table.Column\n\t\t\t\t\t\t\t\t\twidth="{= \'{parts: [{value: \\\'getColumnWidthForValueHelpTable\\\'}, {path: \\\'internal>tablePropertiesAvailable\\\', targetType: \\\'any\\\'},{value: \\\'\' + ${parameter>ValueListProperty}+ \'\\\'} , {value: false}], formatter: \\\'sap.fe.macros.formatters.TableFormatter\\\'}\' }"\n\t\t\t\t\t\t\t\t\tminWidth="{= \'{parts: [{value: \\\'getColumnWidthForValueHelpTable\\\'}, {path: \\\'internal>tablePropertiesAvailable\\\', targetType: \\\'any\\\'},{value: \\\'\' + ${parameter>ValueListProperty}+ \'\\\'} , {value: true}], formatter: \\\'sap.fe.macros.formatters.TableFormatter\\\'}\' }"\n\t\t\t\t\t\t\t\t\theader="{= ${property>@com.sap.vocabularies.Common.v1.Label} || ${property>@sapui.name@@MODEL.value}}"\n\t\t\t\t\t\t\t\t\thAlign="{= ValueHelpTemplating.getColumnHAlign(${property>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\tpropertyKey="{= ValueHelpTemplating.getColumnDataProperty(${parameter>ValueListProperty},${property>@@Property.getPropertyObjectPath})}"\n\t\t\t\t\t\t\t\t><macro:Field\n\t\t\t\t\t\t\t\t\t\teditMode="Display"\n\t\t\t\t\t\t\t\t\t\tcontextPath="{entitySet>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\tmetaPath="{property>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\tmetaModel="{entitySet>@@COMMON.getMetaModelId}"\n\t\t\t\t\t\t\t\t\t\twrap="false"\n\t\t\t\t\t\t\t\t\t\tvhIdPrefix="FieldValueHelp"\n\t\t\t\t\t\t\t\t\t><formatOptions\n\t\t\t\t\t\t\t\t\t\t\tdisplayMode="{= ValueHelpTemplating.getValueHelpTableDisplayMode(${property>@@Property.getPropertyObjectPath})}"\n\t\t\t\t\t\t\t\t\t\t/></macro:Field></mdc:table.Column></template:if></template:with></template:if></template:repeat></mdc:columns><mdc:type><template:if test="{parts: [{path:\'valueList>\'}], formatter:\'VLH.isTreeTableType\'}"><template:then><mdc:table.TreeTableType /></template:then><template:elseif test="{= Device.system.phone}"><mdc:table.ResponsiveTableType /></template:elseif><template:else><mdc:table.GridTableType /></template:else></template:if></mdc:type><mdc:dependents><plugins:CellSelector rangeLimit="200" /></mdc:dependents><mdc:copyProvider><plugins:CopyProvider /></mdc:copyProvider></mdc:Table></template:with></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/valuehelp/ValueListFilterBar.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros.valuehelp"\n><macro:ValueHelpFilterBar\n\t\tid="{source>id}::FilterBar"\n\t\tcontextPath="{contextPath>}"\n\t\t_valueList="{valueList>}"\n\t\tliveMode="false"\n\t\tenableFallback="true"\n\t\thideBasicSearch="true"\n\t/></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/valuehelp/ValueListForCondition.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcv="sap.ui.mdc.valuehelp"\n\txmlns:mdcvc="sap.ui.mdc.valuehelp.content"\n\ttemplate:require="{\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><mdc:ValueHelp\n\t\tdelegate="{= ValueHelpTemplating.getDelegateConfigurationForDefineConditions(${source>propertyPath})}"\n\t\tvalidateInput="false"\n\t><mdc:typeahead><mdcv:Popover><mdcvc:MTable\n\t\t\t\t\tuseAsValueHelp="false"\n\t\t\t\t\tkeyPath="{source>keyPath}"\n\t\t\t\t\tdescriptionPath="{source>descriptionPath}"\n\t\t\t\t\tcaseSensitive="{source>caseSensitive}"\n\t\t\t\t><core:Fragment fragmentName="sap.fe.macros.internal.valuehelp.ValueListTable" type="XML" /></mdcvc:MTable></mdcv:Popover></mdc:typeahead></mdc:ValueHelp></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/valuehelp/ValueListTable.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:customdata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\ttemplate:require="{\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tVLH: \'sap/fe/macros/internal/valuehelp/ValueListHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><Table\n\t\tcore:require="{AVLH: \'sap/fe/macros/internal/valuehelp/AdditionalValueHelper\'}"\n\t\tid="{source>id}::SuggestTable"\n\t\titems="{parts: [{path:\'valueList>\'}, {path:\'source>/requestGroupId\'}, {path:\'source>/bSuggestion\'}, {path:\'source>/valueHelpWithFixedValues\'}], formatter:\'VLH.getTableItemsParameters\'}"\n\t\tsticky="ColumnHeaders"\n\t\tgrowing="{= ${source>/valueHelpWithFixedValues} ? true : ValueHelpTemplating.getGrowingFormatter(${source>/propertyPath})}"\n\t\tgrowingScrollToLoad="{= ${source>/valueHelpWithFixedValues} ? true : ValueHelpTemplating.getGrowingFormatter(${source>/propertyPath})}"\n\t\tupdateFinished="AVLH.additionalValueHelper.updateFinished"\n\t\tcustomdata:sorters="{parts: [{path:\'valueList>\'}, {path: \'source>/valueHelpWithFixedValues\'}], formatter:\'VLH.getSortConditionsForValueList\'}"\n\t><columns><template:repeat list="{path: \'valueList>Parameters\'}" var="parameter"><template:if\n\t\t\t\t\ttest="{= ${parameter>$Type} !== \'com.sap.vocabularies.Common.v1.ValueListParameterIn\'  &amp;&amp; ${parameter>$Type} !== \'com.sap.vocabularies.Common.v1.ValueListParameterConstant\'}"\n\t\t\t\t><template:with path="parameter>ValueListProperty" var="dataField" helper="VLH.getValueListProperty"><template:if test="{= !(${dataField>@com.sap.vocabularies.UI.v1.Hidden} === true)}"><Column\n\t\t\t\t\t\t\t\tvisible="{parts:[{path:\'valueList>\'}, {path:\'parameter>\'}, {path:\'source>\'}],formatter:\'VLH.getColumnVisibility\'}"\n\t\t\t\t\t\t\t\tminScreenWidth="{path:\'valueList>\',formatter:\'VLH.getMinScreenWidth\'}"\n\t\t\t\t\t\t\t\tdemandPopin="true"\n\t\t\t\t\t\t\t\tpopinDisplay="Inline"\n\t\t\t\t\t\t\t\thAlign="{= ValueHelpTemplating.getColumnHAlign(${dataField>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\twidth="{=VLH.getColumnWidth(${dataField>@@UI.getDataModelObjectPath}, ${source>/valueHelpWithFixedValues})}"\n\t\t\t\t\t\t\t><template:if test="{= !(${source>valueHelpWithFixedValues} === true)}"><core:Fragment fragmentName="sap.fe.macros.internal.valuehelp.ValueListTableColumnHeader" type="XML" /></template:if></Column></template:if></template:with></template:if></template:repeat></columns><items><ColumnListItem type="Active" customdata:ensurePropertyLoaded="{= VLH.getOutParameterPaths(${valueList>Parameters}) }"><cells><template:with path="valueList>" helper="VLH.getValueListCollectionEntitySet" var="entitySet"><template:repeat list="{valueList>Parameters}" var="parameter"><template:if test="{= ${parameter>$Type} !== \'com.sap.vocabularies.Common.v1.ValueListParameterIn\'}"><template:with path="parameter>ValueListProperty" var="property" helper="VLH.getValueListProperty"><template:if test="{= !(${property>@com.sap.vocabularies.UI.v1.Hidden} === true)}"><macro:Field\n\t\t\t\t\t\t\t\t\t\t\teditMode="Display"\n\t\t\t\t\t\t\t\t\t\t\tcontextPath="{entitySet>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\t\tmetaPath="{property>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\t\tmetaModel="{entitySet>@@COMMON.getMetaModelId}"\n\t\t\t\t\t\t\t\t\t\t\tvhIdPrefix="FieldValueHelp"\n\t\t\t\t\t\t\t\t\t\t><formatOptions\n\t\t\t\t\t\t\t\t\t\t\t\tdisplayMode="{= ValueHelpTemplating.getValueHelpTableDisplayMode(${property>@@Property.getPropertyObjectPath}, ${source>valueHelpWithFixedValues}) }"\n\t\t\t\t\t\t\t\t\t\t\t/></macro:Field></template:if></template:with></template:if></template:repeat></template:with></cells></ColumnListItem></items></Table></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/valuehelp/ValueListTableColumnHeader.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\'\n\t}"\n><template:if test="{dataField>Label}"><template:then><Label text="{dataField>Label@@MODEL.value}" wrapping="true" wrappingType="Hyphenated" /></template:then><template:elseif test="{dataField>@com.sap.vocabularies.Common.v1.Label}"><Label text="{dataField>@com.sap.vocabularies.Common.v1.Label@@MODEL.value}" wrapping="true" wrappingType="Hyphenated" /></template:elseif><template:else><Label text="[{dataField>@sapui.name@@MODEL.value}]" wrapping="true" wrappingType="Hyphenated" /></template:else></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.fe.macros","type":"library","embeds":[],"applicationVersion":{"version":"1.136.0"},"title":"UI5 library: sap.fe.macros","description":"UI5 library: sap.fe.macros","ach":"CA-UI5-FE","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.136","libs":{"sap.m":{"minVersion":"1.136.0"},"sap.suite.ui.microchart":{"minVersion":"1.136.0","lazy":true},"sap.ui.core":{"minVersion":"1.136.0"},"sap.f":{"minVersion":"1.136.0"},"sap.fe.core":{"minVersion":"1.136.0"},"sap.fe.navigation":{"minVersion":"1.136.0"},"sap.fe.controls":{"minVersion":"1.136.0"},"sap.ui.layout":{"minVersion":"1.136.0"},"sap.ui.unified":{"minVersion":"1.136.0"},"sap.ui.mdc":{"minVersion":"1.136.0"},"sap.ui.richtexteditor":{"minVersion":"1.136.0","lazy":true},"sap.uxap":{"minVersion":"1.136.0","lazy":true}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"css":false,"content":{"controls":[],"elements":[],"types":["sap.fe.macros.NavigationType"],"interfaces":[]}}}}',
	"sap/fe/macros/quickView/fragments/QuickViewFacets.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:contact="sap.fe.macros.contact"\n\ttemplate:require="{\n\t\t\t\tCONTACT: \'sap/fe/macros/contact/ContactHelper\',\n\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\t\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\'\n\t\t\t\t}"\n><template:if test="{entityType>./@com.sap.vocabularies.UI.v1.QuickViewFacets}"><template:repeat list="{entityType>./@com.sap.vocabularies.UI.v1.QuickViewFacets}" var="facet"><template:if test="{= ${facet>Target/$AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') > -1 }"><template:then><template:with path="facet>Target/$AnnotationPath" var="contact"><f:SimpleForm\n\t\t\t\t\t\t\teditable="false"\n\t\t\t\t\t\t\tlayout="ResponsiveGridLayout"\n\t\t\t\t\t\t\tmaxContainerCols="1"\n\t\t\t\t\t\t\tclass="sapMQuickViewPage sapUiTinyMarginBottom"\n\t\t\t\t\t\t\tvisible="{= UI.isQuickViewFacetVisible(${facet>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t><contact:TeamContactOptions mail="{= CONTACT.getMsTeamsMail(${contact>@@UI.getDataModelObjectPath})}" /><template:if test="{= !!${facet>Label} }"><Title level="H4" text="{facet>Label}" class="sapUiTinyMarginBottom" /></template:if><core:Fragment fragmentName="sap.fe.macros.contact.ContactQuickViewGroup" type="XML" /></f:SimpleForm></template:with></template:then><template:elseif test="{= (${facet>Target/$AnnotationPath}.indexOf(\'com.sap.vocabularies.UI.v1.FieldGroup\') > -1)}"><template:with path="facet>Target/$AnnotationPath" var="fieldGroup"><f:SimpleForm\n\t\t\t\t\t\t\teditable="false"\n\t\t\t\t\t\t\tlayout="ResponsiveGridLayout"\n\t\t\t\t\t\t\tmaxContainerCols="1"\n\t\t\t\t\t\t\tclass="sapMQuickViewPage sapUiTinyMarginBottom"\n\t\t\t\t\t\t\tvisible="{= UI.isQuickViewFacetVisible(${facet>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t><template:if test="{= !!${facet>Label} }"><core:Title level="H4" text="{facet>Label}" /></template:if><template:repeat list="{fieldGroup>Data}" var="dataField"><core:Fragment fragmentName="sap.fe.macros.quickView.fragments.QuickViewFormField" type="XML" /></template:repeat></f:SimpleForm></template:with></template:elseif><template:elseif test="{= (${facet>Target/$AnnotationPath}.indexOf(\'com.sap.vocabularies.UI.v1.Identification\') > -1) }"><template:with path="facet>Target/$AnnotationPath" var="identification"><f:SimpleForm\n\t\t\t\t\t\t\teditable="false"\n\t\t\t\t\t\t\tlayout="ResponsiveGridLayout"\n\t\t\t\t\t\t\tmaxContainerCols="1"\n\t\t\t\t\t\t\tclass="sapMQuickViewPage sapUiTinyMarginBottom"\n\t\t\t\t\t\t\tvisible="{= UI.isQuickViewFacetVisible(${facet>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t><template:if test="{= !!${facet>Label} }"><core:Title level="H4" text="{facet>Label}" /></template:if><template:repeat list="{identification>}" var="dataField"><core:Fragment fragmentName="sap.fe.macros.quickView.fragments.QuickViewFormField" type="XML" /></template:repeat></f:SimpleForm></template:with></template:elseif><template:elseif test="{= (${facet>Target/$AnnotationPath}.indexOf(\'com.sap.vocabularies.UI.v1.DataPoint\') > -1) }"><template:with path="facet>Target/$AnnotationPath" var="dataPoint"><f:SimpleForm\n\t\t\t\t\t\t\teditable="false"\n\t\t\t\t\t\t\tlayout="ResponsiveGridLayout"\n\t\t\t\t\t\t\tmaxContainerCols="1"\n\t\t\t\t\t\t\tclass="sapMQuickViewPage sapUiTinyMarginBottom"\n\t\t\t\t\t\t\tvisible="{= UI.isQuickViewFacetVisible(${facet>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t><template:if test="{= !!${facet>Label} }"><core:Title level="H4" text="{facet>Label}" /></template:if><Label text="{dataField>@@MODEL.label}" /><Text\n\t\t\t\t\t\t\t\ttext="{= ${dataPoint>TargetValue@@MODEL.format} ? ${dataPoint>Value@@MODEL.format}+\'/\'+${dataPoint>TargetValue@@MODEL.format} : ${dataPoint>Value@@MODEL.format} }"\n\t\t\t\t\t\t\t/></f:SimpleForm></template:with></template:elseif></template:if></template:repeat></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/quickView/fragments/QuickViewForDataField.fragment.xml":'<core:FragmentDefinition\n\txmlns:core="sap.ui.core"\n\txmlns:macros="sap.fe.macros.quickView"\n\txmlns="sap.m"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMACRO: \'sap/fe/macros/MacroTemplating\'\n\t }"\n><VBox class="sapUiTinyMarginTopBottom" /></core:FragmentDefinition>\n',
	"sap/fe/macros/quickView/fragments/QuickViewForEntity.fragment.xml":'<core:FragmentDefinition\n\txmlns:core="sap.ui.core"\n\txmlns:macros="sap.fe.macros.quickView"\n\txmlns="sap.m"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMACRO: \'sap/fe/macros/MacroTemplating\'\n\t }"\n><VBox class="sapFePaddingTop sapUiTinyMarginBottom"><core:Fragment fragmentName="sap.fe.macros.quickView.fragments.QuickViewFacets" type="XML" /></VBox></core:FragmentDefinition>\n',
	"sap/fe/macros/quickView/fragments/QuickViewFormField.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\ttemplate:require="{\n\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\t\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\'\n\t\t\t\t}"\n><Label text="{dataField>@@MODEL.label}" /><template:if test="{= FieldTemplating.getQuickViewType(${dataField>@@UI.getDataModelObjectPath})===\'link\'}"><template:then><Link\n\t\t\t\ttext="{= FieldTemplating.getQuickViewBinding(${dataField>Value@@UI.getDataModelObjectPath}) }"\n\t\t\t\thref="{= FieldTemplating.getQuickViewBinding(${dataField>Url@@UI.getDataModelObjectPath}) }"\n\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\temptyIndicatorMode="On"\n\t\t\t/></template:then><template:elseif test="{= FieldTemplating.getQuickViewType(${dataField>@@UI.getDataModelObjectPath})===\'phone\'}"><Link\n\t\t\t\ttext="{= FieldTemplating.getQuickViewBinding(${dataField>Value@@UI.getDataModelObjectPath}) }"\n\t\t\t\thref="{= \'phone:\' + FieldTemplating.getValueBinding(${dataField>Value@@UI.getDataModelObjectPath}) }"\n\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\temptyIndicatorMode="On"\n\t\t\t/></template:elseif><template:elseif test="{= FieldTemplating.getQuickViewType(${dataField>@@UI.getDataModelObjectPath})===\'email\'}"><Link\n\t\t\t\ttext="{= FieldTemplating.getQuickViewBinding(${dataField>Value@@UI.getDataModelObjectPath}) }"\n\t\t\t\thref="{= \'mailto:\' + FieldTemplating.getValueBinding(${dataField>Value@@UI.getDataModelObjectPath}) }"\n\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\temptyIndicatorMode="On"\n\t\t\t/></template:elseif><template:else><Text\n\t\t\t\ttext="{= FieldTemplating.getQuickViewBinding(${dataField>Value@@UI.getDataModelObjectPath}) }"\n\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\temptyIndicatorMode="On"\n\t\t\t/></template:else></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/share/ShareSheet.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:footerbar="sap.ushell.ui.footerbar"><ActionSheet cancelButtonPress="onCancelPressed"><buttons><Button icon="sap-icon://email" press="shareEmailPressed" text="{share>/emailButtonText}" class="sapMFlexBox" width="100%" /><Button\n\t\t\t\ticon="sap-icon://share-2"\n\t\t\t\tpress="shareJamPressed"\n\t\t\t\ttext="{share>/jamButtonText}"\n\t\t\t\tvisible="{share>/jamVisible}"\n\t\t\t\tclass="sapMFlexBox"\n\t\t\t\twidth="100%"\n\t\t\t/><Button\n\t\t\t\ticon="sap-icon://group"\n\t\t\t\tpress="shareMSTeamsPressed"\n\t\t\t\ttext="{share>/msTeamsShareButtonText}"\n\t\t\t\tvisible="{share>/msTeamsVisible}"\n\t\t\t\tclass="sapMFlexBox"\n\t\t\t\twidth="100%"\n\t\t\t/><footerbar:AddBookmarkButton\n\t\t\t\ttitle="{share>/title}"\n\t\t\t\tsubtitle="{share>/subtitle}"\n\t\t\t\ttileIcon="{share>/icon}"\n\t\t\t\tcustomUrl="{share>/url}"\n\t\t\t\tserviceUrl="{share>/queryUrl}"\n\t\t\t\tclass="sapMFlexBox"\n\t\t\t\twidth="100%"\n\t\t\t\tpress="onSaveTilePress"\n\t\t\t\tvisible="{share>/saveAsTileVisible}"\n\t\t\t/></buttons></ActionSheet></core:FragmentDefinition>\n',
	"sap/fe/macros/valuehelp/ValueHelpFilterBar.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcFbVh="sap.ui.mdc.valuehelp"\n\txmlns="sap.m"\n\txmlns:macro="sap.fe.macros"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:log="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:macroData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tMACRO: \'sap/fe/macros/MacroTemplating\'\n\t}"\n><mdcFbVh:FilterBar\n\t\tid="{this>id}"\n\t\tliveMode="{this>liveMode}"\n\t\tdelegate="{= \'{name:\\\'sap/fe/macros/filterBar/FilterBarDelegate\\\', payload: {entityTypePath: \\\'\' + ${contextPath>@@MACRO.getPath} + \'\\\'} }\' }"\n\t\tsearch="{this>search}"\n\t\tfilterChanged="{this>filterChanged}"\n\t\tfilterConditions="{this>filterConditions}"\n\t\tsuspendSelection="{this>suspendSelection}"\n\t\texpandFilterFields="{this>expandFilterFields}"\n\t\tshowMessages="false"\n\t\tmacroData:hideBasicSearch="{this>hideBasicSearch}"\n\t\tmacroData:useSemanticDateRange="{this>useSemanticDateRange}"\n\t\tmacroData:selectionFields="{= COMMON.stringifyCustomData(${this>selectionFields}) }"\n\t\tmacroData:entityType="{contextPath>@@MACRO.getPath}"\n\t><mdcFbVh:dependents><template:repeat list="{path:\'selectionFields>\'}" var="item"><template:if test="{= ${item>availability} === \'Default\' &amp;&amp; ${item>template} === undefined}"><template:with path="item>annotationPath" var="property"><macro:ValueHelp\n\t\t\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'FilterFieldValueHelp\', COMMON.getNavigationPath(${item>annotationPath})]) }"\n\t\t\t\t\t\t\tcontextPath="{contextPath>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\tconditionModel="$filters"\n\t\t\t\t\t\t\tmetaModel="{contextPath>@@COMMON.getMetaModelId}"\n\t\t\t\t\t\t\tmetaPath="{property>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\tfilterFieldValueHelp="true"\n\t\t\t\t\t\t\tuseSemanticDateRange="{this>useSemanticDateRange}"\n\t\t\t\t\t\t/></template:with></template:if></template:repeat><template:if\n\t\t\t\ttest="{= !${path:\'contextPath>@com.sap.vocabularies.UI.v1.SelectionFields\'}  &amp;&amp; (${this>enableFallback} === true)}"\n\t\t\t><template:repeat\n\t\t\t\t\tlist="{path:\'contextPath>\', filters: {path: \'$kind\', operator: \'EQ\', value1:\'Property\'}}"\n\t\t\t\t\tvar="selectionField"\n\t\t\t\t><template:with path="selectionField>" var="item"><macro:ValueHelp\n\t\t\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'FilterFieldValueHelp\']) }"\n\t\t\t\t\t\t\tcontextPath="{contextPath>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\tmetaModel="{contextPath>@@COMMON.getMetaModelId}"\n\t\t\t\t\t\t\tconditionModel="$filters"\n\t\t\t\t\t\t\tmetaPath="{item>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\tfilterFieldValueHelp="true"\n\t\t\t\t\t\t\tuseSemanticDateRange="{this>useSemanticDateRange}"\n\t\t\t\t\t\t/></template:with></template:repeat></template:if></mdcFbVh:dependents><template:if test="{= !${this>hideBasicSearch} }"><mdcFbVh:basicSearchField><mdc:FilterField\n\t\t\t\t\tplaceholder="{sap.fe.i18n>M_FILTERBAR_SEARCH}"\n\t\t\t\t\tpropertyKey="$search"\n\t\t\t\t\tconditions="{$filters>/conditions/$search}"\n\t\t\t\t\tdataType="Edm.String"\n\t\t\t\t\tmaxConditions="1"\n\t\t\t\t/></mdcFbVh:basicSearchField></template:if><mdcFbVh:filterItems><template:repeat list="{path:\'selectionFields>\'}" var="item"><template:if test="{= ${item>availability} === \'Default\'}"><template:if test="{= ${item>template} === undefined}"><template:then><template:with path="item>annotationPath" var="property"><internalMacro:FilterField\n\t\t\t\t\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'FilterField\', COMMON.getNavigationPath(${item>annotationPath})]) }"\n\t\t\t\t\t\t\t\t\tvhIdPrefix="{= ID.generate([${this>id}, \'FilterFieldValueHelp\', COMMON.getNavigationPath(${item>annotationPath})]) }"\n\t\t\t\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\t\t\t\tproperty="{property>}"\n\t\t\t\t\t\t\t\t\t_valueList="{_valueList>}"\n\t\t\t\t\t\t\t\t\tuseSemanticDateRange="{this>useSemanticDateRange}"\n\t\t\t\t\t\t\t\t\tsettings="{= COMMON.stringifyCustomData(${item>settings}) }"\n\t\t\t\t\t\t\t\t/></template:with></template:then><template:else><core:Fragment fragmentName="sap.fe.macros.filter.CustomFilter" type="XML" /></template:else></template:if></template:if></template:repeat><template:if\n\t\t\t\ttest="{= !${contextPath>@com.sap.vocabularies.UI.v1.SelectionFields} &amp;&amp; (${this>enableFallback} === true) }"\n\t\t\t><template:repeat\n\t\t\t\t\tlist="{path:\'contextPath>\', filters: {path: \'$kind\', operator: \'EQ\', value1:\'Property\'}}"\n\t\t\t\t\tvar="selectionField"\n\t\t\t\t><internalMacro:FilterField\n\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\tproperty="{selectionField>}"\n\t\t\t\t\t\t_valueList="{_valueList>}"\n\t\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'FilterField\']) }"\n\t\t\t\t\t\tvhIdPrefix="{= ID.generate([${this>id}, \'FilterFieldValueHelp\']) }"\n\t\t\t\t\t\tuseSemanticDateRange="{this>useSemanticDateRange}"\n\t\t\t\t\t\tlog:comment="Taken from Properties"\n\t\t\t\t\t\tsettings="{= COMMON.stringifyCustomData(${selectionField>settings}) }"\n\t\t\t\t\t/></template:repeat></template:if></mdcFbVh:filterItems></mdcFbVh:FilterBar></core:FragmentDefinition>\n',
	"sap/fe/macros/visualfilters/fragments/InteractiveDonutChart.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:m="sap.m"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tHELPER: \'sap/fe/macros/visualfilters/InteractiveChartHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n        FieldHelper: \'sap/fe/macros/field/FieldHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\',\n\t\tMACRO: \'sap/fe/macros/MacroTemplating\'\n\t}"\n\tcore:require="{\n\t\tVisualFilterRuntime: \'sap/fe/macros/visualfilters/VisualFilterRuntime\'\n\t}"\n><template:if test="{= ${chartAnnotation>Measures/0/} &amp;&amp; ${chartAnnotation>Dimensions/0/} }"><template:then><template:with path="chartAnnotation>Measures/0" helper="COMMON.getMeasureAttributeForMeasure" var="DataPoint"><template:with path="chartAnnotation>Measures/0/" var="Measure"><template:with path="chartAnnotation>Dimensions/0/" var="Dimension"><InteractiveDonutChart\n\t\t\t\t\t\t\tcore:require="{VisualFilterRuntime: \'sap/fe/macros/visualfilters/VisualFilterRuntime\'}"\n\t\t\t\t\t\t\tselectionChanged="VisualFilterRuntime.selectionChanged"\n\t\t\t\t\t\t\tvisible="{= \'{= !${internal>\' + ID.generate([${metaPath>@@MACRO.getPath}]) + \'/showOverLayForVF}}\'}"\n\t\t\t\t\t\t\tsegments="{parts:[{path:\'chartAnnotation>\'},{path:\'contextPath>\'},{path: \'Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text\'},{path:\'Dimension>$PropertyPath/$Type\'},{path:\'metaPath>SortOrder\'}, {path: \'this>selectionVariantAnnotation\'}, {path:\'this>bCustomAggregate\'}, {path:\'this>aggregateProperties\'}, {path:\'this>bUoMHasCustomAggregate\'}],formatter:\'HELPER.getAggregationBinding\'}"\n\t\t\t\t\t\t\tmacrodata:outParameter="{= ${this>outParameter}}"\n\t\t\t\t\t\t\tmacrodata:valuelistProperty="{= ${this>valuelistProperty}}"\n\t\t\t\t\t\t\tmacrodata:multipleSelectionAllowed="{= %{this>multipleSelectionAllowed}}"\n\t\t\t\t\t\t\tmacrodata:dimension="{= ${Dimension>$PropertyPath}}"\n\t\t\t\t\t\t\tmacrodata:dimensionText="{= ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text} ? ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text/$Path} : undefined}"\n\t\t\t\t\t\t\tmacrodata:measure="{= ${Measure>$PropertyPath}}"\n\t\t\t\t\t\t\tmacrodata:scalefactor="{= HELPER.getScaleFactor(${DataPoint>ValueFormat})}"\n\t\t\t\t\t\t\tmacrodata:uom="{parts:[{path:\'chartAnnotation>\'},{path:\'contextPath>\'},{value:\'true\'}, {path:\'this>bCustomAggregate\'}, {path:\'this>aggregateProperties\'}],formatter:\'HELPER.getUoM\'}"\n\t\t\t\t\t\t\tmacrodata:inParameters="{= COMMON.stringifyCustomData(${this>inParameters}) }"\n\t\t\t\t\t\t\tmacrodata:inParameterConditions="{= ${this>inParameters} !== undefined ? HELPER.getInParameterFiltersBinding(${this>inParameters}) : undefined}"\n\t\t\t\t\t\t\tmacrodata:dimensionType="{= ${Dimension>$PropertyPath/$Type}}"\n\t\t\t\t\t\t\tmacrodata:selectionVariantAnnotation="{= COMMON.stringifyCustomData(${this>selectionVariantAnnotation})}"\n\t\t\t\t\t\t\tmacrodata:required="{this>required}"\n\t\t\t\t\t\t\tmacrodata:showOverlayInitially="{this>showOverlayInitially}"\n\t\t\t\t\t\t\tmacrodata:requiredProperties="{this>requiredProperties}"\n\t\t\t\t\t\t\tmacrodata:infoPath="{= ID.generate([${metaPath>@@MACRO.getPath}]) }"\n\t\t\t\t\t\t><segments><InteractiveDonutChartSegment\n\t\t\t\t\t\t\t\t\tcore:require="{VisualFilterRuntime: \'sap/fe/macros/visualfilters/VisualFilterRuntime\'}"\n\t\t\t\t\t\t\t\t\tlabel="{= FieldTemplating.getTextBinding(${Dimension>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t\tvalue="{= ${Measure>$PropertyPath@@HELPER.getChartValue} }"\n\t\t\t\t\t\t\t\t\tdisplayedValue="{parts:[ {path: \'Measure>$PropertyPath\'}, {path: \'DataPoint>ValueFormat\'}, {path: \'metaPath>@@MACRO.getPath\'}], formatter: \'HELPER.getChartDisplayedValue\'}"\n\t\t\t\t\t\t\t\t\tcolor="{parts:[{path:\'DataPoint>@@UI.getDataModelObjectPath\'}, {path:\'Dimension>\'}], formatter: \'HELPER.getColorBinding\'}"\n\t\t\t\t\t\t\t\t\tselected="{path: \'$field>/conditions\', formatter: \'VisualFilterRuntime.getAggregationSelected\'}"\n\t\t\t\t\t\t\t\t/></segments></InteractiveDonutChart><m:VBox\n\t\t\t\t\t\t\tclass="sapUiOverlay sapUiResponsiveMargin"\n\t\t\t\t\t\t\tvisible="{= \'{internal>\' + ID.generate([${metaPath>@@MACRO.getPath}]) + \'/showOverLayForVF}\'}"\n\t\t\t\t\t\t><m:Text text="{= \'{internal>\' + ID.generate([${metaPath>@@MACRO.getPath}]) + \'/VFOverLayMessage}\'}" /></m:VBox></template:with></template:with></template:with></template:then></template:if></core:FragmentDefinition>\n'
});
//# sourceMappingURL=library-preload.js.map
