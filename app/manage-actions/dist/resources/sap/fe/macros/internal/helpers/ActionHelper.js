/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/base/BindingToolkit","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/TypeGuards","sap/fe/macros/CommonHelper"],function(e,t,n,a){"use strict";var o=n.isPathAnnotationExpression;var i=t.bindingContextPathVisitor;var r=e.isPathInModelExpression;var s=e.getExpressionFromAnnotation;const l={getMultiSelectDisabledActions(e){const t=[];const n=e?.filter(e=>e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction")??[];for(const e of n){const n=e?.ActionTarget;if(n?.isBound===true){for(const e of n.parameters){if(o(e.annotations.UI?.Hidden)||o(e.annotations.Common?.FieldControl)){t.push(n.name)}}}}return t},getPressEventDataFieldForActionButton(e,t,n,o){const i=t.InvocationGrouping&&t.InvocationGrouping.$EnumMember==="com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated";n=n||{};n["invocationGrouping"]=a.addSingleQuotes(i);n["controlId"]=a.addSingleQuotes(e);n["operationAvailableMap"]=a.addSingleQuotes(o);n["model"]="${$source>/}.getModel()";n["label"]=t.Label&&a.addSingleQuotes(t.Label,true);return a.generateFunction(".editFlow.invokeAction",a.addSingleQuotes(t.Action),a.objectToString({...n,...{feFrameworkCall:true}}))},getNumberOfContextsExpression(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n;const a=!t?"${internal>numberOfSelectedContexts}":"${internal>contextmenu/numberOfSelectedContexts}";if(e==="single"){n=a+" === 1"}else{n=a+" > 0"}return n},getOperationAvailableMap(e,t,n){let a={};if(e){e.forEach(e=>{if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){const o=e.Action;if(!o?.includes("/")&&!e.Determining){if(t==="table"){a=this._getOperationAvailableMapOfTable(e,o,a,n)}else if(t==="chart"){a=this._getOperationAvailableMapOfChart(o,a,n)}}}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForActionGroup"){a=this.getOperationAvailableMap(e.Actions,t,n)}})}return a},_getOperationAvailableMapOfTable(e,t,n,a){const o=e.ActionTarget;if(o?.annotations?.Core?.OperationAvailable===null){}else if(o?.parameters?.length){const e=o.parameters[0].fullyQualifiedName,l=s(o?.annotations?.Core?.OperationAvailable,[],undefined,t=>i(t,a.getConvertedTypes(),e));if(r(l)){n=this._addToMap(t,l.path,n)}else if(o?.annotations?.Core?.OperationAvailable!==undefined){n=this._addToMap(t,l,n)}}return n},_getOperationAvailableMapOfChart(e,t,n){let o=a.getActionPath(n.context,false,e,true);if(o===null){t=this._addToMap(e,null,t)}else{o=a.getActionPath(n.context,false,e);if(o.sProperty){t=this._addToMap(e,o.sProperty.substring(o.sBindingParameter.length+1),t)}}return t},_addToMap(e,t,n){if(e&&n){n[e]=t}return n}};return l},false);
//# sourceMappingURL=ActionHelper.js.map