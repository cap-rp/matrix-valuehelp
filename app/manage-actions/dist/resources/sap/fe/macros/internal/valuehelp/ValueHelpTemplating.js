/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/base/BindingToolkit","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldHelper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ModelHelper","sap/fe/macros/internal/valuehelp/AdditionalValueFormatter","sap/ui/core/CustomData","sap/ui/mdc/ValueHelp","sap/ui/mdc/valuehelp/Dialog","sap/ui/mdc/valuehelp/Popover","sap/ui/mdc/valuehelp/content/Conditions","sap/ui/mdc/valuehelp/content/MTable","sap/fe/base/jsx-runtime/jsx"],function(e,t,a,n,r,i,o,l,s,u,c,p,d,g,f,m,v){"use strict";var h={};var V=l.getInvolvedDataModelObjects;var b=i.getDisplayMode;var y=r.isUnit;var x=r.isSemanticKey;var F=r.isGuid;var O=r.isCurrency;var j=r.hasValueListForValidation;var H=r.hasValueHelpWithFixedValues;var T=r.hasValueHelp;var C=r.hasDateType;var D=r.getLabel;var P=n.getTargetObjectPath;var I=n.enhanceDataModelPath;var M=n.checkFilterExpressionRestrictions;var S=a.isProperty;var q=a.isPathAnnotationExpression;var A=t.generate;var G=e.pathInModel;var E=e.getExpressionFromAnnotation;var U=e.formatResult;var R=e.equal;var w=e.constant;var L=e.compileExpression;const $=function(e,t){const a=b(e);const n=e.targetObject?.annotations?.Common?.Text;const r=typeof n!=="string"&&n?.annotations?.UI?.TextArrangement?.toString();if(t){return n&&q(n)&&n.path?a:"Value"}else{return r?a:"Value"}};h.getValueHelpTableDisplayMode=$;const k=function(e,t,a,n){let r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const i=e!==a;const o={name:"sap/fe/macros/valuehelp/ValueHelpDelegate",payload:{propertyPath:e,isUnitValueHelp:i,conditionModel:t,requestGroupId:n,useMultiValueField:r,qualifiers:{},valueHelpQualifier:""}};return o};h.getDelegateConfiguration=k;const B=function(e){const t={name:"sap/fe/macros/valuehelp/ValueHelpDelegate",payload:{propertyPath:e,isDefineConditionValueHelp:true,qualifiers:{},valueHelpQualifier:""}};return L(t)};h.getDelegateConfigurationForDefineConditions=B;const Q=function(e,t,a,n,r){if(e){return e}let i=r;if(n!==r){i=`${n}::${r}`}return A([t,a,i])};h.generateID=Q;const K=function(e){return H(e)||j(e)||T(e)&&(y(e)||O(e)||F(e))};h.requiresValidation=K;const W=function(e,t){const a=e?.targetEntitySet?.annotations?.Capabilities?.FilterFunctions||t;return s.isFilteringCaseSensitive(undefined,a)};h.useCaseSensitiveFilterRequests=W;const _=function(e){const t=e.targetObject;const a=M(e,["SingleRange"]);return t&&C(t)&&L(a)};h.isSemanticDateRange=_;const z=function(e,t){e.contextLocation=t;return L(M(e,["SingleValue","MultiValue"]))==="false"};h.shouldShowConditionPanel=z;const J=function(e,t){const a=t?.targetObject?.annotations?.Common?.Text;return a?.annotations?.UI?.TextArrangement?.valueOf()==="UI.TextArrangementType/TextOnly"&&q(a)?a.path:e};h.getColumnDataProperty=J;const N=function(e,t){const a=t?.targetObject?.annotations?.Common?.Text?.annotations?.UI?.TextArrangement;return a&&a.valueOf()!=="UI.TextArrangementType/TextSeparate"?"Edm.String":e};const X=function(e){const t=e.targetObject;const a=S(t)?N(t.type,e):"";return!a||x(t,e)?"Begin":o.getPropertyAlignment(a,{textAlignMode:"Table"})};h.getColumnHAlign=X;const Y=function(e){return L(U([G("/recommendationsData","internal"),w(e)],u.getGrowing))};h.getGrowingFormatter=Y;const Z=function(e,t){let a=V(e,t.contextPath);let n=V(t.metaPath,t.contextPath);if(q(n.targetObject)){n=I(n,n.targetObject.path)}if(q(a.targetObject)){a=I(a,a.targetObject.path)}if(a.targetObject){const e=Q(t._flexId,t.idPrefix,!t.filterFieldValueHelp?n.targetEntityType.name:undefined,P(n,true),P(a,true));const r=D(a.targetObject)||a.targetObject.name;if(T(a.targetObject)){const r=t.filterFieldValueHelp||t.requiresValidation||K(a.targetObject);const i=t.filterFieldValueHelp?R(M(a,["SingleValue","MultiValue"]),false):false;const o=k(P(a),t.conditionModel,P(n),t.requestGroupId,t.useMultiValueField);const l=W(a,a.targetEntitySet?.annotations?.Capabilities?.FilterFunctions?.map(e=>e.toString())??[]);const s=j(a.targetObject);const u=H(a.targetObject);const f=[v(c,{value:i},"showConditionPanel")];if(s){f.push(v(c,{value:L(E(a.targetObject.annotations?.Common?.ValueListForValidation))},"valuelistForValidation"))}return v(p,{delegate:o,id:e,validateInput:r,children:{customData:f,typeahead:v(g,{children:v(m,{id:`${e}::Popover::qualifier::`,caseSensitive:l,useAsValueHelp:H(a.targetObject)})}),dialog:!u?v(d,{}):undefined}})}else if(t.filterFieldValueHelp){return v(p,{id:e,children:{customData:t.requestGroupId!==undefined?[v(c,{value:t.requestGroupId},"requestGroupId")]:[],dialog:v(d,{title:r,children:v(f,{})})}})}}};h.getValueHelpTemplate=Z;return h},false);
//# sourceMappingURL=ValueHelpTemplating.js.map