{"version":3,"names":["DataWatcher","_dec","defineUI5Class","_dec2","property","type","_dec3","event","_class","_class2","_UI5Element","idOrProps","props","_this","call","_initializerDefineProperty","_descriptor","_descriptor2","isInitial","_exports","_inheritsLoose","_proto","prototype","setPropertyBinding","propertyBinding","oldValue","getProperty","_previousContextPath","getBindingContext","getPath","_initialValue","setProperty","fireEvent","value","context","UI5Element","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["DataWatcher.tsx"],"sourcesContent":["import type { PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { defineUI5Class, event, property } from \"sap/fe/base/ClassSupport\";\nimport type UI5Event from \"sap/ui/base/Event\";\nimport UI5Element from \"sap/ui/core/Element\";\nimport type Context from \"sap/ui/model/Context\";\nimport type { EventHandler } from \"types/extension_types\";\n\n/**\n * A callback function that is called when the value of the watched property changes.\n * @param value The new value of the watched property\n * @param oldValue The old value of the watched property\n * @param isInitial Whether the value change is the initial value\n * @param context The binding context of the watched property\n * @typedef\n * @public\n */\nexport type WatcherCallback = (value: unknown, oldValue: unknown, isInitial: boolean, context: Context) => void;\n\n/**\n * The DataWatcher is an element you can use to watch a property binding and get notified when the value changes.\n *\n */\n@defineUI5Class(\"sap.fe.core.controls.DataWatcher\")\nexport default class DataWatcher extends UI5Element {\n\t@property({ type: \"any\" })\n\tpropertyBinding?: unknown;\n\n\t@event()\n\tvalueChanged?: EventHandler<UI5Event<{ value: unknown; oldValue: unknown; isInitial: boolean; context: Context }, DataWatcher>>;\n\n\tprivate _initialValue?: unknown;\n\n\tprivate isInitial: boolean;\n\n\tprivate _previousContextPath?: string;\n\n\tconstructor(idOrProps?: string | PropertiesOf<DataWatcher>, props?: PropertiesOf<DataWatcher>) {\n\t\tsuper(idOrProps as string | undefined, props);\n\t\tthis.isInitial = true;\n\t}\n\n\tsetPropertyBinding(propertyBinding: string): void {\n\t\tconst oldValue = this.getProperty(\"propertyBinding\");\n\t\tif (this.isInitial || this._previousContextPath !== this.getBindingContext()?.getPath()) {\n\t\t\tthis.isInitial = false;\n\t\t\tthis._initialValue = propertyBinding;\n\t\t\tthis._previousContextPath = this.getBindingContext()?.getPath();\n\t\t}\n\t\tsuper.setProperty(\"propertyBinding\", propertyBinding);\n\t\tthis.fireEvent(\"valueChanged\", {\n\t\t\tvalue: propertyBinding,\n\t\t\toldValue: oldValue,\n\t\t\tisInitial: propertyBinding === this._initialValue,\n\t\t\tcontext: this.getBindingContext()\n\t\t});\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;EAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAGA;AACA;AACA;AACA;EAHA,IAKqBA,WAAW,IAAAC,IAAA,GAD/BC,cAAc,CAAC,kCAAkC,CAAC,EAAAC,KAAA,GAEjDC,QAAQ,CAAC;IAAEC,IAAI,EAAE;EAAM,CAAC,CAAC,EAAAC,KAAA,GAGzBC,KAAK,CAAC,CAAC,EAAAN,IAAA,CAAAO,MAAA,IAAAC,OAAA,0BAAAC,WAAA;IASR,SAAAV,YAAYW,SAA8C,EAAEC,KAAiC,EAAE;MAAA,IAAAC,KAAA;MAC9FA,KAAA,GAAAH,WAAA,CAAAI,IAAA,OAAMH,SAAS,EAAwBC,KAAK,CAAC;MAACG,0BAAA,CAAAF,KAAA,qBAAAG,WAAA,EAAAH,KAAA;MAAAE,0BAAA,CAAAF,KAAA,kBAAAI,YAAA,EAAAJ,KAAA;MAC9CA,KAAA,CAAKK,SAAS,GAAG,IAAI;MAAC,OAAAL,KAAA;IACvB;IAACM,QAAA,GAAAnB,WAAA;IAAAoB,cAAA,CAAApB,WAAA,EAAAU,WAAA;IAAA,IAAAW,MAAA,GAAArB,WAAA,CAAAsB,SAAA;IAAAD,MAAA,CAEDE,kBAAkB,GAAlB,SAAAA,kBAAkBA,CAACC,eAAuB,EAAQ;MACjD,MAAMC,QAAQ,GAAG,IAAI,CAACC,WAAW,CAAC,iBAAiB,CAAC;MACpD,IAAI,IAAI,CAACR,SAAS,IAAI,IAAI,CAACS,oBAAoB,KAAK,IAAI,CAACC,iBAAiB,CAAC,CAAC,EAAEC,OAAO,CAAC,CAAC,EAAE;QACxF,IAAI,CAACX,SAAS,GAAG,KAAK;QACtB,IAAI,CAACY,aAAa,GAAGN,eAAe;QACpC,IAAI,CAACG,oBAAoB,GAAG,IAAI,CAACC,iBAAiB,CAAC,CAAC,EAAEC,OAAO,CAAC,CAAC;MAChE;MACAnB,WAAA,CAAAY,SAAA,CAAMS,WAAW,CAAAjB,IAAA,OAAC,iBAAiB,EAAEU,eAAe;MACpD,IAAI,CAACQ,SAAS,CAAC,cAAc,EAAE;QAC9BC,KAAK,EAAET,eAAe;QACtBC,QAAQ,EAAEA,QAAQ;QAClBP,SAAS,EAAEM,eAAe,KAAK,IAAI,CAACM,aAAa;QACjDI,OAAO,EAAE,IAAI,CAACN,iBAAiB,CAAC;MACjC,CAAC,CAAC;IACH,CAAC;IAAA,OAAA5B,WAAA;EAAA,EAhCuCmC,UAAU,GAAAnB,WAAA,GAAAoB,yBAAA,CAAA3B,OAAA,CAAAa,SAAA,sBAAAnB,KAAA;IAAAkC,YAAA;IAAAC,UAAA;IAAAC,QAAA;IAAAC,WAAA;EAAA,IAAAvB,YAAA,GAAAmB,yBAAA,CAAA3B,OAAA,CAAAa,SAAA,mBAAAhB,KAAA;IAAA+B,YAAA;IAAAC,UAAA;IAAAC,QAAA;IAAAC,WAAA;EAAA,IAAA/B,OAAA,MAAAD,MAAA;EAAAW,QAAA,GAAAnB,WAAA;EAAA,OAAAmB,QAAA;AAAA","ignoreList":[],"file":"DataWatcher-dbg.js"}