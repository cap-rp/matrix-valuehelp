/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/helpers/TypeGuards","./DataModelPathHelper"],function(e,t){"use strict";var r={};var n=t.getTargetEntitySetInfo;var i=e.isEntitySet;const a=function(e,t,r){const n=u(e,t,r);const i=c(e,t,r);return Array.from(new Set([...n,...i]))};r.getNonFilterablePropertiesRestrictions=a;const o=function(e,t,r){const n=l(e,t,r);const i=p(e,t,r);return Array.from(new Set([...n,...i]))};r.getNonSortablePropertiesRestrictions=o;const s=function(e){let t={nonSortableProperties:[],nonFilterableProperties:[]};const r=e.getDataModelObjectPath();const{parentEntitySet:s,targetEntitySet:l,parentNavigationPath:p}=n(r);if(i(l)){if(s&&i(s)){t={nonSortableProperties:o(s,l),nonFilterableProperties:a(s,l)};if(t.nonSortableProperties.length||t.nonFilterableProperties.length){return t}}return{nonSortableProperties:o(l),nonFilterableProperties:a(l)}}else if(s&&i(s)){return{nonSortableProperties:o(s,undefined,p),nonFilterableProperties:a(s,undefined,p)}}return t};r.getRestrictionsOnProperties=s;function l(e,t,r){const n=[];e.annotations.Capabilities?.NavigationRestrictions?.RestrictedProperties?.forEach(i=>{if(r&&r!==i?.NavigationProperty?.value){return}if(i?.SortRestrictions?.Sortable===false){const t=e.entityType.navigationProperties.by_name(i?.NavigationProperty?.value);if(t){if(r){n.push(...t.targetType.entityProperties.map(e=>e.name))}else{n.push(...t.targetType.entityProperties.map(e=>`${t.name}/${e.name}`))}}}else{const e=i?.SortRestrictions?.NonSortableProperties?.map(e=>{if((t||r)&&e.$target?.name){return e.$target?.name}else{return e.value}});if(e?.length){n.push(...e)}}});return n}function p(e,t,r){const n=[];if(e.annotations.Capabilities?.SortRestrictions?.Sortable===false){n.push(...e.entityType.entityProperties.map(e=>e.name))}else{const i=[];e.annotations.Capabilities?.SortRestrictions?.NonSortableProperties?.forEach(e=>{if(r&&!e.value.includes(r)){return}if((t||r)&&e.$target?.name){i.push(e.$target?.name)}else{i.push(e.value)}});if(i?.length){n.push(...i)}}return n}function u(e,t,r){const n=[];e.annotations.Capabilities?.NavigationRestrictions?.RestrictedProperties?.forEach(i=>{if(r&&r!==i?.NavigationProperty?.value){return}if(i?.FilterRestrictions?.Filterable===false){const t=e.entityType.navigationProperties.by_name(i?.NavigationProperty?.value);if(t){if(r){n.push(...t.targetType.entityProperties.map(e=>e.name))}else{n.push(...t.targetType.entityProperties.map(e=>`${t.name}/${e.name}`))}}}else{const e=i?.FilterRestrictions?.NonFilterableProperties?.map(e=>{if((t||r)&&e.$target?.name){return e.$target?.name}else{return e.value}});if(e?.length){n.push(...e)}}});return n}function c(e,t,r){const n=[];if(e.annotations.Capabilities?.FilterRestrictions?.Filterable===false){n.push(...e.entityType.entityProperties.map(e=>e.name))}else{const i=[];e.annotations.Capabilities?.FilterRestrictions?.NonFilterableProperties?.forEach(e=>{if(r&&!e.value.includes(r)){return}if((t||r)&&e.$target?.name){i.push(e.$target?.name)}else{i.push(e.value)}});if(i?.length){n.push(...i)}}return n}return r},false);
//# sourceMappingURL=EntitySetHelper.js.map