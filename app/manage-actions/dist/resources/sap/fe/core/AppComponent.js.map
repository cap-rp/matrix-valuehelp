{"version":3,"file":"AppComponent.js","names":["StartupMode","library","NAVCONF","FCL","VIEWNAME","VIEWNAME_COMPATIBILITY","ROUTERCLASS","NAVCONTAINER","_mRouter","Router","AppComponent","_dec","defineUI5Class","config","fullWidth","manifest","services","resourceModel","factoryName","startup","settings","bundles","modelName","routingService","shellServices","ShellUIService","navigationService","environmentCapabilities","sideEffectsService","asyncComponentService","collaborationManagerService","collaborativeToolsService","telemetryService","valueHelpHistoryService","CollaborativeDraftService","ContextSharingService","inlineEditService","rootView","viewName","type","async","id","routing","controlId","routerClass","viewType","controlAggregation","containerOptions","propagateModel","designtime","_dec2","implementInterface","_class","_class2","_AppComponent","_UIComponent","_this","_len","arguments","length","args","Array","_key","call","this","_initializerDefineProperty","_descriptor","startupMode","Normal","_startedServices","isAdaptationEnabled","isExiting","pageConfigurationChanges","_inheritsLoose","_proto","prototype","_isFclEnabled","oManifestUI5","getManifestEntry","setAdaptationMode","isAdaptationMode","initializeFeatureToggles","Promise","resolve","changePageConfiguration","pageId","path","value","changeConfiguration","getManifest","getEnvironmentCapabilities","setCapability","cleanPageConfigurationChanges","getRouterProxy","_oRouterProxy","getAppStateHandler","_oAppStateHandler","getRootViewController","getRootControl","getController","getRootContainer","getContent","getStartupMode","setStartupModeCreate","Create","setStartupModeAutoCreate","AutoCreate","setStartupModeDeeplink","Deeplink","init","params","URLSearchParams","window","location","search","has","setTimeout","Library","load","name","_initializedKeeper","PromiseKeeper","initialized","promise","uiModel","JSONModel","editMode","EditMode","Display","isEditable","draftStatus","DraftStatus","Clear","busy","busyLocal","pages","oInternalModel","setDefaultBindingMode","ModelHelper","enhanceUiJSONModel","enhanceInternalJSONModel","setModel","bInitializeRouting","undefined","RouterProxy","AppStateHandler","_oDiagnostics","Diagnostics","oModel","getModel","isA","enhanceODataModel","setRetryAfterHandler","http503RetryHandler","bind","entityContainer","getMetaModel","requestObject","app","disableCollaborationDraft","checkRoutingConfiguration","instanceMap","getId","error","HTTP503Handler","handle503Delay","getResourceModel","Log","info","includes","Error","onServicesStarted","allServices","allSettled","instanceDependentProcesses","map","fnProcess","finalizedRoutingInitialization","then","attachRouteMatchers","getRouter","initialize","getValueHelpHistoryService","registerShellHook","catch","oResourceBundle","getResourceBundleFor","displayErrorPage","getText","title","description","message","getRoutingService","initializeRouting","attachAfterInit","err","toString","exit","destroy","deleteModelCacheData","getDiagnostics","bSuppressInvalidate","unregisterStickySessionCallbacks","_routing","e","oMainModel","oModels","oHeaders","oRequestor","Object","assign","mHeaders","beforeExit","getShellServices","getNavigationService","getSideEffectsService","getCollaborationManagerService","getCollaborativeToolsService","getCollaborativeDraftService","getContextSharingService","getTelemetryService","getInlineEditService","getStartupParameters","oComponentData","getComponentData","startupParameters","restore","startedService","onRestore","viewState","resetVersionActivationStatus","suspend","onSuspend","navigateBasedOnStartupParameter","BusyLocker","isLocked","_manageDeepLinkStartup","exception","unlock","isCollaborationManagerServiceEnabled","registerInstanceDependentProcessForStartUp","push","registerStickySessionCallbacks","dirtyStateProviderCallback","sessionTimeoutCallback","discardAfterNavigationCallback","stickyDirtyStateProviderCallback","registerDirtyStateProvider","stickySessionTimeoutCallback","attachSessionTimeout","stickyDiscardAfterNavigationCallback","attachRouteMatched","deregisterDirtyStateProvider","detachSessionTimeout","detachRouteMatched","UIComponent","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sources":["./AppComponent.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport type FlexibleColumnLayout from \"sap/f/FlexibleColumnLayout\";\nimport { defineUI5Class, implementInterface } from \"sap/fe/base/ClassSupport\";\nimport AppStateHandler from \"sap/fe/core/AppStateHandler\";\nimport RouterProxy from \"sap/fe/core/controllerextensions/routing/RouterProxy\";\nimport HTTP503Handler from \"sap/fe/core/helpers/HTTP503Handler\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport PromiseKeeper from \"sap/fe/core/helpers/PromiseKeeper\";\nimport library from \"sap/fe/core/library\";\nimport { changeConfiguration } from \"sap/fe/core/manifestMerger/ChangePageConfiguration\";\nimport type RootViewBaseController from \"sap/fe/core/rootView/RootViewBaseController\";\nimport type { CollaborationManagerService } from \"sap/fe/core/services/CollaborationManagerServiceFactory\";\nimport type { CollaborativeToolsService } from \"sap/fe/core/services/CollaborativeToolsServiceFactory\";\nimport type { ContextSharingService } from \"sap/fe/core/services/ContextSharingServiceFactory\";\nimport type { EnvironmentCapabilitiesService } from \"sap/fe/core/services/EnvironmentServiceFactory\";\nimport type { InlineEditService } from \"sap/fe/core/services/InlineEditServiceFactory\";\nimport type { NavigationService } from \"sap/fe/core/services/NavigationServiceFactory\";\nimport type { RoutingService } from \"sap/fe/core/services/RoutingServiceFactory\";\nimport type { IShellServices } from \"sap/fe/core/services/ShellServicesFactory\";\nimport type { SideEffectsService } from \"sap/fe/core/services/SideEffectsServiceFactory\";\nimport type { TelemetryService } from \"sap/fe/core/services/TelemetryServiceFactory\";\nimport type { CollaborativeDraftService } from \"sap/fe/core/services/collaborativeDraftServiceFactory\";\nimport Diagnostics from \"sap/fe/core/support/Diagnostics\";\nimport type NavContainer from \"sap/m/NavContainer\";\nimport Router from \"sap/m/routing/Router\";\nimport Library from \"sap/ui/core/Lib\";\nimport type { ManifestContent } from \"sap/ui/core/Manifest\";\nimport UIComponent from \"sap/ui/core/UIComponent\";\nimport type { IAsyncContentCreation } from \"sap/ui/core/library\";\nimport type View from \"sap/ui/core/mvc/View\";\nimport type Service from \"sap/ui/core/service/Service\";\nimport type Model from \"sap/ui/model/Model\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport type ODataMetaModel from \"sap/ui/model/odata/v4/ODataMetaModel\";\nimport type ODataModel from \"sap/ui/model/odata/v4/ODataModel\";\nimport BusyLocker from \"./controllerextensions/BusyLocker\";\nimport { deleteModelCacheData } from \"./converters/MetaModelConverter\";\nimport { getResourceModel } from \"./helpers/ResourceModelHelper\";\nimport type { ValueHelpHistoryService } from \"./services/ValueHelpHistoryServiceFactory\";\n\nconst StartupMode = library.StartupMode;\nconst NAVCONF = {\n\tFCL: {\n\t\tVIEWNAME: \"sap.fe.core.rootView.Fcl\",\n\t\tVIEWNAME_COMPATIBILITY: \"sap.fe.templates.RootContainer.view.Fcl\",\n\t\tROUTERCLASS: \"sap.f.routing.Router\"\n\t},\n\tNAVCONTAINER: {\n\t\tVIEWNAME: \"sap.fe.core.rootView.NavContainer\",\n\t\tVIEWNAME_COMPATIBILITY: \"sap.fe.templates.RootContainer.view.NavContainer\",\n\t\tROUTERCLASS: \"sap.m.routing.Router\"\n\t}\n};\n\nexport type ComponentData = {\n\tstartupParameters?: StartupParameters;\n\t//feEnvironment is object which is received as a part of the component data for My Inbox applications.\n\tfeEnvironment?: {\n\t\t//Within this object they pass a function called getIntent() which returns an object containing the semanticObject and action as separate property-value entries that are then used to update the related apps button.\n\t\tgetIntent: Function;\n\t\t//Within this object they pass a function called getShareControlVisibility() that returns boolean values(true or false) which determines the visibility of the share button.\n\t\tgetShareControlVisibility: Function;\n\t};\n};\n// Keep a reference so as to keep the import despite it not being directly used\nconst _mRouter = Router;\n\nexport type StartupParameters = {\n\tpreferredMode?: string[];\n} & Record<string, unknown[]>;\n/**\n * Main class for components used for an application in SAP Fiori elements.\n *\n * Application developers using the templates and building blocks provided by SAP Fiori elements should create their apps by extending this component.\n * This ensures that all the necessary services that you need for the building blocks and templates to work properly are started.\n *\n * When you use sap.fe.core.AppComponent as the base component, you also need to use a rootView. SAP Fiori elements provides two options: <br/>\n * - sap.fe.core.rootView.NavContainer when using sap.m.routing.Router <br/>\n * - sap.fe.core.rootView.Fcl when using sap.f.routing.Router (FCL use case) <br/>\n * @hideconstructor\n * @public\n */\n@defineUI5Class(\"sap.fe.core.AppComponent\", {\n\tconfig: {\n\t\tfullWidth: true\n\t},\n\tmanifest: {\n\t\t\"sap.ui5\": {\n\t\t\tservices: {\n\t\t\t\tresourceModel: {\n\t\t\t\t\tfactoryName: \"sap.fe.core.services.ResourceModelService\",\n\t\t\t\t\tstartup: \"waitFor\",\n\t\t\t\t\tsettings: {\n\t\t\t\t\t\tbundles: [\"sap.fe.core.messagebundle\"],\n\t\t\t\t\t\tmodelName: \"sap.fe.i18n\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\troutingService: {\n\t\t\t\t\tfactoryName: \"sap.fe.core.services.RoutingService\",\n\t\t\t\t\tstartup: \"waitFor\"\n\t\t\t\t},\n\t\t\t\tshellServices: {\n\t\t\t\t\tfactoryName: \"sap.fe.core.services.ShellServices\",\n\t\t\t\t\tstartup: \"waitFor\"\n\t\t\t\t},\n\t\t\t\tShellUIService: {\n\t\t\t\t\tfactoryName: \"sap.ushell.ui5service.ShellUIService\"\n\t\t\t\t},\n\t\t\t\tnavigationService: {\n\t\t\t\t\tfactoryName: \"sap.fe.core.services.NavigationService\",\n\t\t\t\t\tstartup: \"waitFor\"\n\t\t\t\t},\n\t\t\t\tenvironmentCapabilities: {\n\t\t\t\t\tfactoryName: \"sap.fe.core.services.EnvironmentService\",\n\t\t\t\t\tstartup: \"waitFor\"\n\t\t\t\t},\n\t\t\t\tsideEffectsService: {\n\t\t\t\t\tfactoryName: \"sap.fe.core.services.SideEffectsService\",\n\t\t\t\t\tstartup: \"waitFor\"\n\t\t\t\t},\n\t\t\t\tasyncComponentService: {\n\t\t\t\t\tfactoryName: \"sap.fe.core.services.AsyncComponentService\",\n\t\t\t\t\tstartup: \"waitFor\"\n\t\t\t\t},\n\t\t\t\tcollaborationManagerService: {\n\t\t\t\t\tfactoryName: \"sap.fe.core.services.CollaborationManagerService\",\n\t\t\t\t\tstartup: \"waitFor\"\n\t\t\t\t},\n\t\t\t\tcollaborativeToolsService: {\n\t\t\t\t\tfactoryName: \"sap.fe.core.services.CollaborativeToolsService\",\n\t\t\t\t\tstartup: \"waitFor\"\n\t\t\t\t},\n\t\t\t\ttelemetryService: {\n\t\t\t\t\tfactoryName: \"sap.fe.core.services.TelemetryService\",\n\t\t\t\t\tstartup: \"waitFor\"\n\t\t\t\t},\n\t\t\t\tvalueHelpHistoryService: {\n\t\t\t\t\tfactoryName: \"sap.fe.core.services.ValueHelpHistoryService\",\n\t\t\t\t\tstartup: \"waitFor\"\n\t\t\t\t},\n\t\t\t\tCollaborativeDraftService: {\n\t\t\t\t\tfactoryName: \"sap.fe.core.services.CollaborativeDraftService\",\n\t\t\t\t\tstartup: \"waitFor\"\n\t\t\t\t},\n\t\t\t\tContextSharingService: {\n\t\t\t\t\tfactoryName: \"sap.fe.core.services.ContextSharingService\",\n\t\t\t\t\tstartup: \"waitFor\"\n\t\t\t\t},\n\t\t\t\tinlineEditService: {\n\t\t\t\t\tfactoryName: \"sap.fe.core.services.InlineEditService\",\n\t\t\t\t\tstartup: \"waitFor\"\n\t\t\t\t}\n\t\t\t},\n\t\t\trootView: {\n\t\t\t\tviewName: NAVCONF.NAVCONTAINER.VIEWNAME,\n\t\t\t\ttype: \"XML\",\n\t\t\t\tasync: true,\n\t\t\t\tid: \"appRootView\"\n\t\t\t},\n\t\t\trouting: {\n\t\t\t\tconfig: {\n\t\t\t\t\tcontrolId: \"appContent\",\n\t\t\t\t\trouterClass: NAVCONF.NAVCONTAINER.ROUTERCLASS,\n\t\t\t\t\tviewType: \"XML\",\n\t\t\t\t\tcontrolAggregation: \"pages\",\n\t\t\t\t\tasync: true,\n\t\t\t\t\tcontainerOptions: {\n\t\t\t\t\t\tpropagateModel: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tdesigntime: \"sap/fe/core/designtime/AppComponent.designtime\",\n\n\tlibrary: \"sap.fe.core\"\n})\nclass AppComponent extends UIComponent implements IAsyncContentCreation {\n\t@implementInterface(\"sap.ui.core.IAsyncContentCreation\")\n\t__implements__sap_ui_core_IAsyncContentCreation = true;\n\n\tstatic instanceMap: Record<string, AppComponent> = {};\n\n\tprivate _oRouterProxy!: RouterProxy;\n\n\tprivate _oAppStateHandler!: AppStateHandler;\n\n\tprivate bInitializeRouting?: boolean;\n\n\tprivate _oDiagnostics!: Diagnostics;\n\n\tprivate entityContainer!: Promise<void>;\n\n\tprivate startupMode: string = StartupMode.Normal;\n\n\tprivate _startedServices: Service<unknown>[] = [];\n\n\tpublic initialized!: Promise<void>;\n\n\tprivate _initializedKeeper!: PromiseKeeper<void>;\n\n\tprivate isAdaptationEnabled = false;\n\n\tpublic isExiting = false;\n\n\tpublic pageConfigurationChanges: Record<string, string[]> = {};\n\n\tprivate stickyDirtyStateProviderCallback?: Function;\n\n\tprivate stickySessionTimeoutCallback?: Function;\n\n\tprivate stickyDiscardAfterNavigationCallback?: Function;\n\n\t/**\n\t * Singleton to hold processes from libraries that need to be run for every instance prior to startup.\n\t */\n\tprivate static instanceDependentProcesses: ((appComponent: AppComponent) => Promise<void>)[] = [];\n\n\t_isFclEnabled(): boolean {\n\t\tconst oManifestUI5 = this.getManifestEntry(\"sap.ui5\");\n\t\treturn oManifestUI5?.routing?.config?.routerClass === NAVCONF.FCL.ROUTERCLASS;\n\t}\n\n\tsetAdaptationMode(isAdaptationEnabled: boolean): void {\n\t\tthis.isAdaptationEnabled = isAdaptationEnabled;\n\t}\n\n\tisAdaptationMode(): boolean {\n\t\treturn this.isAdaptationEnabled;\n\t}\n\n\t/**\n\t * Provides a hook to initialize feature toggles.\n\t *\n\t * This hook is being called by the SAP Fiori elements AppComponent at the time feature toggles can be initialized.\n\t * To change page configuration, use the {@link sap.fe.core.AppComponent#changePageConfiguration} method.\n\t * @public\n\t * @returns A promise without any value to allow asynchronous processes\n\t */\n\tasync initializeFeatureToggles(): Promise<void> {\n\t\t// this method can be overridden by applications\n\t\treturn Promise.resolve();\n\t}\n\n\t/**\n\t * Changes the page configuration of SAP Fiori elements.\n\t *\n\t * This method enables you to change the page configuration of SAP Fiori elements.\n\t * @param pageId The ID of the page for which the configuration is to be changed.\n\t * @param path The path in the page settings for which the configuration is to be changed.\n\t * @param value The new value of the configuration. This could be a plain value like a string, or a Boolean, or a structured object.\n\t * @public\n\t */\n\tchangePageConfiguration(pageId: string, path: string, value: unknown): void {\n\t\tconst manifest = changeConfiguration(this.getManifest(), pageId, path, value, true, this) as ManifestContent;\n\t\tif (\n\t\t\tpath === \"app/disableInputAssistance\" &&\n\t\t\t(manifest?.[\"sap.fe\"] as Record<string, Record<string, boolean>>)?.[\"app\"]?.[\"disableInputAssistance\"] === value\n\t\t) {\n\t\t\tthis.getEnvironmentCapabilities().setCapability(\"DisableInputAssistance\", value);\n\t\t}\n\t}\n\n\t/**\n\t * Cleans all registered page configuration changes.\n\t */\n\tcleanPageConfigurationChanges(): void {\n\t\tthis.pageConfigurationChanges = {};\n\t}\n\n\t/**\n\t * Get a reference to the RouterProxy.\n\t * @returns A Reference to the RouterProxy\n\t * @final\n\t */\n\tgetRouterProxy(): RouterProxy {\n\t\treturn this._oRouterProxy;\n\t}\n\n\t/**\n\t * Get a reference to the AppStateHandler.\n\t * @returns A reference to the AppStateHandler\n\t * @final\n\t */\n\tgetAppStateHandler(): AppStateHandler {\n\t\treturn this._oAppStateHandler;\n\t}\n\n\t/**\n\t * Get a reference to the nav/FCL Controller.\n\t * @returns  A reference to the FCL Controller\n\t * @final\n\t */\n\tgetRootViewController(): RootViewBaseController {\n\t\treturn this.getRootControl().getController();\n\t}\n\n\t/**\n\t * Get the NavContainer control or the FCL control.\n\t * @returns  A reference to NavContainer control or the FCL control\n\t * @final\n\t */\n\tgetRootContainer(): NavContainer | FlexibleColumnLayout {\n\t\treturn this.getRootControl().getContent()[0] as NavContainer | FlexibleColumnLayout;\n\t}\n\n\t/**\n\t * Get the startup mode of the app.\n\t * @returns The startup mode\n\t */\n\tgetStartupMode(): string {\n\t\treturn this.startupMode;\n\t}\n\n\t/**\n\t * Set the startup mode for the app to 'Create'.\n\t *\n\t */\n\tsetStartupModeCreate(): void {\n\t\tthis.startupMode = StartupMode.Create;\n\t}\n\n\t/**\n\t * Set the startup mode for the app to 'AutoCreate'.\n\t *\n\t */\n\tsetStartupModeAutoCreate(): void {\n\t\tthis.startupMode = StartupMode.AutoCreate;\n\t}\n\n\t/**\n\t * Set the startup mode for the app to 'Deeplink'.\n\t *\n\t */\n\tsetStartupModeDeeplink(): void {\n\t\tthis.startupMode = StartupMode.Deeplink;\n\t}\n\n\tinit(): void {\n\t\tconst params = new URLSearchParams(window.location.search);\n\t\tif (params.has(\"sap-ui-xx-fe-support\")) {\n\t\t\tsetTimeout(function () {\n\t\t\t\tLibrary.load({ name: \"sap.fe.tools\" });\n\t\t\t}, 2000);\n\t\t}\n\t\tthis._initializedKeeper = new PromiseKeeper<void>();\n\t\tthis.initialized = this._initializedKeeper.promise;\n\t\tconst uiModel = new JSONModel({\n\t\t\teditMode: library.EditMode.Display,\n\t\t\tisEditable: false,\n\t\t\tdraftStatus: library.DraftStatus.Clear,\n\t\t\tbusy: false,\n\t\t\tbusyLocal: {},\n\t\t\tpages: {}\n\t\t});\n\t\tconst oInternalModel = new JSONModel({\n\t\t\tpages: {}\n\t\t});\n\t\t// set the binding OneWay for uiModel to prevent changes if controller extensions modify a bound property of a control\n\t\tuiModel.setDefaultBindingMode(\"OneWay\");\n\t\t// for internal model binding needs to be two way\n\t\tModelHelper.enhanceUiJSONModel(uiModel, library);\n\t\tModelHelper.enhanceInternalJSONModel(oInternalModel);\n\n\t\tthis.setModel(uiModel, \"ui\");\n\t\tthis.setModel(oInternalModel, \"internal\");\n\n\t\tthis.bInitializeRouting = this.bInitializeRouting !== undefined ? this.bInitializeRouting : true;\n\t\tthis._oRouterProxy = new RouterProxy();\n\t\tthis._oAppStateHandler = new AppStateHandler(this);\n\t\tthis._oDiagnostics = new Diagnostics();\n\n\t\tconst oModel = this.getModel();\n\t\tif (oModel?.isA?.<ODataModel>(\"sap.ui.model.odata.v4.ODataModel\")) {\n\t\t\tModelHelper.enhanceODataModel(oModel, this);\n\t\t\toModel.setRetryAfterHandler(this.http503RetryHandler.bind(this));\n\t\t\tthis.entityContainer = oModel.getMetaModel().requestObject(\"/$EntityContainer/\");\n\t\t} else {\n\t\t\t// not an OData v4 service\n\t\t\tthis.entityContainer = Promise.resolve();\n\t\t}\n\n\t\tif (this.getManifestEntry(\"sap.fe\")?.app?.disableCollaborationDraft) {\n\t\t\t// disable the collaboration draft globally in case private manifest flag is set\n\t\t\t// this allows customers to disable the collaboration draft in case we run into issues with the first delivery\n\t\t\t// this will be removed with the next S/4 release\n\t\t\tModelHelper.disableCollaborationDraft = true;\n\t\t}\n\n\t\tconst oManifestUI5 = this.getManifest()[\"sap.ui5\"];\n\t\tthis.checkRoutingConfiguration(oManifestUI5);\n\n\t\t// the init function configures the routing according to the settings above\n\t\t// it will call the createContent function to instantiate the RootView and add it to the UIComponent aggregations\n\n\t\tsuper.init();\n\t\tAppComponent.instanceMap[this.getId()] = this;\n\t}\n\n\tprivate async http503RetryHandler(error: Error & { retryAfter?: Date }): Promise<undefined> {\n\t\treturn HTTP503Handler.handle503Delay(error, this.getRootControl(), getResourceModel(this));\n\t}\n\n\tprivate checkRoutingConfiguration(oManifestUI5: ManifestContent[\"sap.ui5\"]): void {\n\t\tif (oManifestUI5?.rootView?.viewName) {\n\t\t\t// The application specified an own root view in the manifest\n\n\t\t\t// Root View was moved from sap.fe.templates to sap.fe.core - keep it compatible\n\t\t\tif (oManifestUI5.rootView.viewName === NAVCONF.FCL.VIEWNAME_COMPATIBILITY) {\n\t\t\t\toManifestUI5.rootView.viewName = NAVCONF.FCL.VIEWNAME;\n\t\t\t} else if (oManifestUI5.rootView.viewName === NAVCONF.NAVCONTAINER.VIEWNAME_COMPATIBILITY) {\n\t\t\t\toManifestUI5.rootView.viewName = NAVCONF.NAVCONTAINER.VIEWNAME;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\toManifestUI5.rootView.viewName === NAVCONF.FCL.VIEWNAME &&\n\t\t\t\toManifestUI5.routing?.config?.routerClass === NAVCONF.FCL.ROUTERCLASS\n\t\t\t) {\n\t\t\t\tLog.info(`Rootcontainer: \"${NAVCONF.FCL.VIEWNAME}\" - Routerclass: \"${NAVCONF.FCL.ROUTERCLASS}\"`);\n\t\t\t} else if (\n\t\t\t\toManifestUI5.rootView.viewName === NAVCONF.NAVCONTAINER.VIEWNAME &&\n\t\t\t\toManifestUI5.routing?.config?.routerClass === NAVCONF.NAVCONTAINER.ROUTERCLASS\n\t\t\t) {\n\t\t\t\tLog.info(`Rootcontainer: \"${NAVCONF.NAVCONTAINER.VIEWNAME}\" - Routerclass: \"${NAVCONF.NAVCONTAINER.ROUTERCLASS}\"`);\n\t\t\t} else if (oManifestUI5.rootView?.viewName?.includes(\"sap.fe.core.rootView\")) {\n\t\t\t\tthrow Error(\n\t\t\t\t\t`\\nWrong configuration for the couple (rootView/routerClass) in manifest file.\\n` +\n\t\t\t\t\t\t`Current values are :(${oManifestUI5.rootView.viewName}/${\n\t\t\t\t\t\t\toManifestUI5.routing?.config?.routerClass || \"<missing router class>\"\n\t\t\t\t\t\t})\\n` +\n\t\t\t\t\t\t`Expected values are \\n` +\n\t\t\t\t\t\t`\\t - (${NAVCONF.NAVCONTAINER.VIEWNAME}/${NAVCONF.NAVCONTAINER.ROUTERCLASS})\\n` +\n\t\t\t\t\t\t`\\t - (${NAVCONF.FCL.VIEWNAME}/${NAVCONF.FCL.ROUTERCLASS})`\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tLog.info(`Rootcontainer: \"${oManifestUI5.rootView.viewName}\" - Routerclass: \"${NAVCONF.NAVCONTAINER.ROUTERCLASS}\"`);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync onServicesStarted(allServices: Service<unknown>[]): Promise<void> {\n\t\tthis._startedServices = allServices;\n\t\tawait this.initializeFeatureToggles();\n\t\tawait Promise.allSettled(\n\t\t\tAppComponent.instanceDependentProcesses.map(async (fnProcess) => {\n\t\t\t\treturn fnProcess.call(null, this);\n\t\t\t})\n\t\t);\n\n\t\t//router must be started once the rootcontainer is initialized\n\t\t//starting of the router\n\t\tconst finalizedRoutingInitialization = (): void => {\n\t\t\tthis.entityContainer\n\t\t\t\t.then(async () => {\n\t\t\t\t\tif (this.getRootViewController().attachRouteMatchers) {\n\t\t\t\t\t\tthis.getRootViewController().attachRouteMatchers();\n\t\t\t\t\t}\n\t\t\t\t\tthis.getRouter().initialize();\n\t\t\t\t\tthis.getRouterProxy().init(this, this._isFclEnabled());\n\n\t\t\t\t\treturn this.getValueHelpHistoryService().registerShellHook();\n\t\t\t\t})\n\t\t\t\t.catch((error: Error) => {\n\t\t\t\t\tconst oResourceBundle = Library.getResourceBundleFor(\"sap.fe.core\")!;\n\n\t\t\t\t\tthis.getRootViewController().displayErrorPage(\n\t\t\t\t\t\toResourceBundle.getText(\"C_APP_COMPONENT_SAPFE_APPSTART_TECHNICAL_ISSUES\"),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: oResourceBundle.getText(\"C_COMMON_SAPFE_ERROR\"),\n\t\t\t\t\t\t\tdescription: error.message\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t};\n\n\t\tif (this.bInitializeRouting) {\n\t\t\treturn this.getRoutingService()\n\t\t\t\t.initializeRouting()\n\t\t\t\t.then(() => {\n\t\t\t\t\tif (this.getRootViewController()) {\n\t\t\t\t\t\tfinalizedRoutingInitialization();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.getRootControl().attachAfterInit(function () {\n\t\t\t\t\t\t\tfinalizedRoutingInitialization();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthis._initializedKeeper.resolve();\n\t\t\t\t\treturn;\n\t\t\t\t})\n\t\t\t\t.catch(function (err: Error) {\n\t\t\t\t\tLog.error(`cannot cannot initialize routing: ${err.toString()}`);\n\t\t\t\t});\n\t\t} else {\n\t\t\tthis._initializedKeeper.resolve();\n\t\t}\n\t}\n\n\texit(): void {\n\t\tthis._startedServices = [];\n\t\tthis._oAppStateHandler.destroy();\n\t\tthis._oRouterProxy.destroy();\n\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t// @ts-ignore\n\t\tdelete this._oAppStateHandler;\n\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t// @ts-ignore\n\t\tdelete this._oRouterProxy;\n\t\tdeleteModelCacheData(this.getMetaModel());\n\t\tthis.getModel(\"ui\").destroy();\n\t\tthis.cleanPageConfigurationChanges();\n\t}\n\n\tgetMetaModel(): ODataMetaModel {\n\t\treturn this.getModel().getMetaModel();\n\t}\n\n\tgetDiagnostics(): Diagnostics {\n\t\treturn this._oDiagnostics;\n\t}\n\n\tdestroy(bSuppressInvalidate?: boolean): void {\n\t\tthis.isExiting = true;\n\n\t\t// LEAKS, with workaround for some Flex / MDC issue\n\t\ttry {\n\t\t\tthis.unregisterStickySessionCallbacks();\n\t\t\tdelete AppComponent.instanceMap[this.getId()];\n\n\t\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t\t// @ts-ignore\n\t\t\tdelete (window as unknown)._routing;\n\t\t} catch (e) {\n\t\t\tLog.info(e as string);\n\t\t}\n\n\t\t//WORKAROUND for sticky discard request : due to async callback, request triggered by the exitApplication will be send after the UIComponent.prototype.destroy\n\t\t//so we need to copy the Requestor headers as it will be destroy\n\n\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t// @ts-ignore\n\t\tconst oMainModel = this.oModels[undefined];\n\t\tlet oHeaders;\n\t\tif (oMainModel?.oRequestor) {\n\t\t\toHeaders = Object.assign({}, oMainModel.oRequestor.mHeaders);\n\t\t}\n\n\t\t// As we need to cleanup the application / handle the dirty object we need to call our cleanup before the models are destroyed\n\t\tthis.getRoutingService()?.beforeExit?.();\n\t\tsuper.destroy(bSuppressInvalidate);\n\t\tif (oHeaders && oMainModel.oRequestor) {\n\t\t\toMainModel.oRequestor.mHeaders = oHeaders;\n\t\t}\n\t}\n\n\tgetRoutingService(): RoutingService {\n\t\treturn {} as RoutingService; // overriden at runtime\n\t}\n\n\tgetShellServices(): IShellServices {\n\t\treturn {} as IShellServices; // overriden at runtime\n\t}\n\n\tgetNavigationService(): NavigationService {\n\t\treturn {} as NavigationService; // overriden at runtime\n\t}\n\n\tgetSideEffectsService(): SideEffectsService {\n\t\treturn {} as SideEffectsService;\n\t}\n\n\tgetEnvironmentCapabilities(): EnvironmentCapabilitiesService {\n\t\treturn {} as EnvironmentCapabilitiesService;\n\t}\n\n\tgetCollaborationManagerService(): CollaborationManagerService {\n\t\treturn {} as CollaborationManagerService;\n\t}\n\n\tgetCollaborativeToolsService(): CollaborativeToolsService {\n\t\treturn {} as CollaborativeToolsService;\n\t}\n\n\tgetCollaborativeDraftService(): CollaborativeDraftService {\n\t\treturn {} as CollaborativeDraftService;\n\t}\n\n\tgetContextSharingService(): ContextSharingService {\n\t\treturn {} as ContextSharingService;\n\t}\n\n\tgetTelemetryService(): TelemetryService {\n\t\treturn {} as TelemetryService;\n\t}\n\n\tgetValueHelpHistoryService(): ValueHelpHistoryService {\n\t\treturn {} as ValueHelpHistoryService;\n\t}\n\n\tgetInlineEditService(): InlineEditService {\n\t\treturn {} as InlineEditService;\n\t}\n\n\tasync getStartupParameters(): Promise<StartupParameters> {\n\t\tconst oComponentData = this.getComponentData();\n\t\treturn Promise.resolve((oComponentData && oComponentData.startupParameters) || {});\n\t}\n\n\trestore(): void {\n\t\t// called by FLP when app sap-keep-alive is enabled and app is restored\n\t\tfor (const startedService of this._startedServices) {\n\t\t\tstartedService.onRestore?.();\n\t\t}\n\t\tthis.getRootViewController().viewState.onRestore();\n\n\t\t// Reset all values in versionActivationStatus to false\n\t\tAppStateHandler.resetVersionActivationStatus();\n\t}\n\n\tsuspend(): void {\n\t\t// called by FLP when app sap-keep-alive is enabled and app is suspended\n\t\tfor (const startedService of this._startedServices) {\n\t\t\tstartedService.onSuspend?.();\n\t\t}\n\t\tthis.getRootViewController().viewState.onSuspend();\n\t}\n\n\t/**\n\t * navigateBasedOnStartupParameter function is a public api that acts as a wrapper to _manageDeepLinkStartup function. It passes the startup parameters further to _manageDeepLinkStartup function\n\t * @param startupParameters Defines the startup parameters which is further passed to _manageDeepLinkStartup function.\n\t */\n\n\tasync navigateBasedOnStartupParameter(startupParameters: StartupParameters | null | undefined): Promise<void> {\n\t\ttry {\n\t\t\tif (!BusyLocker.isLocked(this.getModel(\"ui\"))) {\n\t\t\t\tif (!startupParameters) {\n\t\t\t\t\tstartupParameters = null;\n\t\t\t\t}\n\t\t\t\tconst routingService = this.getRoutingService();\n\t\t\t\tawait routingService._manageDeepLinkStartup(startupParameters);\n\t\t\t}\n\t\t} catch (exception: unknown) {\n\t\t\tLog.error(exception as string);\n\t\t\tBusyLocker.unlock(this.getModel(\"ui\"));\n\t\t}\n\t}\n\n\t/**\n\t * Used to allow disabling the Collaboration Manager integration for the OVP use case.\n\t * @returns Whether the collaboration manager service is active.\n\t */\n\tisCollaborationManagerServiceEnabled(): boolean {\n\t\treturn true;\n\t}\n\n\t/**\n\t * Register processes that need to be run for every instance prior to startup.\n\t * @param fnProcess Function that hold the implementation of the process.\n\t *\n\t * The registered process can be an asynchronous process.\n\t * It shall be called with the AppComponent instance as a parameter before startup.\n\t */\n\tstatic registerInstanceDependentProcessForStartUp(fnProcess: (appComponent: AppComponent) => Promise<void>): void {\n\t\tthis.instanceDependentProcesses.push(fnProcess);\n\t}\n\n\t/**\n\t * Registers the callbacks related to a sticky edit session.\n\t * @param dirtyStateProviderCallback\n\t * @param sessionTimeoutCallback\n\t * @param discardAfterNavigationCallback\n\t */\n\tregisterStickySessionCallbacks(\n\t\tdirtyStateProviderCallback: Function,\n\t\tsessionTimeoutCallback: Function,\n\t\tdiscardAfterNavigationCallback: Function\n\t): void {\n\t\tthis.stickyDirtyStateProviderCallback = dirtyStateProviderCallback;\n\t\tthis.getShellServices().registerDirtyStateProvider(dirtyStateProviderCallback);\n\n\t\tthis.stickySessionTimeoutCallback = sessionTimeoutCallback;\n\t\tthis.getModel().attachSessionTimeout(sessionTimeoutCallback);\n\n\t\tthis.stickyDiscardAfterNavigationCallback = discardAfterNavigationCallback;\n\t\tthis.getRoutingService().attachRouteMatched({}, discardAfterNavigationCallback);\n\t}\n\n\t/**\n\t * Unregisters the callbacks related to a sticky edit session.\n\t */\n\tunregisterStickySessionCallbacks(): void {\n\t\tif (this.stickyDirtyStateProviderCallback) {\n\t\t\tthis.getShellServices().deregisterDirtyStateProvider(this.stickyDirtyStateProviderCallback);\n\t\t\tthis.stickyDirtyStateProviderCallback = undefined;\n\t\t}\n\t\tif (this.stickySessionTimeoutCallback && this.getModel()) {\n\t\t\tthis.getModel().detachSessionTimeout(this.stickySessionTimeoutCallback);\n\t\t\tthis.stickySessionTimeoutCallback = undefined;\n\t\t}\n\t\tif (this.stickyDiscardAfterNavigationCallback) {\n\t\t\tthis.getRoutingService().detachRouteMatched(this.stickyDiscardAfterNavigationCallback);\n\t\t\tthis.stickyDiscardAfterNavigationCallback = undefined;\n\t\t}\n\t}\n}\n\ninterface AppComponent extends UIComponent {\n\tisAdaptationMode(): boolean;\n\tgetManifest(): ManifestContent;\n\tgetManifestEntry(entry: \"sap.app\"): ManifestContent[\"sap.app\"];\n\tgetManifestEntry(entry: \"sap.ui5\"): ManifestContent[\"sap.ui5\"];\n\t_getManifestEntry(entry: \"sap.ui5\", merged: boolean): ManifestContent[\"sap.ui5\"];\n\tgetManifestEntry(entry: \"sap.ui\"): ManifestContent[\"sap.ui\"];\n\tgetManifestEntry(entry: \"sap.fe\"): ManifestContent[\"sap.fe\"] | undefined;\n\tgetManifestEntry(entry: \"sap.fiori\"): ManifestContent[\"sap.fiori\"];\n\tgetComponentData(): ComponentData;\n\tgetRootControl(): {\n\t\tgetController(): RootViewBaseController;\n\t} & View;\n\tgetModel(): ODataModel;\n\tgetModel(name: \"ui\"): JSONModel;\n\tgetModel(name: string): Model | undefined;\n}\n\nexport default AppComponent;\n"],"mappings":"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","ignoreList":[]}