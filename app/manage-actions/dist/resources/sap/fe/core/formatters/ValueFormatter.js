/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log","sap/base/strings/whitespaceReplacer","sap/base/util/ObjectPath","sap/fe/core/templating/SemanticObjectHelper","sap/ui/core/IconPool","sap/ui/core/Lib","sap/ui/core/date/UI5Date","sap/ui/core/format/DateFormat","sap/ui/core/format/NumberFormat"],function(e,t,r,a,o,i,n,s,c){"use strict";var f={};var l=a.getReachableSemanticObjectsSettings;const m={yyyy:/[1-9]\d{3,}|0\d{3}/,Q:/[1-4]/,MM:/0[1-9]|1[0-2]/,ww:/0[1-9]|[1-4]\d|5[0-3]/,yyyyMMdd:/(?:[1-9]\d{3}|0\d{3})(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])/,yyyyMM:/(?:[1-9]\d{3}|0\d{3})(0[1-9]|1[0-2])/,"yyyy-MM-dd":/(?:[1-9]\d{3}|0\d{3})-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])/};const u=function(e){if(u.hasOwnProperty(e)){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++){r[a-1]=arguments[a]}return u[e].apply(this,r)}else{return""}};const p=(e,t)=>{if(e&&t){const r=i.getResourceBundleFor("sap.fe.core");return r.getText("C_FORMAT_FOR_TEXT_ARRANGEMENT",[e,t])}else{return e||t||""}};p.__functionName="sap.fe.core.formatters.ValueFormatter#formatWithBrackets";const y=(t,r,a)=>{if(r in m){const o=t?.toString().match(m[r]);if(o&&o?.length){const t=o[0];const i=s.getDateInstance({pattern:r}).parse(t,false,true);if(i instanceof Date){return i.getTime()}else{e.warning("Date value could not be determined for "+a)}return 0}}e.warning("Pattern not supported for "+a);return 0};y.__functionName="sap.fe.core.formatters.ValueFormatter#formatStringDimension";const d=(e,r)=>r?p(t(e),t(r)):t(e);d.__functionName="sap.fe.core.formatters.ValueFormatter#formatTitle";const g=e=>e!==null&&e!==undefined?`${e} %`:"";g.__functionName="sap.fe.core.formatters.ValueFormatter#formatWithPercentage";const _=(e,t,r)=>{let a;if(e===undefined){return"0"}const o=typeof e==="string"?parseFloat(e):e;const i=typeof t==="string"?parseFloat(t):t;if(r==="%"){if(o>100){a="100"}else if(o<=0){a="0"}else{a=typeof e==="string"?e:e?.toString()}}else if(o>i){a="100"}else if(o<=0){a="0"}else{a=o&&i?(o/i*100).toString():"0"}return a};_.__functionName="sap.fe.core.formatters.ValueFormatter#computePercentage";const h=e=>{let t;if(e==="UI.CriticalityType/Negative"||e==="1"||e===1){t="Error"}else if(e==="UI.CriticalityType/Critical"||e==="2"||e===2){t="Warning"}else if(e==="UI.CriticalityType/Positive"||e==="3"||e===3){t="Success"}else if(e==="UI.CriticalityType/Information"||e==="5"||e===5){t="Information"}else{t="None"}return t};h.__functionName="sap.fe.core.formatters.ValueFormatter#formatCriticalityValueState";f.formatCriticalityValueState=h;const T=e=>{let t;if(e==="UI.CriticalityType/Negative"||e==="1"||e===1){t="Reject"}else if(e==="UI.CriticalityType/Positive"||e==="3"||e===3){t="Accept"}else{t="Default"}return t};T.__functionName="sap.fe.core.formatters.ValueFormatter#formatCriticalityButtonType";f.formatCriticalityButtonType=T;const C=e=>{let t;if(e==="UI.CriticalityType/Negative"||e==="1"||e===1){t="Error"}else if(e==="UI.CriticalityType/Critical"||e==="2"||e===2){t="Critical"}else if(e==="UI.CriticalityType/Positive"||e==="3"||e===3){t="Good"}else{t="Neutral"}return t};C.__functionName="sap.fe.core.formatters.ValueFormatter#formatCriticalityColorMicroChart";f.formatCriticalityColorMicroChart=C;const I=(e,t,r,a,o)=>{if(e&&t&&r){const n=r.split("-");const f=`${n[1]===undefined?r:n[1]}-narrow`;const l=s.getDateInstance();const m=l.oLocaleData.mData;const u=i.getResourceBundleFor("sap.fe.macros");let p=r;if(m?.dateFields[f]?.displayName){p=m.dateFields[f].displayName}else if(m?.units?.short[r]?.displayName){p=m.units.short[r].displayName}let y;if(a){y=c.getCurrencyInstance({customCurrencies:o,showMeasure:false})}else{y=c.getUnitInstance({customUnits:o,showMeasure:false})}const d=y.format(+e,p);const g=y.format(+t,p);return u.getText("T_COMMON_PROGRESS_INDICATOR_DISPLAY_VALUE_WITH_UOM",[d,g,p])}};I.__functionName="sap.fe.core.formatters.ValueFormatter#formatProgressIndicatorText";f.formatProgressIndicatorText=I;const N=e=>{if(e?.length){return"*".repeat(e.length)}return undefined};N.__functionName="sap.fe.core.formatters.ValueFormatter#formatPasswordText";f.formatPasswordText=N;const F=e=>e===null||e===undefined?"":t(e+"");F.__functionName="sap.fe.core.formatters.ValueFormatter#formatToKeepWhitespace";f.formatToKeepWhitespace=F;function M(t){if(t){const r=new Date(t);if(!isNaN(Date.parse(r))){return n.getInstance(t)}else{e.warning("Warning: Valid date format has to be sent to retrieve UI5 date instance")}}return null}M.__functionName="sap.fe.core.formatters.ValueFormatter#provideDateInstance";const S=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}const a=t[0];const o=[];for(let e=1;e<t.length;e++){if(t[e]){o.push(t[e])}}if(o.length>0){return l(a,{semanticObjectsList:o,semanticObjectsExpressionList:[],qualifierMap:{}}).hasReachableStaticSemanticObject}return undefined};S.__functionName="sap.fe.core.formatters.ValueFormatter#hasSemanticObjects";f.hasSemanticObjects=S;const V=function(e){return t(e)};V.__functionName="sap.fe.core.formatters.ValueFormatter#replaceWhitespace";f.replaceWhitespace=V;const P=function(e){return o.getIconForMimeType(e)};P.__functionName="sap.fe.core.formatters.StandardFormatter#getIconForMimeType";u.hasSemanticObjects=S;u.formatWithBrackets=p;u.formatTitle=d;u.provideDateInstance=M;u.formatWithPercentage=g;u.computePercentage=_;u.formatCriticalityValueState=h;u.formatCriticalityButtonType=T;u.formatCriticalityColorMicroChart=C;u.formatProgressIndicatorText=I;u.formatPasswordText=N;u.formatToKeepWhitespace=F;u.formatStringDimension=y;u.getIconForMimeType=P;u.replaceWhitespace=V;r.set("sap.fe.core.formatters.ValueFormatter",u);return u},false);
//# sourceMappingURL=ValueFormatter.js.map