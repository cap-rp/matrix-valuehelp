{"version":3,"names":["collaborationFormatters","sName","hasOwnProperty","_len","arguments","length","oArgs","Array","_key","apply","hasCollaborationActivity","activities","getCollaborationActivity","__functionName","_exports","getCollaborationActivityInitials","activity","initials","getCollaborationActivityColor","color","control","path","getBindingContext","getPath","undefined","activityKey","getActivityKeyFromPath","find","key","getFormattedText","textId","resourceBundle","Library","getResourceBundleFor","params","i","push","getText","ObjectPath","set"],"sourceRoot":".","sources":["CollaborationFormatter.ts"],"sourcesContent":["/**\n * Collection of formatters needed for the collaboration draft.\n * @param {object} this The context\n * @param {string} sName The inner function name\n * @param {object[]} oArgs The inner function parameters\n * @returns {object} The value from the inner function\n */\n\nimport type { Property } from \"@sap-ux/vocabularies-types\";\nimport ObjectPath from \"sap/base/util/ObjectPath\";\nimport type { UserActivity } from \"sap/fe/core/controllerextensions/collaboration/CollaborationCommon\";\nimport { getActivityKeyFromPath } from \"sap/fe/core/controllerextensions/collaboration/CollaborationCommon\";\nimport type ManagedObject from \"sap/ui/base/ManagedObject\";\nimport Library from \"sap/ui/core/Lib\";\n\nconst collaborationFormatters = function (this: object, sName: string, ...oArgs: unknown[]): unknown {\n\tif (collaborationFormatters.hasOwnProperty(sName)) {\n\t\treturn (collaborationFormatters as unknown as Record<string, Function>)[sName].apply(this, oArgs);\n\t} else {\n\t\treturn \"\";\n\t}\n};\nexport const hasCollaborationActivity = function (this: ManagedObject, activities: UserActivity[], ..._keys: unknown[]): boolean {\n\treturn !!getCollaborationActivity(activities, this);\n};\nhasCollaborationActivity.__functionName = \"sap.fe.core.formatters.CollaborationFormatter#hasCollaborationActivity\";\n\nexport const getCollaborationActivityInitials = function (\n\tthis: ManagedObject,\n\tactivities: UserActivity[],\n\t..._keys: Property[]\n): string | undefined {\n\tconst activity = getCollaborationActivity(activities, this);\n\treturn activity?.initials;\n};\ngetCollaborationActivityInitials.__functionName = \"sap.fe.core.formatters.CollaborationFormatter#getCollaborationActivityInitials\";\n\nexport const getCollaborationActivityColor = function (\n\tthis: ManagedObject,\n\tactivities: UserActivity[],\n\t..._keys: Property[]\n): string | undefined {\n\tconst activity = getCollaborationActivity(activities, this);\n\treturn activity?.color;\n};\ngetCollaborationActivityColor.__functionName = \"sap.fe.core.formatters.CollaborationFormatter#getCollaborationActivityColor\";\n\nfunction getCollaborationActivity(activities?: UserActivity[], control?: ManagedObject): UserActivity | undefined {\n\tconst path = control?.getBindingContext()?.getPath();\n\tif (!path) {\n\t\treturn undefined;\n\t}\n\tconst activityKey = getActivityKeyFromPath(path);\n\tif (activities && activities.length > 0) {\n\t\treturn activities.find((activity) => {\n\t\t\treturn activity.key === activityKey;\n\t\t});\n\t} else {\n\t\treturn undefined;\n\t}\n}\n\n/**\n * Compute the Invitation dialog title based on the underlying resource bundle.\n * @param args The inner function parameters\n * @returns The dialog title\n */\nexport const getFormattedText = (...args: string[]): string => {\n\tconst textId = args[0];\n\tconst resourceBundle = Library.getResourceBundleFor(\"sap.fe.core\")!;\n\tconst params = [];\n\tfor (let i = 1; i < args.length; i++) {\n\t\tparams.push(args[i]);\n\t}\n\treturn resourceBundle.getText(textId, params);\n};\n\ngetFormattedText.__functionName = \"sap.fe.core.formatters.CollaborationFormatter#getFormattedText\";\n\ncollaborationFormatters.hasCollaborationActivity = hasCollaborationActivity;\ncollaborationFormatters.getCollaborationActivityInitials = getCollaborationActivityInitials;\ncollaborationFormatters.getCollaborationActivityColor = getCollaborationActivityColor;\ncollaborationFormatters.getFormattedText = getFormattedText;\n\nObjectPath.set(\"sap.fe.core.formatters.CollaborationFormatter\", collaborationFormatters);\n\nexport default collaborationFormatters;\n"],"mappings":"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","ignoreList":[],"file":"CollaborationFormatter-dbg.js"}