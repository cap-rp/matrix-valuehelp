{"version":3,"names":["VariantManagement","CoreLibrary","CreationMode","SectionLayout","templateLib","ObjectPage","ObjectPageComponent","_dec","defineUI5Class","library","manifest","_dec2","property","type","defaultValue","None","_dec3","Page","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec10","_dec11","_dec12","_class","_class2","_TemplateComponent","_this","_len","arguments","length","args","Array","_key","call","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_descriptor10","_descriptor11","DeferredContextCreated","_inheritsLoose","_proto","prototype","isContextExpected","extendPageDefinition","pageDefinition","converterContext","extendObjectPageDefinition","createDeferredContext","sPath","oListBinding","parentContext","data","bActionCreate","oParameters","$$groupId","$$updateGroupId","getModel","bindList","replace","undefined","oStartUpParams","oAppComponent","getComponentData","startupParameters","oInboundParameters","getViewData","inboundParameters","createParams","preferredMode","includes","Object","assign","CommonUtils","getAdditionalParamsForCreate","getRootControl","getController","editFlow","createDocument","creationMode","Sync","createAction","bFromDeferred","selectedContexts","finally","catch","setVariantManagement","sVariantManagement","Log","error","setProperty","isOpenInEditMode","openInEditMode","TemplateComponent","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["Component.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport { defineUI5Class, property } from \"sap/fe/base/ClassSupport\";\nimport type { InboundParameter } from \"sap/fe/core/CommonUtils\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport TemplateComponent from \"sap/fe/core/TemplateComponent\";\nimport type ConverterContext from \"sap/fe/core/converters/ConverterContext\";\nimport type { ObjectPageDefinition } from \"sap/fe/core/converters/templates/ObjectPageConverter\";\nimport CoreLibrary from \"sap/fe/core/library\";\nimport type { FinalPageDefinition } from \"sap/fe/templates/ObjectPage/ExtendPageDefinition\";\nimport { extendObjectPageDefinition } from \"sap/fe/templates/ObjectPage/ExtendPageDefinition\";\nimport templateLib from \"sap/fe/templates/library\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\nimport type ODataListBinding from \"sap/ui/model/odata/v4/ODataListBinding\";\n\nconst VariantManagement = CoreLibrary.VariantManagement,\n\tCreationMode = CoreLibrary.CreationMode;\nconst SectionLayout = templateLib.ObjectPage.SectionLayout;\n@defineUI5Class(\"sap.fe.templates.ObjectPage.Component\", { library: \"sap.fe.templates\", manifest: \"json\" })\nclass ObjectPageComponent extends TemplateComponent {\n\t/**\n\t * Defines if and on which level variants can be configured:\n\t * \t\tNone: no variant configuration at all\n\t * \t\tPage: one variant configuration for the whole page\n\t * \t\tControl: variant configuration on control level\n\t */\n\t@property({\n\t\ttype: \"sap.fe.core.VariantManagement\",\n\t\tdefaultValue: VariantManagement.None\n\t})\n\tvariantManagement: typeof VariantManagement;\n\n\t/**\n\t * Defines how the sections are rendered\n\t * \t\tPage: all sections are shown on one page\n\t * \t\tTabs: each top-level section is shown in an own tab\n\t */\n\t@property({\n\t\ttype: \"sap.fe.templates.ObjectPage.SectionLayout\",\n\t\tdefaultValue: SectionLayout.Page\n\t})\n\tsectionLayout: typeof SectionLayout;\n\n\t/**\n\t * Enables the related apps features\n\t */\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false\n\t})\n\tshowRelatedApps!: boolean;\n\n\t/**\n\t * Enables the 'Microsoft Teams > As Card' option in the 'Share' menu\n\t */\n\t@property({\n\t\ttype: \"object\"\n\t})\n\tshare!: Record<string, Record<string, boolean>>;\n\n\t@property({ type: \"object\" })\n\tadditionalSemanticObjects!: object;\n\n\t/**\n\t * Enables the editable object page header\n\t */\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: true\n\t})\n\teditableHeaderContent!: boolean;\n\n\t/**\n\t * Shows a text instead of an IllustratedMessage in the noData aggregation of Tables or Charts\n\t */\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false\n\t})\n\tuseTextForNoDataMessages!: boolean;\n\n\t/**\n\t * Enables the BreadCrumbs features\n\t */\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: true\n\t})\n\tshowBreadCrumbs!: boolean;\n\n\t/**\n\t * Defines the properties which can be used for inbound Navigation\n\t */\n\t@property({\n\t\ttype: \"object\"\n\t})\n\tinboundParameters!: object;\n\n\t/**\n\t * Defines if an object page should be opened in edit mode\n\t */\n\t@property({\n\t\ttype: \"boolean\"\n\t})\n\topenInEditMode: boolean | undefined;\n\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false\n\t})\n\tenableLazyLoading!: boolean;\n\n\tprivate DeferredContextCreated = false;\n\n\tisContextExpected(): boolean {\n\t\treturn true;\n\t}\n\n\textendPageDefinition(pageDefinition: ObjectPageDefinition, converterContext: ConverterContext): FinalPageDefinition {\n\t\treturn extendObjectPageDefinition(pageDefinition, converterContext);\n\t}\n\n\t// TODO: this should be ideally be handled by the editflow/routing without the need to have this method in the\n\t// object page - for now keep it here\n\tcreateDeferredContext(\n\t\tsPath: string,\n\t\toListBinding: ODataListBinding | undefined,\n\t\tparentContext: Context | undefined,\n\t\tdata: object | undefined,\n\t\tbActionCreate: boolean\n\t): void {\n\t\tif (!this.DeferredContextCreated) {\n\t\t\tthis.DeferredContextCreated = true;\n\t\t\tconst oParameters = {\n\t\t\t\t$$groupId: \"$auto.Heroes\",\n\t\t\t\t$$updateGroupId: \"$auto\"\n\t\t\t};\n\n\t\t\tif (!oListBinding) {\n\t\t\t\toListBinding = this.getModel().bindList(sPath.replace(\"(...)\", \"\"), undefined, undefined, undefined, oParameters);\n\t\t\t}\n\t\t\tconst oStartUpParams =\n\t\t\t\t\tthis.oAppComponent && this.oAppComponent.getComponentData() && this.oAppComponent.getComponentData().startupParameters,\n\t\t\t\toInboundParameters = this.getViewData().inboundParameters as Record<string, InboundParameter> | undefined;\n\t\t\tlet createParams;\n\t\t\tif (oStartUpParams && oStartUpParams.preferredMode && oStartUpParams.preferredMode[0].includes(\"create\")) {\n\t\t\t\tcreateParams = Object.assign({}, data, CommonUtils.getAdditionalParamsForCreate(oStartUpParams, oInboundParameters));\n\t\t\t} else {\n\t\t\t\tcreateParams = data;\n\t\t\t}\n\n\t\t\t// for now wait until the view and the controller is created\n\t\t\tthis.getRootControl()\n\t\t\t\t.getController()\n\t\t\t\t.editFlow.createDocument(oListBinding, {\n\t\t\t\t\tcreationMode: CreationMode.Sync,\n\t\t\t\t\tcreateAction: bActionCreate,\n\t\t\t\t\tdata: createParams,\n\t\t\t\t\tbFromDeferred: true,\n\t\t\t\t\tselectedContexts: parentContext ? [parentContext] : undefined\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.DeferredContextCreated = false;\n\t\t\t\t})\n\t\t\t\t.catch(function () {\n\t\t\t\t\t// Do Nothing ?\n\t\t\t\t});\n\t\t}\n\t}\n\n\tsetVariantManagement(sVariantManagement: string): void {\n\t\tif (sVariantManagement === VariantManagement.Page) {\n\t\t\tLog.error(\"ObjectPage does not support Page-level variant management yet\");\n\t\t\tsVariantManagement = VariantManagement.None;\n\t\t}\n\n\t\tthis.setProperty(\"variantManagement\", sVariantManagement);\n\t}\n\n\t/**\n\t * Checks if openInEditMode is defined in the manifest settings\n\t * @returns a boolean indicating if edit mode is set for an object page\n\t */\n\n\tisOpenInEditMode(): boolean {\n\t\tconst openInEditMode = this.getViewData().openInEditMode;\n\t\treturn openInEditMode === true;\n\t}\n}\n\nexport default ObjectPageComponent;\n"],"mappings":"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","ignoreList":[],"file":"Component-dbg.js"}