{"version":3,"file":"CollaborationManager.js","names":["RetrieveCardTypes","INTEGRATION","_exports","CollaborationManagerOverride","collectAvailableCards","cards","view","this","base","getView","controller","getController","appComponent","getOwnerComponent","getAppComponent","isEditable","CommonUtils","getIsEditable","card","getCollaborationManagerService","getDesignTimeCard","undefined","onAddCardToCollaborationManagerCallback","publishCard","e","showGenericErrorMessage","Log","error","push","title","_getPageTitleInformation","subtitle","callback"],"sources":["./CollaborationManager.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport { type RetrieveCardType } from \"sap/cards/ap/common/services/RetrieveCard\";\nimport type CollaborationManager from \"sap/fe/core/controllerextensions/cards/CollaborationManager\";\nimport { type WrappedCard } from \"sap/fe/core/services/CollaborationManagerServiceFactory\";\nimport { type CardManifest } from \"sap/insights/CardHelper\";\nimport { showGenericErrorMessage } from \"sap/fe/macros/insights/CommonInsightsHelper\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nexport const RetrieveCardTypes: Record<string, RetrieveCardType> = {\n    INTEGRATION: \"integration\"\n}\n\nconst CollaborationManagerOverride = {\n    async collectAvailableCards(this: CollaborationManager, cards: WrappedCard[]): Promise<void> {\n        const view = this.base.getView();\n        const controller = view.getController();\n        const appComponent = controller.getOwnerComponent().getAppComponent();\n        const isEditable = CommonUtils.getIsEditable(view);\n        const card = !isEditable ?await appComponent.getCollaborationManagerService().getDesignTimeCard(RetrieveCardTypes.INTEGRATION) : undefined;\n        if (card) {\n            const onAddCardToCollaborationManagerCallback = (): void => {\n                try {\n                    if (card) {\n                        appComponent.getCollaborationManagerService().publishCard(card as CardManifest);\n                        return;\n                    }\n                } catch (e) {\n                    showGenericErrorMessage(view);\n                    Log.error(e as string);\n                }\n            }\n            cards.push({\n                card: card,\n                title: controller._getPageTitleInformation().subtitle || \"\",\n                callback: onAddCardToCollaborationManagerCallback\n            });\n        }\n    }\n};\nexport default CollaborationManagerOverride;\n"],"mappings":";;;;6KAOO,MAAMA,EAAsD,CAC/DC,YAAa,eAChBC,EAAAF,oBAED,MAAMG,EAA+B,CACjC,2BAAMC,CAAkDC,GACpD,MAAMC,EAAOC,KAAKC,KAAKC,UACvB,MAAMC,EAAaJ,EAAKK,gBACxB,MAAMC,EAAeF,EAAWG,oBAAoBC,kBACpD,MAAMC,EAAaC,EAAYC,cAAcX,GAC7C,MAAMY,GAAQH,QAAkBH,EAAaO,iCAAiCC,kBAAkBpB,EAAkBC,aAAeoB,UACjI,GAAIH,EAAM,CACN,MAAMI,EAA0CA,KAC5C,IACI,GAAIJ,EAAM,CACNN,EAAaO,iCAAiCI,YAAYL,GAC1D,MACJ,CACJ,CAAE,MAAOM,GACLC,EAAwBnB,GACxBoB,EAAIC,MAAMH,EACd,GAEJnB,EAAMuB,KAAK,CACPV,KAAMA,EACNW,MAAOnB,EAAWoB,2BAA2BC,UAAY,GACzDC,SAAUV,GAElB,CACJ,GACF,OACanB,CAA4B","ignoreList":[]}