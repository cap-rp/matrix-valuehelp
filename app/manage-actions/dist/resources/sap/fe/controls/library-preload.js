//@ui5-bundle sap/fe/controls/library-preload.js
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFill/EasyFillPlaceholder", ["sap/fe/base/ClassSupport","sap/fe/base/jsx-runtime/jsx","sap/ui/core/Control","sap/fe/base/jsx-runtime/jsx"],function(e,t,r,s){"use strict";var n,o;var a={};var i=e.defineUI5Class;function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}let u=(n=i("sap.fe.controls.easyFill.EasyFillPlaceholder"),n(o=function(e){function r(){return e.apply(this,arguments)||this}a=r;p(r,e);r.render=function e(r,n){t.renderUsingRenderManager(r,n,()=>s("div",{ref:n,class:"sapFeEasyFillPlaceholder"}))};return r}(r))||o);a=u;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/AINotice", ["sap/m/Button","sap/m/OverflowToolbar","sap/m/Popover","sap/m/Text","sap/m/ToolbarSpacer","sap/m/VBox","sap/m/library","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs","sap/fe/base/jsx-runtime/Fragment"],function(e,t,r,s,o,n,a,p,T,_){"use strict";var c=a.PlacementType;var u=a.ButtonType;function l(a){return p(e,{text:a.resourceBundle.getText("M_EASY_FILTER_FILTER_SET_AI"),icon:"sap-icon://ai",type:u.Transparent,press:u=>{const l=p(r,{contentWidth:"22.8125rem",showArrow:true,showHeader:true,placement:c.Bottom,title:a.resourceBundle.getText("M_EASY_FILTER_POPOVER_AI_TITLE"),children:{content:T(n,{children:[p(s,{class:"sapFeControlsAiPopoverText1",text:a.resourceBundle.getText("M_EASY_FILTER_POPOVER_AI_TEXT_1")}),p(s,{class:"sapFeControlsAiPopoverText2",text:a.resourceBundle.getText("M_EASY_FILTER_POPOVER_AI_TEXT_2")})]}),footer:p(t,{children:{content:T(_,{children:[p(o,{}),p(e,{text:a.resourceBundle.getText("M_EASY_FILTER_POPOVER_CLOSE"),press:()=>{l?.close()}})]})}})}});l.openBy(u.getSource())}})}return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/EasyFilterBarContainer", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/base/jsx-runtime/jsx","sap/fe/controls/easyFilter/Token","sap/m/Button","sap/m/FlexBox","sap/m/Popover","sap/m/Tokenizer","sap/m/VBox","sap/m/library","sap/ui/core/Control","sap/ui/core/CustomData","sap/ui/core/Lib","sap/ui/core/library","sap/base/util/deepClone","sap/fe/base/BindingToolkit","sap/fe/controls/easyFilter/EasyFilterInput","sap/m/MessageStrip","sap/m/OverflowToolbar","sap/m/ToolbarSpacer","sap/ui/model/FilterOperator","sap/ui/performance/trace/FESRHelper","./AINotice","./utils","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/Fragment","sap/fe/base/jsx-runtime/jsxs"],function(e,t,r,i,s,n,a,o,l,u,c,h,p,d,f,y,g,k,b,S,m,v,F,T,E,V,M){"use strict";var I,P,C,w,B,R,z,_,x,A,L,O,j,q,K,D,H,U,N,Y,G,Q,W,J,$,X,Z,ee,te,re,ie,se,ne,ae,oe;function le(e){return new Promise((t,r)=>{sap.ui.require([e],r=>{if(!(r&&r.__esModule)){r=r===null||!(typeof r==="object"&&e.endsWith("/library"))?{default:r}:r;Object.defineProperty(r,"__esModule",{value:true})}t(r)},e=>{r(e)})})}var ue={};var ce=y.bindState;var he=y.and;var pe=d.ValueState;var de=u.TokenizerRenderMode;var fe=u.PlacementType;var ye=u.FlexWrap;var ge=u.FlexJustifyContent;var ke=u.FlexAlignItems;var be=u.ButtonType;var Se=t.property;var me=t.event;var ve=t.defineUI5Class;var Fe=t.defineState;var Te=t.defineReference;var Ee=t.createReference;var Ve=t.aggregation;function Me(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Ie(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Pe(e,t)}function Pe(e,t){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pe(e,t)}function Ce(e,t,r,i,s){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),s&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(s):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function we(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let Be=(I=ve("sap.fe.controls.easyFilter.EasyFilterBarContainer"),P=Se({type:"string"}),C=Se({type:"string"}),w=Se({type:"string"}),B=Se({type:"array"}),R=Se({type:"array"}),z=Se({type:"function"}),_=Te(),x=Te(),A=Ve({type:"sap.ui.core.Control"}),L=me(),O=me(),j=me(),q=me(),K=me(),D=me(),H=Fe(),I(U=(N=function(t){function u(e,r){var i;i=t.call(this,e,r)||this;Me(i,"contextPath",Y,i);Me(i,"appId",G,i);Me(i,"easyFilterLib",Q,i);Me(i,"filterBarMetadata",W,i);Me(i,"recommendedValues",J,i);Me(i,"dataFetcher",$,i);Me(i,"easyFilterInput",X,i);Me(i,"tokenizer",Z,i);Me(i,"content",ee,i);Me(i,"tokensChanged",te,i);Me(i,"queryChanged",re,i);Me(i,"showValueHelp",ie,i);Me(i,"clearFilters",se,i);Me(i,"beforeQueryProcessing",ne,i);Me(i,"afterQueryProcessing",ae,i);Me(i,"state",oe,i);i.shouldTokenChangeEventFired=true;i.inputFieldReady=new Promise(e=>{i.resolveContentReady=e});i.initialize();return i}ue=u;Ie(u,t);var c=u.prototype;c.setEasyFilterLib=function e(t){this.setProperty("easyFilterLib",t);if(this.easyFilterLib){this.easyfilter=le(this.easyFilterLib)}};c.setAppId=async function e(t){if(!this.appId){this.setProperty("appId",t,true);await this.inputFieldReady;this.easyFilterInput.current?.setProperty("appId",t,true);await(this.easyFilterInput.current?.initShellHistoryProvider())}};c.setFilterBarMetadata=function e(t){if(!this.filterBarMetadata){this.setProperty("filterBarMetadata",t,true);const e=this.getDefaultTokens();if(!this.innerControlPopover){this.innerControlPopover=this.createPopoverForInnerControls();this.addDependent(this.innerControlPopover)}this.state.tokens=e;this.state.showResult=e.length>0;this.isMandatoryCheckRequired=true;this.shouldTokenChangeEventFired=false}};c.init=function e(){this.resourceBundle=p.getResourceBundleFor("sap.fe.controls")};c.initialize=function e(){this.content=this.createContent();this.resolveContentReady();if(!this.innerControlPopover){this.innerControlPopover=this.createPopoverForInnerControls();this.addDependent(this.innerControlPopover)}this.isMandatoryCheckRequired=true;this.shouldTokenChangeEventFired=false};c.getDefaultTokens=function e(){const t=[];if(!this.mandatoryKeyMap){this.mandatoryKeyMap={}}this.filterBarMetadata?.forEach(e=>{const r=e.required;if(r){this.mandatoryKeyMap[e.name]=true;if(e.type==="ValueHelp"){t.push({key:e.name,label:e.label,keySpecificSelectedValues:e.defaultValue??[],type:e.type,busy:false,isRequired:r})}else{t.push({key:e.name,label:e.label,keySpecificSelectedValues:e.defaultValue??[],type:e.type,busy:false,isRequired:r})}}});return t};c.onEnterPressed=function e(t){this.onGoPress(t.getParameter("query"))};c.checkIfAllMandatoryTokensFilled=function e(){const t=this.getUnSetMandatoryTokensInCurrentState();if(t.length!==0){const e=this.getActualTokensFromState(t);e?.forEach(e=>{e.setProperty("valueState",pe.Error);e.setProperty("valueStateText",this.resourceBundle.getText("M_EASY_FILTER_MANDATORY_TOKEN_ERROR"));e.openValueStateMessage()});return false}return true};c.closeAllMandatoryValueStateMessages=function e(){const t=this.tokenizer.current?.getTokens();t.forEach(e=>e.closeValueStateMessage())};c.onGoPress=async function t(r){if(!r){this.resetState();return}this.state.tokenizerEditable=true;const i=await this.easyfilter;if(!i){return}this.fireEvent("beforeQueryProcessing");const s={version:1,entitySet:this.contextPath,fields:this.filterBarMetadata};const n=await i.easyFilter(r,s);if(n.success){if(this.easyFilterInput.current?.isHistoryEnabled()??false){this.easyFilterInput.current?.addRecentQuery(r)}if(n.data.version===1){this.handleV1Success(n)}else if(n.data.version===2){}}else{this.easyFilterInput.current?.setAsInvalid(n.message);this.removeNonMandatoryTokens();e.error("Error while generating filter criteria: ",n.message)}this.fireEvent("afterQueryProcessing")};c.handleV1Success=function t(r){if(r.data.unclear){this.easyFilterInput.current?.setAsInvalid(this.resourceBundle.getText("M_EASY_FILTER_UNCLEAR_INPUT",[r.data.unclear]))}if(r.data.filter){e.debug("Filter criteria generated: ",JSON.stringify(r.data.filter,null,2));const t=[...this.state.tokens].filter(e=>e.isRequired);T.formatData(t,r.data.filter,this.filterBarMetadata);const i=t.filter(e=>e.type==="ValueHelp");if(this.dataFetcher){i.forEach(async e=>{const t=await(this.dataFetcher?.(e.key,e.keySpecificSelectedValues,r));e.busy=false;if(t){e.keySpecificSelectedValues=t;this.state.showResult=true;this.state.tokens=s}})}else{i.forEach(e=>{e.busy=false;e.keySpecificSelectedValues.forEach((t,r)=>{if(t.operator===m.BT||t.operator===m.NB){e.keySpecificSelectedValues[r].selectedValues=[{value:t.selectedValues[0],description:t.selectedValues[0]},{value:t.selectedValues[1],description:t.selectedValues[1]}]}else{e.keySpecificSelectedValues[r].selectedValues.forEach((t,i)=>{e.keySpecificSelectedValues[r].selectedValues[i]={value:t,description:t}})}})})}const s=this.verifySingleSelectTokenValues(t);this.state.showResult=true;this.state.tokens=s}};c.verifySingleSelectTokenValues=function e(t){const r=[];t.forEach(e=>{if(e.type==="MenuWithSingleSelect"){if(e.keySpecificSelectedValues[0].selectedValues.length>1){r.push(e.label);e.keySpecificSelectedValues[0].selectedValues.splice(1)}}});if(r.length){this.state.singleValueMessageStripText=this.resourceBundle.getText("M_EASY_FILTER_SINGLE_VALUE_MESSAGE",[`<strong>${r.join(", ")}</strong>`]);this.state.showSingleValueMessageStrip=true}return t};c.createPopoverForInnerControls=function e(){if(!this.innerControlPopover){this.innerControlPopover=E(a,{id:this.getId()+"-innerPopover",showArrow:false,showHeader:true,placement:fe.Bottom,children:{footer:this.getToolbar()}})}return this.innerControlPopover};c.getToolbar=function e(){if(!this.toolbar){const e=this.getOkButton();const t=this.getShowAllButton();this.toolbar=E(b,{children:{content:M(V,{children:[E(S,{}),e,t]})}})}return this.toolbar};c.getOkButton=function e(){if(!this.okButton){this.okButton=E(s,{text:this.resourceBundle.getText("M_EASY_FILTER_POPOVER_OK"),type:be.Emphasized})}return this.okButton};c.getShowAllButton=function e(){if(!this.showAllButton){this.showAllButton=E(s,{text:this.resourceBundle.getText("M_EASY_FILTER_POPOVER_SHOW_ALL_ITEMS")})}return this.showAllButton};c.formatTokens=function e(t){return t.map(e=>{if(e.type==="ValueHelp"){return{...e,keySpecificSelectedValues:e.keySpecificSelectedValues.map(e=>({operator:e.operator,selectedValues:e.selectedValues.map(e=>e.value)}))}}else{return f(e)}})};c.onStateChange=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(t.includes("tokens")){if(this.shouldTokenChangeEventFired){this.fireEvent("tokensChanged",{tokens:this.formatTokens(this.state.tokens)})}this.state.showResult=this.state.tokens.length>0;if(!(this.isMandatoryCheckRequired??false)){this.checkIfAllMandatoryTokensFilled()}}this.isMandatoryCheckRequired=false;this.shouldTokenChangeEventFired=true;(this.tokenizer?.current).onsapfocusleave=()=>{}};c.createContent=function e(){const t=Ee();const r=M(l,{children:[M(n,{renderType:"Bare",children:[E(g,{recommendedValues:this.recommendedValues,ref:this.easyFilterInput,enterPressed:this.onEnterPressed.bind(this),queryChanged:e=>{this.fireEvent("queryChanged",{query:e.getParameter("query")})},liveChange:()=>{this.state.tokenizerEditable=false}}),E(s,{icon:"sap-icon://ai",class:"sapUiSmallMarginBegin",ref:t,text:this.resourceBundle.getText("M_EASY_FILTER_GO"),type:be.Emphasized,press:this.onGoButtonPress.bind(this)})]}),E(n,{renderType:"Bare",visible:ce(this.state,"showResult"),alignItems:ke.Center,wrap:ye.Wrap,justifyContent:ge.SpaceBetween,class:"sapUiTinyMarginTop",children:M(n,{class:"sapFeControlsGap8px",renderType:"Bare",alignItems:ke.Center,wrap:ye.Wrap,children:[E(F,{resourceBundle:this.resourceBundle}),E(o,{editable:he(ce(this.state,"tokenizerEditable"),true),class:"sapFeControlsTokenizer",tokens:ce(this.state,"tokens"),renderMode:de.Loose,ref:this.tokenizer,children:{tokens:(e,t)=>{const r=t.getObject();return E(i,{label:this.state.tokens.label,items:this.state.tokens.keySpecificSelectedValues,mandatory:this.isKeyMandatory(r.key),busy:this.state.tokens.busy,delete:()=>{const e=this.state.tokens.findIndex(e=>e.key===r.key);const t=this.state.tokens.concat();t.splice(e,1);this.state.tokens=t;this.updateFilterInput("tokenUpdated")},children:{customData:[E(h,{value:r},"TokenInfo"),E(h,{value:this.innerControlPopover},"popover"),E(h,{value:this},"easyFilterBarContainer"),E(h,{value:this.filterBarMetadata?.find(e=>e.name===r.key)?.codeList},"codeList")]}},this.state.tokens.key)}}}),E(s,{text:this.resourceBundle.getText("M_EASY_FILTER_RESET"),type:be.Transparent,press:()=>{this.resetState();this.easyFilterInput.current?.$searchInput.focus()}})]})}),E(n,{renderType:"Bare",children:E(k,{text:ce(this.state,"singleValueMessageStripText"),showIcon:true,enableFormattedText:true,visible:ce(this.state,"showSingleValueMessageStrip"),showCloseButton:true,close:()=>{this.state.showSingleValueMessageStrip=false}})})]});v.setSemanticStepname(t.current,"press","fe:ai:search");return r};c.onGoButtonPress=async function e(){this.state.tokenizerEditable=true;let t=this.easyFilterInput.current?.getValue();const r=this.easyFilterInput.current?.getPlaceholder();if(t===""&&r!==this.resourceBundle.getText("M_EASY_FILTER_PLACEHOLDER")){this.easyFilterInput.current?.setValue(r||"");t=r}await this.onGoPress(t)};c.resetState=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(t){this.fireEvent("clearFilters")}else{this.shouldTokenChangeEventFired=false}this.state.tokens=this.getDefaultTokens();this.updateFilterInput("tokenReset");this.state.tokenizerEditable=true;this.isMandatoryCheckRequired=true;this.tokenizer.current?.getTokens().forEach(e=>e.setProperty("valueState",pe.None));this.tokenizer.current?.getTokens().forEach(e=>e.setProperty("valueStateText",null))};c.updateTokenArray=function t(r,i,s){const n=this.state.tokens.map(e=>({...e,keySpecificSelectedValues:[...e.keySpecificSelectedValues]}));const a=n.findIndex(e=>e.key===s);const o=n[a];if(a!=-1){switch(r){case"setSelectedValues":this.setSelectedValues(o,i,a,n);o.keySpecificSelectedValues=i;if(!this.isKeyMandatory(o.key)&&o.keySpecificSelectedValues.length===0){n.splice(a,1)}break;default:e.error("Specifying a setter that is out of the boundary");break}this.state.tokens=n;this.state.showResult=n.length>0;this.updateFilterInput("tokenUpdated")}};c.closeInnerControlPopover=function e(){this.innerControlPopover?.close()};c.setSelectedValues=function e(t,r,i,s){t.keySpecificSelectedValues=r;if(!this.isKeyMandatory(t.key)&&t.keySpecificSelectedValues.length===0){s.splice(i,1)}};c.isKeyMandatory=function e(t){if(!this.mandatoryKeyMap){this.mandatoryKeyMap={}}return this.mandatoryKeyMap[t]?true:false};c.removeNonMandatoryTokens=function e(){const t=this.state.tokens.filter(e=>this.isKeyMandatory(e.key));this.state.tokens=t;return this};c.updateFilterInput=function e(t){const r=this.easyFilterInput.current?.getValue()||"";if(t==="tokenUpdated"&&r!==""){this.easyFilterInput.current?.setValue("");this.easyFilterInput.current?.setPlaceholder(r)}else if(t==="tokenReset"){this.easyFilterInput.current?.setValue("");this.easyFilterInput.current?.setPlaceholder(this.resourceBundle.getText("M_EASY_FILTER_PLACEHOLDER"))}};c.getTokensInInitialState=function e(){const t=this.state.tokens.map(e=>({...e,keySpecificSelectedValues:[...e.keySpecificSelectedValues]}));const r=t.filter(e=>{if(this.isKeyMandatory(e.key)){return true}});return r.map(e=>({...e,keySpecificSelectedValues:[]}))};c.getUnSetMandatoryTokensInCurrentState=function e(){return this.state.tokens.filter(e=>{const t=this.isKeyMandatory(e.key);if(t){return e.keySpecificSelectedValues.length===0}})};c.getActualTokensFromState=function e(t){const r=t.map(e=>e.key);return this.tokenizer.current?.getTokens().filter(e=>r.includes(e.getKey()))};u.render=function e(t,i){return r.renderUsingRenderManager(t,i,()=>E("span",{ref:i,children:i.getAggregation("content")}))};return u}(c),Y=Ce(N.prototype,"contextPath",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),G=Ce(N.prototype,"appId",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),Q=Ce(N.prototype,"easyFilterLib",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),W=Ce(N.prototype,"filterBarMetadata",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),J=Ce(N.prototype,"recommendedValues",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),$=Ce(N.prototype,"dataFetcher",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),X=Ce(N.prototype,"easyFilterInput",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),Z=Ce(N.prototype,"tokenizer",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),ee=Ce(N.prototype,"content",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),te=Ce(N.prototype,"tokensChanged",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),re=Ce(N.prototype,"queryChanged",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),ie=Ce(N.prototype,"showValueHelp",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),se=Ce(N.prototype,"clearFilters",[q],{configurable:true,enumerable:true,writable:true,initializer:null}),ne=Ce(N.prototype,"beforeQueryProcessing",[K],{configurable:true,enumerable:true,writable:true,initializer:null}),ae=Ce(N.prototype,"afterQueryProcessing",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),oe=Ce(N.prototype,"state",[H],{configurable:true,enumerable:true,writable:true,initializer:function(){return{showResult:false,tokens:[],tokenizerEditable:true,showSingleValueMessageStrip:false,singleValueMessageStripText:""}}}),N))||U);ue=Be;return ue},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/EasyFilterInput", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/base/EventDelegateHook","sap/fe/base/jsx-runtime/jsx","sap/fe/controls/easyFilter/ShellHistoryProvider","sap/m/Button","sap/m/CustomListItem","sap/m/FlexBox","sap/m/HBox","sap/m/IllustratedMessage","sap/m/IllustratedMessageSize","sap/m/IllustratedMessageType","sap/m/Input","sap/m/List","sap/m/Popover","sap/m/Text","sap/m/Title","sap/m/library","sap/ui/core/Control","sap/ui/core/CustomData","sap/ui/core/Lib","sap/ui/core/library","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,r,s,i,a,n,o,l,u,c,h,p,d,f,v,g,E,P,b,I,m,y,T,_){"use strict";var S,F,O,x,$,C,L,Q,R,V,w,B,j,A,H,M,D;var z={};var Y=y.ValueState;var q=y.TitleLevel;var U=P.PlacementType;var k=P.ListMode;var N=P.FlexWrap;var W=P.FlexJustifyContent;var G=P.FlexDirection;var J=P.FlexAlignItems;var K=P.ButtonType;var X=r.property;var Z=r.event;var ee=r.defineUI5Class;var te=r.defineState;var re=r.aggregation;var se=t.lessThan;var ie=t.length;var ae=t.equal;var ne=t.bindState;function oe(e,t,r,s){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(s):void 0})}function le(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ue(e,t)}function ue(e,t){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ue(e,t)}function ce(e,t,r,s,i){var a={};return Object.keys(s).forEach(function(e){a[e]=s[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,s){return s(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function he(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let pe=(S=ee("sap.fe.controls.easyFilter.EasyFilterInput"),F=re({type:"sap.m.Input",multiple:false,isDefault:true}),O=X({type:"string"}),x=X({type:"array"}),$=Z(),C=Z(),L=Z(),Q=te(),S(R=(V=function(t){function r(e,r){var s;s=t.call(this,e,r)||this;oe(s,"$searchInput",w,s);oe(s,"appId",B,s);oe(s,"recommendedValues",j,s);oe(s,"queryChanged",A,s);oe(s,"enterPressed",H,s);oe(s,"liveChange",M,s);oe(s,"state",D,s);s.initialize();return s}z=r;le(r,t);var P=r.prototype;P.getValue=function e(){return this.$searchInput.getValue()};P.isHistoryEnabled=function e(){return this.state.isHistoryEnabled.valueOf()};P.setValue=function e(t){this.$searchInput.setValue(t);return this};P.setPlaceholder=function e(t){this.$searchInput.setPlaceholder(t);return this};P.getPlaceholder=function e(){return this.$searchInput.getPlaceholder()};P.initialize=function e(){this.state.recommendedQueries=this.recommendedValues??[];this.resourceBundle=m.getResourceBundleFor("sap.fe.controls");this.createInput()};P.setAsInvalid=function e(t){this.$searchInput.setValueState(Y.Warning);this.$searchInput.setValueStateText(t);this.$searchInput.openValueStateMessage()};P.createInput=function e(){this.$searchInput=T(d,{width:"100%",showClearIcon:true,change:e=>{this.fireEvent("queryChanged",{query:e.getParameter("value")})},liveChange:e=>{this.state.queryChanged=true;this.fireEvent("liveChange");if(!e.getSource().getValue()&&!(this.$favoritePopover?.isOpen()??false)){this.openSuggestionPopover()}if(e.getParameter("value")===""){this.setPlaceholder(this.resourceBundle.getText("M_EASY_FILTER_PLACEHOLDER"))}},placeholder:this.resourceBundle.getText("M_EASY_FILTER_PLACEHOLDER")});const t=this.createFavoritePopover();this.$favoritePopover=t;this.$searchInput.addDependent(t);this.$searchInput.addEventDelegate({onkeyup:e=>{if(e.key==="Enter"){this.onEnterPressed()}if(this.$favoritePopover&&this.$searchInput.getValue()){this.$favoritePopover.close()}},onkeydown:e=>{if(e.key==="Tab"&&this.$searchInput?.getValue().length===0&&this.$searchInput?.getValue()!==this.$searchInput?.getPlaceholder()&&this.$searchInput?.getPlaceholder()!==this.resourceBundle.getText("M_EASY_FILTER_PLACEHOLDER")){e.preventDefault();this.$searchInput?.setValue(this.$searchInput?.getPlaceholder());this.fireEvent("liveChange")}},ontap:()=>{this.openSuggestionPopover()},onfocusin:()=>{this.openSuggestionPopover()}})};P.openSuggestionPopover=function e(){if(!this.$searchInput?.getValue()&&(!this.$favoritePopover||!this.$favoritePopover?.isOpen())){this.state.isHistoryEnabled=this.shellHistoryProvider?.isHistoryEnabled()??false;this.state.favoriteQueries=this.shellHistoryProvider?.getFavoriteQueries()??[];this.state.recentQueries=(this.shellHistoryProvider?.getRecentQueries()??[]).map(e=>e);this.$favoritePopover?.openBy(this.$searchInput)}};P.requestFavorite=function e(t){this.$favoritePopover?.close();this.$searchInput?.setValue(t.getSource().getText());this.onEnterPressed()};P.onEnterPressed=function e(){this.$favoritePopover?.close();this.state.queryChanged=false;let t=this.$searchInput?.getValue();if(t===""&&this.$searchInput.getPlaceholder()!==this.resourceBundle.getText("M_EASY_FILTER_PLACEHOLDER")){t=this.$searchInput.getPlaceholder();this.$searchInput?.setValue(t)}this.$searchInput?.setValueStateText("");this.$searchInput?.setValueState("None");this.fireEvent("enterPressed",{query:t})};P.addRecentQuery=function e(t){t=t?.replace(/\\/g,"\\\\");const r=this.state.recentQueries.findIndex(e=>e.toLowerCase()===t?.toLowerCase());if(t&&r===-1){this.state.recentQueries=[t].concat(this.state.recentQueries);if(this.state.recentQueries.length>5){this.state.recentQueries=this.state.recentQueries.slice(0,5)}}else if(t){const e=this.state.recentQueries.filter(e=>e.toLowerCase()!==t?.toLowerCase());e.unshift(t);this.state.recentQueries=e}};P.onStateChange=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(t.includes("favoriteQueries")||t.includes("recentQueries")){this.shellHistoryProvider?.setFavoriteQueries(this.state.favoriteQueries);this.shellHistoryProvider?.setRecentQueries(this.state.recentQueries.map(e=>e));this.state.recentQueriesWitFavorites=this.state.recentQueries.map(e=>({text:e,isFavorite:!!this.state.favoriteQueries.find(t=>t===e)}))}};P.initShellHistoryProvider=async function t(){try{this.shellHistoryProvider=await a.getInstance(this.appId??"<unknownApp>")}catch(t){e.error("Error while creating ShellHistoryProvider for easy filter",t)}};P.createFavoritePopover=function e(){return T(v,{id:this.getId()+"-favoritePopover",showHeader:false,horizontalScrolling:false,placement:U.Bottom,showArrow:false,initialFocus:this.$searchInput,class:"sapFEControlsPopover",visible:this.state.recommendedQueries.length>0||ae(ne(this.state,"isHistoryEnabled"),true),children:{content:T(l,{direction:G.Column,class:"sapUiContentPadding",renderType:"Bare",children:{items:[T(E,{titleStyle:q.H6,text:this.resourceBundle.getText("M_EASY_FILTER_POPOVER_SUGGESTIONS_TITLE"),class:"sapFeControlsTitleBorder",visible:this.state.recommendedQueries.length>0}),T(u,{class:"sapUiContentPadding",items:ne(this.state,"recommendedQueries"),wrap:N.Wrap,visible:this.state.recommendedQueries.length>0,children:{items:(e,t)=>T(n,{class:"sapUiTinyMarginEnd",text:t.getObject(),press:this.requestFavorite.bind(this)})}}),T(E,{titleStyle:q.H6,text:this.resourceBundle.getText("M_EASY_FILTER_POPOVER_FAVORITE_TITLE"),class:"sapFeControlsTitleBorder",visible:ae(ne(this.state,"isHistoryEnabled"),true)}),T(f,{items:ne(this.state,"favoriteQueries"),visible:ae(ne(this.state,"isHistoryEnabled"),true),children:{noData:T(c,{title:this.resourceBundle.getText("M_EASY_FILTER_POPOVER_EMPTY_FAVORITE_TITLE"),illustrationSize:h.ExtraSmall,illustrationType:p.NoEntries,description:this.resourceBundle.getText("M_EASY_FILTER_POPOVER_EMPTY_FAVORITE_DESCRIPTION")}),items:(e,t)=>T(o,{class:"sapUiSmallMarginBegin",customData:[T(I,{value:t.getObject()},"text")],press:()=>{this.$searchInput.setValue(t.getObject());this.onEnterPressed()},children:_(l,{width:"100%",direction:G.Row,alignItems:J.Center,justifyContent:W.SpaceBetween,renderType:"Bare",id:e,children:[T(g,{text:t.getObject(),tooltip:t.getObject(),wrapping:false,class:"sapFEControlsPointer",children:{dependents:T(s,{tap:()=>{this.$searchInput?.setValue(t.getObject().replace(/\\\\/g,"\\"));this.onEnterPressed()}})}}),T(n,{icon:"sap-icon://favorite",tooltip:this.resourceBundle.getText("M_EASY_FILTER_FILLED_STAR"),type:K.Transparent,press:()=>{this.$favoritePopover?.focus();const e=t.getObject();const r=this.state.favoriteQueries.indexOf(e);if(r!==-1){this.state.favoriteQueries=this.state.favoriteQueries.filter(t=>t!==e)}}})]})})}}),T(E,{titleStyle:q.H6,text:this.resourceBundle.getText("M_EASY_FILTER_POPOVER_LAST_USED"),class:"sapFeControlsTitleBorder",visible:ae(ne(this.state,"isHistoryEnabled"),true)}),T(f,{items:ne(this.state,"recentQueriesWitFavorites"),visible:ae(ne(this.state,"isHistoryEnabled"),true),mode:k.Delete,delete:e=>{this.$favoritePopover?.focus();let t=e.getParameter("listItem")?.data("text");if(!t)return;t=t?.replace(/\\/g,"\\\\");this.state.recentQueries=this.state.recentQueries.filter(e=>e!==t)},children:{noData:T(c,{title:this.resourceBundle.getText("M_EASY_FILTER_POPOVER_EMPTY_LAST_USED_TITLE"),illustrationSize:h.ExtraSmall,illustrationType:p.NoEntries,description:this.resourceBundle.getText("M_EASY_FILTER_POPOVER_EMPTY_RECENT_DESCRIPTION")}),items:(e,t)=>T(o,{press:()=>{this.$searchInput?.setValue(t.getObject().text);this.onEnterPressed()},class:"sapUiSmallMarginBegin",customData:[T(I,{value:t.getObject().text},"text")],children:_(l,{width:"100%",direction:G.Row,alignItems:J.Center,justifyContent:W.SpaceBetween,renderType:"Bare",id:e,children:[T(g,{text:t.getObject().text,tooltip:t.getObject().text,wrapping:false,class:"sapFEControlsPointer",children:{dependents:T(s,{tap:()=>{this.$searchInput?.setValue(t.getObject().text.replace(/\\\\/g,"\\"));this.onEnterPressed()}})}}),T(n,{icon:t.getObject().isFavorite?"sap-icon://favorite":"sap-icon://add-favorite",tooltip:t.getObject().isFavorite?this.resourceBundle.getText("M_EASY_FILTER_FILLED_STAR"):this.resourceBundle.getText("M_EASY_FILTER_EMPTY_START"),enabled:se(ie(ne(this.state,"favoriteQueries")),5),type:K.Transparent,press:()=>{this.$favoritePopover?.focus();const e=t.getObject().text;const r=t.getObject().isFavorite;if(r){this.removeFromFavorites(e)}else{this.addToFavorites(e)}}})]})})}})]}})}})};P.removeFromFavorites=function e(t){this.state.favoriteQueries=this.state.favoriteQueries.filter(e=>e.toLowerCase()!==t.toLowerCase())};P.addToFavorites=function e(t){const r=[t].concat(this.state.favoriteQueries.concat());if(r.length>5){r.pop()}this.state.favoriteQueries=r};r.render=function e(t,r){return i.renderUsingRenderManager(t,r,()=>T("span",{ref:r,class:"sapFEEasyFilterInput",children:r.$searchInput}))};return r}(b),w=ce(V.prototype,"$searchInput",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),B=ce(V.prototype,"appId",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),j=ce(V.prototype,"recommendedValues",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),A=ce(V.prototype,"queryChanged",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),H=ce(V.prototype,"enterPressed",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),M=ce(V.prototype,"liveChange",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),D=ce(V.prototype,"state",[Q],{configurable:true,enumerable:true,writable:true,initializer:function(){return{queryChanged:false,isHistoryEnabled:false,recentQueries:[],recentQueriesWitFavorites:[],favoriteQueries:[],recommendedQueries:[]}}}),V))||R);z=pe;return z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/ShellHistoryProvider", ["sap/base/Log","sap/base/util/uid","sap/fe/base/ClassSupport","sap/m/CheckBox","sap/m/Title","sap/m/VBox","sap/ui/base/ManagedObject","sap/ui/core/Lib","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,i,r,a,s,n,o,c,l){"use strict";var u,p,f,d,g,b,y,E,h,S;var v={};var _=i.defineUI5Class;var w=i.defineState;var I=i.defineReference;function P(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Q(e,t)}function Q(e,t){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Q(e,t)}function T(e,t,i,r,a){var s={};return Object.keys(r).forEach(function(e){s[e]=r[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},s),a&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(a):void 0,s.initializer=void 0),void 0===s.initializer?(Object.defineProperty(e,t,s),null):s}function z(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let D=(u=_("sap.fe.controls.easyFilter.ShellHistoryProvider"),p=w(),f=I(),d=I(),u(g=(b=(S=function(i){function n(e,t,r,a,s){var o;o=i.call(this)||this;P(o,"state",y,o);o.personalizationService=e;o.globalPersonalizer=t;o.appPersonalizer=r;o.data=a;o.appData=s;n.instances.add(o);o.state.isHistoryEnabled=a.isHistoryEnabled;o.state.apps=a.apps;o.state.recentQueries=s.recentQueries;o.state.favoriteQueries=s.favoriteQueries;return o}v=n;m(n,i);n.getShellDialogContent=function e(t){this.$form=l(s,{children:[c(a,{text:this.resourceBundle.getText("M_BUSINESS_AI_SHELL_SETTINGS_EASY_FILTER")}),c(r,{ref:this.$historyEnabled,selected:t,text:this.resourceBundle.getText("M_BUSINESS_AI_SHELL_SETTINGS_EASY_FILTER_KEEP_QUERIES")})]});return this.$form};n.saveShellDialog=function e(){const t=n.$historyEnabled.current.getSelected();this.instances.forEach(e=>{e.state.isHistoryEnabled=t})};var u=n.prototype;u.onStateChange=async function e(){await this.globalPersonalizer.setPersData({isHistoryEnabled:this.state.isHistoryEnabled,apps:this.state.apps});await this.appPersonalizer.setPersData({recentQueries:this.state.recentQueries,favoriteQueries:this.state.favoriteQueries})};u.isHistoryEnabled=function e(){return this.state.isHistoryEnabled.valueOf()};u.getRecentQueries=function e(){return this.state.recentQueries.concat()};u.getFavoriteQueries=function e(){return this.state.favoriteQueries.concat()};u.setRecentQueries=function e(t){this.state.recentQueries=t};u.setFavoriteQueries=function e(t){this.state.favoriteQueries=t};n.getInstance=async function t(i){const r=sap.ui.require("sap/ushell/Container");try{if(r){let e;this.instance=new Promise(t=>{e=t});const t=await r.getServiceAsync("Extension");const a=await r.getServiceAsync("FrameBoundExtension");const s=await r.getServiceAsync("PersonalizationV2");if(t&&s&&a){const r=await n.registerUserAction(t,s,a,i);e(r)}}}catch(t){e.error("Cannot register extension",t instanceof Error?t.message:String(t))}return this.instance};n.registerUserAction=async function i(r,a,s,c){try{const e=o.getResourceBundleFor("sap.fe.controls");const i={clientStorageAllowed:false,keyCategory:a.constants.keyCategory.FIXED_KEY,validity:Infinity,writeFrequency:a.constants.writeFrequency.LOW};const r=await a.getPersonalizer({container:"sap.fe.easyFilter",item:"settings"},i);let l=await r.getPersData();if(!l){l={isHistoryEnabled:true,apps:{[c]:t()}};r.setPersData(l)}else if(!l.apps?.[c]){l.apps??={};l.apps[c]=t();await r.setPersData(l)}const u=await a.getPersonalizer({container:"sap.fe.easyFilter"+l.apps[c],item:"recentQueries"},i);let p=await u.getPersData();if(!p){p={recentQueries:[],favoriteQueries:[]};await u.setPersData(p)}const f=new n(a,r,u,l,p);if(!this.isDialogAdded){this.isDialogAdded=true;await s.addGroupedUserSettingsEntry({title:e.getText("M_BUSINESS_AI_SHELL_SETTINGS_TITLE"),icon:"sap-icon://laptop",entryHelpId:"userActivitiesEntry",groupingId:"userActivities",groupingTabTitle:e.getText("M_BUSINESS_AI_SHELL_SETTINGS_TITLE"),groupingTabHelpId:"sapBusinessAI-helpId",value:async()=>Promise.resolve(),content:async()=>Promise.resolve(this.getShellDialogContent(l?.isHistoryEnabled)),onSave:()=>{this.saveShellDialog()},onCancel:()=>{}})}return f}catch(t){e.error("Cannot add user action",t instanceof Error?t.message:String(t))}};return n}(n),S.instances=new Set,S.resourceBundle=o.getResourceBundleFor("sap.fe.controls"),S.isDialogAdded=false,S),y=T(b.prototype,"state",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return{isHistoryEnabled:true,apps:{},recentQueries:[],favoriteQueries:[]}}}),T(b,"$defaultOption",[f],(E=Object.getOwnPropertyDescriptor(b,"$defaultOption"),E=E?E.value:undefined,{enumerable:true,configurable:true,writable:true,initializer:function(){return E}}),b),T(b,"$historyEnabled",[d],(h=Object.getOwnPropertyDescriptor(b,"$historyEnabled"),h=h?h.value:undefined,{enumerable:true,configurable:true,writable:true,initializer:function(){return h}}),b),b))||g);v=D;return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/Token", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/base/jsx-runtime/jsx","sap/m/Token","sap/m/delegate/ValueStateMessage","sap/ui/core/Lib","sap/ui/core/library","sap/ui/model/FilterOperator","./innerControls/CalendarFactory","./innerControls/MenuWithCheckBoxFactory","./innerControls/MenuWithSingleSelectFactory","./innerControls/TimeFactory","./innerControls/ValueHelpPreviewFactory","./utils","sap/fe/base/jsx-runtime/jsxs","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,n,s,o,a,r,l,u,h,c,p,d,f,g){"use strict";var m,C,v,y,S,V,b,k,D,T,B,w,F,M,P,O,A,E,H,x,W;var z={};var _=a.ValueState;var I=t.property;var L=t.defineUI5Class;function j(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function R(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,K(e,t)}function K(e,t){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},K(e,t)}function N(e,t,i,n,s){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),s&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(s):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function Y(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let U=(m=L("sap.fe.controls.easyFilter.Token"),C=I({type:"string"}),v=I({type:"string"}),y=I({type:"string"}),S=I({type:"string",defaultValue:null}),V=I({type:"boolean"}),b=I({type:"array"}),k=I({type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:_.None}),D=I({type:"int",visibility:"hidden"}),T=I({type:"int",visibility:"hidden"}),m(B=(w=function(t){function a(e,i){var n;n=t.call(this,e,i)||this;j(n,"label",F,n);j(n,"titlePopover",M,n);j(n,"value",P,n);j(n,"valueStateText",O,n);j(n,"mandatory",A,n);j(n,"items",E,n);j(n,"valueState",H,n);j(n,"posinset",x,n);j(n,"setsize",W,n);n.resourceBundle=o.getResourceBundleFor("sap.fe.controls");n.eventAttached=false;n.isDescriptionFetched=false;n.valueStateMessage=new s(n);n.attachCloseHandlersForValueStateMessagePopup();return n}z=a;R(a,t);var m=a.prototype;m.firePress=function e(t){const i=this.getParent();if(!i.getEditable()){return this}this.fireEvent("press");this.valueStateMessage?.close();const n=this.getCustomDataValue("easyFilterBarContainer");const s=this.getCustomDataValue("popover");const{key:o,type:r,keySpecificSelectedValues:l}=this.getCustomDataValue("TokenInfo");if(s.isOpen()){if(a.prevTokenKey===o){return this}else{a.prevTokenKey=o;s.close()}}else{a.prevTokenKey=o}s?.setShowHeader(true);s?.getFooter()?.setVisible(true);if(r==="Calendar"&&this.shouldOpenDefaultFragment(l)){this.invokeCalendar()}else if(r==="Time"&&this.shouldOpenDefaultFragment(l)){this.invokeTime()}else if(r==="MenuWithCheckBox"){this.invokeMenuWithCheckBox()}else if(r==="MenuWithSingleSelect"){this.invokeMenuWithSingleSelect()}else{this.invokeValueHelpPreview()}const u=n?.getOkButton();const h=n?.getShowAllButton();if(!(this.eventAttached??false)){u?.attachPress(this.handleOkClick.bind(this));h?.attachPress(this.handleShowAllClick.bind(this));s.attachAfterClose(this.handleAttachAfterClose.bind(this));this.eventAttached=true}return this};m.getCustomDataValue=function e(t){return this.getCustomData().find(e=>e.getKey()===t)?.getValue()};m.onBeforeRendering=function e(t){n.prototype.onBeforeRendering.apply(this,[t]);if(!this.isDescriptionFetched){this.setValueForToken()}this.isDescriptionFetched=false};m.attachCloseHandlersForValueStateMessagePopup=function e(){document.addEventListener("click",()=>{if(this?.valueStateMessage){this.valueStateMessage.close()}});document.addEventListener("touchstart",()=>{if(this?.valueStateMessage){this.valueStateMessage.close()}})};m.setValueForToken=function e(){const t=this.items;if(t.length===0){this.setProperty("value",this.resourceBundle.getText("M_EASY_FILTER_MANDATORY_TOKEN_SELECT_VALUE"),true);return}const i=t[0];const n=this.calculateTotalSelectedValues(t);if(n===1){this.handleSingleSelectedValue(i)}else{this.handleMultipleSelectedValues(n)}};m.calculateTotalSelectedValues=function e(t){return t.reduce((e,t)=>d.isBetweenSelectedValues(t.operator)?e+1:e+t.selectedValues.length,0)};m.handleSingleSelectedValue=function e(t){const i=this.getCustomDataValue("TokenInfo");const n=t?.operator;const s=t.selectedValues[0];const o=t.selectedValues;const a=this.getCustomDataValue("easyFilterBarContainer");const r=a?.filterBarMetadata?.find(e=>e.name===this.getKey());if(!r){return}const{type:l,dataType:u}=r;if(i){const{key:e}=i;if(l==="MenuWithCheckBox"||l==="MenuWithSingleSelect"){this.setValueForMenu(e);return}if(l==="ValueHelp"){if(d.isBetweenSelectedValues(n)){this.setProperty("value",d.mapOperatorForBetweenOperator(n,o,l,u==="Edm.DateTimeOffset"),true)}else{this.setProperty("value",d.mapOperatorForValueHelp(n,s,l,u==="Edm.DateTimeOffset"),true)}}else if(d.isBetweenSelectedValues(n)){this.setProperty("value",d.mapOperatorForBetweenOperator(n,o,l,u==="Edm.DateTimeOffset"),true)}else{this.setProperty("value",d.mapOperator(n,s,l,u==="Edm.DateTimeOffset"),true)}}};m.handleMultipleSelectedValues=function e(t){const i=this.getCustomDataValue("TokenInfo");if(i?.type==="ValueHelp"&&t>5){t=5}this.setProperty("value",this.resourceBundle.getText("M_EASY_FILTER_MANDATORY_TOKEN_ITEMS",[t]),true)};m.setValueForMenu=function t(i){const n=this.getCustomDataValue("easyFilterBarContainer");this.setBusy(true);(async()=>{try{const e=await this.getDescriptionByKey(n.filterBarMetadata?.find(e=>e.name===i),this.items);this.setProperty("value",e);this.isDescriptionFetched=true;this.setBusy(false)}catch(t){e.error("Error while fetching codeList",t)}})()};m.getDomRefForValueStateMessage=function e(){return this.getDomRef()};m.getDescriptionByKey=async function e(t,i){const n=await d.getCodeListArray(t.codeList);return n?.find(e=>e.value===i[0].selectedValues[0])?.description};m.invokeMenuWithCheckBox=async function e(){const t=this.getCustomDataValue("easyFilterBarContainer");const i=this.getCustomDataValue("popover");const n=this.getCustomDataValue("codeList");const{keySpecificSelectedValues:s}=this.getCustomDataValue("TokenInfo");if(!this.menuWithCheckBox){this.menuWithCheckBox=new u(t,this)}this.innerControl=this.menuWithCheckBox.getControl();this.addDependent(this.innerControl);await this.menuWithCheckBox.setItems(n,s);i?.removeAllContent();i?.addContent(this.innerControl);t?.getShowAllButton()?.setVisible(false);this.openPopover()};m.invokeMenuWithSingleSelect=async function e(){const t=this.getCustomDataValue("easyFilterBarContainer");const i=this.getCustomDataValue("popover");const n=this.getCustomDataValue("codeList");const{keySpecificSelectedValues:s}=this.getCustomDataValue("TokenInfo");if(!this.menuWithSingleSelect){this.menuWithSingleSelect=new h(t,this)}this.innerControl=this.menuWithSingleSelect.getControl();this.addDependent(this.innerControl);await this.menuWithSingleSelect.setItems(n,s);i.setShowHeader(false);i.getFooter()?.setVisible(false);i?.removeAllContent();i?.addContent(this.innerControl);this.openPopover()};m.invokeCalendar=function e(){const t=this.getCustomDataValue("easyFilterBarContainer");const i=this.getCustomDataValue("popover");if(!this.calender){this.calender=new l(t,this)}this.innerControl=this.calender.getControl();this.addDependent(this.innerControl);i?.removeAllContent();i?.addContent(this.innerControl);t?.getShowAllButton()?.setVisible(true);this.openPopover()};m.invokeTime=function e(){const t=this.getCustomDataValue("easyFilterBarContainer");const i=this.getCustomDataValue("popover");if(!this.time){this.time=new c(t,this)}this.innerControl=this.time.getControl();this.addDependent(this.innerControl);i?.removeAllContent();i?.addContent(this.innerControl);t?.getShowAllButton()?.setVisible(true);this.openPopover()};m.invokeValueHelpPreview=function e(){const t=this.getCustomDataValue("easyFilterBarContainer");const i=this.getCustomDataValue("popover");if(!this.valueHelpPreview){this.valueHelpPreview=new p(t,this)}const{type:n,dataType:s}=t.filterBarMetadata?.find(e=>e.name===this.getKey());if(n==="ValueHelp"){this.valueHelpPreview.setItems(this.items,n,s==="Edm.DateTimeOffset")}else{this.valueHelpPreview.setItems(this.items,n,s==="Edm.DateTimeOffset")}this.innerControl=this.valueHelpPreview.getControl();this.addDependent(this.innerControl);i?.removeAllContent();i?.addContent(this.innerControl);t?.getShowAllButton()?.setVisible(true);this.openPopover()};m.openPopover=function e(){const t=this.getCustomDataValue("popover");t?.setTitle(this.label);t?.openBy(this)};m.handleOkClick=function e(){if(!this.innerControl?.getDomRef()){return}const{type:t,keySpecificSelectedValues:i}=this.getCustomDataValue("TokenInfo");const n=this.getCustomDataValue("popover");let s;if(t==="Calendar"&&this.shouldOpenDefaultFragment(i)){s=this.calender?.invokeOkButtonHandler.bind(this.calender)}else if(t==="Time"&&this.shouldOpenDefaultFragment(i)){s=this.time?.invokeOkButtonHandler.bind(this.time)}else if(t==="MenuWithCheckBox"){s=this.menuWithCheckBox?.invokeOkButtonHandler.bind(this.menuWithCheckBox)}else{s=this.valueHelpPreview?.invokeOkButtonHandler.bind(this.valueHelpPreview)}if(s){s()}n?.close()};m.handleShowAllClick=function e(){if(!this.innerControl?.getDomRef()){return}const t=this.getCustomDataValue("popover");const{type:i,keySpecificSelectedValues:n}=this.getCustomDataValue("TokenInfo");t.close();let s;if(i==="Calendar"&&this.shouldOpenDefaultFragment(n)){s=this.calender?.invokeShowAllButtonHandler.bind(this.calender)}else if(i==="Time"&&this.shouldOpenDefaultFragment(n)){s=this.time?.invokeShowAllButtonHandler.bind(this.time)}else{s=this.valueHelpPreview?.invokeShowAllButtonHandler.bind(this.valueHelpPreview)}if(s){(()=>{s()})()}};m.handleAttachAfterClose=function e(){if(!this.innerControl?.getDomRef()){return}const t=this.getCustomDataValue("TokenInfo");if(t){const{type:e,keySpecificSelectedValues:t}=this.getCustomDataValue("TokenInfo");if(e==="ValueHelp"||(e==="Calendar"||e==="Time")&&!this.shouldOpenDefaultFragment(t)){this.valueHelpPreview?.invokePopupCloseHandler()}else if(e==="MenuWithCheckBox"){this.menuWithCheckBox?.invokePopupCloseHandler()}}};m.getInnerControl=function e(){return this.innerControl};m.openValueStateMessage=function e(){this.valueStateMessage?.open()};m.closeValueStateMessage=function e(){this.valueStateMessage?.close()};m.shouldOpenDefaultFragment=function e(t){const i=t.find(e=>e.operator===r.BT||e.operator===r.NB);return t.length===0||t.length===1&&t[0].selectedValues.length===1&&!i};m.focusout=function e(){this.valueStateMessage?.close()};a.render=function e(t,n){return i.renderUsingRenderManager(t,n,()=>{const e=n.getParent();const t=["sapMToken","sapFeControlsToken"];const i=["sapMTokenText","sapFeControlsTokenPropertyName"];const s=["sapMTokenText","sapFeControlsTokenPropertyValues"];const o=n.getMandatory();if(typeof e?.getEditable==="function"&&e?.getEditable()){t.push("sapFEControlsPointer")}if(n.getSelected()){t.push("sapMTokenSelected")}if(o??false){t.push("sapFeControlsTokenMandatory");if(n.getValue()===n.resourceBundle.getText("M_EASY_FILTER_MANDATORY_TOKEN_SELECT_VALUE")){s.push("sapFeControlsTokenMandatory")}}if(n.getValueState()===_.Error){t.push("sapFeTokenError")}return f("div",{ref:n,class:t.join(" "),"aria-selected":n.getSelected(),tabindex:-1,"aria-posinset":n.getProperty("posinset"),"aria-setsize":n.getProperty("setsize"),children:[f("span",{class:i.join(" "),children:[n.getLabel(),":"]}),g("span",{class:s.join(" "),children:n.getValue()}),o===true?null:n.getAggregation("deleteIcon")]})})};return a}(n),F=N(w.prototype,"label",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),M=N(w.prototype,"titlePopover",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),P=N(w.prototype,"value",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),O=N(w.prototype,"valueStateText",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),A=N(w.prototype,"mandatory",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),E=N(w.prototype,"items",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),H=N(w.prototype,"valueState",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),x=N(w.prototype,"posinset",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),W=N(w.prototype,"setsize",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),w))||B);z=U;return z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/innerControls/BaseFactory", [],function(){"use strict";var t={};let e=function(){function e(t,e){this.items=[];this.easyFilter=t;this.easyFilterToken=e}t.BaseFactory=e;var n=e.prototype;n.getItems=function t(){return this.items};n.getControl=function t(){return this.control};n.setControl=function t(e){this.control=e};n.getEasyFilter=function t(){return this.easyFilter};n.getToken=function t(){return this.easyFilterToken};return e}();t.BaseFactory=e;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/innerControls/CalendarFactory", ["sap/base/Log","sap/fe/controls/easyFilter/innerControls/BaseFactory","sap/ui/core/format/DateFormat","sap/ui/model/FilterOperator","sap/ui/unified/Calendar","../utils"],function(e,t,o,r,n,s){"use strict";var a=t.BaseFactory;function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}let l=function(t){function a(e,o){var r;r=t.call(this,e,o)||this;r.setControl(new n({}));return r}i(a,t);var c=a.prototype;c.invokeOkButtonHandler=function e(){const t=this.getControl();const n=this.getToken()?.getCustomDataValue("popover");const{key:a,keySpecificSelectedValues:i}=this.getToken()?.getCustomDataValue("TokenInfo");const c=o.getDateInstance().format(t?.getSelectedDates()[0].getStartDate());const l=i.length===0?r.EQ:i[0].operator;const u=[{operator:l,selectedValues:[c]}];if(s.areItemsSame(i,u)){return}this.getEasyFilter()?.updateTokenArray("setSelectedValues",u,a);n?.close()};c.invokeShowAllButtonHandler=async function t(){const o=this.getToken();const r=o?.getKey();const n=new Promise((e,t)=>{this.getEasyFilter()?.fireEvent("showValueHelp",{key:r,selectedValues:o?.getItems(),resolve:e,reject:t})});try{const e=await n;this.getEasyFilter()?.updateTokenArray("setSelectedValues",e,r)}catch(t){if(t instanceof Error){e.error("Error while fetching new tokens",t.message)}else{e.error("Error while fetching new tokens",String(t))}}};return a}(a);return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/innerControls/MenuWithCheckBoxFactory", ["sap/fe/controls/easyFilter/innerControls/BaseFactory","sap/fe/controls/easyFilter/utils","sap/m/List","sap/m/StandardListItem","sap/m/library","sap/ui/core/CustomData","sap/ui/model/FilterOperator"],function(e,t,s,o,i,n,l){"use strict";var r=e.BaseFactory;function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}let u=function(e){function r(t,o){var n;const l=i.ListSeparators;const r=i.ListMode;n=e.call(this,t,o)||this;n.selectionList=[];n.okButtonClicked=false;n.setControl(new s({mode:r.MultiSelect,showSeparators:l.None}));return n}a(r,e);var c=r.prototype;c.setItems=async function e(s,i){if(await t.areCodeListsSame(s,this.getItems())){return}const l=this.getControl();this.items=await t.getCodeListArray(s);l?.destroyAggregation("items");this.selectionList=[];this.items.forEach((e,t)=>{let s=false;if(i.length>0&&i[0].selectedValues.length>0){const o=i[0].selectedValues[0];if(typeof o==="string"&&typeof e.value==="string"){if(i[0].selectedValues.includes(e.value)){s=true;this.selectionList?.push(t)}}else if(typeof o==="boolean"&&typeof e.value==="boolean"){if(i[0].selectedValues.includes(e.value)){s=true;this.selectionList?.push(t)}}else if(typeof o==="number"&&typeof e.value==="number"){if(i[0].selectedValues.includes(e.value)){s=true;this.selectionList?.push(t)}}}l?.addItem(new o({title:e.description,selected:s,customData:[new n({key:"value",value:e.value})]}))})};c.invokeOkButtonHandler=function e(){if(this.areSelectListSame()){return}this.selectionList=this.getSelectedIndices();this.okButtonClicked=true;const t=this.getControl()?.getSelectedItems();const s=this.getEasyFilter();let o=[{operator:l.EQ,selectedValues:[]}];const{key:i}=this.getToken()?.getCustomDataValue("TokenInfo");t.forEach(e=>{const t=e.getCustomData().find(e=>e.getKey()==="value")?.getValue();if(t!==undefined){if(Array.isArray(o[0].selectedValues)){const e=o[0].selectedValues;if(typeof t==="string"&&e.every(e=>typeof e==="string")||typeof t==="boolean"&&e.every(e=>typeof e==="boolean")||typeof t==="number"&&e.every(e=>typeof e==="number")){e.push(t)}}}});o=o[0].selectedValues.length===0?[]:o;s.updateTokenArray("setSelectedValues",o,i)};c.areSelectListSame=function e(){const t=this.getSelectedIndices();if(this.selectionList.length===0||t.length!==this.selectionList.length){return false}return this.selectionList.every((e,s)=>t[s]===e)};c.invokePopupCloseHandler=function e(){if(this.okButtonClicked){this.okButtonClicked=false;return}this.okButtonClicked=false;this.getControl()?.removeSelections();this.selectionList?.forEach(e=>this.getControl()?.getItems()[e].setSelected(true))};c.setSelectList=function e(){this.selectionList=[];const t=this.getControl()?.getSelectedItems();t?.forEach(e=>this.selectionList?.push(this.getControl()?.indexOfItem(e)))};c.getSelectedIndices=function e(){const t=[];const s=this.getControl()?.getSelectedItems();s?.forEach(e=>t?.push(this.getControl()?.indexOfItem(e)));return t};return r}(r);return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/innerControls/MenuWithSingleSelectFactory", ["sap/fe/controls/easyFilter/innerControls/BaseFactory","sap/fe/controls/easyFilter/utils","sap/m/List","sap/m/StandardListItem","sap/m/library","sap/ui/core/CustomData","sap/ui/model/FilterOperator"],function(e,t,s,o,n,r,a){"use strict";var i=e.BaseFactory;function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}let u=function(e){function i(t,o){var r;const a=n.ListSeparators;const i=n.ListMode;r=e.call(this,t,o)||this;r.selectedItemIndex=-1;r.setControl(new s({mode:i.SingleSelectMaster,showSeparators:a.None,selectionChange:r.onItemSelected.bind(r)}));return r}l(i,e);var c=i.prototype;c.setItems=async function e(s,n){if(await t.areCodeListsSame(s,this.getItems())){return}const a=this.getControl();this.items=await t.getCodeListArray(s);a?.destroyAggregation("items");this.selectedItemIndex=-1;this.items.forEach((e,t)=>{let s=false;if(n.length>0&&n[0].selectedValues.length>0){const o=n[0].selectedValues[0];if(typeof o===typeof e.value&&o===e.value){s=true;this.selectedItemIndex=t}}a?.addItem(new o({title:e.description,selected:s,customData:[new r({key:"value",value:e.value})]}))})};c.onItemSelected=function e(t){const s=t.getParameter("listItem");const o=this.getControl();const n=this.getEasyFilter();if(!s||!o){return}const r=s.getCustomData().find(e=>e.getKey()==="value")?.getValue();if(r!==undefined){const e=[{operator:a.EQ,selectedValues:[r]}];n?.closeInnerControlPopover();const{key:t}=this.getToken()?.getCustomDataValue("TokenInfo");n.updateTokenArray("setSelectedValues",e,t);this.selectedItemIndex=o.indexOfItem(s)}};c.getSelectedIndex=function e(){const t=this.getControl()?.getSelectedItems()?.[0];return t?this.getControl()?.indexOfItem(t)??-1:-1};return i}(i);return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/innerControls/TimeFactory", ["sap/base/Log","sap/fe/controls/easyFilter/innerControls/BaseFactory","sap/m/TimePickerClocks","sap/ui/core/format/DateFormat","sap/ui/model/FilterOperator","../utils"],function(e,t,o,r,n,s){"use strict";var a=t.BaseFactory;function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}let l=function(t){function a(e,r){var n;n=t.call(this,e,r)||this;n.setControl(new o);return n}i(a,t);var c=a.prototype;c.invokeOkButtonHandler=function e(){const t=this.getControl();const o=this.getToken()?.getCustomDataValue("popover");const{key:a,keySpecificSelectedValues:i}=this.getToken()?.getCustomDataValue("TokenInfo");const c=r.getTimeInstance().format(t?.getTimeValues());const l=i.length===0?n.EQ:i[0].operator;const u=[{operator:l,selectedValues:[c]}];if(s.areItemsSame(i,u)){return}this.getEasyFilter()?.updateTokenArray("setSelectedValues",u,a);o?.close()};c.invokeShowAllButtonHandler=async function t(){const o=this.getToken();const r=o?.getKey();const n=new Promise((e,t)=>{this.getEasyFilter()?.fireEvent("showValueHelp",{key:r,selectedValues:o?.getItems(),resolve:e,reject:t})});try{const e=await n;this.getEasyFilter()?.updateTokenArray("setSelectedValues",e,r)}catch(t){if(t instanceof Error){e.error("Error while fetching new tokens",t.message)}else{e.error("Error while fetching new tokens",String(t))}}};return a}(a);return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/innerControls/ValueHelpPreviewFactory", ["sap/base/Log","sap/base/util/deepClone","sap/fe/controls/easyFilter/innerControls/BaseFactory","sap/fe/controls/easyFilter/utils","sap/m/List","sap/m/StandardListItem","sap/m/library","sap/ui/core/CustomData"],function(e,t,s,r,o,n,a,i){"use strict";var l=a.ListSeparators;var c=a.ListMode;var u=s.BaseFactory;function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,f(e,t)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}let m=function(s){function a(e,t){var r;r=s.call(this,e,t)||this;r.setControl(new o({delete:r.onDelete.bind(r),mode:c.Delete,showSeparators:l.None}));return r}p(a,s);var u=a.prototype;u.setItems=function e(t,s,o){if(r.areItemsSame(t,this.items)){return}this.items=t;const n=this.getControl();n?.destroyAggregation("items");let a=0;t.forEach((e,t)=>{const{operator:i,selectedValues:l}=e;let c="";if(s==="ValueHelp"&&a<5){if(r.isBetweenSelectedValues(i)){c=r.mapOperatorForBetweenOperator(i,l,s,o);this.insertItem(n,c,[t]);++a}else{l.forEach((e,l)=>{if(a<5){c=r.mapOperatorForValueHelp(i,e,s,o);this.insertItem(n,c,[t,l]);++a}})}}else if(s!=="ValueHelp"){if(r.isBetweenSelectedValues(i)){c=r.mapOperatorForBetweenOperator(i,l,s,o);this.insertItem(n,c,[t])}else{l.forEach((e,a)=>{c=r.mapOperator(i,e,s,o);this.insertItem(n,c,[t,a])})}}})};u.insertItem=function e(t,s,r){t?.addItem(new n({title:s,customData:new i({key:"arrayIndex",value:r})}))};u.onDelete=function e(t){const s=this.getToken()?.getCustomDataValue("popover");t.getParameter("listItem")?.setVisible(false);s.focus()};u.normalizeString=function e(t){const s=/^(>=|<=|!=|>|<)+/;return t.replace(s,"")};u.invokeOkButtonHandler=function e(){const s=this.getToken()?.getCustomDataValue("popover");const r=this.getToken();const o=this.getEasyFilter();const n=r?.getItems()?.map(e=>({operator:JSON.parse(JSON.stringify(e.operator)),selectedValues:t(e.selectedValues)}));const a=[];this.getControl()?.getItems().forEach(e=>{if(!e.getVisible()){const[t=Infinity,s=Infinity]=e?.getCustomData()?.find(e=>e?.getKey()==="arrayIndex")?.getValue()??[];if(t===Infinity||!n){return}a.push([t,s])}});a.sort((e,t)=>t[0]-e[0]||t[1]-e[1]);a.forEach(e=>{let[t,s]=e;if(n){if(s===Infinity){n.splice(t,1);return}n[t].selectedValues.splice(s,1);if(n[t].selectedValues.length===0){n.splice(t,1)}}});o.updateTokenArray("setSelectedValues",n,r?.getKey());s.close()};u.invokeShowAllButtonHandler=async function t(){const s=this.getToken();const{type:r}=s?.getCustomDataValue("TokenInfo");const o=s?.getKey();const n=new Promise((e,t)=>{this.getEasyFilter()?.fireEvent("showValueHelp",{key:o,values:s?.getItems()?.map(e=>{if(r==="ValueHelp"){return{operator:e.operator,selectedValues:e.selectedValues.map(e=>e.value)}}else{return e}}),resolve:e,reject:t})});try{const e=await n;this.getEasyFilter()?.updateTokenArray("setSelectedValues",e,o)}catch(t){if(t instanceof Error){e.error("Error while fetching new tokens",t.message)}else{e.error("Error while fetching new tokens",String(t))}}};u.invokePopupCloseHandler=function e(){this.getControl()?.getItems().forEach(e=>e.setVisible(true))};return a}(u);return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/utils", ["sap/base/util/deepEqual","sap/ui/core/Lib","sap/ui/core/format/DateFormat","sap/ui/model/FilterOperator","sap/ui/model/odata/type/DateTimeOffset"],function(e,t,r,n,a){"use strict";const s=t.getResourceBundleFor("sap.fe.controls");const o=new a;function i(t,r){if(t.length!==r.length){return false}for(let n=0;n<t.length;n++){if(t[n].operator!==r[n].operator||!t[n].selectedValues.every((t,a)=>t===r[n].selectedValues[a]||typeof t==="object"&&e(t.value,r[n].selectedValues[a].value)&&t.description===r[n].selectedValues[a].description)){return false}}return true}function c(e,t){if(e.length!==t.length){return false}for(let r=0;r<e.length;r++){if(e[r]!==t[r]){return false}}return true}async function u(e,t){const r=await l(e);const n=await l(t);const a=r?.map(e=>e.description);const s=n?.map(e=>e.description);const o=r?.map(e=>e.value);const i=n?.map(e=>e.value);if(!a||!s){return false}return c(a,s)&&c(o,i)}async function l(e){if(typeof e==="function"){return e()}return e}function f(e,t,n){let a="";if(n){return o.formatValue(e,"string")}switch(t){case"Calendar":a=r.getDateInstance().format(e);break;case"Time":a=r.getTimeInstance().format(e);break;default:break}return a}function p(e,t,r,a){let s="";if(typeof t==="boolean"){s=E(t)}else if(t instanceof Date){s=f(t,r,a)}else{s=t}switch(e){case n.GT:return`> ${s}`;case n.LT:return`< ${s}`;case n.GE:return`>= ${s}`;case n.LE:return`<= ${s}`;case n.EQ:return`${s}`;case n.Contains:return`*${s}*`;case n.EndsWith:return`*${s}`;case n.StartsWith:return`${s}*`;case n.NE:return`!=(${s})`;case n.NotContains:return`!(*${s}*)`;case n.NotEndsWith:return`!(*${s})`;case n.NotStartsWith:return`!(${s}*)`;default:return s?.toString()}}function d(e,t,r,n){return p(e,t.description,r,n)}function m(e,t,r,a){let s="";let o="";if(typeof t[0]==="boolean"){s=E(t[0])}else if(t[0]instanceof Date){s=f(t[0],r,a)}else if(typeof t[0]==="object"){s=t[0].description}else{s=t[0]}if(typeof t[1]==="boolean"){o=E(t[1])}else if(t[1]instanceof Date){o=f(t[1],r,a)}else if(typeof t[0]==="object"){o=t[1].description}else{o=t[1]}if(e===n.BT){return`${s}...${o}`}else{return`!(${s}...${o})`}}function y(e){return e===n.BT||e===n.NB}function E(e){return e?s.getText("M_EASY_FILTER_SELECTED_VALUES_TRUE"):s.getText("M_EASY_FILTER_SELECTED_VALUES_FALSE")}function S(e,t,r){if(t){const n={};for(const a of t){const t=r.find(e=>e.name===a.name);if(t){const{type:r}=t;const s=e.findIndex(e=>e.key===a.name);const{operator:o,values:i}=a;let c;if(V.isBetweenSelectedValues(o)){c={operator:o,selectedValues:i}}else{c={operator:o,selectedValues:i}}if(s===-1){const n={key:a.name,label:t.label,keySpecificSelectedValues:[c],type:r,busy:r==="ValueHelp"?true:false};e.push(n)}else{const t=e[s];if((t.isRequired??false)&&!n[t.key]){t.keySpecificSelectedValues=[c];n[t.key]=true}else{t.keySpecificSelectedValues.push(c)}}}}}}const V={areItemsSame:i,areCodeListsSame:u,getCodeListArray:l,areArraySame:c,mapOperator:p,mapOperatorForBetweenOperator:m,isBetweenSelectedValues:y,formatData:S,mapOperatorForValueHelp:d};return V},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/inlineEdit/InlineEditIndicator", ["sap/fe/base/ClassSupport","sap/fe/base/jsx-runtime/jsx","sap/m/Button","sap/m/library","sap/ui/core/Control","sap/ui/core/Lib","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,i,r,n,o,a,u){"use strict";var s,l,c,d,p,f,b,B,v,y,I,m,E,g,h;var T={};var _=r.ButtonType;var j=e.property;var z=e.event;var O=e.defineUI5Class;var w=e.aggregation;function D(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function x(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,A(e,t)}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function M(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function L(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let P=(s=O("sap.fe.controls.inlineEdit.InlineEditIndicator"),l=w({type:"sap.m.Button"}),c=w({type:"sap.m.Button"}),d=w({type:"sap.m.Button"}),p=j({type:"boolean"}),f=z(),b=z(),s(B=(v=function(e){function r(t,r){var n;n=e.call(this,t,r)||this;D(n,"editButton",y,n);D(n,"saveButton",I,n);D(n,"discardButton",m,n);D(n,"editMode",E,n);D(n,"pressEdit",g,n);D(n,"mouseout",h,n);n.resourceBundle=o.getResourceBundleFor("sap.fe.controls");n.editButton=a(i,{icon:"sap-icon://edit",type:_.Transparent,press:e=>{n.fireEvent("pressEdit")},tooltip:n.resourceBundle.getText("M_INLINE_EDIT_TOOLTIP_EDIT")});n.saveButton=a(i,{icon:"sap-icon://accept",type:_.Transparent,"jsx:command":"cmd:Save|press",fieldGroupIds:"InlineEdit",tooltip:n.resourceBundle.getText("M_INLINE_EDIT_TOOLTIP_SAVE")});n.discardButton=a(i,{icon:"sap-icon://decline",type:_.Transparent,"jsx:command":"cmd:Cancel|press",tooltip:n.resourceBundle.getText("M_INLINE_EDIT_TOOLTIP_CANCEL"),fieldGroupIds:"InlineEdit"});return n}T=r;x(r,e);var n=r.prototype;n.addEditButtonAriaDescribedBy=function e(t){if(t!==undefined&&t!==null&&t!==""){this.editButton.addAriaDescribedBy(t)}};n.removeAllEditButtonAriaDescribedBy=function e(){this.editButton.removeAllAriaDescribedBy()};n.onmouseout=function e(t){if(!t.currentTarget?.contains(t.relatedTarget)){this.fireEvent("mouseout",{relatedTarget:t.relatedTarget})}};n.onkeydown=function e(t){if(t.key==="Tab"&&!t.shiftKey){t.preventDefault();this.fireEvent("pressTab")}else if(t.key==="Tab"&&t.shiftKey){t.preventDefault();this.fireEvent("pressShiftTab")}};n.setWidth=function e(t){this.width=t;this.$().css("width",`${t}px`)};n.getDiscardButton=function e(){return this.discardButton};n.getSaveButton=function e(){return this.saveButton};n.getEditButton=function e(){return this.editButton};r.render=function e(i,r){t.renderUsingRenderManager(i,r,function(){const e=["sapFeInlineEditIndicator"];if(r.editMode){e.push("sapFeInlineEditIndicatorEditMode")}return a("span",{class:e.join(" "),ref:r,children:!r.editMode?a("span",{class:"sapFeInlineEditIndicatorIcon",children:r.editButton}):u("span",{class:"sapFeInlineEditIndicatorAcceptDeclineIcon sapFeInlineEditIndicatorIcon",children:[r.saveButton,r.discardButton]})})})};return r}(n),y=M(v.prototype,"editButton",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),I=M(v.prototype,"saveButton",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),m=M(v.prototype,"discardButton",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),E=M(v.prototype,"editMode",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),g=M(v.prototype,"pressEdit",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),h=M(v.prototype,"mouseout",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),v))||B);T=P;return T},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/library", ["sap/fe/base/library","sap/fe/controls/shortcuts/ShortcutExplanationProvider","sap/m/library","sap/ui/core/Lib","sap/ui/unified/library"],function(e,s,a,i,n){"use strict";var r={};const o="sap.fe.controls";r.feControlsNamespace=o;const t=i.init({name:"sap.fe.controls",apiVersion:2,dependencies:["sap.ui.core","sap.fe.base","sap.m","sap.ui.unified"],types:[],interfaces:[],controls:[],elements:[],version:"1.136.0",noLibraryCSS:false});s.getInstance();return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/shortcuts/ShortcutExplanationProvider", ["sap/base/Log","sap/base/security/encodeURL","sap/fe/base/ClassSupport","sap/ui/base/ManagedObject","sap/ui/core/IconPool","sap/ui/core/Lib","sap/ui/core/Theming"],function(e,t,o,n,s,i,r){"use strict";var a,c,p;var u={};var d=o.defineUI5Class;function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,g(e,t)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}let f=(a=d("sap.fe.controls.shortcuts.ShortcutExplanationProvider"),a(c=(p=function(o){function n(){var e;for(var t=arguments.length,n=new Array(t),s=0;s<t;s++){n[s]=arguments[s]}e=o.call(this,...n)||this;e._popupIdx=0;return e}u=n;l(n,o);var a=n.prototype;a.getShellDialogContent=function o(){const n=620;let s=window.screenLeft+window.outerWidth;if(s+n>window.screen.availWidth){s=window.screen.availWidth-n}const i=r.getTheme();const a=sap.ui.require.toUrl("sap/fe/controls/shortcuts/popup/index.html");const c=window.location.protocol+"//"+window.location.host;const p="?sap-ui-xx-shortcut-origin="+t(c)+"&sap-ui-theme="+i;const u=window.open(a+p,"_blank",`popup,toolbar=no,menubar=no,scrollbars=no,location=no,width=${n},height=550,top=${window.screenTop},left=${s}`);if(u){const t=e=>{if(c===e.origin){const o=e?.data;if(o.service==="sap.ui.interaction.MessagePortReady"){const o=e.ports[0];u.postMessage({service:"sap.ui.interaction.MessagePortReady"},a.startsWith("/")?c:a,[o]);window.removeEventListener("message",t)}}};try{u.opener=null}catch(t){e.debug("Cannot set opener to null",t instanceof Error?t.message:String(t))}setTimeout(()=>{window.addEventListener("message",t);window.postMessage({id:"sap.fe.interaction.Popup"+this._popupIdx++,service:"sap.ui.interaction.RequestMessagePort"},c)},1500);window.onunload=function(){u.close()}}};n.getInstance=async function t(){const o=sap.ui.require("sap/ushell/Container");let s;try{if(o&&!this.instance){this.instancePromise=new Promise(e=>{s=e});const e=await o.getServiceAsync("Extension");if(e){const t=await n.registerUserAction(e);this.instance=t;s(t)}}}catch(t){e.error("Cannot register extension",t instanceof Error?t.message:String(t));s?.(undefined)}return this.instancePromise};n.registerUserAction=async function t(o){try{const e=i.getResourceBundleFor("sap.fe.controls");const t=new n;if(!this.isDialogAdded){this.isDialogAdded=true;const n=await o.createUserAction({id:"sapui5.shortcut.explanation.trigger",text:e.getText("C_SHORTCUT_TITLE"),icon:s.getIconURI("keyboard-and-mouse"),press:()=>{t.getShellDialogContent()}},{controlType:"sap.m.Button"});n.showForAllApps()}return t}catch(t){e.error("Cannot add user action",t instanceof Error?t.message:String(t))}};return n}(n),p.isDialogAdded=false,p))||c);u=f;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/shortcuts/popup/ShortcutTool", ["sap/fe/base/BuildingBlockBase","sap/fe/base/ClassSupport","sap/m/CustomTreeItem","sap/m/FlexBox","sap/m/FormattedText","sap/m/Label","sap/m/Panel","sap/m/SearchField","sap/m/Tree","sap/ui/core/Lib","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,r,n,i,a,s,o,l,c,u,p){"use strict";var d,f,h,b,m,T,g;var y={};var w=t.defineUI5Class;var C=t.defineReference;function v(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,x(e,t)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function F(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function O(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}function j(e,t){const r=e.split("/");let n=t;r.forEach(e=>{n=n[e]});return n}function B(e,t){const r={};e.forEach(e=>{if(!r[e.label]){r[e.label]=[]}e.nodes.filter(e=>e.label.toLowerCase().includes(t.toLowerCase())).forEach(t=>{if(!r[e.label].some(e=>e.label===t.label)){r[e.label].push(t)}})});return Object.entries(r).map(e=>{let[t,r]=e;return{label:t,nodes:r}})}function E(e){switch(e.trim()){case"ArrowDown":return"↓";case"ArrowUp":return"↑";case"ArrowLeft":return"←";case"ArrowRight":return"→";default:return e}}let L=(d=w("sap.fe.controls.shortcuts.popup.ShortcutTool"),f=C(),h=C(),d(b=(m=function(e){function t(){var t;t=e.call(this)||this;t.resourceBundle=c.getResourceBundleFor("sap.fe.controls");v(t,"$searchField",T,t);v(t,"$tree",g,t);t.state.shortcutsTree=[];t.state.originalTree=[];t.content=t.createContent();t.state.initialFocus=true;t.$searchField.current?.addEventDelegate({onAfterRendering:()=>{if(t.state.initialFocus){t.$searchField.current?.focus();t.state.initialFocus=false}}});if(window.messagePort){t.setupPort(window.messagePort)}return t}y=t;S(t,e);var d=t.prototype;d.setupPort=function e(t){t.onmessage=this.onMessageReceived.bind(this);t.postMessage({service:"sap.ui.interaction.StartDisplay"})};d.onMessageReceived=function e(t){if(t?.data?.service==="sap.ui.interaction.UpdateDisplay"){const e=t.data.payload.elements;e.reverse();this.state.originalTree=e.map(e=>{const r=[];e.interactions.forEach(e=>{if(e.$ref){const n=j(e.$ref,t.data.payload);n?.forEach(e=>{r.push({label:e.description,shortcutKeys:e.kbd})})}else{r.push({label:e.description??e.name,shortcutKeys:e.kbd})}});return{label:e.label,nodes:r}})}this.state.shortcutsTree=B(this.state.originalTree.concat(),"")};d.onStateChange=function e(){this.$tree.current?.expandToLevel(1)};d.onSearch=function e(t){const r=t.getParameter("query")??"";this.state.shortcutsTree=B(this.state.originalTree.filter(e=>{const t=e.label.toLowerCase().includes(r.toLowerCase());const n=e.nodes.some(e=>e.label.toLowerCase().includes(r.toLowerCase()));return t||n}).concat(),r)};d.createContent=function e(){return u(s,{headerText:this.resourceBundle.getText("C_SHORTCUT_TITLE"),width:"100%",children:{content:[u(o,{ref:this.$searchField,placeholder:this.resourceBundle.getText("C_SHORTCUT_PLACEHOLDER"),search:e=>this.onSearch(e)}),u(l,{ref:this.$tree,items:this.bindState("shortcutsTree"),noDataText:this.resourceBundle.getText("C_SHORTCUT_NODATA"),children:u(r,{children:p(n,{alignItems:"Start",width:"100%",renderType:"Bare",justifyContent:"SpaceBetween",children:[u(i,{htmlText:this.state.shortcutsTree.label,class:"sapFeControlsShorcutMFT"}),u(n,{renderType:"Bare",justifyContent:"SpaceBetween",items:"{$componentState>shortcutKeys}",direction:"Column",children:{items:function(e,t){const r=t.getObject();const i=r.split("+");const s=[];i.forEach((e,t)=>{s.push(u(a,{text:E(e),class:"sapUiTinyMarginEnd sapFeControlsShortcutKey"}));if(t!==i.length-1){s.push(u(a,{text:"+",class:"sapUiTinyMarginEnd"}))}});return u(n,{id:e,renderType:"Bare",alignItems:"Center",children:{items:s}})}}})]})})})]}})};return t}(e),T=F(m.prototype,"$searchField",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),g=F(m.prototype,"$tree",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||b);y=L;return y},false);
sap.ui.require.preload({
	"sap/fe/controls/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.fe.controls","type":"library","embeds":[],"applicationVersion":{"version":"1.136.0"},"title":"UI5 library: sap.fe.controls","description":"UI5 library: sap.fe.controls","ach":"CA-UI5-FE","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_base","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.136","libs":{"sap.ui.core":{"minVersion":"1.136.0"},"sap.fe.base":{"minVersion":"1.136.0"},"sap.m":{"minVersion":"1.136.0"},"sap.ui.unified":{"minVersion":"1.136.0"}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}'
});
//# sourceMappingURL=library-preload.js.map
