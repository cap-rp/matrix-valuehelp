/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log","sap/fe/base/BindingToolkit","sap/m/Text","sap/ui/base/BindingParser","sap/ui/base/DataType","sap/ui/base/ManagedObject","sap/ui/core/mvc/EventHandlerResolver"],function(e,t,n,s,i,o,a){"use strict";var l=o.bindingParser;var r=t.isPathInModelExpression;var f=t.isConstant;var c=t.isBindingToolkitExpression;var d=t.compileExpression;var p=t.compileConstant;const u="fl:delegate";const g="core:require";const m="dt:designtime";const h=function(e,t,n){if(n===null||n===undefined||typeof n==="string"){return}if(!e[t]){e[t]=[]}if(y(n)){e[t].push(n)}else if(Array.isArray(n)){n.forEach(n=>{h(e,t,n)})}else if(typeof n==="function"){e[t]=n}else{Object.keys(n).forEach(t=>{h(e,t,n[t])})}};const y=function(e){return e?.isA?.("sap.ui.core.Element")};const b=function(e){return!!e?.getMetadata};function E(e,t){const n=e.getAllAggregations();const i=e.getDefaultAggregationName();const o={};h(o,i,t.children);delete t.children;Object.keys(n).forEach(e=>{if(o[e]!==undefined){if(t.hasOwnProperty(e)){if(typeof t[e]==="string"){const n=s.complexParser(t[e]);if(n){t[e]={path:n.path,model:n.model}}else{t[e]={path:t[e]}}}if(typeof o[e]==="function"){t[e].factory=o[e]}else{t[e].template=o[e][0]}}else{t[e]=o[e]}}})}function v(e,t,n,s){if(f(n)){e[t]=p(n,false,true,true)}else if(!Object.hasOwnProperty.call(s,t)){if(r(n)){e[t]={path:n.path,model:n.modelName}}}else{e[t]=d(n)}}function j(t,n,s,o,a,l){if(!s.startsWith("{")){if(Object.hasOwnProperty.call(o,n)){e.error(`Event handlers cannot be set as string in JSX, ${n} in ${l.getName()}`)}const r=a[n]?.getType?.();if(r&&r instanceof i&&["boolean","int","float"].includes(r.getName())){t[n]=r.parseValue(s)}}else{t[n]=s}}function O(e,t,n,s){if(n.then){s[t]=n;delete e[t]}else if(n.__bindingInfo){e[t]=n.__bindingInfo}}function x(e,t){let n;const s={};const i=e.getAllEvents();const o=e.getAllProperties();for(n in t){const a=t[n];if(c(a)){v(t,n,a,o)}else if(a!==null&&typeof a==="object"){O(t,n,a,s)}else if(typeof a==="string"){j(t,n,a,i,o,e)}else if(a===undefined){delete t[n]}}return s}function A(e,t){const n=t["jsx:command"];if(n){const[s,i]=n.split("|");const o=e.getAllEvents()[i];if(o&&s.startsWith("cmd:")){t[o.name]=a.resolveEventHandler(s)}}delete t["jsx:command"]}const P=function(t,s,i,o){let a;if(t?.isFragment){a=s.children}else if(b(t)){const n=t.getMetadata();if(i!==undefined){s["key"]=i}const o=x(n,s);A(n,s);E(n,s);const r=s.class;const f=s.ref;const c=s.binding;const d=s[u];const p=s[m];delete s.ref;delete s.class;delete s.binding;delete s[u];delete s[m];delete s[g];const h=new t(s);if(r){h.addStyleClass(r)}if(f){f.setCurrent(h)}const y=h.data("sap-ui-custom-settings")??{};if(d){y["sap.ui.fl"]??={};y["sap.ui.fl"].delegate=d}if(p){y["sap.ui.dt"]??={};y["sap.ui.dt"].designtime=p}if(Object.keys(y).length>0){h.data("sap-ui-custom-settings",y)}if(c){if(typeof c==="string"){const e=l(c);if(e){h.bindElement({model:e.model??undefined,path:e.path,parameters:e.parameters??undefined})}else{h.bindElement(c)}}else{Object.keys(c).forEach(e=>{h.bindElement({model:e,path:c[e]})})}}for(const n in o){o[n].then(e=>h.setProperty(n,e)).catch(s=>{e.error(`Couldn't set property ${n} on ${t.getMetadata().getName()}`,s,"jsxControl")})}a=h}else if(typeof t==="function"){const e=t;a=e(s)}else{a=new n({text:"Missing component "+t})}return a};return P},false);
//# sourceMappingURL=jsx-control.js.map