/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/util/deepClone"],function(t){"use strict";var o={};const n=[];const e=[];function r(t){return function(o,n,e){const r=o;r[`attach${n.toString()}`]=function(t){const o=this;if(!o.hookedHandlers){o.hookedHandlers={}}if(!o.hookedHandlers[n.toString()]){o.hookedHandlers[n.toString()]=[]}o.hookedHandlers[n.toString()].push(t)};r[`detach${n.toString()}`]=function(t){const o=this;const e=o.hookedHandlers[n.toString()];const r=e.indexOf(t);if(r!==-1){e.splice(r,1)}};const i=e.value;if(t==="BeforeAsync"||t==="AfterAsync"){e.value=async function(){const o=this;const e=o?.hookedHandlers&&o?.hookedHandlers[n.toString()]||[];let r;if(t==="AfterAsync"){r=await i.bind(this)(...arguments)}for(const t of e){await t.bind(this)(...arguments)}if(t==="BeforeAsync"){r=await i.bind(this)(...arguments)}return r}}else{e.value=function(){const o=this;const e=o?.hookedHandlers&&o?.hookedHandlers[n.toString()]||[];let r;if(t==="After"){r=i.bind(this)(...arguments)}for(const t of e){t.bind(this)(...arguments)}if(t==="Before"){r=i.bind(this)(...arguments)}return r}}}}o.hookable=r;function i(t,o){return!!t.find(t=>t.name===o.name&&t.method===o.method&&t.targetMethod===o.targetMethod)}const s=Symbol("hooks");o.hooks=s;function c(t,o){return function(r,c){const a={name:t,method:String(o),targetMethod:c};const d=n.indexOf(r.constructor);if(!r.constructor[s]){Object.defineProperty(r.constructor,s,{value:[]})}r.constructor[s]?.push(a);if(d!==-1&&!i(e[d],a)){e[d].push(a)}else{n.push(r.constructor);e.push([a])}}}o.controllerExtensionHandler=c;function a(o,n){if(o.constructor[s]){let e=o.constructor[s];o[s]=t(e);e=o[s];const r=o;const i=n;for(const t of e){t.handlerFunction=r[t.targetMethod].bind(o);i[t.name][`attach${String(t.method)}`](t.handlerFunction);n.getView()?.attachBeforeExit(()=>{i[t.name][`detach${String(t.method)}`](t.handlerFunction)})}}}o.initControllerExtensionHookHandlers=a;function d(t,o){if(t[s]){const n=t[s];const e=o;for(const t of n){e[t.name]?.[`detach${String(t.method)}`]?.(t.handlerFunction)}}}o.removeControllerExtensionHookHandlers=d;function f(t,o){if(o[s]){if(t[s]){t[s].splice(0,0,...o[s])}else{Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s)||Object.create([]))}}}o.propagateHookFromMixin=f;function h(t,o,n){const e=t;const r=e.getController();if(r){const t=e.findAggregatedObjects(true,t=>t.isA("sap.fe.macros.MacroAPI"));for(const o of t){a(o,r)}}}o.xmlViewPreprocessor=h;return o},false);
//# sourceMappingURL=HookSupport.js.map