{"version":3,"file":"CollaborationHelper.js","names":["sap","ui","define","Log","BaseObject","Element","CollaborationMessageConsumer","URL_KEY","PARAM_SAP_CARD_TITLE","PARAM_SAP_STAGEVIEW_HASH","PARAM_SAP_CARD_ID","PARAM_SAP_XX_CARD_ID","TRANSIENT_KEY","oLogger","getLogger","CollaborationHelper","extend","compactHash","sUrl","UshellContainer","require","url","getServiceAsync","then","async","oAppStateService","oEmptyAppState","createEmptyAppState","undefined","sKey","this","_getNextKey","_isEligibleForBackendPersistency","warning","sUrlBeforeHash","_extractURLBeforeHash","sSemanticObjectAndAction","_extractSemanticObjectAndAction","isMinificationPossible","_isMinificationFeasible","e","_storeUrl","catch","error","toString","bind","_getCurrentUrl","Promise","fnResolve","getFLPUrlAsync","sFLPUrl","resolve","document","URL","processAndExpandHash","_hideAvatarFromShellbar","sCurrentUrl","indexOf","sHash","split","includes","_retrieveURL","oAppState","getData","window","location","replace","inAppRuntime","updateTopLevelURLforAppRuntime","isTeamsModeActive","bIsActive","oAvatar","getElementById","setVisible","bAppRunningInTeams","oURLParsing","sBeforeHashURL","oParsedUrl","parseParameters","substring","bAppStateLean","hash","getAppState","appStateInstance","_oConfig","getKey","parsedShellHash","parseShellHash","_extractURLHash","contextRaw","semanticObject","action","oNavTargetResolution","oParsedShellHash","iParamsCount","Object","keys","params","length","resolveHashFragment","param","sUrlFragementBeforeHash","sUrlHash","setData","save"],"sources":["CollaborationHelper-dbg.js"],"mappings":"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","ignoreList":[]}