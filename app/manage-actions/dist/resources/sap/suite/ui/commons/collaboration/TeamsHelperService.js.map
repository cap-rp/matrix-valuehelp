{"version":3,"file":"TeamsHelperService.js","names":["sap","ui","define","Log","Core","URLListValidator","CollaborationHelper","BaseHelperService","Element","ContactHelper","Device","CollaborationCardHelper","Fragment","MessageBox","Library","Popover","HBox","VBox","MessageStrip","Button","CollaborationContactInfoHelper","sapMLibrary","FlexBox","Localization","CollaborationManagerService","FlexItemData","TeamsHelperService","extend","constructor","oProviderConfig","this","_providerConfig","shareAsLinkUrl","_getShareAsTabUrl","then","sShareAsTabUrl","shareAsTabUrl","bind","COLLABORATION_MSTEAMS_APPID","oLogger","getLogger","CARD_URL_PREFIX","oResourceBundle","getResourceBundleFor","PARAM_SAP_CARD_INFO","oBusyDailog","iTimeoutId","AUTO_CLOSE_BUSY_DIALOG_TIME","oTeamsParams","windowWidthAndHeight","prototype","getOptions","oParams","isShareAsLinkEnabled","isShareAsTabEnabled","isShareAsCardEnabled","aOptions","aFinalOptions","system","desktop","push","text","getText","key","icon","fesrStepName","info","bIsShareAsCardEnabled","bIsShareAsTabEnabled","CARD_OBJECT","undefined","length","type","subOptions","share","oOption","url","error","validate","_shareAsChat","_shareAsTab","_shareAsCard","newWindow","window","open","sMessage","appTitle","subTitle","opener","minifyUrlForChat","compactHash","async","sShortURL","sModifiedUrl","_modifyUrlForNavigationContext","location","encodeURIComponent","_modifyUrlForShareAsTab","sUrl","sAppUri","iIndexOfHash","indexOf","sUriForHeaderLess","substring","iIndexOfQuestionMark","sParam","_addNavmodeInUrl","oData","subEntityId","mode","sURL","JSON","stringify","m","URLHelper","redirect","sNavMode","UshellContainer","require","getServiceAsync","oURLParsing","oHashPartOfUri","parseShellHash","params","sHashOfUri","constructShellHash","Promise","resolve","originalUrl","iParamsCount","Object","keys","oUrl","URL","searchParams","has","set","delete","toString","cardId","cardManifest","isFeatureFlagEnabled","getRTL","load","name","controller","oDialog","setTimeout","close","destroy","postCard","response","bSuccessScenario","oResponseData","card_id","version","code","message","sCardVersion","parse","atob","e","_updateUrl","_closeBusyDailog","sUrlForTab","sShortURLTab","sStageViewHash","split","_closeBusyDialogAndOpenTeamsDialog","clearTimeout","_addCardParamsInUrl","sAppTitle","aInfoField","filter","Boolean","join","_getApplicationID","sTeamsAppID","_getCurrentUrl","sCurrentUrl","sBeforeHashURL","oParsedUrl","parseParameters","isContactsCollaborationSupported","enableContactsCollaboration","sEmail","isTeamMode","isTeamsModeActive","isContactServiceAvailable","fetchServiceStatus","value","FetchContacts","oContactHelper","isDirectCommunicationEnabled","loadContactPopover","reject","loadMinimalContactPopover","getTeamsContactCollabOptions","getTeamsContactOptions","getTeamsContactStatus","getCollaborationPopover","oSource","isLink","oCollaborationOptionsConfig","data","trim","shareToTeams","shareToEmail","shareToCM","oCollaborationManager","oCMOption","_shareData","oCollaborationPopover","_getPopover","openBy","showHeader","placement","verticalScrolling","horizontalScrolling","content","_getPopoverContent","oMainFBox","items","direction","FlexDirection","Column","oOptionFBox","sFormat","Row","justifyContent","FlexJustifyContent","SpaceAround","forEach","button","width","press","oEvent","getSource","getParent","addStyleClass","addItem","oCopyLinkFlexbox","Center","SpaceBetween","alignItems","FlexAlignItems","_writeToClipBoard","insertItem","showIcon","setHeight","sText","navigator","clipboard","writeText","oShareData","title","showPreview","_shareSummary","triggerEmail","triggerH2HChat"],"sources":["TeamsHelperService-dbg.js"],"mappings":"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","ignoreList":[]}