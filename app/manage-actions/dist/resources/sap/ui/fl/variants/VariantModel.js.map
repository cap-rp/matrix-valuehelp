{"version":3,"file":"VariantModel.js","names":["sap","ui","define","_difference","_isEqual","_omit","each","isEmptyObject","merge","Log","JsControlTreeModifier","BusyIndicator","Element","Lib","URLHandler","VariantUtil","FlexObjectFactory","States","DependencyHandler","Switcher","VariantManagementState","FlexObjectState","ManifestUtils","Settings","Layer","LayerUtils","Utils","JSONModel","BindingMode","_mUShellServices","executeAfterSwitch","fnCallback","oModel","_oVariantSwitchPromise","catch","then","setVariantSwitchPromise","sFlexReference","setUShellService","sServiceName","oService","switchVariantAndUpdateModel","mPropertyBag","sScenario","switchVariant","this","oData","vmReference","updateVariantInURL","newVReference","model","callVariantSwitchListeners","undefined","bind","updatePersonalVariantPropertiesWithFlpSettings","oVariant","oSettings","getInstanceOrUndef","isVariantPersonalizationEnabled","remove","rename","change","updatePublicVariantPropertiesWithSettings","bUserIsAuthorized","isKeyUser","getUserId","isPublicFlVariantEnabled","toUpperCase","instance","getSupportInformation","user","isVariantValidForRemove","sVariantManagementReference","bDesignTimeModeToBeSet","sLayer","getCurrentLayer","USER","layer","key","waitForControlToBeRendered","oControl","Promise","resolve","getDomRef","addEventDelegate","onAfterRendering","initUshellServices","oUShellContainer","getUshellContainer","aServicePromises","getUShellService","all","aServices","vError","Error","getVariant","aVariants","sVariantKey","find","oCurrentVariant","waitForInitialVariantChanges","aCurrentVariantChanges","getInitialUIChanges","reference","aSelectors","reduce","aCurrentControls","oChange","oSelector","getSelector","bySelector","appComponent","indexOfObject","selector","push","length","waitForFlexObjectsToBeApplied","VariantModel","extend","constructor","pSequentialImportCompleted","apply","sharing","PRIVATE","PUBLIC","oFlexController","flexController","oChangePersistence","_oChangePersistence","getFlexReferenceForControl","oAppComponent","_oResourceBundle","getResourceBundleFor","_oVariantAppliedListeners","fnUpdateListener","updateData","oDataSelector","getVariantManagementMap","addUpdateListener","oLiveDependencyMap","getLiveDependencyMap","getId","forEach","oFlexObject","addChangeAndUpdateDependencies","setDefaultBindingMode","OneWay","prototype","oNewVariantsMap","get","oCurrentData","getData","Object","entries","sVariantManagementKey","oVariantMapEntry","variants","map","oCurrentVariantData","oVariantToCheck","currentVariant","defaultVariant","modified","setData","refresh","invalidateMap","checkUpdate","initialize","getInstance","updateCurrentVariant","mProperties","variantManagementReference","currentVReference","getCurrentVariantReference","newVariantReference","modifier","internallyCalled","call","scenario","getVariantManagementReference","sVariantReference","iIndex","keys","some","sKey","index","variantIndex","sVMReference","getVariantTitle","title","handleInitialLoadScenario","oVariantManagementControl","oVariantChangesForVariant","getVariantChangesForVariant","sDefaultVariantReference","getExecuteOnSelectionForStandardDefault","setExecuteOnSelect","oStandardVariant","setExecuteOnSelection","executeOnSelect","attachVariantApplied","getElementById","vmControlId","getVariantManagementReferenceForControl","waitForVMControlInit","bInitialLoad","callAfterInitialVariant","mParameters","sCurrentVariantReference","callback","control","getRelevantVariantManagementControlId","getVariantManagementControlIds","showExecuteOnSelection","error","sNewVariantReference","createScenario","sControlId","detachVariantApplied","sVMControlId","_getVariantTitleCount","sNewText","iCount","toLowerCase","visible","createNewVariant","oSourceVariant","id","variantName","contexts","adaptationId","getFlexObjectMetadata","generator","executeOnSelection","VENDOR","currentVariantComparison","sourceVariantSource","getLayer","variantReference","getVariantReference","sourceVariantReference","createFlVariant","_duplicateVariant","sSourceVariantReference","aVariantChanges","getControlChangesForVariant","vReference","oVariantChange","convertToFileContent","compareAgainstCurrentLayer","oDuplicateVariant","controlChanges","variantChanges","slice","oDuplicateChangeData","aSameLayerChanges","support","sourceChangeFileName","fileName","packageName","createDefaultFileName","changeType","createFromFileContent","_collectModelChanges","oEvent","aModelVariants","aChanges","aVariantsToBeDeleted","findVariant","oModelVariant","fnAddPreparedChange","sChangeType","mChangeData","bSupportsPublicChange","includes","sChangeLayer","getParameter","name","sNewTitle","originalTitle","bNewIsFavorite","favorite","originalFavorite","exe","bNewExecuteOnSelect","originalExecuteOnSelect","aNewContexts","originalContexts","sNewDefault","originalDefaultVariant","changes","variantsToBeDeleted","setVariantProperties","oVariantInstance","mAdditionalChangeContent","setName","setFavorite","createdByReset","setVisible","setContexts","aHashParameters","getStoredHashParams","indexOf","update","parameters","concat","updateURL","_bDesignTimeMode","updateHashEntry","splice","_ensureStandardVariantExists","oVMDataSection","oVMDataSectionWithoutInit","oStandardVariantInstance","getText","DEFAULT_AUTHOR","BASE","addRuntimeSteadyObject","_aCreatedStandardVariantsFor","setModelPropertiesForControl","showFavorites","bOriginalMode","clearAllVariantURLParameters","fnManageClick","fnManageClickRta","_initializeManageVariantsEvents","detachManage","_isEditable","variantsEditable","attachManage","oModelChanges","require","VariantManager","handleManageEvent","_handleSaveEvent","getSource","getParameters","handleSaveEvent","variantSelectHandler","handleSelectVariant","getLocalId","sId","getAppComponentForControl","switchToDefaultForVariantManagement","show","hide","switchToDefaultForVariant","sVariantId","resolveTitleBindingsAndCreateVariantChanges","aMatches","match","sModelName","getModel","sResolvedTitle","getResourceBundle","mChangeProperties","fileType","variantId","oSetTitleChange","createVariantChange","setText","attachEventOnce","registerToModel","getEditable","attachEvent","attachSave","bUpdateURL","getUpdateVariantInURL","registerControl","handleModelContextChange","vmControl","initPromise","resolveFunction","init","promise","_getDirtyChangesFromVariantChanges","aControlChanges","aChangeFileNames","getDirtyFlexObjects","filter","getSavedToVariant","getCurrentControlVariantIds","aCurrentVariants","aVMControlIds","byId","createId","destroy","oVariantsMap","aVariantDependentControlChanges","oVM","mCurrentVariant","flat","removeChangeFromMap","removeChangeFromDependencies","removeUpdateListener","aFakeVariantsToBeAdded","addRuntimeOnlyFlexObjects","clearRuntimeSteadyObjects","resetCurrentVariantReference"],"sources":["VariantModel-dbg.js"],"mappings":";;;;;AAMAA,IAAIC,GAAGC,OAAO,CACb,uCACA,oCACA,iCACA,qBACA,8BACA,sBACA,eACA,oDACA,4BACA,sBACA,kBACA,uDACA,kDACA,0DACA,+CACA,gEACA,+DACA,6EACA,sDACA,oDACA,8BACA,kBACA,uBACA,kBACA,8BACA,4BACE,SACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAEA,IAAIC,EAAmB,CAAC,EAWxB,SAASC,EAAmBC,EAAYC,GAEvCA,EAAOC,uBAAyBD,EAAOC,uBACtCC,MAAM,WAAY,GAClBC,KAAKJ,GACNX,EAAuBgB,wBAAwBJ,EAAOK,eAAgBL,EAAOC,wBAC7E,OAAOD,EAAOC,sBACf,CAQA,SAASK,EAAiBC,EAAcC,GACvCX,EAAiBU,GAAgBC,CAClC,CAEA,SAASC,EAA4BC,EAAcC,GAClD,OAAOxB,EAASyB,cAAcF,GAC7BP,KAAK,WAEL,GAAIU,KAAKC,MAAMJ,EAAaK,aAAaC,mBAAoB,CAC5DlC,EAAWkC,mBAAmB,CAC7BD,YAAaL,EAAaK,YAC1BE,cAAeP,EAAaO,cAC5BC,MAAOL,MAET,CAGAA,KAAKM,2BAA2BT,EAAaK,YAAaL,EAAaO,cAAeG,UAAWT,EAClG,EAAEU,KAAKR,MACR,CAEA,SAASS,EAA+CC,GACvD,IAAIC,EAAYjC,EAASkC,qBACzB,GAAID,IAAcA,EAAUE,kCAAmC,CAC9DH,EAASI,OAAS,MAClBJ,EAASK,OAAS,MAClBL,EAASM,OAAS,KACnB,CACD,CAEA,SAASC,EAA0CP,GAClD,IAAIC,EAAYjC,EAASkC,qBACzB,IAAIM,EAAoBP,IACtBA,EAAUQ,cAAgBR,EAAUS,aACpCT,EAAUU,4BAA8BV,EAAUS,YAAYE,gBAAkBZ,EAASa,SAASC,wBAAwBC,KAAKH,eACjIZ,EAASI,OAASI,EAClBR,EAASK,OAASG,EAClBR,EAASM,OAASE,CACnB,CAEA,SAASQ,EAAwBhB,EAAUiB,EAA6BC,GACvE,IAAIC,EAASD,EAAyBhD,EAAWkD,kBAAoBnD,EAAMoD,KAC3E,GAAKrB,EAASsB,QAAUH,GAAYnB,EAASuB,MAAQN,EAA8B,CAClF,OAAO,IACR,CACA,OAAO,KACR,CAEA,SAASO,EAA2BC,GACnC,OAAO,IAAIC,QAAQ,SAASC,GAC3B,GAAIF,EAASG,YAAa,CACzBD,GACD,KAAO,CACNF,EAASI,iBAAiB,CACzB,gBAAAC,GACCH,GACD,GAEF,CACD,EACD,CAEA,SAASI,IACR,IAAIC,EAAmB7D,EAAM8D,qBAC7B,GAAID,EAAkB,CACrB,IAAIE,EAAmB,CACtB/D,EAAMgE,iBAAiB,YACvBhE,EAAMgE,iBAAiB,cACvBhE,EAAMgE,iBAAiB,cACvBhE,EAAMgE,iBAAiB,4BAExB,OAAOT,QAAQU,IAAIF,GAClBtD,KAAK,SAASyD,GACdtD,EAAiB,WAAYsD,EAAU,IACvCtD,EAAiB,aAAcsD,EAAU,IACzCtD,EAAiB,aAAcsD,EAAU,IACzCtD,EAAiB,0BAA2BsD,EAAU,GACvD,GACC1D,MAAM,SAAS2D,GACf,MAAM,IAAIC,MAAM,6CAA6CD,IAC9D,EACD,CACA,OAAOzC,SACR,CAEA,SAAS2C,EAAWC,EAAWC,GAC9B,OAAOzF,EAAM,CAAC,EAAGwF,EAAUE,KAAK,SAASC,GACxC,OAAOA,EAAgBrB,MAAQmB,CAChC,GACD,CAEA,SAASG,EAA6B1D,GACrC,MAAM2D,EAAyBjF,EAAuBkF,oBAAoB,CACzEvD,YAAaL,EAAaK,YAC1BwD,UAAW7D,EAAa6D,YAEzB,MAAMC,EAAaH,EAAuBI,OAAO,CAACC,EAAkBC,KACnE,MAAMC,EAAYD,EAAQE,cAC1B,MAAM7B,EAAWtE,EAAsBoG,WAAWF,EAAWlE,EAAaqE,cAC1E,GAAI/B,GAAYtD,EAAMsF,cAAcN,EAAkB,CAAEO,SAAUjC,OAAiB,EAAG,CACrF0B,EAAiBQ,KAAK,CAAED,SAAUjC,GACnC,CACA,OAAO0B,GACL,IACH,OAAOF,EAAWW,OAAS9F,EAAgB+F,8BAA8BZ,GAAcvB,QAAQC,SAChG,CAkBA,IAAImC,EAAe1F,EAAU2F,OAAO,kCAA2F,CAE9HC,YAAa,SAASzE,EAAOJ,GAE5BG,KAAK2E,2BAA6BvC,QAAQC,UAC1CvD,EAAU8F,MAAM5E,KAAM,CAACC,IAEvBD,KAAK6E,QAAU,CACdC,QAAS,UACTC,OAAQ,UAOT/E,KAAKgF,gBAAkBnF,EAAaoF,eACpCjF,KAAKkF,mBAAqBlF,KAAKgF,gBAAgBG,oBAC/CnF,KAAKR,eAAiBf,EAAc2G,2BAA2BvF,EAAaqE,cAC5ElE,KAAKqF,cAAgBxF,EAAaqE,aAClClE,KAAKsF,iBAAmBtH,EAAIuH,qBAAqB,aACjDvF,KAAKZ,uBAAyBgD,QAAQC,UACtCrC,KAAKwF,0BAA4B,CAAC,EAGlCxF,KAAKyF,iBAAmBzF,KAAK0F,WAAWlF,KAAKR,MAC7CA,KAAK2F,cAAgBpH,EAAuBqH,0BAC5C5F,KAAK2F,cAAcE,kBAAkB7F,KAAKyF,kBAE1CzF,KAAK0F,aAEL,MAAMI,EAAqBtH,EAAgBuH,qBAAqB/F,KAAKR,gBACrEjB,EAAuBkF,oBACtB,CAACC,UAAW1D,KAAKR,gBACjBQ,KAAKqF,cAAcW,QACnBhG,KAAKR,gBACJyG,QAASC,IACV7H,EAAkB8H,+BAA+BD,EAAalG,KAAKqF,cAAcW,QAASF,KAG3F9F,KAAKoG,sBAAsBrH,EAAYsH,OACxC,IAGD7B,EAAa8B,UAAUZ,WAAa,WACnC,MAAMa,EAAkBvG,KAAK2F,cAAca,IAAI,CAAE9C,UAAW1D,KAAKR,iBACjE,MAAMiH,EAAe,IAAKzG,KAAK0G,WAC/BC,OAAOC,QAAQL,GAAiBN,QAAQ,SAAS9C,GAChD,MAAM0D,EAAwB1D,EAAU,GACxC,MAAM2D,EAAmB,IAAK3D,EAAU,IACxCsD,EAAaI,KAA2B,CAAC,EACzCJ,EAAaI,GAAuBE,SAAWD,EAAiBC,SAASC,IAAI,SAAStG,GACrF,MAAMuG,GAAuBR,EAAaI,GAAuBE,UAAY,IAC5E1D,KAAK,SAAS6D,GACd,OAAOA,EAAgBjF,MAAQvB,EAASuB,GACzC,GACA,MAAO,IAAMgF,GAAuB,CAAC,KAAOvG,EAC7C,GACA+F,EAAaI,GAAuBM,eAAiBL,EAAiBK,eACtEV,EAAaI,GAAuBO,eAAiBN,EAAiBM,eACtEX,EAAaI,GAAuBQ,SAAWP,EAAiBO,QACjE,GACArH,KAAKsH,QAAQb,GAIbzG,KAAKuH,QAAQ,KACd,EAEA/C,EAAa8B,UAAUkB,cAAgB,WACtCxH,KAAK2F,cAAc8B,YAAY,CAAC/D,UAAW1D,KAAKR,gBACjD,EAMAgF,EAAa8B,UAAUoB,WAAa,WACnC,OAAOtF,QAAQU,IAAI,CAACpE,EAASiJ,cAAelF,MAC3CnD,KAAK,WAELrB,EAAWyJ,WAAW,CAAErH,MAAOL,MAChC,EAAEQ,KAAKR,MACR,EAcAwE,EAAa8B,UAAUsB,qBAAuB,SAAS/H,GACtD,IAAIgI,EAAc,CACjB3H,YAAaL,EAAaiI,2BAC1BC,kBAAmB/H,KAAKgI,2BAA2BnI,EAAaiI,4BAChE1H,cAAeP,EAAaoI,oBAC5B/D,aAAcrE,EAAaqE,cAAgBlE,KAAKqF,cAChD6C,SAAUrK,EACV6F,UAAW1D,KAAKR,gBAGjB,GAAIK,EAAasI,iBAAkB,CAClC,OAAOvI,EAA4BwI,KAAKpI,KAAM6H,EAAahI,EAAawI,SACzE,CACA,OAAOpJ,EAAmBW,EAA4BY,KAAKR,KAAM6H,EAAahI,EAAawI,UAAWrI,KACvG,EASAwE,EAAa8B,UAAU0B,2BAA6B,SAASrG,GAC5D,OAAO3B,KAAKC,MAAM0B,GAA6BwF,cAChD,EAEA3C,EAAa8B,UAAUgC,8BAAgC,SAASC,GAC/D,IAAI5G,EAA8B,GAClC,IAAI6G,GAAU,EACd7B,OAAO8B,KAAKzI,KAAKC,OAAOyI,KAAK,SAASC,GACrC,OAAO3I,KAAKC,MAAM0I,GAAM5B,SAAS2B,KAAK,SAAShI,EAAUkI,GACxD,GAAIlI,EAASuB,MAAQsG,EAAmB,CACvC5G,EAA8BgH,EAC9BH,EAASI,EACT,OAAO,IACR,CACD,EACD,EAAEpI,KAAKR,OACP,MAAO,CACN8H,2BAA4BnG,EAC5BkH,aAAcL,EAEhB,EAEAhE,EAAa8B,UAAUpD,WAAa,SAASqF,EAAmB5G,GAC/D,IAAImH,EAAenH,GAA+B3B,KAAKsI,8BAA8BC,GAAmBT,2BACxG,OAAO5E,EACNlD,KAAKC,MAAM6I,GAAc/B,SACzBwB,EAEF,EASA/D,EAAa8B,UAAUyC,gBAAkB,SAASR,EAAmBO,GACpE,OAAO5F,EAAWlD,KAAKC,MAAM6I,GAAc/B,SAAUwB,GAAmBS,KACzE,EAEA,SAASC,EAA0BH,EAAcI,GAChD,IAAIC,EAA4B5K,EAAuB6K,4BAA4B,CAClFlJ,YAAa4I,EACbpF,UAAW1D,KAAKR,iBAEjB,IAAI6J,EAA2BrJ,KAAKC,MAAM6I,GAAc1B,eACxD,GACC8B,EAA0BI,2CACvBD,IAA6BP,IAC5BK,EAA0BI,mBAC7B,CACD,IAAIC,EAAmBtG,EAAWlD,KAAKC,MAAM6I,GAAc/B,SAAU+B,GAErEU,EAAiBjI,SAASkI,sBAAsB,MAChDzJ,KAAKC,MAAM6I,GAAc/B,SAAS,GAAG2C,gBAAkB,KACvD,OAAO,IACR,CACA,OAAO,KACR,CAeAlF,EAAa8B,UAAUqD,qBAAuB,SAAS9J,GACtD,IAAIqJ,EAA4BnL,EAAQ6L,eAAe/J,EAAagK,aACpE,IAAIf,EAAe9I,KAAK8J,wCAAwCZ,GAEhE,OAAOlJ,KAAK+J,qBAAqBjB,GAAcxJ,KAAK,SAASwJ,EAAcjJ,GAC1EG,KAAKwF,0BAA0BsD,KAAkB,CAAC,EAElD,IAAIkB,EAAef,EAA0Bb,KAAKpI,KAAM8I,EAAcI,GAGtE,GAAIrJ,EAAaoK,yBAA2BD,EAAc,CACzD,IAAIE,EAAc,CACjBhG,aAAclE,KAAKqF,cACnB3B,UAAW1D,KAAKR,eAChBU,YAAa4I,GAEdvF,EAA6B2G,GAAa5K,KAAK,WAC9C,IAAI6K,EAA2BnK,KAAKC,MAAM6I,GAAc3B,eACxDnH,KAAKM,2BAA2BwI,EAAcqB,EAA0BtK,EAAauK,SACtF,EAAE5J,KAAKR,MACR,CAIA,OAAOkC,EAA2BrC,EAAawK,SAAS/K,KAAK,WAC5D,GACCpB,EAAYoM,sCACXzK,EAAawK,QACbrK,KAAKuK,oCACA1K,EAAagK,YAClB,CACD7J,KAAKC,MAAM6I,GAAc0B,uBAAyB,KAClDxK,KAAKyH,YAAY,MACjBzH,KAAKwF,0BAA0BsD,GAAcjJ,EAAawK,QAAQrE,SAAWnG,EAAauK,QAC3F,KAAO,CACNxM,EAAI6M,MAAM,qFACR,wCACH,CACD,EAAEjK,KAAKR,MACR,EAAEQ,KAAKR,KAAM8I,EAAcjJ,GAC5B,EAEA2E,EAAa8B,UAAUhG,2BAA6B,SAASwI,EAAc4B,EAAsBxL,EAAYY,GAC5G,GAAIE,KAAKwF,0BAA0BsD,GAAe,CACjD,IAAIpI,EAAWwC,EAAWlD,KAAKC,MAAM6I,GAAc/B,SAAU2D,GAC7D,GAAI5K,EAAW,CACdY,EAASiK,eAAiB7K,CAC3B,CAEA,GAAIZ,EAAY,CACfA,EAAWwB,EACZ,KAAO,CACNjD,EAAKuC,KAAKwF,0BAA0BsD,GAAe,SAAS8B,EAAY1L,GACvEA,EAAWwB,EACZ,EACD,CACD,CACD,EAEA8D,EAAa8B,UAAUuE,qBAAuB,SAASC,EAAcF,GACpE,IAAI9B,EAAe9I,KAAK8J,wCAAwC/L,EAAQ6L,eAAekB,IACvF,GAAI9K,KAAKwF,0BAA0BsD,GAAe,QAC1C9I,KAAKwF,0BAA0BsD,GAAc8B,EACrD,CACD,EAEApG,EAAa8B,UAAUyE,sBAAwB,SAASC,EAAUrJ,GACjE,IAAI1B,EAAQD,KAAK0G,UACjB,OAAOzG,EAAM0B,GAA6BoF,SAASnD,OAAO,SAASqH,EAAQvK,GAC1E,GAAIsK,EAASE,gBAAkBxK,EAASsI,MAAMkC,eAAiBxK,EAASyK,QAAS,CAChFF,GACD,CACA,OAAOA,CACR,EAAG,EACJ,EAEA,SAASG,EAAiBC,EAAgBxL,GACzC,IAAIgI,EAAc,CACjByD,GAAIzL,EAAaoI,oBACjBsD,YAAa1L,EAAamJ,MAC1BwC,SAAU3L,EAAa2L,SACvBxJ,MAAOnC,EAAamC,MACpByJ,aAAc5L,EAAa4L,aAC3B/H,UAAW2H,EAAeK,wBAAwBhI,UAClDiI,UAAW9L,EAAa8L,UACxB7D,2BAA4BjI,EAAaiI,2BACzC8D,mBAAoB/L,EAAa+L,oBAElC,GAAI/L,EAAamC,QAAUrD,EAAMkN,OAAQ,CACxChE,EAAYpG,KAAO,KACpB,CACA,GAAI5B,EAAaiM,2BAA6B,EAAG,CAGhD,GAAIjM,EAAakM,oBAAoBxK,SAASyK,aAAenM,EAAamC,MAAO,CAChF6F,EAAYoE,iBAAmBpM,EAAakM,oBAAoBxK,SAAS2K,qBAC1E,KAAO,CACNrE,EAAYoE,iBAAmBZ,EAAea,qBAC/C,CACD,MAAO,GAAIrM,EAAaiM,2BAA6B,EAAG,CACvDjE,EAAYoE,iBAAmBZ,EAAea,qBAC/C,MAAO,GAAIrM,EAAaiM,4BAA8B,EAAG,CACxDjE,EAAYoE,iBAAmBpM,EAAasM,sBAC7C,CAEA,OAAOhO,EAAkBiO,gBAAgBvE,EAC1C,CAEArD,EAAa8B,UAAU+F,kBAAoB,SAASxM,GACnD,IAAIyM,EAA0BzM,EAAasM,uBAC3C,IAAIxK,EAA8B9B,EAAaiI,2BAC/C,IAAIuD,EAAiBrL,KAAKkD,WAAWoJ,GAErC,IAAIC,EAAkBhO,EAAuBiO,4BAA4B,CACxEtM,YAAayB,EACb8K,WAAYH,EACZ5I,UAAW1D,KAAKR,iBAEhBwH,IAAI,SAAS0F,GACb,OAAOA,EAAeC,sBACvB,GAEA9M,EAAaiM,yBAA2BlN,EAAWgO,2BAA2BvB,EAAe9J,SAASyK,WAAYnM,EAAamC,OAC/H,GAAInC,EAAaiM,2BAA6B,EAAG,CAChDjM,EAAakM,oBAAsB/L,KAAKkD,WAAWmI,EAAe9J,SAAS2K,sBAC5E,CACA,IAAIW,EAAoB,CACvBtL,SAAU6J,EAAiBC,EAAe9J,SAAU1B,GACpDiN,eAAgBP,EAChBQ,eAAgB,CAAC,GAGlBR,EAAkBM,EAAkBC,eAAeE,QAEnD,IAAIC,EAAuB,CAAC,EAC5BJ,EAAkBC,eAAiBP,EAAgB3I,OAAO,SAASsJ,EAAmBpJ,GAErF,GAAIlF,EAAWgO,2BAA2B9I,EAAQ9B,MAAOnC,EAAamC,QAAU,EAAG,CAClFiL,EAAuBtP,EAAM,CAAC,EAAGmG,GAEjCmJ,EAAqBjL,MAAQnC,EAAamC,MAC1CiL,EAAqBhB,iBAAmBY,EAAkBtL,SAASyE,QACnEiH,EAAqBE,UAAY,CAAC,EAClCF,EAAqBE,QAAQC,qBAAuBtJ,EAAQuJ,SAE5DJ,EAAqBK,YAAc,OACnCL,EAAqBI,SAAWxO,EAAM0O,sBAAsBN,EAAqBO,YACjFN,EAAkB7I,KAAKlG,EAAkBsP,sBAAsBR,GAChE,CACA,OAAOC,CACR,EAAG,IAEH,OAAOL,CACR,EAEArI,EAAa8B,UAAUoH,qBAAuB,SAAS/L,EAA6BE,EAAQ8L,GAC3F,MAAM1N,EAAQD,KAAK0G,UAAU/E,GAC7B,MAAMiM,EAAiB3N,EAAM8G,SAC7B,MAAM8G,EAAW,GACjB,MAAMlN,EAAYjC,EAASkC,qBAC3B,MAAMkN,EAAuB,GAE7B,MAAMC,EAAe3K,GACbwK,EAAevK,KAAM2K,GAAkBA,EAAc/L,MAAQmB,GAGrE,MAAM6K,EAAsB,CAACvN,EAAUwN,EAAaC,KAEnD,MAAMC,EAAwB,CAAC,WAAY,qBAAsB,cAAcC,SAASH,GACxF,MAAMI,EACLF,GACGzN,GAAWU,4BACXX,EAASsB,QAAUrD,EAAMoG,OACzBpG,EAAMoG,OAASlD,EAEnBgM,EAASxJ,KAAK,CACb4H,iBAAkBvL,EAASuB,IAC3BuL,WAAYU,EACZlM,MAAOsM,KACJH,KAILR,EAAOY,aAAa,YAAYtI,QAAQ,EAAEhE,IAAKmB,EAAaoL,KAAMC,MACjE,MAAM/N,EAAWqN,EAAY3K,GAC7B6K,EACCvN,EACA,WACA,CACCsI,MAAOyF,EACPC,cAAehO,EAASsI,UAI3B2E,EAAOY,aAAa,QAAQtI,QAAQ,EAAEhE,IAAKmB,EAAa+H,QAASwD,MAChE,MAAMjO,EAAWqN,EAAY3K,GAC7B6K,EACCvN,EACA,cACA,CACCkO,SAAUD,EACVE,iBAAkBnO,EAASkO,aAI9BjB,EAAOY,aAAa,QAAQtI,QAAQ,EAAEhE,IAAKmB,EAAa0L,IAAKC,MAC5D,MAAMrO,EAAWqN,EAAY3K,GAC7B6K,EACCvN,EACA,qBACA,CACCgJ,gBAAiBqF,EACjBC,wBAAyBtO,EAASgJ,oBAIrCiE,EAAOY,aAAa,YAAYtI,QAAS7C,IACxC,MAAM1C,EAAWqN,EAAY3K,GAC7B6K,EACCvN,EACA,aACA,CACCyK,QAAS,QAGX2C,EAAqBzJ,KAAKjB,KAE3BuK,EAAOY,aAAa,aAAatI,QAAQ,EAAEhE,IAAKmB,EAAaoI,SAAUyD,MACtE,MAAMvO,EAAWqN,EAAY3K,GAC7B6K,EACCvN,EACA,cACA,CACC8K,SAAUyD,EACVC,iBAAkBxO,EAAS8K,aAI9B,MAAM2D,EAAcxB,EAAOY,aAAa,OACxC,GAAIY,EAAa,CAChBtB,EAASxJ,KAAK,CACbyD,2BAA4BnG,EAC5B6L,WAAY,aACZpG,eAAgB+H,EAChBC,uBAAwBnP,EAAMmH,eAC9BpF,MAAOH,GAET,CAEA,MAAO,CACNwN,QAASxB,EACTyB,oBAAqBxB,EAEvB,EAsBAtJ,EAAa8B,UAAUiJ,qBAAuB,SAAS5N,EAA6B9B,GAEnF,IAAII,EAAQD,KAAK0G,UACjB,IAAI8I,EAAmBxP,KAAKkD,WAAWrD,EAAaoM,iBAAkBtK,GAA6BJ,SAEnG,IAAIkO,EAA2B,CAAC,EAEhC,OAAQ5P,EAAa2N,YACpB,IAAK,WACJgC,EAAiBE,QAAQ7P,EAAamJ,MAAO,MAC7C,MACD,IAAK,cACJyG,EAAyBb,SAAW/O,EAAa+O,SACjDY,EAAiBG,YAAY9P,EAAa+O,UAC1C,MACD,IAAK,qBACJa,EAAyB/F,gBAAkB7J,EAAa6J,gBACxD8F,EAAiB/F,sBAAsB5J,EAAa6J,iBACpD,MACD,IAAK,aACJ+F,EAAyBtE,QAAUtL,EAAasL,QAChDsE,EAAyBG,eAAiB,MAC1CJ,EAAiBK,WAAWhQ,EAAasL,SACzC,MACD,IAAK,cACJsE,EAAyBjE,SAAW3L,EAAa2L,SACjDgE,EAAiBM,YAAYjQ,EAAa2L,UAC1C,MACD,IAAK,aACJiE,EAAyBrI,eAAiBvH,EAAauH,eAEvD,IAAI2I,EAAkB9R,EAAW+R,oBAAoB,CAAC3P,MAAOL,OAC7D,GAAI+P,GAAmB/P,KAAKC,MAAM0B,GAA6BxB,mBAAoB,CAClF,GACCF,EAAM0B,GAA6ByF,iBAAmBnH,EAAM0B,GAA6BwF,gBACtF4I,EAAgBE,QAAQhQ,EAAM0B,GAA6BwF,mBAAqB,EAClF,CAEDlJ,EAAWiS,OAAO,CACjBC,WAAYJ,EAAgBK,OAAOnQ,EAAM0B,GAA6BwF,gBACtEkJ,WAAYrQ,KAAKsQ,iBACjBC,gBAAiB,KACjBlQ,MAAOL,MAET,MAAO,GACNC,EAAM0B,GAA6ByF,iBAAmBnH,EAAM0B,GAA6BwF,gBACtF4I,EAAgBE,QAAQhQ,EAAM0B,GAA6BwF,iBAAmB,EAChF,CAED4I,EAAgBS,OAAOT,EAAgBE,QAAQhQ,EAAM0B,GAA6BwF,gBAAiB,GACnGlJ,EAAWiS,OAAO,CACjBC,WAAYJ,EACZM,WAAYrQ,KAAKsQ,iBACjBC,gBAAiB,KACjBlQ,MAAOL,MAET,CACD,CAEA,MACD,QACC,MAGF,OAAOyP,CACR,EAEAjL,EAAa8B,UAAUmK,6BAA+B,SAAS9O,GAC9D,IAAI1B,EAAQD,KAAK0G,UACjB,IAAIgK,EAAiBzQ,EAAM0B,IAAgC,CAAC,EAC5D,IAAIgP,EAA4BnT,EAAMkT,EAAgB,CAAC,gBACvD,IAAKzQ,EAAM0B,IAAgCjE,EAAciT,GAA4B,CAEpF,IAAIC,EAA2BzS,EAAkBiO,gBAAgB,CAChEd,GAAI3J,EACJmG,2BAA4BnG,EAC5B4J,YAAavL,KAAKsF,iBAAiBuL,QAAQ,0BAC3CpP,KAAMvD,EAAY4S,eAClB9O,MAAOrD,EAAMoS,KACbrN,UAAW1D,KAAKR,iBAGjBjB,EAAuByS,uBAAuBhR,KAAKR,eAAgBQ,KAAKqF,cAAcW,QAAS4K,GAE/F5Q,KAAKiR,+BAAiC,GACtCjR,KAAKiR,6BAA6B5M,KAAK1C,EACxC,CACD,EAEA6C,EAAa8B,UAAU4K,6BAA+B,SAASvP,EAA6BC,EAAwBO,GACnHnC,KAAKC,MAAM0B,GAA6BwP,cAAgB,KAGxD,IAAIC,EAAgBpR,KAAKsQ,iBACzB,GAAIc,IAAkBxP,EAAwB,CAC7C5B,KAAKsQ,iBAAmB1O,EAExB,GAAIA,EAAwB,CAC3B3D,EAAWoT,6BAA6B,CAAChR,MAAOL,MACjD,MAAO,GAAIoR,GAAiBpR,KAAKC,MAAM0B,GAA6BxB,mBAAoB,CAEvFlC,EAAWiS,OAAO,CACjBC,WAAYlS,EAAW+R,oBAAoB,CAAC3P,MAAOL,OACnDqQ,UAAW,KACXE,gBAAiB,MACjBlQ,MAAOL,MAET,CACD,CAEA,YAAaA,KAAKsR,gBAAkB,mBAAqBtR,KAAKuR,mBAAqB,YAAa,CAC/FvR,KAAKwR,iCACN,CACArP,EAASsP,aAAazR,KAAKsR,cAAetR,MAE1C,GAAI4B,GAA0B5B,KAAKC,MAAM0B,GAA6B+P,YAAa,CAElF1R,KAAKC,MAAM0B,GAA6BgQ,iBAAmB,MAG3D3R,KAAKC,MAAM0B,GAA6BoF,SAASd,QAAQ,SAASvF,GACjEA,EAASK,OAAS,KAClBL,EAASM,OAAS,KAClBN,EAASmE,QAAU7E,KAAK6E,QAAQE,OAChCrE,EAASI,OAASY,EAAwBhB,EAAUiB,EAA6BC,EAClF,EAAEpB,KAAKR,MACR,MAAO,GAAIA,KAAKC,MAAM0B,GAA6B+P,YAAa,CAC/DvP,EAASyP,aAAa,CACrB9J,2BAA4BnG,GAC1B3B,KAAKsR,cAAetR,MAEvBA,KAAKC,MAAM0B,GAA6BgQ,iBAAmB,KAG3D3R,KAAKC,MAAM0B,GAA6BoF,SAASd,QAAQ,SAASvF,GACjEA,EAASI,OAASY,EAAwBhB,EAAUiB,EAA6BC,GAEjF,OAAQlB,EAASsB,OAChB,KAAKrD,EAAMoD,KACVrB,EAASK,OAAS,KAClBL,EAASM,OAAS,KAClBN,EAASmE,QAAU7E,KAAK6E,QAAQC,QAChCrE,EAA+CC,GAC/C,MACD,KAAK/B,EAAMoG,OACVrE,EAASmE,QAAU7E,KAAK6E,QAAQE,OAChC9D,EAA0CP,GAC1C,MACD,QACCA,EAASK,OAAS,MAClBL,EAASM,OAAS,MAClBN,EAASmE,QAAU7E,KAAK6E,QAAQE,OAEnC,EAAEvE,KAAKR,MACR,KAAO,CACNA,KAAKC,MAAM0B,GAA6BgQ,iBAAmB,MAC3D3R,KAAKC,MAAM0B,GAA6BoF,SAASd,QAAQ,SAASvF,GACjEA,EAASI,OAAS,MAClBJ,EAASK,OAAS,MAClBL,EAASM,OAAS,KACnB,EACD,CACD,EAGAwD,EAAa8B,UAAUkL,gCAAkC,WACxDxR,KAAKuR,iBAAmB,SAAS5D,EAAQ1N,GACxC,MAAM4R,EAAgB7R,KAAK0N,qBAAqBzN,EAAM6H,2BAA4B7H,EAAM+B,MAAO2L,GAC/F1N,EAAMoC,QAAQwP,EACf,EAEA7R,KAAKsR,cAAgB,SAAS3D,EAAQ1N,GACrC9C,IAAIC,GAAG0U,QAAQ,CAAC,qCAAsC,SAASC,GAC9DA,EAAeC,kBAAkBrE,EAAQ1N,EAAOD,KACjD,EAAEQ,KAAKR,MACR,CACD,EAEAwE,EAAa8B,UAAU2L,iBAAmB,SAAStE,GAClD,IAAK3N,KAAKsQ,iBAAkB,CAC3B,IAAIpH,EAA4ByE,EAAOuE,YACvC,IAAIhI,EAAcyD,EAAOwE,gBACzBhV,IAAIC,GAAG0U,QAAQ,CAAC,qCAAsC,SAASC,GAC9DA,EAAeK,gBAAgBlJ,EAA2BgB,EAAalK,KACxE,EAAEQ,KAAKR,MACR,CACD,EAEA,SAASqS,EAAqB1E,EAAQ9N,GACrC1C,IAAIC,GAAG0U,QAAQ,CAAC,qCAAsC,SAASC,GAC9DA,EAAeO,oBAAoB3E,EAAQ9N,EAC5C,EACD,CAEA2E,EAAa8B,UAAUiM,WAAa,SAASC,EAAKnN,GACjD,OAAOxH,EAAsBmG,YAAYwO,EAAKnN,GAAeiG,EAC9D,EAEA9G,EAAa8B,UAAUwD,wCAA0C,SAASZ,GACzE,IAAI0B,EAAa1B,EAA0BlD,QAC3C,IAAIX,EAAgBxG,EAAM4T,0BAA0BvJ,GACpD,OAAQ7D,GAAiBA,EAAckN,WAAW3H,IAAgBA,CACnE,EAEApG,EAAa8B,UAAUoM,oCAAsC,SAAS/Q,GACrE,GAAI3B,KAAKC,MAAM0B,GAA6BwF,iBAAmBnH,KAAKC,MAAM0B,GAA6ByF,eAAgB,CACtHtJ,EAAc6U,KAAK,KACnB3S,KAAK4H,qBAAqB,CACzBE,2BAA4BnG,EAC5BsG,oBAAqBjI,KAAKC,MAAM0B,GAA6ByF,iBAC3D9H,KAAK,WACPxB,EAAc8U,MACf,EACD,CACD,EAEApO,EAAa8B,UAAUuM,0BAA4B,SAASC,GAC3DnM,OAAO8B,KAAKzI,KAAKC,OAAOgG,QAAQ,SAAStE,GAGxC,IAAKmR,GAAc9S,KAAKC,MAAM0B,GAA6BwF,iBAAmB2L,EAAY,CACzF9S,KAAK0S,oCAAoC/Q,EAC1C,CACD,EAAEnB,KAAKR,MACR,EAEA,SAAS+S,EAA4C7J,EAA2BvH,GAC/E3B,KAAKC,MAAM0B,GAA6BoF,SAASd,QAAQ,SAASvF,GAEjE,MAAMsS,EAAWtS,EAASsI,OAAStI,EAASsI,MAAMiK,MAAM,kBACxD,GAAID,EAAU,CACb,MAAO,CAAEE,EAAYvK,GAAQqK,EAC7B,MAAM7T,EAAS+J,EAA0BiK,SAASD,GAClD,GAAI/T,EAAQ,CACX,MAAMiU,EAAiBjU,EAAOkU,oBAAoBxC,QAAQlI,GAC1D,MAAM2K,EAAoB,CACzB5P,UAAW1D,KAAKR,eAChBgO,WAAY,WACZxL,MAAOtB,EAASsB,MAChBuR,SAAU,sBACVC,UAAW9S,EAASuB,KAErB,MAAMwR,EAAkBtV,EAAkBuV,oBAAoBJ,GAC9DG,EAAgBE,QAAQ,QAASP,EAAgB,QACjD1S,EAASa,SAASmO,QAAQ0D,EAAgB,MAE1C7U,EAAuByS,uBAAuBhR,KAAKR,eAAgBQ,KAAKqF,cAAcW,QAASyN,EAChG,KAAO,CAENvK,EAA0B0K,gBACzB,qBACAb,EAA4CvS,KAAKR,KAAMkJ,EAA2BvH,GAEpF,CACD,CACD,EAAEnB,KAAKR,MACR,CAEAwE,EAAa8B,UAAUuN,gBAAkB,SAAS3K,GACjD,MAAMvH,EAA8B3B,KAAK8J,wCAAwCZ,GAGjFlJ,KAAKyQ,6BAA6B9O,GAGlC3B,KAAKC,MAAM0B,GAA6B+P,YAAcxI,EAA0B4K,cAGhF9T,KAAKC,MAAM0B,GAA6B6I,uBAAyB,MAGjEuI,EAA4C3K,KAAKpI,KAAMkJ,EAA2BvH,GAIlFuH,EAA0B6K,YAAY,SAAU,CAC/C7T,YAAayB,EACbtB,MAAOL,MACLqS,GAGHnJ,EAA0B8K,WAAWhU,KAAKiS,iBAAkBjS,MAG5DA,KAAKkR,6BAA6BvP,EAA6B,MAAOuH,GAGtE,MAAM+K,EAAa/K,EAA0BgL,wBAC7ClU,KAAKC,MAAM0B,GAA6BxB,mBAAqB8T,EAC7D,GAAIA,EAAY,CACfhW,EAAWkW,gBAAgB,CAC1BjU,YAAayB,EACb0O,UAAW,KACXhQ,MAAOL,OAER/B,EAAWmW,yBAAyB,CACnC/T,MAAOL,KACPqU,UAAWnL,GAEb,CAEA,GAAIlJ,KAAKC,MAAM0B,GAA6B2S,YAAa,CACxDtU,KAAKC,MAAM0B,GAA6B2S,YAAYC,yBAC7CvU,KAAKC,MAAM0B,GAA6B2S,WAChD,CAEAtU,KAAKC,MAAM0B,GAA6B6S,KAAO,KAK/C,MAAMtK,EAAc,CACnBhG,aAAclE,KAAKqF,cACnB3B,UAAW1D,KAAKR,eAChBU,YAAayB,GAEd3B,KAAKZ,uBAAyBY,KAAKZ,uBAAuBE,KAAKiE,EAA6B/C,KAAKD,UAAW2J,GAC7G,EAEA1F,EAAa8B,UAAUyD,qBAAuB,SAASjB,GACtD,IAAK9I,KAAKC,MAAM6I,GAAe,CAC9B9I,KAAKC,MAAM6I,GAAgB,CAAC,CAC7B,MAAO,GAAI9I,KAAKC,MAAM6I,GAAc0L,KAAM,CACzC,OAAOpS,QAAQC,SAChB,CAEArC,KAAKC,MAAM6I,GAAcwL,YAAc,CAAC,EACxCtU,KAAKC,MAAM6I,GAAcwL,YAAYG,QAAU,IAAIrS,QAAQ,SAASC,GACnErC,KAAKC,MAAM6I,GAAcwL,YAAYC,gBAAkBlS,CACxD,EAAE7B,KAAKR,OACP,OAAOA,KAAKC,MAAM6I,GAAcwL,YAAYG,OAC7C,EAQAjQ,EAAa8B,UAAUoO,mCAAqC,SAASC,GACpE,IAAIC,EAAmBD,EAAgB3N,IAAI,SAASlD,GACnD,OAAOA,EAAQkC,OAChB,GAEA,OAAOxH,EAAgBqW,oBAAoB7U,KAAKR,gBAAgBsV,OAAO,SAAShR,GAC/E,OAAO8Q,EAAiBvG,SAASvK,EAAQkC,WAAalC,EAAQiR,mBAC/D,EACD,EAOAvQ,EAAa8B,UAAU0O,4BAA8B,WACpD,OAAOrO,OAAO8B,KAAKzI,KAAKC,OAAS,CAAC,GACjC2D,OAAO,SAASqR,EAAkBtT,GAClC,OAAOsT,EAAiB7E,OAAO,CAACpQ,KAAKC,MAAM0B,GAA6BwF,gBACzE,EAAE3G,KAAKR,MAAO,GACf,EAOAwE,EAAa8B,UAAUiE,+BAAiC,WACvD,IAAIO,EACJ,OAAOnE,OAAO8B,KAAKzI,KAAKC,OAAS,CAAC,GAAG2D,OAAO,SAASsR,EAAevT,GACnE,GAAI3B,KAAKqF,cAAc8P,KAAKxT,GAA8B,CACzDmJ,EAAe9K,KAAKqF,cAAc+P,SAASzT,EAC5C,KAAO,CACNmJ,EAAenJ,CAChB,CACAuT,EAAc7Q,KAAKyG,GACnB,OAAOoK,CACR,EAAE1U,KAAKR,MAAO,GACf,EAMAwE,EAAa8B,UAAU+O,QAAU,WAGhC,MAAMC,EAAetV,KAAK2F,cAAca,IAAI,CAAE9C,UAAW1D,KAAKR,iBAC9D,MAAM+V,EAAkC5O,OAAOC,QAAQ0O,GACtDtO,IAAI,EAAE8B,EAAc0M,MACpB,MAAMC,EAAkBlX,EAAuB2E,WAAW,CACzDhD,YAAa4I,EACb2D,WAAY+I,EAAIrO,eAChBzD,UAAW1D,KAAKR,iBAEjB,OAAOiW,EAAgB3I,iBAEvB4I,OACD,MAAM5P,EAAqBtH,EAAgBuH,qBAAqB/F,KAAKR,gBACrE+V,EAAgCtP,QAASnC,IACxCzF,EAAkBsX,oBAAoB7P,EAAoBhC,EAAQkC,SAClE3H,EAAkBuX,6BAA6B9P,EAAoBhC,EAAQkC,WAG5EhG,KAAK2F,cAAckQ,qBAAqB7V,KAAKyF,kBAK7C,MAAMqQ,EAAyB,IAC9B9V,KAAKiR,8BAAgC,IAAIhL,QAAStE,IAClD,GACC2T,EAAa3T,IAA8BoF,SAASzC,OAAS,GAC1DgR,EAAa3T,IAA8BoF,SAAS,GAAG+F,eAAexI,OACxE,CACDwR,EAAuBzR,KAAKiR,EAAa3T,GAA6BoF,SAAS,GAAGxF,SACnF,IAED,GAAIuU,EAAuBxR,OAAQ,CAClC/F,EAAuBwX,0BAA0B/V,KAAKR,eAAgBsW,EACvE,CAEAvX,EAAuByX,0BAA0BhW,KAAKR,eAAgBQ,KAAKqF,cAAcW,SACzFzH,EAAuB0X,6BAA6BjW,KAAKR,gBACzDV,EAAUwH,UAAU+O,QAAQzQ,MAAM5E,KACnC,EAQAwE,EAAa8B,UAAUzD,iBAAmB,SAASnD,GAClD,OAAOb,EAAM8D,sBAAwB3D,EAAiBU,EACvD,EAEA,OAAO8E,CACR","ignoreList":[]}