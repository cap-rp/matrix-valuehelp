{"version":3,"file":"Versions.js","names":["sap","ui","define","Version","FlexInfoSession","Settings","Storage","JSONModel","BindingMode","_mInstances","MODEL_SIZE_LIMIT","BACKEND_REQUEST_LIMIT","createModel","mPropertyBag","oModel","_prepareVersionsModel","setDefaultBindingMode","OneWay","setSizeLimit","setDirtyChanges","bDirtyChanges","setProperty","updateDraftVersion","updateBindings","aVersions","getProperty","bVersioningEnabled","bBackendDraft","bDraftAvailable","Number","Draft","_doesDraftExistInVersions","splice","version","type","Type","filenames","isPublished","shift","bActivateEnabled","_isPublishVersionEnabled","sDisplayedVersion","Original","some","oVersion","sPersistedBasisForDisplayedVersion","sActiveVersion","versions","oVersionsModel","versionsModel","aDraftFilenames","length","forEach","Active","Inactive","versioningEnabled","oFlexInfoSession","getByReference","reference","publishVersionEnabled","backendDraft","dirtyChanges","draftAvailable","activateEnabled","activeVersion","persistedVersion","displayedVersion","draftFilenames","_updateVersionModelWhenDiscardOrActivate","iNewVersion","Versions","initialize","sReference","sLayer","layer","limit","getInstance","then","oSettings","bVersionsEnabled","isVersioningEnabled","aVersionsPromise","load","Promise","resolve","getVersionsModel","hasVersionsModel","Error","clearInstances","updateModelFromBackend","undefined","onAllChangesSaved","concat","contextBasedAdaptation","activate","bDraftExists","reject","oVersionEntry","discardDraft","bBackendDraftExists","oDiscardPromise","discardDraftAndKeepActiveVersion","backendChangesDiscarded","publish","sMessage","bIsPublishedOrOlderVersion"],"sources":["Versions-dbg.js"],"mappings":"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","ignoreList":[]}