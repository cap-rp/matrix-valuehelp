{"version":3,"file":"PersistenceWriteAPI.js","names":["sap","ui","define","_omit","Log","JsControlTreeModifier","DescriptorChangeTypes","FlexCustomData","UIChange","FlexState","ManifestUtils","FlexRuntimeInfoAPI","FlexInfoSession","Settings","Condenser","UIChangeManager","FlexObjectManager","Storage","FeaturesAPI","Layer","LayerUtils","Utils","PersistenceWriteAPI","isDescriptorChange","oChange","_getMap","getChangeTypes","includes","changeType","getChangeType","hasChanges","mPropertyBag","includeCtrlVariants","_getUIChanges","then","aChanges","length","hasDirtyChanges","hasDirtyFlexObjects","hasHigherLayerChanges","upToLayer","getCurrentLayer","getFlexObjects","aFlexObjects","filter","oFlexObject","isOverLayer","getLayer","aFilteredFlexObjects","filterHiddenFlexObjects","reference","save","async","sReference","getFlexReferenceForControl","selector","oFlexInfoSession","getByReference","saveChangeKeepSession","setByReference","saveFlexObjects","updateResetAndPublishInfo","bHasChanges","bIsPublishAvailable","Promise","all","isPublishAvailable","oFlexInfo","isResetEnabled","isPublishEnabled","allContextsProvided","bIsLayerTransportable","layer","USER","PUBLIC","oResponse","getFlexInfo","oError","error","message","oOldFlexInfoSession","oNewFlexInfoSession","setAllContextsProvided","getResetAndPublishInfoFromSession","oControl","sParameter","JSON","parse","window","sessionStorage","getItem","reset","oAppComponent","getAppComponentForSelector","resetFlexObjects","appComponent","add","sFlexReference","getFlexReferenceForSelector","addSingleFlexObject","store","addDirtyChanges","addDirtyFlexObjects","change","flexObjects","Error","bHasDescriptorChanges","some","map","aUIChanges","forEach","push","aAddedFlexObjects","aAddedUIChanges","find","oAddedFlexObject","remove","reject","getId","isValidForDependencyMap","oElement","bySelector","getSelector","destroyAppliedCustomData","deleteFlexObjects","resolve","getChangesWarning","this","bHasChangesFromOtherSystem","isChangeFromOtherSystem","oSettingsInstance","getInstanceOrUndef","isProductiveSystemWithTransports","bHasNoChanges","oChangesWarning","showWarning","warningType","_condense","changes","Array","isArray","condense","currentLayer","invalidateCache","_getAnnotationChanges","control","getAnnotationChanges","_getFlexObjectsForUser","sUserId","getUserId","getSupportInformation","user","setAdaptationLayer","sLayer","adaptationLayer"],"sources":["PersistenceWriteAPI-dbg.js"],"mappings":"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","ignoreList":[]}