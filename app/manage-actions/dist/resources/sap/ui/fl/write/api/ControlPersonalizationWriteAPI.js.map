{"version":3,"file":"ControlPersonalizationWriteAPI.js","names":["sap","ui","define","Log","JsControlTreeModifier","Element","Reverter","VariantUtils","FlexObjectState","FlexState","ControlVariantApplyAPI","FlexRuntimeInfoAPI","ChangeHandlerStorage","Settings","UIChangeManager","FlexObjectManager","ChangesWriteAPI","FlexControllerFactory","Layer","Utils","mChangeCreationListeners","checkChangeSpecificData","oChange","sLayer","changeSpecificData","Promise","reject","Error","changeType","selectorControl","sControlType","getMetadata","getName","getChangeHandler","getRelevantVariantManagementReference","oAppComponent","oControl","bUseStaticArea","sVMControlId","getRelevantVariantManagementControlId","getSelector","id","logAndReject","sMessage","error","ControlPersonalizationWriteAPI","add","mPropertyBag","changes","length","resolve","oReferenceControl","selectorElement","getAppComponentForControl","sFlexReference","getFlexReference","element","oVariantModel","getModel","getVariantModelName","USER","aSuccessfulChanges","mVMReferences","createChanges","aChanges","aChangesToBeAdded","reduce","pPromise","oPersonalizationChange","then","transient","ignoreVariantManagement","variantReference","sVariantManagementReference","sSelectorControlId","getId","useStaticArea","sCurrentVariantReference","oData","currentVariant","developerMode","layer","create","selector","oCreatedChange","push","changeInstance","catch","oError","message","addDirtyChanges","applyChanges","setQueuedForApply","apply","change","oResult","success","deleteFlexObjects","reference","flexObjects","forEach","fnCallback","reset","selectors","appComponent","aSelectorIds","map","vControl","sControlId","sLocalId","getLocalId","resetFlexObjects","selectorIds","changeTypes","restore","sReference","isInitialized","control","aRemovedChanges","removeDirtyFlexObjects","layers","component","generator","revertMultipleChanges","reverse","modifier","undefined","hasDirtyFlexObjects","aDirtyFlexObjects","getDirtyFlexObjects","some","oFlexObject","getLayer","getSupportInformation","indexOf","getChangeType","vSelector","getControlIdBySelector","save","oFlexController","createForControl","saveSequenceOfDirtyChanges","buildSelectorFromElementIdAndType","elementId","elementType","controlType","isCondensingEnabled","getInstance","oSettings","attachChangeCreation","concat","detachChangeCreation","Array","isArray","filter","fnRegisteredCallback","detachAllChangeCreationListeners"],"sources":["ControlPersonalizationWriteAPI-dbg.js"],"mappings":"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","ignoreList":[]}