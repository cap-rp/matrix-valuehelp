/*
 * ! OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/write/_internal/flexState/FlexObjectManager","sap/ui/fl/write/_internal/Storage","sap/ui/fl/Layer","sap/ui/fl/Utils"],(e,a,t,r,n,i,l,c)=>{"use strict";const o={};o.createAndSaveVariant=async function(e){const r={id:e.id,variantManagementReference:e.variantManagementReference,variantReference:e.variantReference||e.variantManagementReference,variantName:e.variantName,layer:e.layer||l.CUSTOMER,user:e.author||a.DEFAULT_AUTHOR,reference:e.reference,generator:e.generator||"BusinessNetworkAPI.createVariant"};const n=[t.createFlVariant(r).convertToFileContent()];const c=await i.write({layer:r.layer,flexObjects:n});return c.response};o.createDefaultVariant=function(a){const i=c.getAppComponentForControl(a.control);const o=r.getFlexReferenceForControl(i);const s=i.getLocalId(a.control.getId())||a.control.getId();const f={id:a.id,variantManagementReference:s,variantReference:a.variantReference||s,variantName:a.variantName,reference:o,layer:a.layer||l.USER,generator:a.generator||"BusinessNetworkAPI.createDefaultVariant"};const u=[t.createFlVariant(f)];u.push(t.createVariantManagementChange({changeType:"setDefault",layer:f.layer,generator:f.generator,reference:o,selector:e.getSelector(a.control,i),content:{defaultVariant:f.variantReference}}));n.addDirtyFlexObjects(o,u);return u};o.save=function(e){return n.saveFlexObjects({selector:e,includeCtrlVariants:true})};return o});
//# sourceMappingURL=BusinessNetworkAPI.js.map