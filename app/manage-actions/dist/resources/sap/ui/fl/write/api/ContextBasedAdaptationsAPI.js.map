{"version":3,"file":"ContextBasedAdaptationsAPI.js","names":["sap","ui","define","Lib","FlexObjectFactory","CompVariantMerger","VariantManagementState","ManifestUtils","ControlVariantApplyAPI","FlexInfoSession","CompVariantState","FlexObjectManager","Storage","Versions","Adaptations","FeaturesAPI","Layer","LayerUtils","FlexUtils","JSONModel","_mInstances","_oResourceBundle","aMigrationLayers","VENDOR","PARTNER","CUSTOMER_BASE","CUSTOMER","ContextBasedAdaptationsAPI","getFlexReferenceForControl","oControl","sReference","Error","handleResponseForVersioning","oResponse","mPropertyBag","bDelete","updateModelFromBackend","reference","appId","layer","then","onAllChangesSaved","contextBasedAdaptation","Promise","resolve","initialize","getResourceBundleFor","reject","control","sLayer","bContextBasedAdaptationsEnabled","isContextBasedAdaptationAvailable","bContextBasedAdaptationsEnabledResponse","oAdaptationsPromise","load","adaptations","oAdaptations","oFlexInfoSession","getByReference","oDisplayedAdaptation","adaptationId","find","oAdaptation","id","createModel","oModel","aAdaptations","Array","isArray","length","allAdaptations","count","displayedAdaptation","contextBasedAdaptationsEnabled","updateAdaptations","aContextBasedAdaptations","filter","iIndex","rank","type","Type","Default","setProperty","getProperty","oCorrespondingAdaptation","updateBindings","insertAdaptation","oNewAdaptation","splice","priority","deleteAdaptation","iModelCount","sToBeDisplayedAdaptationId","oDefaultAdaptation","pop","push","switchDisplayedAdaptation","sAdaptationId","getIndexByAdaptationId","oNewDisplayedAdaptation","updateAdaptationContent","oContextBasedAdaptation","oAdaptationForUpdate","title","contexts","aDisplayedAdaptation","iAdaptationIndex","findIndex","undefined","getAdaptationsModel","hasAdaptationsModel","getDisplayedAdaptationId","this","adaptationExists","clearInstances","refreshAdaptationModel","getNewVariantId","mFileNames","sOldVariantId","get","createContextBasedAdaptation","create","flexObject","parentVersion","getParentVersion","bind","writeChangesToBackend","aFlexObjects","write","flexObjects","transport","isLegacyVariant","getFinalState","aFlVariantsFinalState","oVariant","isA","aVariantChanges","oFlexObject","getChangeType","getSelector","variantId","getId","oClone","clone","forEach","applyChangeOnVariant","removeAllChanges","destroy","mProperties","oFlVariant","key","groupVariantsByContextEntry","aVariants","oFinalStates","mUniqueContexts","aUnrestrictedViews","oFinalState","visible","bUnrestricted","aContextKeys","Object","keys","sKey","aContexts","from","sContext","variants","contextBasedAdaptationId","createDefaultFileName","uniqueContexts","unrestrictedViews","createChangeSetVisibleFalseToRestrictedVariant","VariantManager","sPersistencyKey","getPersistencyKey","updateVariant","persistencyKey","forceCreate","getChanges","reverse","convertToFileContent","oAppComponent","getAppComponentForControl","oChange","createVariantChange","getVariantManagementReference","changeType","variantReference","appComponent","getObjectsByLayerAndType","sChangesLayer","bVariants","getLayer","getVariantReference","sFileType","getFileType","getVariantId","isSetContextChange","filterChangesForAdaptation","aIgnoredVariantIds","aChanges","sVariantId","indexOf","copyVariantsAndChanges","sContextBasedAdaptationId","Map","aCopiedVariants","copyVariants","aCopiedChanges","copyChanges","concat","map","aCopiedFlexObjects","oCopiedVariant","createFromFileContent","cloneFileContentWithNewId","setAdaptationId","setContexts","set","oCopiedChange","oCopiedChangeContent","getContent","oCopiedChangeSelector","setSelector","defaultVariantName","setContent","setVariantReference","setVariantId","defaultVariant","getVersionsModel","prepareMigrationData","oMigrationData","contextBasedAdaptations","oGrouped","entries","aEntry","oUniqueContext","getText","role","aCustomerLayerVariants","oContextRelevantVariant","aUniqueContextVariantIds","aVariantIdsNotInUniqueContext","aChangesToCopy","bRestricted","lazyRequireVariantManager","require","migrate","async","sParentVersion","aFlexObjectsData","getAllVariants","getFlexObjects","selector","includeManifestChanges","includeAnnotationChanges","includeCtrlVariants","includeDirtyChanges","all","flat","oPromise","canMigrate","oContextBasedAdaptationModel","invalidateCache","aFilteredFlexObjects","some","call","currentLayer","aCustomerFlexObjects","filterChangeOrChangeDefinitionsByCurrentLayer","update","reorder","parameters","priorities","version","remove"],"sources":["ContextBasedAdaptationsAPI-dbg.js"],"mappings":"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","ignoreList":[]}