{"version":3,"file":"FlexObjectManager.js","names":["sap","ui","define","_omit","JsControlTreeModifier","Reverter","FlexObjectFactory","States","DependencyHandler","UIChangesState","CompVariantMerger","VariantManagementState","FlexObjectState","FlexState","ManifestUtils","CompVariantState","Storage","Versions","LayerUtils","requireAsync","Utils","FlexObjectManager","getCompVariantEntities","mPropertyBag","aEntities","mCompEntities","getCompVariantsMap","reference","sPersistencyKey","mCompVariantsOfPersistencyKey","sId","byId","push","filterChangeOrChangeDefinitionsByCurrentLayer","currentLayer","updateCompEntities","oDataToRestore","getInitialNonFlCompVariantData","Object","keys","forEach","_initialize","variants","controlId","merge","standardVariant","saveCompEntities","sReference","getFlexReferenceForControl","selector","persistAll","removeFlexObjectFromDependencyHandler","oFlexObject","isValidForDependencyMap","removeChangeFromMap","getLiveDependencyMap","getId","removeChangeFromDependencies","async","saveChangePersistenceEntities","oAppComponent","FlexControllerFactory","oFlexController","createForSelector","saveAll","skipUpdateCache","draft","layer","removeOtherLayerChanges","condenseAnyLayer","getOrCreateFlexObject","vFlexObject","isA","createFromFileContent","filterHiddenFlexObjects","aFlexObjects","aFilteredFlexObjects","getFlexObjects","invalidateCache","update","aRelevantFlexObjects","getVariantIndependentUIChanges","includeCtrlVariants","concat","getInitialUIChanges","includeDirtyChanges","onlyCurrentVariants","getVariantDependentFlexObjects","getAllCurrentFlexObjects","includeManifestChanges","getAppDescriptorChanges","includeAnnotationChanges","getAnnotationChanges","filter","getLayer","hasDirtyFlexObjects","getFlexReferenceForSelector","getDirtyFlexObjects","length","hasDirtyChanges","addDirtyFlexObjects","map","removeDirtyFlexObjects","aLayers","layers","aDirtyFlexObjects","aFlexObjectsToBeRemoved","bChangeValid","includes","generator","getSupportInformation","control","sSelectorId","getControlIdBySelector","getSelector","component","changeTypes","getChangeType","saveFlexObjects","getAppComponentForSelector","version","undefined","hasVersionsModel","oModel","getVersionsModel","getProperty","componentId","deleteFlexObjects","aToBeDeletedFlexObjects","aToBeRemovedDirtyFlexObjects","flexObjects","indexOf","getState","LifecycleState","NEW","markForDeletion","aAddedFlexObjects","oFlexObjectsDataSelector","getFlexObjectsDataSelector","checkUpdate","restoreDeletedFlexObjects","aDeletedFlexObjects","DELETED","restorePreviousState","aDirtyFlexObjectsToBeAdded","PERSISTED","resetFlexObjects","appComponent","mParams","changes","selectorIds","oResponse","reset","aFileNames","response","oChangeContent","fileName","aChangesToRevert","oChange","updateStorageResponse","flexObject","convertToFileContent","type","revertMultipleChanges","reverse","modifier"],"sources":["FlexObjectManager-dbg.js"],"mappings":"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","ignoreList":[]}