/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Lib","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/apply/api/FlexRuntimeInfoAPI","sap/ui/fl/Utils"],function(t,e,a,n,i){"use strict";let o={};function s(t,e,a,n){const i={info:{customProperties:{[n]:{label:e,value:a,showInAbout:true}}}};t.setAppInfo(i)}function c(t){if(t.homePage||t.applicationType!=="UI5"){return false}return true}async function p(i,o){if(c(o)){const c=o.componentInstance;const p=a.getFlexReference({componentData:c.getComponentData(),manifest:c.getManifest()});const r={reference:p,componentId:c.getId(),manifest:c.getManifestObject(),componentData:c.getComponentData(),asyncHints:c._componentConfig.asyncHints};await e.initialize(r);const l=n.getContextBasedAdaptationId(r);if(l==="DEFAULT"||!l){return}const u=n.getContextBasedAdaptationTitle(r);const f=t.getResourceBundleFor("sap.ui.fl").getText("CBA_ABOUT_INFO_DIALOG_LABEL");const d=`${u} (${l})`;s(i,f,d,"ui5.flex.adaptation")}}async function r(){const t=await i.getUShellService("AppLifeCycle");const e=t.getCurrentApplication();if(e){await p(t,e)}t.attachAppLoaded(t,o.onAppLoadedListener)}function l(){return new Promise(t=>{sap.ui.require(["sap/ushell/api/BootstrapObserver"],async function(e){await e.ready();t()})})}function u(){return new Promise(e=>{t.attachLibraryChanged(t=>{if(t.getParameter("operation")==="add"&&t.getParameter("metadata").sName==="sap.ushell"){e()}})})}async function f(){if(!t.isLoaded("sap.ushell")){await u()}await l()}o={async initialize(){await f();await r()},async onAppLoadedListener(t,e){const a=t.getParameters();await p(e,a)}};return o});
//# sourceMappingURL=FLPAboutInfo.js.map