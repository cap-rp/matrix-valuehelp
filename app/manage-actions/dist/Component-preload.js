//@ui5-bundle qe/manageactions/Component-preload.js
sap.ui.predefine("qe/manageactions/Component", ["sap/fe/core/AppComponent"],function(e){"use strict";return e.extend("qe.manageactions.Component",{metadata:{manifest:"json"}})});
sap.ui.predefine("qe/manageactions/ext/fragment/Criticality", ["sap/m/MessageToast"],function(s){"use strict";return{onPress:function(e){s.show("Custom handler invoked.")}}});
sap.ui.predefine("qe/manageactions/lib/matrix/src/control/CriticalityField", ["sap/m/Input","sap/m/Dialog","sap/m/Button","sap/m/VBox","sap/m/SearchField","./CriticalityMatrix"],function(e,t,i,a,l,r){"use strict";return e.extend("matrix.control.CriticalityField",{metadata:{properties:{cellsPath:{type:"string",defaultValue:"/CriticalityCells"},modelName:{type:"string",defaultValue:"odata"}}},init:function(){e.prototype.init.apply(this,arguments);this.setShowValueHelp(true);this.attachValueHelpRequest(this._onOpenMatrix.bind(this))},_onOpenMatrix:function(){var e=this;if(!this._oDialog){var o=new r({cellsPath:this.getCellsPath(),modelName:this.getModelName(),cellPress:function(t){var i=t.getParameter("key");var a=t.getParameter("color");e.setValue(i+" ("+a+")");e.setProperty("value",i,true);e._oDialog.close()}});var s=new l({placeholder:"Filter by key, color or title",liveChange:function(e){o.applyFilter(e.getParameter("newValue")||"")},width:"100%"});var n=new a({items:[s,o],renderType:"Bare"});this._oDialog=new t({title:"Select Criticality",content:[n],beginButton:new i({text:"Close",press:function(){e._oDialog.close()}}),stretch:sap.ui.Device.system.phone});this.addDependent(this._oDialog);this._oMatrix=o}else{this._oMatrix.setProperty("values",this._oMatrix.getValues(),true);this._oMatrix.invalidate()}this._oDialog.open()}})});
sap.ui.predefine("qe/manageactions/lib/matrix/src/control/CriticalityFieldRenderer", ["sap/m/InputRenderer"],function(e){"use strict";return e});
sap.ui.predefine("qe/manageactions/lib/matrix/src/control/CriticalityMatrix", ["sap/ui/core/Control"],function(e){"use strict";return e.extend("matrix.control.CriticalityMatrix",{metadata:{properties:{values:{type:"object",defaultValue:{}},titles:{type:"object",defaultValue:{}},cellSize:{type:"int",defaultValue:56},cellsPath:{type:"string",defaultValue:null},modelName:{type:"string",defaultValue:"odata"}},events:{cellPress:{parameters:{key:{type:"string"},color:{type:"string"}}},cellChange:{parameters:{key:{type:"string"},color:{type:"string"},values:{type:"object"}}}}},init:function(){this._loading=false;this._filter="";this._selectedKey=null},_loadCellsFromModel:function(){var e=this.getCellsPath();if(!e||this._loading){return Promise.resolve()}var t=this.getModelName();var i=this.getModel(t);if(!i||typeof i.bindList!=="function"){return Promise.resolve()}this._loading=true;var r=i.bindList(e);return r.requestContexts(0,1e3).then(function(e){var t={},i={};e.forEach(function(e){var r=e.getObject();if(!r){return}var a=r.Key||r.ID||r.key;if(!a){return}t[a]=(r.Color||"white").toString();i[a]=r.Title||""});this.setProperty("values",t,true);this.setProperty("titles",i,true);this.invalidate()}.bind(this)).catch(function(e){console.error("CriticalityMatrix: failed to load cells from model",e)}).finally(function(){this._loading=false}.bind(this))},onBeforeRendering:function(){if(this.getCellsPath()){this._loadCellsFromModel()}},applyFilter:function(e){this._filter=(e||"").toString().trim().toLowerCase();this.invalidate()},renderer:function(e,t){var i=function(e){return String(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};var r=t.getValues()||{};var a=t.getTitles()||{};var l=["A","B","C","D"];var n=t.getCellSize();var o={white:"#ffffff",green:"#92d050",orange:"#f4b084",red:"#ff5c5c"};var s=t._selectedKey;var d=t._filter||"";e.write("<div");e.writeControlData(t);e.addStyle("font-family","Arial, Helvetica, sans-serif");e.writeStyles();e.write(">");e.write("<table style='border-collapse:collapse;'>");e.write("<thead><tr><th></th>");l.forEach(function(t){e.write("<th style='padding:6px 10px;text-align:center;'>"+t+"</th>")});e.write("</tr></thead>");e.write("<tbody>");for(var c=1;c<=5;c++){e.write("<tr>");e.write("<td style='padding:6px 10px;text-align:center;font-weight:600;'>"+c+"</td>");l.forEach(function(t){var l=c+t;var f=(r[l]||"white").toString();var u=a[l]||"";var v=o[f]||f||o.white;var g=true;if(d){var h=l.toLowerCase().indexOf(d)!==-1;var y=(f||"").toLowerCase().indexOf(d)!==-1;var p=(u||"").toLowerCase().indexOf(d)!==-1;g=h||y||p}var w=g?"":"display:none;";var b=s===l?"box-shadow:0 0 0 3px rgba(0,120,210,0.25);":"";var m=l+" - "+f+(u?" : "+u:"");e.write("<td role='button' data-key='"+i(l)+"' data-color='"+i(f)+"' class='cm-cell' "+"title='"+i(m)+"' aria-label='"+i(m)+"' "+"style='width:"+n+"px;height:"+n+"px;border:1px solid #ddd;padding:0;margin:0;vertical-align:middle;background:"+v+";cursor:pointer;"+w+b+"'>");e.write("<div style='width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;'>");e.write("<div style='font-weight:600;line-height:1;'>"+i(l)+"</div>");e.write("<div style='font-size:10px;color:#333;opacity:0.85;line-height:1;margin-top:3px;'>"+i(u)+"</div>");e.write("</div>");e.write("</td>")});e.write("</tr>")}e.write("</tbody>");e.write("</table>");e.write("</div>")},onAfterRendering:function(){var e=this.$();if(!e||!e.length){return}var t=this;e.off(".cm");e.on("click.cm","td[data-key]",function(e){var i=this;var r=i.getAttribute("data-key");var a=i.getAttribute("data-color")||"white";t._selectedKey=r;t.invalidate();t.fireCellPress({key:r,color:a})});e.on("dblclick.cm","td[data-key]",function(e){var i=this;var r=i.getAttribute("data-key");var a=i.getAttribute("data-color")||"white";var l=["white","green","orange","red"];var n=l.indexOf(a);var o=l[(n+1)%l.length];var s=Object.assign({},t.getValues()||{});s[r]=o;t.setProperty("values",s,true);t._selectedKey=r;t.invalidate();t.fireCellChange({key:r,color:o,values:s})})},exit:function(){var e=this.$();if(e&&e.off){e.off(".cm")}}})});
sap.ui.predefine("qe/manageactions/lib/matrix/src/library", ["sap/base/util/ObjectPath","sap/ui/core/library"],function(i){"use strict";sap.ui.getCore().initLibrary({name:"matrix",version:"0.0.1",dependencies:["sap.ui.core","sap.m"],types:[],interfaces:[],controls:["matrix.control.CriticalityMatrix","matrix.control.CriticalityField"],elements:[],noLibraryCSS:false});const t=i.get("matrix");return t});
sap.ui.require.preload({
	"qe/manageactions/ext/fragment/Criticality.fragment.xml":'<core:FragmentDefinition \nxmlns:core="sap.ui.core" \nxmlns:mv="matrix.control"\nxmlns="sap.m" xmlns:macros="sap.fe.macros"><VBox core:require="{ handler: \'qe/manageactions/ext/fragment/Criticality\'}"><mv:CriticalityField value="{criticality}" cellsPath="/CriticalityCells" modelName="odata"/></VBox></core:FragmentDefinition>',
	"qe/manageactions/i18n/i18n.properties":'# This is the resource bundle for qe.manageactions\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=App Title\n\n#YDES: Application description\nappDescription=An SAP Fiori application.',
	"qe/manageactions/lib/matrix/src/messagebundle.properties":'# Translation file of library com.abk.matrix.\nANY_TEXT=AnyText\n',
	"qe/manageactions/lib/matrix/src/messagebundle_de.properties":'# Translation file of library com.abk.matrix.\nANY_TEXT=EinText\n',
	"qe/manageactions/lib/matrix/src/messagebundle_en.properties":'# Translation file of library com.abk.matrix.\nANY_TEXT=AnyText\n',
	"qe/manageactions/manifest.json":'{"_version":"1.65.0","sap.app":{"id":"qe.manageactions","type":"application","i18n":{"bundleUrl":"i18n/i18n.properties","supportedLocales":[""]},"applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:lrop","version":"1.15.2","toolsId":"9a081bee-ccfd-4315-8d1e-9f9cbd15521d"},"dataSources":{"mainService":{"uri":"odata/v4/criticality/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":false,"dependencies":{"minUI5Version":"1.140.0","libs":{"sap.m":{},"sap.ui.core":{},"sap.fe.templates":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"qe.manageactions.i18n.i18n","supportedLocales":[""]}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"@i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties","settings":{"supportedLocales":[""]}}},"resources":{"css":[]},"routing":{"config":{},"routes":[{"pattern":":?query:","name":"ActionItemsList","target":"ActionItemsList"},{"pattern":"ActionItems({key}):?query:","name":"ActionItemsObjectPage","target":"ActionItemsObjectPage"},{"pattern":"ActionItems({key})/texts({key2}):?query:","name":"ActionItems_textsObjectPage","target":"ActionItems_textsObjectPage"}],"targets":{"ActionItemsList":{"type":"Component","id":"ActionItemsList","name":"sap.fe.templates.ListReport","options":{"settings":{"contextPath":"/ActionItems","variantManagement":"Page","navigation":{"ActionItems":{"detail":{"route":"ActionItemsObjectPage"}}},"controlConfiguration":{"@com.sap.vocabularies.UI.v1.LineItem":{"tableSettings":{"type":"ResponsiveTable"}}}}}},"ActionItemsObjectPage":{"type":"Component","id":"ActionItemsObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"editableHeaderContent":false,"contextPath":"/ActionItems","navigation":{"texts":{"detail":{"route":"ActionItems_textsObjectPage"}}},"content":{"body":{"sections":{"Criticality":{"template":"qe.manageactions.ext.fragment.Criticality","title":"Criticality"}}}}}}},"ActionItems_textsObjectPage":{"type":"Component","id":"ActionItems_textsObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"editableHeaderContent":false,"contextPath":"/ActionItems/texts"}}}}}},"sap.fiori":{"registrationIds":[],"archeType":"transactional"}}'
});
//# sourceMappingURL=Component-preload.js.map
